(self.webpackChunkApps=self.webpackChunkApps||[]).push([[179],{242:(gs,Lo,ne)=>{"use strict";function at(n){return"function"==typeof n}function I(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const No=I(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function At(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class bn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(at(i))try{i()}catch(s){t=s instanceof No?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{ms(s)}catch(a){t=t??[],a instanceof No?t=[...t,...a.errors]:t.push(a)}}if(t)throw new No(t)}}add(t){var e;if(t&&t!==this)if(this.closed)ms(t);else{if(t instanceof bn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&At(e,t)}remove(t){const{_finalizers:e}=this;e&&At(e,t),t instanceof bn&&t._removeParent(this)}}bn.EMPTY=(()=>{const n=new bn;return n.closed=!0,n})();const qe=bn.EMPTY;function du(n){return n instanceof bn||n&&"closed"in n&&at(n.remove)&&at(n.add)&&at(n.unsubscribe)}function ms(n){at(n)?n():n.unsubscribe()}const Wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zn={setTimeout(n,t,...e){const{delegate:i}=zn;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=zn;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function sr(n){zn.setTimeout(()=>{const{onUnhandledError:t}=Wt;if(!t)throw n;t(n)})}function qr(){}const Vt=ti("C",void 0,void 0);function ti(n,t,e){return{kind:n,value:t,error:e}}let un=null;function Ks(n){if(Wt.useDeprecatedSynchronousErrorHandling){const t=!un;if(t&&(un={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=un;if(un=null,e)throw i}}else n()}class Ir extends bn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,du(t)&&t.add(this)):this.destination=Kr}static create(t,e,i){return new Ar(t,e,i)}next(t){this.isStopped?hu(function $a(n){return ti("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?hu(function Ys(n){return ti("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?hu(Vt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const or=Function.prototype.bind;function Yr(n,t){return or.call(n,t)}class ar{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){En(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){En(i)}else En(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){En(e)}}}class Ar extends Ir{constructor(t,e,i){let r;if(super(),at(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&Wt.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Yr(t.next,s),error:t.error&&Yr(t.error,s),complete:t.complete&&Yr(t.complete,s)}):r=t}this.destination=new ar(r)}}function En(n){Wt.useDeprecatedSynchronousErrorHandling?function Ei(n){Wt.useDeprecatedSynchronousErrorHandling&&un&&(un.errorThrown=!0,un.error=n)}(n):sr(n)}function hu(n,t){const{onStoppedNotification:e}=Wt;e&&zn.setTimeout(()=>e(n,t))}const Kr={closed:!0,next:qr,error:function Hi(n){throw n},complete:qr},fu="function"==typeof Symbol&&Symbol.observable||"@@observable";function Tn(n){return n}let _t=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function ui(n){return n&&n instanceof Ir||function en(n){return n&&at(n.next)&&at(n.error)&&at(n.complete)}(n)&&du(n)}(e)?e:new Ar(e,i,r);return Ks(()=>{const{operator:a,source:u}=this;s.add(a?a.call(s,u):u?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=$e(i))((r,s)=>{const a=new Ar({next:u=>{try{e(u)}catch(h){s(h),a.unsubscribe()}},error:s,complete:r});this.subscribe(a)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[fu](){return this}pipe(...e){return function Be(n){return 0===n.length?Tn:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=$e(e))((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return n.create=t=>new n(t),n})();function $e(n){var t;return null!==(t=n??Wt.Promise)&&void 0!==t?t:Promise}const tn=I(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Oe=(()=>{class n extends _t{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Bt(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new tn}next(e){Ks(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Ks(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Ks(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?qe:(this.currentObservers=null,s.push(e),new bn(()=>{this.currentObservers=null,At(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new _t;return e.source=this,e}}return n.create=(t,e)=>new Bt(t,e),n})();class Bt extends Oe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:qe}}function bt(n){return t=>{if(function nn(n){return at(null==n?void 0:n.lift)}(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Mt(n,t,e,i,r){return new kc(n,t,e,i,r)}class kc extends Ir{constructor(t,e,i,r,s,a){super(t),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=e?function(u){try{e(u)}catch(h){t.error(h)}}:super._next,this._error=r?function(u){try{r(u)}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function lt(n,t){return bt((e,i)=>{let r=0;e.subscribe(Mt(i,s=>{i.next(n.call(t,s,r++))}))})}var Qr=function(){return Qr=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},Qr.apply(this,arguments)};function ur(n,t,e,i){return new(e||(e=Promise))(function(s,a){function u(m){try{f(i.next(m))}catch(y){a(y)}}function h(m){try{f(i.throw(m))}catch(y){a(y)}}function f(m){m.done?s(m.value):function r(s){return s instanceof e?s:new e(function(a){a(s)})}(m.value).then(u,h)}f((i=i.apply(n,t||[])).next())})}function ji(n){return this instanceof ji?(this.v=n,this):new ji(n)}function Fc(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(C){i[C]&&(r[C]=function(S){return new Promise(function(T,x){s.push([C,S,T,x])>1||u(C,S)})})}function u(C,S){try{!function h(C){C.value instanceof ji?Promise.resolve(C.value.v).then(f,m):y(s[0][2],C)}(i[C](S))}catch(T){y(s[0][3],T)}}function f(C){u("next",C)}function m(C){u("throw",C)}function y(C,S){C(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Qs(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Xs(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(a){return new Promise(function(u,h){!function r(s,a,u,h){Promise.resolve(h).then(function(f){s({value:f,done:u})},a)}(u,h,(a=n[s](a)).done,a.value)})}}}const Da=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function el(n){return at(null==n?void 0:n.then)}function yu(n){return at(n[fu])}function wu(n){return Symbol.asyncIterator&&at(null==n?void 0:n[Symbol.asyncIterator])}function Cu(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Du=function Bc(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Hc(n){return at(null==n?void 0:n[Du])}function Uc(n){return Fc(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield ji(e.read());if(r)return yield ji(void 0);yield yield ji(i)}}finally{e.releaseLock()}})}function jc(n){return at(null==n?void 0:n.getReader)}function Ti(n){if(n instanceof _t)return n;if(null!=n){if(yu(n))return function tl(n){return new _t(t=>{const e=n[fu]();if(at(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Da(n))return function Ah(n){return new _t(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(el(n))return function xh(n){return new _t(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,sr)})}(n);if(wu(n))return ve(n);if(Hc(n))return function xr(n){return new _t(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(jc(n))return function zc(n){return ve(Uc(n))}(n)}throw Cu(n)}function ve(n){return new _t(t=>{(function nl(n,t){var e,i,r,s;return ur(this,void 0,void 0,function*(){try{for(e=Qs(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Pr(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Rr(n,t,e=1/0){return at(t)?Rr((i,r)=>lt((s,a)=>t(i,s,r,a))(Ti(n(i,r))),e):("number"==typeof t&&(e=t),bt((i,r)=>function Wc(n,t,e,i,r,s,a,u){const h=[];let f=0,m=0,y=!1;const C=()=>{y&&!h.length&&!f&&t.complete()},S=x=>f<i?T(x):h.push(x),T=x=>{s&&t.next(x),f++;let R=!1;Ti(e(x,m++)).subscribe(Mt(t,F=>{null==r||r(F),s?S(F):t.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(f--;h.length&&f<i;){const F=h.shift();a?Pr(t,a,()=>T(F)):T(F)}C()}catch(F){t.error(F)}}))};return n.subscribe(Mt(t,S,()=>{y=!0,C()})),()=>{null==u||u()}}(i,r,n,e)))}function Su(n=1/0){return Rr(Tn,n)}const Jr=new _t(n=>n.complete());function Gc(n){return n&&at(n.schedule)}function il(n){return n[n.length-1]}function $c(n){return at(il(n))?n.pop():void 0}function Bo(n){return Gc(il(n))?n.pop():void 0}function Sa(n,t=0){return bt((e,i)=>{e.subscribe(Mt(i,r=>Pr(i,n,()=>i.next(r),t),()=>Pr(i,n,()=>i.complete(),t),r=>Pr(i,n,()=>i.error(r),t)))})}function Zc(n,t=0){return bt((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function ol(n,t){if(!n)throw new Error("Iterable cannot be null");return new _t(e=>{Pr(e,t,()=>{const i=n[Symbol.asyncIterator]();Pr(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function _s(n,t){return t?function qc(n,t){if(null!=n){if(yu(n))return function Oh(n,t){return Ti(n).pipe(Zc(t),Sa(t))}(n,t);if(Da(n))return function Lh(n,t){return new _t(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(el(n))return function rl(n,t){return Ti(n).pipe(Zc(t),Sa(t))}(n,t);if(wu(n))return ol(n,t);if(Hc(n))return function sl(n,t){return new _t(e=>{let i;return Pr(e,t,()=>{i=n[Du](),Pr(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(a){return void e.error(a)}s?e.complete():e.next(r)},0,!0)}),()=>at(null==i?void 0:i.return)&&i.return()})}(n,t);if(jc(n))return function ba(n,t){return ol(Uc(n),t)}(n,t)}throw Cu(n)}(n,t):Ti(n)}function Nn(...n){const t=Bo(n),e=function kh(n,t){return"number"==typeof il(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Ti(i[0]):Su(e)(_s(i,t)):Jr}function Ye(n={}){const{connector:t=(()=>new Oe),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let a,u,h,f=0,m=!1,y=!1;const C=()=>{null==u||u.unsubscribe(),u=void 0},S=()=>{C(),a=h=void 0,m=y=!1},T=()=>{const x=a;S(),null==x||x.unsubscribe()};return bt((x,R)=>{f++,!y&&!m&&C();const F=h=h??t();R.add(()=>{f--,0===f&&!y&&!m&&(u=Zt(T,r))}),F.subscribe(R),!a&&f>0&&(a=new Ar({next:O=>F.next(O),error:O=>{y=!0,C(),u=Zt(S,e,O),F.error(O)},complete:()=>{m=!0,C(),u=Zt(S,i),F.complete()}}),Ti(x).subscribe(a))})(s)}}function Zt(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Ar({next:()=>{i.unsubscribe(),n()}});return t(...e).subscribe(i)}function xt(n){for(let t in n)if(n[t]===xt)return t;throw Error("Could not find renamed property on target object.")}function ys(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function yt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(yt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Ho(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Qe=xt({__forward_ref__:xt});function Le(n){return n.__forward_ref__=Le,n.toString=function(){return yt(this())},n}function He(n){return Ea(n)?n():n}function Ea(n){return"function"==typeof n&&n.hasOwnProperty(Qe)&&n.__forward_ref__===Le}class ue extends Error{constructor(t,e){super(function Js(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Ae(n){return"string"==typeof n?n:null==n?"":String(n)}function ft(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ae(n)}function eo(n,t){const e=t?` in ${t}`:"";throw new ue(-201,`No provider for ${ft(n)} found${e}`)}function ni(n,t){null==n&&function zt(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function oe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Je(n){return{providers:n.providers||[],imports:n.imports||[]}}function es(n){return Eu(n,hl)||Eu(n,pt)}function Eu(n,t){return n.hasOwnProperty(t)?n[t]:null}function kt(n){return n&&(n.hasOwnProperty(fl)||n.hasOwnProperty(Fh))?n[fl]:null}const hl=xt({\u0275prov:xt}),fl=xt({\u0275inj:xt}),pt=xt({ngInjectableDef:xt}),Fh=xt({ngInjectorDef:xt});var Te=(()=>((Te=Te||{})[Te.Default=0]="Default",Te[Te.Host=1]="Host",Te[Te.Self=2]="Self",Te[Te.SkipSelf=4]="SkipSelf",Te[Te.Optional=8]="Optional",Te))();let to;function Ds(n){const t=to;return to=n,t}function gn(n,t,e){const i=es(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Te.Optional?null:void 0!==t?t:void eo(yt(n),"Injector")}function Mi(n){return{toString:n}.toString()}var Gi=(()=>((Gi=Gi||{})[Gi.OnPush=0]="OnPush",Gi[Gi.Default=1]="Default",Gi))(),$i=(()=>{return(n=$i||($i={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",$i;var n})();const cr=typeof globalThis<"u"&&globalThis,td=typeof window<"u"&&window,Mu=typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self,Pt=cr||typeof global<"u"&&global||td||Mu,Fn={},Ot=[],Ta=xt({\u0275cmp:xt}),dr=xt({\u0275dir:xt}),no=xt({\u0275pipe:xt}),io=xt({\u0275mod:xt}),ot=xt({\u0275fac:xt}),Zi=xt({__NG_ELEMENT_ID__:xt});let ro=0;function Yt(n){return Mi(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Gi.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ot,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||$i.Emulated,id:"c",styles:n.styles||Ot,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,a=n.pipes;return i.id+=ro++,i.inputs=so(n.inputs,e),i.outputs=so(n.outputs),s&&s.forEach(u=>u(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(nd):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Iu):null,i})}function nd(n){return Vn(n)||function mn(n){return n[dr]||null}(n)}function Iu(n){return function ci(n){return n[no]||null}(n)}const id={};function Ht(n){return Mi(()=>{const t={type:n.type,bootstrap:n.bootstrap||Ot,declarations:n.declarations||Ot,imports:n.imports||Ot,exports:n.exports||Ot,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(id[n.id]=n.type),t})}function so(n,t){if(null==n)return Fn;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const we=Yt;function Kt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Vn(n){return n[Ta]||null}function xi(n,t){const e=n[io]||null;if(!e&&!0===t)throw new Error(`Type ${yt(n)} does not have '\u0275mod' property.`);return e}function Lr(n){return Array.isArray(n)&&"object"==typeof n[1]}function qi(n){return Array.isArray(n)&&!0===n[1]}function Pu(n){return 0!=(8&n.flags)}function Es(n){return 2==(2&n.flags)}function N(n){return 1==(1&n.flags)}function j(n){return null!==n.template}function H(n){return 0!=(512&n[2])}function pr(n,t){return n.hasOwnProperty(ot)?n[ot]:null}class Cl{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function _n(){return Dl}function Dl(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ia),rd}function rd(){const n=qo(this),t=n?.current;if(t){const e=n.previous;if(e===Fn)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Ia(n,t,e,i){const r=qo(n)||function o(n,t){return n[Sl]=t}(n,{previous:Fn,current:null}),s=r.current||(r.current={}),a=r.previous,u=this.declaredInputs[e],h=a[u];s[u]=new Cl(h&&h.currentValue,t,a===Fn),n[i]=t}_n.ngInherit=!0;const Sl="__ngSimpleChanges__";function qo(n){return n[Sl]||null}const P="math";let Q;function nt(){return void 0!==Q?Q:typeof document<"u"?document:void 0}function je(n){return!!n.listen}const Ms={createRenderer:(n,t)=>nt()};function Ut(n){for(;Array.isArray(n);)n=n[0];return n}function Is(n,t){return Ut(t[n])}function fi(n,t){return Ut(t[n.index])}function uo(n,t){return n.data[t]}function gr(n,t){return n[t]}function mt(n,t){const e=t[n];return Lr(e)?e:e[0]}function Nr(n){return 4==(4&n[2])}function Ou(n){return 128==(128&n[2])}function As(n,t){return null==t?null:n[t]}function El(n){n[18]=0}function Tl(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Pe={lFrame:qh(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Lu(){return Pe.bindingsEnabled}function K(){return Pe.lFrame.lView}function Et(){return Pe.lFrame.tView}function _e(n){return Pe.lFrame.contextLView=n,n[8]}function sn(){let n=Sg();for(;null!==n&&64===n.type;)n=n.parent;return n}function Sg(){return Pe.lFrame.currentTNode}function xs(n,t){const e=Pe.lFrame;e.currentTNode=n,e.isParent=t}function zh(){return Pe.lFrame.isParent}function ad(){return Pe.isInCheckNoChangesMode}function ld(n){Pe.isInCheckNoChangesMode=n}function Oi(){const n=Pe.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Il(){return Pe.lFrame.bindingIndex++}function cy(n,t){const e=Pe.lFrame;e.bindingIndex=e.bindingRootIndex=n,Gh(t)}function Gh(n){Pe.lFrame.currentDirectiveIndex=n}function Vr(){return Pe.lFrame.currentQueryIndex}function Zh(n){Pe.lFrame.currentQueryIndex=n}function dy(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Eg(n,t,e){if(e&Te.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Te.Host||(r=dy(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Pe.lFrame=Tg();return i.currentTNode=t,i.lView=n,!0}function ud(n){const t=Tg(),e=n[1];Pe.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Tg(){const n=Pe.lFrame,t=null===n?null:n.child;return null===t?qh(n):t}function qh(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Yh(){const n=Pe.lFrame;return Pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Mg=Yh;function cd(){const n=Yh();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qn(){return Pe.lFrame.selectedIndex}function Ko(n){Pe.lFrame.selectedIndex=n}function dn(){const n=Pe.lFrame;return uo(n.tView,n.selectedIndex)}function Vu(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:u,ngAfterViewInit:h,ngAfterViewChecked:f,ngOnDestroy:m}=s;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),u&&((n.contentHooks||(n.contentHooks=[])).push(e,u),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,u)),h&&(n.viewHooks||(n.viewHooks=[])).push(-e,h),f&&((n.viewHooks||(n.viewHooks=[])).push(e,f),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,f)),null!=m&&(n.destroyHooks||(n.destroyHooks=[])).push(e,m)}}function Bu(n,t,e){Qh(n,t,3,e)}function Xo(n,t,e,i){(3&n[2])===e&&Qh(n,t,e,i)}function Rs(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Qh(n,t,e,i){const s=i??-1,a=t.length-1;let u=0;for(let h=void 0!==i?65535&n[18]:0;h<a;h++)if("number"==typeof t[h+1]){if(u=t[h],null!=i&&u>=i)break}else t[h]<0&&(n[18]+=65536),(u<s||-1==s)&&(py(n,e,t,h),n[18]=(4294901760&n[18])+h+2),h++}function py(n,t,e,i){const r=e[i]<0,s=e[i+1],u=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(u)}finally{}}}else try{s.call(u)}finally{}}class Hu{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Uu(n,t,e){const i=je(n);let r=0;for(;r<e.length;){const s=e[r];if("number"==typeof s){if(0!==s)break;r++;const a=e[r++],u=e[r++],h=e[r++];i?n.setAttribute(t,u,h,a):t.setAttributeNS(a,u,h)}else{const a=s,u=e[++r];ju(a)?i&&n.setProperty(t,a,u):i?n.setAttribute(t,a,u):t.setAttribute(a,u),r++}}return r}function pi(n){return 3===n||4===n||6===n}function ju(n){return 64===n.charCodeAt(0)}function hd(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Ag(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Ag(n,t,e,i,r){let s=0,a=n.length;if(-1===t)a=-1;else for(;s<n.length;){const u=n[s++];if("number"==typeof u){if(u===t){a=-1;break}if(u>t){a=s-1;break}}}for(;s<n.length;){const u=n[s];if("number"==typeof u)break;if(u===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(n.splice(a,0,t),s=a+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function xg(n){return-1!==n}function Qo(n){return 32767&n}function Os(n,t){let e=function gy(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let fd=!0;function pd(n){const t=fd;return fd=n,t}let my=0;function Pl(n,t){const e=rf(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,nf(i.data,n),nf(t,null),nf(i.blueprint,null));const r=gd(n,t),s=n.injectorIndex;if(xg(r)){const a=Qo(r),u=Os(r,t),h=u[1].data;for(let f=0;f<8;f++)t[s+f]=u[a+f]|h[a+f]}return t[s+8]=r,s}function nf(n,t){n.push(0,0,0,0,0,0,0,0,t)}function rf(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function gd(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const s=r[1],a=s.type;if(i=2===a?s.declTNode:1===a?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function zu(n,t,e){!function tf(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Zi)&&(i=e[Zi]),null==i&&(i=e[Zi]=my++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function Rg(n,t,e){if(e&Te.Optional)return n;eo(t,"NodeInjector")}function md(n,t,e,i){if(e&Te.Optional&&void 0===i&&(i=null),0==(e&(Te.Self|Te.Host))){const r=n[9],s=Ds(void 0);try{return r?r.get(t,i,e&Te.Optional):gn(t,i,e&Te.Optional)}finally{Ds(s)}}return Rg(i,t,e)}function af(n,t,e,i=Te.Default,r){if(null!==n){const s=function Og(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Zi)?n[Zi]:void 0;return"number"==typeof t?t>=0?255&t:kg:t}(e);if("function"==typeof s){if(!Eg(t,n,i))return i&Te.Host?Rg(r,e,i):md(t,e,i,r);try{const a=s(i);if(null!=a||i&Te.Optional)return a;eo(e)}finally{Mg()}}else if("number"==typeof s){let a=null,u=rf(n,t),h=-1,f=i&Te.Host?t[16][6]:null;for((-1===u||i&Te.SkipSelf)&&(h=-1===u?gd(n,t):t[u+8],-1!==h&&uf(i,!1)?(a=t[1],u=Qo(h),t=Os(h,t)):u=-1);-1!==u;){const m=t[1];if(Lg(s,u,m.data)){const y=vd(u,t,e,a,i,f);if(y!==lf)return y}h=t[u+8],-1!==h&&uf(i,t[1].data[u+8]===f)&&Lg(s,u,t)?(a=m,u=Qo(h),t=Os(h,t)):u=-1}}}return md(t,e,i,r)}const lf={};function kg(){return new kl(sn(),K())}function vd(n,t,e,i,r,s){const a=t[1],u=a.data[n+8],m=_d(u,a,e,null==i?Es(u)&&fd:i!=a&&0!=(3&u.type),r&Te.Host&&s===u);return null!==m?Rl(t,a,m,u):lf}function _d(n,t,e,i,r){const s=n.providerIndexes,a=t.data,u=1048575&s,h=n.directiveStart,m=s>>20,C=r?u+m:n.directiveEnd;for(let S=i?u:u+m;S<C;S++){const T=a[S];if(S<h&&e===T||S>=h&&T.type===e)return S}if(r){const S=a[h];if(S&&j(S)&&S.type===e)return h}return null}function Rl(n,t,e,i){let r=n[e];const s=t.data;if(function Ig(n){return n instanceof Hu}(r)){const a=r;a.resolving&&function ws(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new ue(-200,`Circular dependency in DI detected for ${n}${e}`)}(ft(s[e]));const u=pd(a.canSeeViewProviders);a.resolving=!0;const h=a.injectImpl?Ds(a.injectImpl):null;Eg(n,i,Te.Default);try{r=n[e]=a.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function fy(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const a=Dl(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==h&&Ds(h),pd(u),a.resolving=!1,Mg()}}return r}function Lg(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function uf(n,t){return!(n&Te.Self||n&Te.Host&&t)}class kl{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return af(this._tNode,this._lView,t,i,e)}}function Hn(n){return Mi(()=>{const t=n.prototype.constructor,e=t[ot]||yd(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[ot]||yd(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function yd(n){return Ea(n)?()=>{const t=yd(He(n));return t&&t()}:pr(n)}const Jo="__parameters__";function Ls(n,t,e){return Mi(()=>{const i=function cf(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const a=new r(...s);return u.annotation=a,u;function u(h,f,m){const y=h.hasOwnProperty(Jo)?h[Jo]:Object.defineProperty(h,Jo,{value:[]})[Jo];for(;y.length<=m;)y.push(null);return(y[m]=y[m]||[]).push(a),h}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class rt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=oe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Yi(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Yi(i,t)):t!==n&&t.push(i)}return t}function jr(n,t){n.forEach(e=>Array.isArray(e)?jr(e,t):t(e))}function po(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function wd(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ki(n,t,e){let i=Fl(n,t);return i>=0?n[1|i]=e:(i=~i,function ff(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Cd(n,t){const e=Fl(n,t);if(e>=0)return n[1|e]}function Fl(n,t){return function pf(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),a=n[s<<e];if(t===a)return s<<e;a>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const Vl={},ea="__NG_DI_FLAG__",ta="ngTempTokenPath",zg=/\n/gm,$u="__source",Gg=xt({provide:String,useValue:xt});let na;function bd(n){const t=na;return na=n,t}function Ed(n,t=Te.Default){if(void 0===na)throw new ue(203,"");return null===na?gn(n,void 0,t):na.get(n,t&Te.Optional?null:void 0,t)}function z(n,t=Te.Default){return(function Tu(){return to}()||Ed)(He(n),t)}const Zu=z;function Td(n){const t=[];for(let e=0;e<n.length;e++){const i=He(n[e]);if(Array.isArray(i)){if(0===i.length)throw new ue(900,"");let r,s=Te.Default;for(let a=0;a<i.length;a++){const u=i[a],h=Ey(u);"number"==typeof h?-1===h?r=u.token:s|=h:r=u}t.push(z(r,s))}else t.push(z(i))}return t}function ka(n,t){return n[ea]=t,n.prototype[ea]=t,n}function Ey(n){return n[ea]}const qu=ka(Ls("Optional"),8),Yu=ka(Ls("SkipSelf"),4);let Pd,kd;function Hl(n){return function Rd(){if(void 0===Pd&&(Pd=null,Pt.trustedTypes))try{Pd=Pt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Pd}()?.createHTML(n)||n}function mi(n){return function as(){if(void 0===kd&&(kd=null,Pt.trustedTypes))try{kd=Pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return kd}()?.createHTML(n)||n}class Ld{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ra(n){return n instanceof Ld?n.changingThisBreaksApplicationSecurity:n}class Qu{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Hl(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class _f{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Hl(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Hl(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const a=e.item(r).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&t.removeAttribute(a)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const rm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,sm=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function mr(n){return(n=String(n)).match(rm)||n.match(sm)?n:"unsafe:"+n}function sa(n){return(n=String(n)).split(",").map(t=>mr(t.trim())).join(", ")}function Fs(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Ul(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const om=Fs("area,br,col,hr,img,wbr"),am=Fs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lm=Fs("rp,rt"),wf=Ul(om,Ul(am,Fs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ul(lm,Fs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ul(lm,am)),Cf=Fs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Df=Fs("srcset"),Sf=Ul(Cf,Df,Fs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),um=Fs("script,style,template");class cm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!wf.hasOwnProperty(e))return this.sanitizedSomething=!0,!um.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),a=s.name,u=a.toLowerCase();if(!Sf.hasOwnProperty(u)){this.sanitizedSomething=!0;continue}let h=s.value;Cf[u]&&(h=mr(h)),Df[u]&&(h=sa(h)),this.buf.push(" ",a,'="',dm(h),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();wf.hasOwnProperty(e)&&!om.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(dm(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ly=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ny=/([^\#-~ |!])/g;function dm(n){return n.replace(/&/g,"&amp;").replace(Ly,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ny,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ju;function bf(n){return"content"in n&&function Vy(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var On=(()=>((On=On||{})[On.NONE=0]="NONE",On[On.HTML=1]="HTML",On[On.STYLE=2]="STYLE",On[On.SCRIPT=3]="SCRIPT",On[On.URL=4]="URL",On[On.RESOURCE_URL=5]="RESOURCE_URL",On))();function Nd(n){const t=function Oa(){const n=K();return n&&n[12]}();return t?mi(t.sanitize(On.HTML,n)||""):function Xu(n,t){const e=function Ry(n){return n instanceof Ld&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}(n,"HTML")?mi(ra(n)):function Fy(n,t){let e=null;try{Ju=Ju||function vf(n){const t=new _f(n);return function im(){try{return!!(new window.DOMParser).parseFromString(Hl(""),"text/html")}catch{return!1}}()?new Qu(t):t}(n);let i=t?String(t):"";e=Ju.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Ju.getInertBodyElement(i)}while(i!==s);return Hl((new cm).sanitizeChildren(bf(e)||e))}finally{if(e){const i=bf(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(nt(),Ae(n))}const gm="__ngContext__";function vi(n,t){n[gm]=t}function Tf(n){const t=function ec(n){return n[gm]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function If(n){return n.ngOriginalError}function ym(n,...t){n.error(...t)}class tc{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function Af(n){return n&&n.ngErrorLogger||ym}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&If(t);for(;e&&If(e);)e=If(e);return e||null}}const sw=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Pt))();function Vs(n){return n instanceof Function?n():n}var _r=(()=>((_r=_r||{})[_r.Important=1]="Important",_r[_r.DashCase=2]="DashCase",_r))();function Pf(n,t){return undefined(n,t)}function nc(n){const t=n[3];return qi(t)?t[3]:t}function Of(n){return bm(n[13])}function Lf(n){return bm(n[4])}function bm(n){for(;null!==n&&!qi(n);)n=n[4];return n}function mo(n,t,e,i,r){if(null!=i){let s,a=!1;qi(i)?s=i:Lr(i)&&(a=!0,i=i[0]);const u=Ut(i);0===n&&null!==e?null==r?Uf(t,e,u):oa(t,e,u,r||null,!0):1===n&&null!==e?oa(t,e,u,r||null,!0):2===n?function km(n,t,e){const i=Bd(n,t);i&&function vw(n,t,e,i){je(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,u,a):3===n&&t.destroyNode(u),null!=s&&function yw(n,t,e,i,r){const s=e[7];s!==Ut(e)&&mo(t,n,i,s,r);for(let u=10;u<e.length;u++){const h=e[u];sc(h[1],h,n,t,i,s)}}(t,n,s,e,r)}}function Ff(n,t,e){if(je(n))return n.createElement(t,e);{const i=null!==e?function W(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":t===P?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function Tm(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,Tl(r,-1)),e.splice(i,1)}function zl(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&Tm(r,i),t>0&&(n[e-1][4]=i[4]);const s=wd(n,10+t);!function dw(n,t){sc(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Mm(n,t){if(!(256&t[2])){const e=t[11];je(e)&&e.destroyNode&&sc(n,t,e,3,null,null),function pw(n){let t=n[13];if(!t)return Vd(n[1],n);for(;t;){let e=null;if(Lr(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Lr(t)&&Vd(t[1],t),t=t[3];null===t&&(t=n),Lr(t)&&Vd(t[1],t),e=t&&t[4]}t=e}}(t)}}function Vd(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function Vf(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Hu)){const s=e[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const u=r[s[a]],h=s[a+1];try{h.call(u)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function Im(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const a=e[s+1],u="function"==typeof a?a(t):Ut(t[a]),h=i[r=e[s+2]],f=e[s+3];"boolean"==typeof f?u.removeEventListener(e[s],h,f):f>=0?i[r=f]():i[r=-f].unsubscribe(),s+=2}else{const a=i[r=e[s+1]];e[s].call(a)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();t[7]=null}}(n,t),1===t[1].type&&je(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&qi(t[3])){e!==t[3]&&Tm(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function Bf(n,t,e){return function Hf(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===$i.None||r===$i.Emulated)return null}return fi(i,e)}(n,t.parent,e)}function oa(n,t,e,i,r){je(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function Uf(n,t,e){je(n)?n.appendChild(t,e):t.appendChild(e)}function Am(n,t,e,i,r){null!==i?oa(n,t,e,i,r):Uf(n,t,e)}function Bd(n,t){return je(n)?n.parentNode(t):t.parentNode}let Pm=function xm(n,t,e){return 40&n.type?fi(n,e):null};function Ud(n,t,e,i){const r=Bf(n,i,t),s=t[11],u=function ic(n,t,e){return Pm(n,t,e)}(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let h=0;h<e.length;h++)Am(s,r,e[h],u,!1);else Am(s,r,e,u,!1)}function jd(n,t){if(null!==t){const e=t.type;if(3&e)return fi(t,n);if(4&e)return zf(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return jd(n,i);{const r=n[t.index];return qi(r)?zf(-1,r):Ut(r)}}if(32&e)return Pf(t,n)()||Ut(n[t.index]);{const i=Rm(n,t);return null!==i?Array.isArray(i)?i[0]:jd(nc(n[16]),i):jd(n,t.next)}}return null}function Rm(n,t){return null!==t?n[16][6].projection[t.projection]:null}function zf(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return jd(i,r)}return t[7]}function Wf(n,t,e,i,r,s,a){for(;null!=e;){const u=i[e.index],h=e.type;if(a&&0===t&&(u&&vi(Ut(u),i),e.flags|=4),64!=(64&e.flags))if(8&h)Wf(n,t,e.child,i,r,s,!1),mo(t,n,r,u,s);else if(32&h){const f=Pf(e,i);let m;for(;m=f();)mo(t,n,r,m,s);mo(t,n,r,u,s)}else 16&h?Om(n,t,i,e,r,s):mo(t,n,r,u,s);e=a?e.projectionNext:e.next}}function sc(n,t,e,i,r,s){Wf(e,i,n.firstChild,t,r,s,!1)}function Om(n,t,e,i,r,s){const a=e[16],h=a[6].projection[i.projection];if(Array.isArray(h))for(let f=0;f<h.length;f++)mo(t,n,r,h[f],s);else Wf(n,t,h,a[3],r,s,!0)}function Lm(n,t,e){je(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function yr(n,t,e){je(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Nm(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const aa="ng-template";function et(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==Nm(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Fm(n){return 4===n.type&&n.value!==aa}function Qi(n,t,e){return t===(4!==n.type||e?n.value:aa)}function An(n,t,e){let i=4;const r=n.attrs||[],s=function Dw(n){for(let t=0;t<n.length;t++)if(pi(n[t]))return t;return n.length}(r);let a=!1;for(let u=0;u<t.length;u++){const h=t[u];if("number"!=typeof h){if(!a)if(4&i){if(i=2|1&i,""!==h&&!Qi(n,h,e)||""===h&&1===t.length){if(ls(i))return!1;a=!0}}else{const f=8&i?h:t[++u];if(8&i&&null!==n.attrs){if(!et(n.attrs,f,e)){if(ls(i))return!1;a=!0}continue}const y=la(8&i?"class":h,r,Fm(n),e);if(-1===y){if(ls(i))return!1;a=!0;continue}if(""!==f){let C;C=y>s?"":r[y+1].toLowerCase();const S=8&i?C:null;if(S&&-1!==Nm(S,f,0)||2&i&&f!==C){if(ls(i))return!1;a=!0}}}}else{if(!a&&!ls(i)&&!ls(h))return!1;if(a&&ls(h))continue;a=!1,i=h|1&i}}return ls(i)||a}function ls(n){return 0==(1&n)}function la(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const a=t[r];if(a===n)return r;if(3===a||6===a)s=!0;else{if(1===a||2===a){let u=t[++r];for(;"string"==typeof u;)u=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=s?1:2}return-1}return function Sw(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Vm(n,t,e=!1){for(let i=0;i<t.length;i++)if(An(n,t[i],e))return!0;return!1}function zd(n,t){return n?":not("+t.trim()+")":t}function Ew(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&i){const u=n[++e];r+="["+a+(u.length>0?'="'+u+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!ls(a)&&(t+=zd(s,r),r=""),i=a,s=s||!ls(i);e++}return""!==r&&(t+=zd(s,r)),t}const ze={};function J(n){hn(Et(),K(),qn()+n,ad())}function hn(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&Bu(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Xo(t,s,0,e)}Ko(e)}function Wd(n,t){return n<<17|t<<2}function us(n){return n>>17&32767}function $f(n){return 2|n}function _o(n){return(131068&n)>>2}function Gd(n,t){return-131069&n|t<<2}function oc(n){return 1|n}function Gm(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const a=n.data[s];Zh(r),a.contentQueries(2,t[s],s)}}}function ac(n,t,e,i,r,s,a,u,h,f){const m=t.blueprint.slice();return m[0]=r,m[2]=140|i,El(m),m[3]=m[15]=n,m[8]=e,m[10]=a||n&&n[10],m[11]=u||n&&n[11],m[12]=h||n&&n[12]||null,m[9]=f||n&&n[9]||null,m[6]=s,m[16]=2==t.type?n[16]:m,m}function $l(n,t,e,i,r){let s=n.data[t];if(null===s)s=function qd(n,t,e,i,r){const s=Sg(),a=zh(),h=n.data[t]=function Jm(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=h),null!==s&&(a?null==s.child&&null!==h.parent&&(s.child=h):null===s.next&&(s.next=h)),h}(n,t,e,i,r),function uy(){return Pe.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const a=function Nu(){const n=Pe.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return xs(s,!0),s}function Zl(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function lc(n,t,e){ud(t);try{const i=n.viewQuery;null!==i&&cc(1,i,e);const r=n.template;null!==r&&ip(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Gm(n,t),n.staticViewQueries&&cc(2,n.viewQuery,e);const s=n.components;null!==s&&function Pw(n,t){for(let e=0;e<t.length;e++)qw(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,cd()}}function ql(n,t,e,i){const r=t[2];if(256==(256&r))return;ud(t);const s=ad();try{El(t),function Ps(n){return Pe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&ip(n,t,e,2,i);const a=3==(3&r);if(!s)if(a){const f=n.preOrderCheckHooks;null!==f&&Bu(t,f,null)}else{const f=n.preOrderHooks;null!==f&&Xo(t,f,0,null),Rs(t,0)}if(function Zw(n){for(let t=Of(n);null!==t;t=Lf(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(1024&r[2])&&Tl(s,1),r[2]|=1024}}}(t),function $w(n){for(let t=Of(n);null!==t;t=Lf(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Ou(i)&&ql(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&Gm(n,t),!s)if(a){const f=n.contentCheckHooks;null!==f&&Bu(t,f)}else{const f=n.contentHooks;null!==f&&Xo(t,f,1),Rs(t,1)}!function xw(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Ko(~r);else{const s=r,a=e[++i],u=e[++i];cy(a,s),u(2,t[s])}}}finally{Ko(-1)}}(n,t);const u=n.components;null!==u&&function $m(n,t){for(let e=0;e<t.length;e++)cp(n,t[e])}(t,u);const h=n.viewQuery;if(null!==h&&cc(2,h,i),!s)if(a){const f=n.viewCheckHooks;null!==f&&Bu(t,f)}else{const f=n.viewHooks;null!==f&&Xo(t,f,2),Rs(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Tl(t[3],-1))}finally{cd()}}function Zm(n,t,e,i){const r=t[10],s=!ad(),a=Nr(t);try{s&&!a&&r.begin&&r.begin(),a&&lc(n,t,i),ql(n,t,e,i)}finally{s&&!a&&r.end&&r.end()}}function ip(n,t,e,i,r){const s=qn(),a=2&i;try{Ko(-1),a&&t.length>20&&hn(n,t,20,ad()),e(i,r)}finally{Ko(s)}}function rp(n,t,e){!Lu()||(function Bw(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||Pl(e,t),vi(i,t);const a=e.initialInputs;for(let u=r;u<s;u++){const h=n.data[u],f=j(h);f&&Ww(t,e,h);const m=Rl(t,n,u,e);vi(m,t),null!==a&&up(0,u-r,m,h,0,a),f&&(mt(e.index,t)[8]=m)}}(n,t,e,fi(e,t)),128==(128&e.flags)&&function Hw(n,t,e){const i=e.directiveStart,r=e.directiveEnd,a=e.index,u=function Aa(){return Pe.lFrame.currentDirectiveIndex}();try{Ko(a);for(let h=i;h<r;h++){const f=n.data[h],m=t[h];Gh(h),(null!==f.hostBindings||0!==f.hostVars||null!==f.hostAttrs)&&nv(f,m)}}finally{Ko(-1),Gh(u)}}(n,t,e))}function sp(n,t,e=fi){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],u=-1===a?e(t,n):n[a];n[r++]=u}}}function Ym(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Co(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Co(n,t,e,i,r,s,a,u,h,f){const m=20+i,y=m+r,C=function Rw(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ze);return e}(m,y),S="function"==typeof f?f():f;return C[1]={type:n,blueprint:C,template:e,queries:null,viewQuery:u,declTNode:t,data:C.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:h,consts:S,incompleteFirstPass:!1}}function Qm(n,t,e,i){const r=uv(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&cv(n).push(i,r.length-1))}function op(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function ap(n,t,e,i){let r=!1;if(Lu()){const s=function Uw(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const a=i[s];Vm(e,a.selectors,!1)&&(r||(r=[]),zu(Pl(e,t),n,a.type),j(a)?(iv(n,e),r.unshift(a)):r.push(a))}return r}(n,t,e),a=null===i?null:{"":-1};if(null!==s){r=!0,rv(e,n.data.length,s.length);for(let m=0;m<s.length;m++){const y=s[m];y.providersResolver&&y.providersResolver(y)}let u=!1,h=!1,f=Zl(n,t,s.length,null);for(let m=0;m<s.length;m++){const y=s[m];e.mergedAttrs=hd(e.mergedAttrs,y.hostAttrs),sv(n,e,t,f,y),zw(f,y,a),null!==y.contentQueries&&(e.flags|=8),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(e.flags|=128);const C=y.type.prototype;!u&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),u=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),h=!0),f++}!function kw(n,t){const i=t.directiveEnd,r=n.data,s=t.attrs,a=[];let u=null,h=null;for(let f=t.directiveStart;f<i;f++){const m=r[f],y=m.inputs,C=null===s||Fm(t)?null:ov(y,s);a.push(C),u=op(y,f,u),h=op(m.outputs,f,h)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=16),u.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=u,t.outputs=h}(n,e)}a&&function jw(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new ue(-301,!1);i.push(t[r],s)}}}(e,i,a)}return e.mergedAttrs=hd(e.mergedAttrs,e.attrs),r}function tv(n,t,e,i,r,s){const a=s.hostBindings;if(a){let u=n.hostBindingOpCodes;null===u&&(u=n.hostBindingOpCodes=[]);const h=~t.index;(function Vw(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(u)!=h&&u.push(h),u.push(i,r,a)}}function nv(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function iv(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function zw(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;j(t)&&(e[""]=n)}}function rv(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function sv(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=pr(r.type)),a=new Hu(s,j(r),null);n.blueprint[i]=a,e[i]=a,tv(n,t,0,i,Zl(n,e,r.hostVars,ze),r)}function Ww(n,t,e){const i=fi(t,n),r=Ym(e),s=n[10],a=ri(n,ac(n,r,null,e.onPush?64:16,i,t,s,s.createRenderer(i,e),null,null));n[t.index]=a}function Bs(n,t,e,i,r,s){const a=fi(n,t);!function lp(n,t,e,i,r,s,a){if(null==s)je(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const u=null==a?Ae(s):a(s,i||"",r);je(n)?n.setAttribute(t,r,u,e):e?t.setAttributeNS(e,r,u):t.setAttribute(r,u)}}(t[11],a,s,n.value,e,i,r)}function up(n,t,e,i,r,s){const a=s[t];if(null!==a){const u=i.setInput;for(let h=0;h<a.length;){const f=a[h++],m=a[h++],y=a[h++];null!==u?i.setInput(e,y,f,m):e[m]=y}}}function ov(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function av(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function cp(n,t){const e=mt(t,n);if(Ou(e)){const i=e[1];80&e[2]?ql(i,e,i.template,e[8]):e[5]>0&&dp(e)}}function dp(n){for(let i=Of(n);null!==i;i=Lf(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const a=s[1];ql(a,s,a.template,s[8])}else s[5]>0&&dp(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=mt(e[i],n);Ou(r)&&r[5]>0&&dp(r)}}function qw(n,t){const e=mt(t,n),i=e[1];(function Yw(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),lc(i,e,e[8])}function ri(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function uc(n){for(;n;){n[2]|=64;const t=nc(n);if(H(n)&&!t)return n;n=t}return null}function fp(n,t,e){const i=t[10];i.begin&&i.begin();try{ql(n,t,n.template,e)}catch(r){throw dv(t,r),r}finally{i.end&&i.end()}}function lv(n){!function hp(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Tf(e),r=i[1];Zm(r,i,r.template,e)}}(n[8])}function cc(n,t,e){Zh(0),t(n,e)}const Qw=(()=>Promise.resolve(null))();function uv(n){return n[7]||(n[7]=[])}function cv(n){return n.cleanup||(n.cleanup=[])}function dv(n,t){const e=n[9],i=e?e.get(tc,null):null;i&&i.handleError(t)}function hv(n,t,e,i,r){for(let s=0;s<e.length;){const a=e[s++],u=e[s++],h=t[a],f=n.data[a];null!==f.setInput?f.setInput(h,r,i,u):h[u]=r}}function Do(n,t,e){const i=Is(t,n);!function Em(n,t,e){je(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Yl(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const u=t[a];"number"==typeof u?s=u:1==s?r=Ho(r,u):2==s&&(i=Ho(i,u+": "+t[++a]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const vp=new rt("INJECTOR",-1);class fv{get(t,e=Vl){if(e===Vl){const i=new Error(`NullInjectorError: No provider for ${yt(t)}!`);throw i.name="NullInjectorError",i}return e}}const _p=new rt("Set Injector scope."),dc={},eC={};let yp;function pv(){return void 0===yp&&(yp=new fv),yp}function gv(n,t=null,e=null,i){const r=mv(n,t,e,i);return r._resolveInjectorDefTypes(),r}function mv(n,t=null,e=null,i){return new tC(n,e,t||pv(),i)}class tC{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&jr(e,u=>this.processProvider(u,t,e)),jr([t],u=>this.processInjectorType(u,[],s)),this.records.set(vp,Kl(void 0,this));const a=this.records.get(_p);this.scope=null!=a?a.value:null,this.source=r||("object"==typeof t?null:yt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Vl,i=Te.Default){this.assertNotDestroyed();const r=bd(this),s=Ds(void 0);try{if(!(i&Te.SkipSelf)){let u=this.records.get(t);if(void 0===u){const h=function _(n){return"function"==typeof n||"object"==typeof n&&n instanceof rt}(t)&&es(t);u=h&&this.injectableDefInScope(h)?Kl(wp(t),dc):null,this.records.set(t,u)}if(null!=u)return this.hydrate(t,u)}return(i&Te.Self?pv():this.parent).get(t,e=i&Te.Optional&&e===Vl?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[ta]=a[ta]||[]).unshift(yt(t)),r)throw a;return function $g(n,t,e,i){const r=n[ta];throw t[$u]&&r.unshift(t[$u]),n.message=function go(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=yt(t);if(Array.isArray(t))r=t.map(yt).join(" -> ");else if("object"==typeof t){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let u=t[a];s.push(a+":"+("string"==typeof u?JSON.stringify(u):yt(u)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(zg,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[ta]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Ds(s),bd(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(yt(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processInjectorType(t,e,i){if(!(t=He(t)))return!1;let r=kt(t);const s=null==r&&t.ngModule||void 0,a=void 0===s?t:s,u=-1!==i.indexOf(a);if(void 0!==s&&(r=kt(s)),null==r)return!1;if(null!=r.imports&&!u){let m;i.push(a);try{jr(r.imports,y=>{this.processInjectorType(y,e,i)&&(void 0===m&&(m=[]),m.push(y))})}finally{}if(void 0!==m)for(let y=0;y<m.length;y++){const{ngModule:C,providers:S}=m[y];jr(S,T=>this.processProvider(T,C,S||Ot))}}this.injectorDefTypes.add(a);const h=pr(a)||(()=>new a);this.records.set(a,Kl(h,dc));const f=r.providers;if(null!=f&&!u){const m=t;jr(f,y=>this.processProvider(y,m,f))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,i){let r=Xl(t=He(t))?t:He(t&&t.provide);const s=function iC(n,t,e){return _v(n)?Kl(void 0,n.useValue):Kl(vv(n),dc)}(t);if(Xl(t)||!0!==t.multi)this.records.get(r);else{let a=this.records.get(r);a||(a=Kl(void 0,dc,!0),a.factory=()=>Td(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,s)}hydrate(t,e){return e.value===dc&&(e.value=eC,e.value=e.factory()),"object"==typeof e.value&&e.value&&function g(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=He(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function wp(n){const t=es(n),e=null!==t?t.factory:pr(n);if(null!==e)return e;if(n instanceof rt)throw new ue(204,!1);if(n instanceof Function)return function nC(n){const t=n.length;if(t>0)throw function zr(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?"),new ue(204,!1);const e=function Nh(n){const t=n&&(n[hl]||n[pt]);if(t){const e=function Gt(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new ue(204,!1)}function vv(n,t,e){let i;if(Xl(n)){const r=He(n);return pr(r)||wp(r)}if(_v(n))i=()=>He(n.useValue);else if(function sC(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Td(n.deps||[]));else if(function rC(n){return!(!n||!n.useExisting)}(n))i=()=>z(He(n.useExisting));else{const r=He(n&&(n.useClass||n.provide));if(!function d(n){return!!n.deps}(n))return pr(r)||wp(r);i=()=>new r(...Td(n.deps))}return i}function Kl(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function _v(n){return null!==n&&"object"==typeof n&&Gg in n}function Xl(n){return"function"==typeof n}let D=(()=>{class n{static create(e,i){if(Array.isArray(e))return gv({name:""},i,e,"");{const r=e.name??"";return gv({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=Vl,n.NULL=new fv,n.\u0275prov=oe({token:n,providedIn:"any",factory:()=>z(vp)}),n.__NG_ELEMENT_ID__=-1,n})();function jx(n,t){Vu(Tf(n)[1],sn())}function Xt(n){let t=function ab(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(j(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ue(903,"");r=t.\u0275dir}if(r){if(e){i.push(r);const a=n;a.inputs=aC(n.inputs),a.declaredInputs=aC(n.declaredInputs),a.outputs=aC(n.outputs);const u=r.hostBindings;u&&$x(n,u);const h=r.viewQuery,f=r.contentQueries;if(h&&Wx(n,h),f&&Gx(n,f),ys(n.inputs,r.inputs),ys(n.declaredInputs,r.declaredInputs),ys(n.outputs,r.outputs),j(r)&&r.data.animation){const m=n.data;m.animation=(m.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let a=0;a<s.length;a++){const u=s[a];u&&u.ngInherit&&u(n),u===Xt&&(e=!1)}}t=Object.getPrototypeOf(t)}!function zx(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=hd(r.hostAttrs,e=hd(e,r.hostAttrs))}}(i)}function aC(n){return n===Fn?{}:n===Ot?[]:n}function Wx(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function Gx(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function $x(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let yv=null;function Yd(){if(!yv){const n=Pt.Symbol;if(n&&n.iterator)yv=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(yv=i)}}}return yv}function Cp(n){return!!lC(n)&&(Array.isArray(n)||!(n instanceof Map)&&Yd()in n)}function lC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function da(n,t,e){return n[t]=e}function Dp(n,t){return n[t]}function tr(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function hc(n,t,e,i){const r=tr(n,t,e);return tr(n,t+1,i)||r}function wv(n,t,e,i,r){const s=hc(n,t,e,i);return tr(n,t+2,r)||s}function Us(n,t,e,i,r,s){const a=hc(n,t,e,i);return hc(n,t+2,r,s)||a}function si(n,t,e,i){const r=K();return tr(r,Il(),t)&&(Et(),Bs(dn(),r,n,t,e,i)),si}function Ee(n,t,e,i,r,s,a,u){const h=K(),f=Et(),m=n+20,y=f.firstCreatePass?function Jx(n,t,e,i,r,s,a,u,h){const f=t.consts,m=$l(t,n,4,a||null,As(f,u));ap(t,e,m,As(f,h)),Vu(t,m);const y=m.tViews=Co(2,m,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,f);return null!==t.queries&&(t.queries.template(t,m),y.queries=t.queries.embeddedTView(m)),m}(m,f,h,t,e,i,r,s,a):f.data[m];xs(y,!1);const C=h[11].createComment("");Ud(f,h,C,y),vi(C,h),ri(h,h[m]=av(C,h,C,y)),N(y)&&rp(f,h,y),null!=a&&sp(h,y,u)}function Yn(n){return gr(function ly(){return Pe.lFrame.contextLView}(),20+n)}function U(n,t=Te.Default){const e=K();return null===e?z(n,t):af(sn(),e,He(n),t)}function te(n,t,e){const i=K();return tr(i,Il(),t)&&function wr(n,t,e,i,r,s,a,u){const h=fi(t,e);let m,f=t.inputs;!u&&null!=f&&(m=f[i])?(hv(n,e,m,i,r),Es(t)&&function Lw(n,t){const e=mt(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function Ow(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,t.value||"",i):r,je(s)?s.setProperty(h,i,r):ju(i)||(h.setProperty?h.setProperty(i,r):h[i]=r))}(Et(),dn(),i,n,t,i[11],e,!1),te}function fC(n,t,e,i,r){const a=r?"class":"style";hv(n,e,t.inputs[a],a,i)}function fe(n,t,e,i){const r=K(),s=Et(),a=20+n,u=r[11],h=r[a]=Ff(u,t,function Br(){return Pe.lFrame.currentNamespace}()),f=s.firstCreatePass?function CP(n,t,e,i,r,s,a){const u=t.consts,f=$l(t,n,2,r,As(u,s));return ap(t,e,f,As(u,a)),null!==f.attrs&&Yl(f,f.attrs,!1),null!==f.mergedAttrs&&Yl(f,f.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,f),f}(a,s,r,0,t,e,i):s.data[a];xs(f,!0);const m=f.mergedAttrs;null!==m&&Uu(u,h,m);const y=f.classes;null!==y&&yr(u,h,y);const C=f.styles;return null!==C&&Lm(u,h,C),64!=(64&f.flags)&&Ud(s,r,h,f),0===function Dg(){return Pe.lFrame.elementDepthCount}()&&vi(h,r),function E(){Pe.lFrame.elementDepthCount++}(),N(f)&&(rp(s,r,f),function qm(n,t,e){if(Pu(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}}(s,f,r)),null!==i&&sp(r,f),fe}function ge(){let n=sn();zh()?function Wh(){Pe.lFrame.isParent=!1}():(n=n.parent,xs(n,!1));const t=n;!function Ml(){Pe.lFrame.elementDepthCount--}();const e=Et();return e.firstCreatePass&&(Vu(e,n),Pu(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function ks(n){return 0!=(16&n.flags)}(t)&&fC(e,t,K(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Jh(n){return 0!=(32&n.flags)}(t)&&fC(e,t,K(),t.stylesWithoutHost,!1),ge}function fn(n,t,e,i){return fe(n,t,e,i),ge(),fn}function Kn(){return K()}function Dv(n){return!!n&&"function"==typeof n.then}function Ib(n){return!!n&&"function"==typeof n.subscribe}const Ab=Ib;function We(n,t,e,i){const r=K(),s=Et(),a=sn();return function Pb(n,t,e,i,r,s,a,u){const h=N(i),m=n.firstCreatePass&&cv(n),y=t[8],C=uv(t);let S=!0;if(3&i.type||u){const R=fi(i,t),F=u?u(R):R,O=C.length,G=u?Y=>u(Ut(Y[i.index])):i.index;if(je(e)){let Y=null;if(!u&&h&&(Y=function SP(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const a=r[s];if(a===e&&r[s+1]===i){const u=t[7],h=r[s+2];return u.length>h?u[h]:null}"string"==typeof a&&(s+=2)}return null}(n,t,r,i.index)),null!==Y)(Y.__ngLastListenerFn__||Y).__ngNextListenerFn__=s,Y.__ngLastListenerFn__=s,S=!1;else{s=mC(i,t,y,s,!1);const re=e.listen(F,r,s);C.push(s,re),m&&m.push(r,G,O,O+1)}}else s=mC(i,t,y,s,!0),F.addEventListener(r,s,a),C.push(s),m&&m.push(r,G,O,a)}else s=mC(i,t,y,s,!1);const T=i.outputs;let x;if(S&&null!==T&&(x=T[r])){const R=x.length;if(R)for(let F=0;F<R;F+=2){const Ce=t[x[F]][x[F+1]].subscribe(s),Ze=C.length;C.push(s,Ce),m&&m.push(r,i.index,Ze,-(Ze+1))}}}(s,r,r[11],a,n,t,!!e,i),We}function Rb(n,t,e,i){try{return!1!==e(i)}catch(r){return dv(n,r),!1}}function mC(n,t,e,i,r){return function s(a){if(a===Function)return i;const u=2&n.flags?mt(n.index,t):t;0==(32&t[2])&&uc(u);let h=Rb(t,0,i,a),f=s.__ngNextListenerFn__;for(;f;)h=Rb(t,0,f,a)&&h,f=f.__ngNextListenerFn__;return r&&!1===h&&(a.preventDefault(),a.returnValue=!1),h}}function ee(n=1){return function Kh(n){return(Pe.lFrame.contextLView=function Fu(n,t){for(;n>0;)t=t[15],n--;return t}(n,Pe.lFrame.contextLView))[8]}(n)}function jb(n,t,e,i,r){const s=n[e+1],a=null===t;let u=i?us(s):_o(s),h=!1;for(;0!==u&&(!1===h||a);){const m=n[u+1];AP(n[u],t)&&(h=!0,n[u+1]=i?oc(m):$f(m)),u=i?us(m):_o(m)}h&&(n[e+1]=i?$f(s):oc(s))}function AP(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Fl(n,t)>=0}function La(n,t,e){return bo(n,t,e,!1),La}function yi(n,t){return bo(n,t,null,!0),yi}function bo(n,t,e,i){const r=K(),s=Et(),a=function ho(n){const t=Pe.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);s.firstUpdatePass&&function Kb(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[qn()],a=function Yb(n,t){return t>=n.expandoStartIndex}(n,e);(function eE(n,t){return 0!=(n.flags&(t?16:32))})(s,i)&&null===t&&!a&&(t=!1),t=function VP(n,t,e,i){const r=function $h(n){const t=Pe.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Sp(e=_C(null,n,t,e,i),t.attrs,i),s=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==r)if(e=_C(r,n,t,e,i),null===s){let h=function BP(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==_o(i))return n[us(i)]}(n,t,i);void 0!==h&&Array.isArray(h)&&(h=_C(null,n,t,h[1],i),h=Sp(h,t.attrs,i),function HP(n,t,e,i){n[us(e?t.classBindings:t.styleBindings)]=i}(n,t,i,h))}else s=function UP(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Sp(i,n[s].hostAttrs,e);return Sp(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function MP(n,t,e,i,r,s){let a=s?t.classBindings:t.styleBindings,u=us(a),h=_o(a);n[i]=e;let m,f=!1;if(Array.isArray(e)){const y=e;m=y[1],(null===m||Fl(y,m)>0)&&(f=!0)}else m=e;if(r)if(0!==h){const C=us(n[u+1]);n[i+1]=Wd(C,u),0!==C&&(n[C+1]=Gd(n[C+1],i)),n[u+1]=function Tw(n,t){return 131071&n|t<<17}(n[u+1],i)}else n[i+1]=Wd(u,0),0!==u&&(n[u+1]=Gd(n[u+1],i)),u=i;else n[i+1]=Wd(h,0),0===u?u=i:n[h+1]=Gd(n[h+1],i),h=i;f&&(n[i+1]=$f(n[i+1])),jb(n,m,i,!0),jb(n,m,i,!1),function IP(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&Fl(s,t)>=0&&(e[i+1]=oc(e[i+1]))}(t,m,n,i,s),a=Wd(u,h),s?t.classBindings=a:t.styleBindings=a}(r,s,t,e,a,i)}}(s,n,a,i),t!==ze&&tr(r,a,t)&&function Qb(n,t,e,i,r,s,a,u){if(!(3&t.type))return;const h=n.data,f=h[u+1];Sv(function Wl(n){return 1==(1&n)}(f)?Jb(h,t,e,r,_o(f),a):void 0)||(Sv(s)||function Hm(n){return 2==(2&n)}(f)&&(s=Jb(h,null,e,r,u,a)),function ww(n,t,e,i,r){const s=je(n);if(t)r?s?n.addClass(e,i):e.classList.add(i):s?n.removeClass(e,i):e.classList.remove(i);else{let a=-1===i.indexOf("-")?void 0:_r.DashCase;if(null==r)s?n.removeStyle(e,i,a):e.style.removeProperty(i);else{const u="string"==typeof r&&r.endsWith("!important");u&&(r=r.slice(0,-10),a|=_r.Important),s?n.setStyle(e,i,r,a):e.style.setProperty(i,r,u?"important":"")}}}(i,a,Is(qn(),e),r,s))}(s,s.data[qn()],r,r[11],n,r[a+1]=function WP(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=yt(ra(n)))),n}(t,e),i,a)}function _C(n,t,e,i,r){let s=null;const a=e.directiveEnd;let u=e.directiveStylingLast;for(-1===u?u=e.directiveStart:u++;u<a&&(s=t[u],i=Sp(i,s.hostAttrs,r),s!==n);)u++;return null!==n&&(e.directiveStylingLast=u),i}function Sp(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ki(n,a,!!e||t[++s]))}return void 0===n?null:n}function Jb(n,t,e,i,r,s){const a=null===t;let u;for(;r>0;){const h=n[r],f=Array.isArray(h),m=f?h[1]:h,y=null===m;let C=e[r+1];C===ze&&(C=y?Ot:void 0);let S=y?Cd(C,i):m===i?C:void 0;if(f&&!Sv(S)&&(S=Cd(h,i)),Sv(S)&&(u=S,a))return u;const T=n[r+1];r=a?us(T):_o(T)}if(null!==t){let h=s?t.residualClasses:t.residualStyles;null!=h&&(u=Cd(h,i))}return u}function Sv(n){return void 0!==n}function pn(n,t=""){const e=K(),i=Et(),r=n+20,s=i.firstCreatePass?$l(i,r,1,t,null):i.data[r],a=e[r]=function Nf(n,t){return je(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Ud(i,e,a,s),xs(s,!1)}function fc(n){return ah("",n,""),fc}function ah(n,t,e){const i=K(),r=function Xd(n,t,e,i){return tr(n,Il(),e)?t+Ae(e)+i:ze}(i,n,t,e);return r!==ze&&Do(i,qn(),r),ah}const pc=void 0;var cR=["en",[["a","p"],["AM","PM"],pc],[["AM","PM"],pc,pc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pc,"{1} 'at' {0}",pc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uR(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let lh={};function Cr(n){const t=function dR(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=CE(t);if(e)return e;const i=t.split("-")[0];if(e=CE(i),e)return e;if("en"===i)return cR;throw new Error(`Missing locale data for the locale "${n}".`)}function CE(n){return n in lh||(lh[n]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[n]),lh[n]}var ce=(()=>((ce=ce||{})[ce.LocaleId=0]="LocaleId",ce[ce.DayPeriodsFormat=1]="DayPeriodsFormat",ce[ce.DayPeriodsStandalone=2]="DayPeriodsStandalone",ce[ce.DaysFormat=3]="DaysFormat",ce[ce.DaysStandalone=4]="DaysStandalone",ce[ce.MonthsFormat=5]="MonthsFormat",ce[ce.MonthsStandalone=6]="MonthsStandalone",ce[ce.Eras=7]="Eras",ce[ce.FirstDayOfWeek=8]="FirstDayOfWeek",ce[ce.WeekendRange=9]="WeekendRange",ce[ce.DateFormat=10]="DateFormat",ce[ce.TimeFormat=11]="TimeFormat",ce[ce.DateTimeFormat=12]="DateTimeFormat",ce[ce.NumberSymbols=13]="NumberSymbols",ce[ce.NumberFormats=14]="NumberFormats",ce[ce.CurrencyCode=15]="CurrencyCode",ce[ce.CurrencySymbol=16]="CurrencySymbol",ce[ce.CurrencyName=17]="CurrencyName",ce[ce.Currencies=18]="Currencies",ce[ce.Directionality=19]="Directionality",ce[ce.PluralCase=20]="PluralCase",ce[ce.ExtraData=21]="ExtraData",ce))();const bv="en-US";let DE=bv;function CC(n,t,e,i,r){if(n=He(n),Array.isArray(n))for(let s=0;s<n.length;s++)CC(n[s],t,e,i,r);else{const s=Et(),a=K();let u=Xl(n)?n:He(n.provide),h=vv(n);const f=sn(),m=1048575&f.providerIndexes,y=f.directiveStart,C=f.providerIndexes>>20;if(Xl(n)||!n.multi){const S=new Hu(h,r,U),T=SC(u,t,r?m:m+C,y);-1===T?(zu(Pl(f,a),s,u),DC(s,n,t.length),t.push(u),f.directiveStart++,f.directiveEnd++,r&&(f.providerIndexes+=1048576),e.push(S),a.push(S)):(e[T]=S,a[T]=S)}else{const S=SC(u,t,m+C,y),T=SC(u,t,m,m+C),x=S>=0&&e[S],R=T>=0&&e[T];if(r&&!R||!r&&!x){zu(Pl(f,a),s,u);const F=function uk(n,t,e,i,r){const s=new Hu(n,e,U);return s.multi=[],s.index=t,s.componentProviders=0,$E(s,r,i&&!e),s}(r?lk:ak,e.length,r,i,h);!r&&R&&(e[T].providerFactory=F),DC(s,n,t.length,0),t.push(u),f.directiveStart++,f.directiveEnd++,r&&(f.providerIndexes+=1048576),e.push(F),a.push(F)}else DC(s,n,S>-1?S:T,$E(e[r?T:S],h,!r&&i));!r&&i&&R&&e[T].componentProviders++}}}function DC(n,t,e,i){const r=Xl(t),s=function l(n){return!!n.useClass}(t);if(r||s){const h=(s?He(t.useClass):t).prototype.ngOnDestroy;if(h){const f=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const m=f.indexOf(e);-1===m?f.push(e,[i,h]):f[m+1].push(i,h)}else f.push(e,h)}}}function $E(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function SC(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function ak(n,t,e,i){return bC(this.multi,[])}function lk(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,u=Rl(e,e[1],this.providerFactory.index,i);s=u.slice(0,a),bC(r,s);for(let h=a;h<u.length;h++)s.push(u[h])}else s=[],bC(r,s);return s}function bC(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function yn(n,t=[]){return e=>{e.providersResolver=(i,r)=>function ok(n,t,e){const i=Et();if(i.firstCreatePass){const r=j(n);CC(e,i.data,i.blueprint,r,!0),CC(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class ZE{}class hk{resolveComponentFactory(t){throw function dk(n){const t=Error(`No component factory found for ${yt(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Ql=(()=>{class n{}return n.NULL=new hk,n})();function fk(){return ch(sn(),K())}function ch(n,t){return new wn(fi(n,t))}let wn=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=fk,n})();function pk(n){return n instanceof wn?n.nativeElement:n}class Ip{}let $r=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function mk(){const n=K(),e=mt(sn().index,n);return function gk(n){return n[11]}(Lr(e)?e:n)}(),n})(),vk=(()=>{class n{}return n.\u0275prov=oe({token:n,providedIn:"root",factory:()=>null}),n})();class Ap{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const _k=new Ap("13.3.0"),EC={};function Av(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(Ut(s)),qi(s))for(let u=10;u<s.length;u++){const h=s[u],f=h[1].firstChild;null!==f&&Av(h[1],h,f,i)}const a=e.type;if(8&a)Av(n,t,e.child,i);else if(32&a){const u=Pf(e,t);let h;for(;h=u();)i.push(h)}else if(16&a){const u=Rm(t,e);if(Array.isArray(u))i.push(...u);else{const h=nc(t[16]);Av(h[1],h,u,i,!0)}}e=r?e.projectionNext:e.next}return i}class xp{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Av(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(qi(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(zl(t,i),wd(e,i))}this._attachedToViewContainer=!1}Mm(this._lView[1],this._lView)}onDestroy(t){Qm(this._lView[1],this._lView,null,t)}markForCheck(){uc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){fp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function pp(n,t,e){ld(!0);try{fp(n,t,e)}finally{ld(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ue(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fw(n,t){sc(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ue(902,"");this._appRef=t}}class yk extends xp{constructor(t){super(t),this._view=t}detectChanges(){lv(this._view)}checkNoChanges(){!function Xw(n){ld(!0);try{lv(n)}finally{ld(!1)}}(this._view)}get context(){return null}}class YE extends Ql{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Vn(t);return new TC(e,this.ngModule)}}function KE(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class TC extends ZE{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function vo(n){return n.map(Ew).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return KE(this.componentDef.inputs)}get outputs(){return KE(this.componentDef.outputs)}create(t,e,i,r){const s=(r=r||this.ngModule)?function Ck(n,t){return{get:(e,i,r)=>{const s=n.get(e,EC,r);return s!==EC||i===EC?s:t.get(e,i,r)}}}(t,r.injector):t,a=s.get(Ip,Ms),u=s.get(vk,null),h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",m=i?function Xm(n,t,e){if(je(n))return n.selectRootElement(t,e===$i.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(h,i,this.componentDef.encapsulation):Ff(a.createRenderer(null,this.componentDef),f,function wk(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?P:null}(f)),y=this.componentDef.onPush?576:528,C=function ob(n,t){return{components:[],scheduler:n||sw,clean:Qw,playerHandler:t||null,flags:0}}(),S=Co(0,null,null,1,0,null,null,null,null,null),T=ac(null,S,C,y,null,null,a,h,u,s);let x,R;ud(T);try{const F=function rb(n,t,e,i,r,s){const a=e[1];e[20]=n;const h=$l(a,20,2,"#host",null),f=h.mergedAttrs=t.hostAttrs;null!==f&&(Yl(h,f,!0),null!==n&&(Uu(r,n,f),null!==h.classes&&yr(r,n,h.classes),null!==h.styles&&Lm(r,n,h.styles)));const m=i.createRenderer(n,t),y=ac(e,Ym(t),null,t.onPush?64:16,e[20],h,i,m,s||null,null);return a.firstCreatePass&&(zu(Pl(h,e),a,t.type),iv(a,h),rv(h,e.length,1)),ri(e,y),e[20]=y}(m,this.componentDef,T,a,h);if(m)if(i)Uu(h,m,["ng-version",_k.full]);else{const{attrs:O,classes:G}=function Bm(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!ls(r))break;r=s}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);O&&Uu(h,m,O),G&&G.length>0&&yr(h,m,G.join(" "))}if(R=uo(S,20),void 0!==e){const O=R.projection=[];for(let G=0;G<this.ngContentSelectors.length;G++){const Y=e[G];O.push(null!=Y?Array.from(Y):null)}}x=function sb(n,t,e,i,r){const s=e[1],a=function Fw(n,t,e){const i=sn();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),sv(n,i,t,Zl(n,t,1,null),e));const r=Rl(t,n,i.directiveStart,i);vi(r,t);const s=fi(i,t);return s&&vi(s,t),r}(s,e,t);if(i.components.push(a),n[8]=a,r&&r.forEach(h=>h(a,t)),t.contentQueries){const h=sn();t.contentQueries(1,a,h.directiveStart)}const u=sn();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ko(u.index),tv(e[1],u,0,u.directiveStart,u.directiveEnd,t),nv(t,a)),a}(F,this.componentDef,T,C,[jx]),lc(S,T,null)}finally{cd()}return new Sk(this.componentType,x,ch(R,T),T,R)}}class Sk extends class ck{}{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new yk(r),this.componentType=t}get injector(){return new kl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class dh{}const hh=new Map;class JE extends dh{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new YE(this);const i=xi(t);this._bootstrapComponents=Vs(i.bootstrap),this._r3Injector=mv(t,e,[{provide:dh,useValue:this},{provide:Ql,useValue:this.componentFactoryResolver}],yt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=D.THROW_IF_NOT_FOUND,i=Te.Default){return t===D||t===dh||t===vp?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class MC extends class Ek{}{constructor(t){super(),this.moduleType=t,null!==xi(t)&&function Tk(n){const t=new Set;!function e(i){const r=xi(i,!0),s=r.id;null!==s&&(function XE(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${yt(t)} vs ${yt(t.name)}`)}(s,hh.get(s),i),hh.set(s,i));const a=Vs(r.imports);for(const u of a)t.has(u)||(t.add(u),e(u))}(n)}(t)}create(t){return new JE(this.moduleType,t)}}function Dr(n,t,e){const i=Oi()+n,r=K();return r[i]===ze?da(r,i,e?t.call(e):t()):Dp(r,i)}function gc(n,t,e,i){return iT(K(),Oi(),n,t,e,i)}function wi(n,t,e,i,r){return rT(K(),Oi(),n,t,e,i,r)}function IC(n,t,e,i,r,s){return sT(K(),Oi(),n,t,e,i,r,s)}function eT(n,t,e,i,r,s,a){return function oT(n,t,e,i,r,s,a,u,h){const f=t+e;return Us(n,f,r,s,a,u)?da(n,f+4,h?i.call(h,r,s,a,u):i(r,s,a,u)):Pp(n,f+4)}(K(),Oi(),n,t,e,i,r,s,a)}function AC(n,t,e,i,r,s,a,u){const h=Oi()+n,f=K(),m=Us(f,h,e,i,r,s);return tr(f,h+4,a)||m?da(f,h+5,u?t.call(u,e,i,r,s,a):t(e,i,r,s,a)):Dp(f,h+5)}function xC(n,t,e,i){return function aT(n,t,e,i,r,s){let a=t+e,u=!1;for(let h=0;h<r.length;h++)tr(n,a++,r[h])&&(u=!0);return u?da(n,a,i.apply(s,r)):Pp(n,a)}(K(),Oi(),n,t,e,i)}function Pp(n,t){const e=n[t];return e===ze?void 0:e}function iT(n,t,e,i,r,s){const a=t+e;return tr(n,a,r)?da(n,a+1,s?i.call(s,r):i(r)):Pp(n,a+1)}function rT(n,t,e,i,r,s,a){const u=t+e;return hc(n,u,r,s)?da(n,u+2,a?i.call(a,r,s):i(r,s)):Pp(n,u+2)}function sT(n,t,e,i,r,s,a,u){const h=t+e;return wv(n,h,r,s,a)?da(n,h+3,u?i.call(u,r,s,a):i(r,s,a)):Pp(n,h+3)}function Cn(n,t){const e=Et();let i;const r=n+20;e.firstCreatePass?(i=function Ik(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=pr(i.type)),a=Ds(U);try{const u=pd(!1),h=s();return pd(u),function eP(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,K(),r,h),h}finally{Ds(a)}}function xv(n,t,e){const i=n+20,r=K(),s=gr(r,i);return Rp(r,i)?iT(r,Oi(),t,s.transform,e,s):s.transform(e)}function To(n,t,e,i){const r=n+20,s=K(),a=gr(s,r);return Rp(s,r)?rT(s,Oi(),t,a.transform,e,i,a):a.transform(e,i)}function Mo(n,t,e,i,r){const s=n+20,a=K(),u=gr(a,s);return Rp(a,s)?sT(a,Oi(),t,u.transform,e,i,r,u):u.transform(e,i,r)}function Rp(n,t){return n[1].data[t].pure}function PC(n){return t=>{setTimeout(n,void 0,t)}}const me=class Pk extends Oe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),a=i;if(t&&"object"==typeof t){const h=t;r=h.next?.bind(h),s=h.error?.bind(h),a=h.complete?.bind(h)}this.__isAsync&&(s=PC(s),r&&(r=PC(r)),a&&(a=PC(a)));const u=super.subscribe({next:r,error:s,complete:a});return t instanceof bn&&t.add(u),u}};function Rk(){return this._results[Yd()]()}class RC{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Yd(),i=RC.prototype;i[e]||(i[e]=Rk)}get changes(){return this._changes||(this._changes=new me)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=Yi(t);(this._changesDetected=!function Hg(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let pa=(()=>{class n{}return n.__NG_ELEMENT_ID__=Lk,n})();const kk=pa,Ok=class extends kk{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=ac(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(e)),lc(e,i,t),new xp(i)}};function Lk(){return Pv(sn(),K())}function Pv(n,t){return 4&n.type?new Ok(t,n,ch(n,t)):null}let ds=(()=>{class n{}return n.__NG_ELEMENT_ID__=Nk,n})();function Nk(){return cT(sn(),K())}const Fk=ds,lT=class extends Fk{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ch(this._hostTNode,this._hostLView)}get injector(){return new kl(this._hostTNode,this._hostLView)}get parentInjector(){const t=gd(this._hostTNode,this._hostLView);if(xg(t)){const e=Os(t,this._hostLView),i=Qo(t);return new kl(e[1].data[i+8],e)}return new kl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=uT(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,s){const a=t&&!function Nl(n){return"function"==typeof n}(t);let u;if(a)u=e;else{const y=e||{};u=y.index,i=y.injector,r=y.projectableNodes,s=y.ngModuleRef}const h=a?t:new TC(Vn(t)),f=i||this.parentInjector;if(!s&&null==h.ngModule){const C=(a?f:this.parentInjector).get(dh,null);C&&(s=C)}const m=h.create(f,r,void 0,s);return this.insert(m.hostView,u),m}insert(t,e){const i=t._lView,r=i[1];if(function jh(n){return qi(n[3])}(i)){const m=this.indexOf(t);if(-1!==m)this.detach(m);else{const y=i[3],C=new lT(y,y[6],y[3]);C.detach(C.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;!function gw(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],po(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function mw(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(a,t);const u=t[19];null!==u&&u.insertView(n),t[2]|=128}(r,i,a,s);const u=zf(s,a),h=i[11],f=Bd(h,a[7]);return null!==f&&function hw(n,t,e,i,r,s){i[0]=r,i[6]=t,sc(n,i,e,1,r,s)}(r,a[6],h,i,f,u),t.attachToViewContainerRef(),po(kC(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=uT(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=zl(this._lContainer,e);i&&(wd(kC(this._lContainer),e),Mm(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=zl(this._lContainer,e);return i&&null!=wd(kC(this._lContainer),e)?new xp(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function uT(n){return n[8]}function kC(n){return n[8]||(n[8]=[])}function cT(n,t){let e;const i=t[n.index];if(qi(i))e=i;else{let r;if(8&n.type)r=Ut(i);else{const s=t[11];r=s.createComment("");const a=fi(n,t);oa(s,Bd(s,a),r,function Hd(n,t){return je(n)?n.nextSibling(t):t.nextSibling}(s,a),!1)}t[n.index]=e=av(i,t,r,n),ri(t,e)}return new lT(e,n,t)}class OC{constructor(t){this.queryList=t,this.matches=null}clone(){return new OC(this.queryList)}setDirty(){this.queryList.setDirty()}}class LC{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const a=e.getByIndex(s);r.push(this.queries[a.indexInDeclarationView].clone())}return new LC(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==gT(t,e).matches&&this.queries[e].setDirty()}}class dT{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class NC{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new NC(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class FC{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new FC(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,Hk(e,s)),this.matchTNodeWithReadOption(t,e,_d(e,t,s,!1,!1))}else i===pa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,_d(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===wn||r===ds||r===pa&&4&e.type)this.addMatch(e.index,-2);else{const s=_d(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Hk(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function jk(n,t,e,i){return-1===e?function Uk(n,t){return 11&n.type?ch(n,t):4&n.type?Pv(n,t):null}(t,n):-2===e?function zk(n,t,e){return e===wn?ch(t,n):e===pa?Pv(t,n):e===ds?cT(t,n):void 0}(n,t,i):Rl(n,n[1],e,t)}function hT(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,a=e.matches,u=[];for(let h=0;h<a.length;h+=2){const f=a[h];u.push(f<0?null:jk(t,s[f],a[h+1],e.metadata.read))}r.matches=u}return r.matches}function VC(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const a=hT(n,t,r,e);for(let u=0;u<s.length;u+=2){const h=s[u];if(h>0)i.push(a[u/2]);else{const f=s[u+1],m=t[-h];for(let y=10;y<m.length;y++){const C=m[y];C[17]===C[3]&&VC(C[1],C,f,i)}if(null!==m[9]){const y=m[9];for(let C=0;C<y.length;C++){const S=y[C];VC(S[1],S,f,i)}}}}}return i}function Rv(n){const t=K(),e=Et(),i=Vr();Zh(i+1);const r=gT(e,i);if(n.dirty&&Nr(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?VC(e,t,i,[]):hT(e,t,r,i);n.reset(s,pk),n.notifyOnChanges()}return!0}return!1}function kv(n,t,e){const i=Et();i.firstCreatePass&&(function pT(n,t,e){null===n.queries&&(n.queries=new NC),n.queries.track(new FC(t,e))}(i,new dT(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),function fT(n,t,e){const i=new RC(4==(4&e));Qm(n,t,i,i.destroy),null===t[19]&&(t[19]=new LC),t[19].queries.push(new OC(i))}(i,K(),t)}function Ov(){return function Gk(n,t){return n[19].queries[t].queryList}(K(),Vr())}function gT(n,t){return n.queries.getByIndex(t)}function hs(n,t){return Pv(n,t)}function Fv(...n){}const RT=new rt("Application Initializer");let WC=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Fv,this.reject=Fv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Dv(s))e.push(s);else if(Ab(s)){const a=new Promise((u,h)=>{s.subscribe({complete:u,error:h})});e.push(a)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(z(RT,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Op=new rt("AppId",{providedIn:"root",factory:function kT(){return`${GC()}${GC()}${GC()}`}});function GC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const OT=new rt("Platform Initializer"),ph=new rt("Platform ID"),uO=new rt("appBootstrapListener");let cO=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const js=new rt("LocaleId",{providedIn:"root",factory:()=>Zu(js,Te.Optional|Te.SkipSelf)||function dO(){return typeof $localize<"u"&&$localize.locale||bv}()}),gO=(()=>Promise.resolve(0))();function $C(n){typeof Zone>"u"?gO.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Qt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new me(!1),this.onMicrotaskEmpty=new me(!1),this.onStable=new me(!1),this.onError=new me(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function mO(){let n=Pt.requestAnimationFrame,t=Pt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function yO(n){const t=()=>{!function _O(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,qC(n),n.isCheckStableRunning=!0,ZC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),qC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,a,u)=>{try{return LT(n),e.invokeTask(r,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),NT(n)}},onInvoke:(e,i,r,s,a,u,h)=>{try{return LT(n),e.invoke(r,s,a,u,h)}finally{n.shouldCoalesceRunChangeDetection&&t(),NT(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,qC(n),ZC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+r,t,vO,Fv,Fv);try{return s.runTask(a,e,i)}finally{s.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const vO={};function ZC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function qC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function LT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function NT(n){n._nesting--,ZC(n)}class wO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new me,this.onMicrotaskEmpty=new me,this.onStable=new me,this.onError=new me}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let YC=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qt.assertNotInAngularZone(),$C(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$C(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(z(Qt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),FT=(()=>{class n{constructor(){this._applications=new Map,KC.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return KC.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class CO{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Io,KC=new CO;const VT=new rt("AllowMultipleToken");function BT(n,t,e=[]){const i=`Platform: ${t}`,r=new rt(i);return(s=[])=>{let a=HT();if(!a||a.injector.get(VT,!1))if(n)n(e.concat(s).concat({provide:r,useValue:!0}));else{const u=e.concat(s).concat({provide:r,useValue:!0},{provide:_p,useValue:"platform"});!function EO(n){if(Io&&!Io.destroyed&&!Io.injector.get(VT,!1))throw new ue(400,"");Io=n.get(UT);const t=n.get(OT,null);t&&t.forEach(e=>e())}(D.create({providers:u,name:i}))}return function TO(n){const t=HT();if(!t)throw new ue(401,"");return t}()}}function HT(){return Io&&!Io.destroyed?Io:null}let UT=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const u=function MO(n,t){let e;return e="noop"===n?new wO:("zone.js"===n?void 0:n)||new Qt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!t?.ngZoneEventCoalescing,shouldCoalesceRunChangeDetection:!!t?.ngZoneRunCoalescing}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),h=[{provide:Qt,useValue:u}];return u.run(()=>{const f=D.create({providers:h,parent:this.injector,name:e.moduleType.name}),m=e.create(f),y=m.injector.get(tc,null);if(!y)throw new ue(402,"");return u.runOutsideAngular(()=>{const C=u.onError.subscribe({next:S=>{y.handleError(S)}});m.onDestroy(()=>{XC(this._modules,m),C.unsubscribe()})}),function IO(n,t,e){try{const i=e();return Dv(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(y,u,()=>{const C=m.injector.get(WC);return C.runInitializers(),C.donePromise.then(()=>(function gR(n){ni(n,"Expected localeId to be defined"),"string"==typeof n&&(DE=n.toLowerCase().replace(/_/g,"-"))}(m.injector.get(js,bv)||bv),this._moduleDoBootstrap(m),m))})})}bootstrapModule(e,i=[]){const r=jT({},i);return function SO(n,t,e){const i=new MC(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Vv);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new ue(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(z(D))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function jT(n,t){return Array.isArray(t)?t.reduce(jT,n):{...n,...t}}let Vv=(()=>{class n{constructor(e,i,r,s,a){this._zone=e,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new _t(f=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{f.next(this._stable),f.complete()})}),h=new _t(f=>{let m;this._zone.runOutsideAngular(()=>{m=this._zone.onStable.subscribe(()=>{Qt.assertNotInAngularZone(),$C(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,f.next(!0))})})});const y=this._zone.onUnstable.subscribe(()=>{Qt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),y.unsubscribe()}});this.isStable=Nn(u,h.pipe(Ye()))}bootstrap(e,i){if(!this._initStatus.done)throw new ue(405,"");let r;r=e instanceof ZE?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(r.componentType);const s=function bO(n){return n.isBoundToModule}(r)?void 0:this._injector.get(dh),u=r.create(D.NULL,[],i||r.selector,s),h=u.location.nativeElement,f=u.injector.get(YC,null),m=f&&u.injector.get(FT);return f&&m&&m.registerApplication(h,f),u.onDestroy(()=>{this.detachView(u.hostView),XC(this.components,u),m&&m.unregisterApplication(h)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new ue(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;XC(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(uO,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(z(Qt),z(D),z(tc),z(Ql),z(WC))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let WT=!0,gh=(()=>{class n{}return n.__NG_ELEMENT_ID__=PO,n})();function PO(n){return function RO(n,t,e){if(Es(n)&&!e){const i=mt(n.index,t);return new xp(i,i)}return 47&n.type?new xp(t[16],t):null}(sn(),K(),16==(16&n))}class YT{constructor(){}supports(t){return Cp(t)}create(t){return new VO(t)}}const FO=(n,t)=>t;class VO{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||FO}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const a=!i||e&&e.currentIndex<XT(i,r,s)?e:i,u=XT(a,r,s),h=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)r++;else{s||(s=[]);const f=u-r,m=h-r;if(f!=m){for(let C=0;C<f;C++){const S=C<s.length?s[C]:s[C]=0,T=S+C;m<=T&&T<f&&(s[C]=S+1)}s[a.previousIndex]=m-f}}u!==h&&t(a,u,h)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Cp(t))throw new ue(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let u=0;u<this.length;u++)s=t[u],a=this._trackByFn(u,s),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,s,a,u)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,a,u),i=!0),e=e._next}else r=0,function Qx(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Yd()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,u=>{a=this._trackByFn(r,u),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,u,a,r)),Object.is(e.item,u)||this._addIdentityChange(e,u)):(e=this._mismatch(e,u,a,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new BO(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new KT),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KT),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class BO{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HO{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class KT{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new HO,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function XT(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class QT{constructor(){}supports(t){return t instanceof Map||lC(t)}create(){return new UO}}class UO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||lC(t)))throw new ue(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,a=r._next;return s&&(s._next=a),a&&(a._prev=s),r._next=null,r._prev=null,r}const i=new jO(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class jO{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JT(){return new Uv([new YT])}let Uv=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||JT()),deps:[[n,new Yu,new qu]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new ue(901,"")}}return n.\u0275prov=oe({token:n,providedIn:"root",factory:JT}),n})();function eM(){return new Lp([new QT])}let Lp=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||eM()),deps:[[n,new Yu,new qu]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new ue(901,"")}}return n.\u0275prov=oe({token:n,providedIn:"root",factory:eM}),n})();const GO=BT(null,"core",[{provide:ph,useValue:"unknown"},{provide:UT,deps:[D]},{provide:FT,deps:[]},{provide:cO,deps:[]}]);let $O=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(z(Vv))},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({}),n})(),jv=null;function ga(){return jv}const on=new rt("DocumentToken");let Np=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:function(){return function KO(){return z(tM)}()},providedIn:"platform"}),n})(),tM=(()=>{class n extends Np{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ga().getBaseHref(this._doc)}onPopState(e){const i=ga().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ga().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){nM()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){nM()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(z(on))},n.\u0275prov=oe({token:n,factory:function(){return function XO(){return new tM(z(on))}()},providedIn:"platform"}),n})();function nM(){return!!window.history.pushState}function iM(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function rM(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function vc(n){return n&&"?"!==n[0]?"?"+n:n}let nD=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:function(){return function QO(n){const t=z(on).location;return new eL(z(Np),t&&t.origin||"")}()},providedIn:"root"}),n})();const JO=new rt("appBaseHref");let eL=(()=>{class n extends nD{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return iM(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+vc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const a=this.prepareExternalUrl(r+vc(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){const a=this.prepareExternalUrl(r+vc(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(z(Np),z(JO,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),sM=(()=>{class n{constructor(e,i){this._subject=new me,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=rM(oM(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+vc(i))}normalize(e){return n.stripTrailingSlash(function nL(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,oM(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+vc(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+vc(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){this._platformStrategy.historyGo?.(e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=vc,n.joinWithSlash=iM,n.stripTrailingSlash=rM,n.\u0275fac=function(e){return new(e||n)(z(nD),z(Np))},n.\u0275prov=oe({token:n,factory:function(){return function tL(){return new sM(z(nD),z(Np))}()},providedIn:"root"}),n})();function oM(n){return n.replace(/\/index.html$/,"")}var Xn=(()=>((Xn=Xn||{})[Xn.Zero=0]="Zero",Xn[Xn.One=1]="One",Xn[Xn.Two=2]="Two",Xn[Xn.Few=3]="Few",Xn[Xn.Many=4]="Many",Xn[Xn.Other=5]="Other",Xn))(),jn=(()=>((jn=jn||{})[jn.Format=0]="Format",jn[jn.Standalone=1]="Standalone",jn))(),Dt=(()=>((Dt=Dt||{})[Dt.Narrow=0]="Narrow",Dt[Dt.Abbreviated=1]="Abbreviated",Dt[Dt.Wide=2]="Wide",Dt[Dt.Short=3]="Short",Dt))(),Pn=(()=>((Pn=Pn||{})[Pn.Short=0]="Short",Pn[Pn.Medium=1]="Medium",Pn[Pn.Long=2]="Long",Pn[Pn.Full=3]="Full",Pn))(),Fe=(()=>((Fe=Fe||{})[Fe.Decimal=0]="Decimal",Fe[Fe.Group=1]="Group",Fe[Fe.List=2]="List",Fe[Fe.PercentSign=3]="PercentSign",Fe[Fe.PlusSign=4]="PlusSign",Fe[Fe.MinusSign=5]="MinusSign",Fe[Fe.Exponential=6]="Exponential",Fe[Fe.SuperscriptingExponent=7]="SuperscriptingExponent",Fe[Fe.PerMille=8]="PerMille",Fe[Fe.Infinity=9]="Infinity",Fe[Fe.NaN=10]="NaN",Fe[Fe.TimeSeparator=11]="TimeSeparator",Fe[Fe.CurrencyDecimal=12]="CurrencyDecimal",Fe[Fe.CurrencyGroup=13]="CurrencyGroup",Fe))();function zv(n,t){return Ws(Cr(n)[ce.DateFormat],t)}function Wv(n,t){return Ws(Cr(n)[ce.TimeFormat],t)}function Gv(n,t){return Ws(Cr(n)[ce.DateTimeFormat],t)}function zs(n,t){const e=Cr(n),i=e[ce.NumberSymbols][t];if(typeof i>"u"){if(t===Fe.CurrencyDecimal)return e[ce.NumberSymbols][Fe.Decimal];if(t===Fe.CurrencyGroup)return e[ce.NumberSymbols][Fe.Group]}return i}const uL=function wE(n){return Cr(n)[ce.PluralCase]};function lM(n){if(!n[ce.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[ce.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ws(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function rD(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const gL=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Fp={},mL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ai=(()=>((ai=ai||{})[ai.Short=0]="Short",ai[ai.ShortGMT=1]="ShortGMT",ai[ai.Long=2]="Long",ai[ai.Extended=3]="Extended",ai))(),Ge=(()=>((Ge=Ge||{})[Ge.FullYear=0]="FullYear",Ge[Ge.Month=1]="Month",Ge[Ge.Date=2]="Date",Ge[Ge.Hours=3]="Hours",Ge[Ge.Minutes=4]="Minutes",Ge[Ge.Seconds=5]="Seconds",Ge[Ge.FractionalSeconds=6]="FractionalSeconds",Ge[Ge.Day=7]="Day",Ge))(),ct=(()=>((ct=ct||{})[ct.DayPeriods=0]="DayPeriods",ct[ct.Days=1]="Days",ct[ct.Months=2]="Months",ct[ct.Eras=3]="Eras",ct))();function li(n,t,e,i){let r=function EL(n){if(dM(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,a=1]=n.split("-").map(u=>+u);return $v(r,s-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(gL))return function TL(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,u=Number(n[5]||0)-i,h=Number(n[6]||0),f=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,a,u,h,f),t}(i)}const t=new Date(n);if(!dM(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Na(e,t)||t;let u,a=[];for(;t;){if(u=mL.exec(t),!u){a.push(t);break}{a=a.concat(u.slice(1));const m=a.pop();if(!m)break;t=m}}let h=r.getTimezoneOffset();i&&(h=cM(i,h),r=function bL(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function SL(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(cM(t,r)-r))}(r,i,!0));let f="";return a.forEach(m=>{const y=function DL(n){if(oD[n])return oD[n];let t;switch(n){case"G":case"GG":case"GGG":t=cn(ct.Eras,Dt.Abbreviated);break;case"GGGG":t=cn(ct.Eras,Dt.Wide);break;case"GGGGG":t=cn(ct.Eras,Dt.Narrow);break;case"y":t=Qn(Ge.FullYear,1,0,!1,!0);break;case"yy":t=Qn(Ge.FullYear,2,0,!0,!0);break;case"yyy":t=Qn(Ge.FullYear,3,0,!1,!0);break;case"yyyy":t=Qn(Ge.FullYear,4,0,!1,!0);break;case"Y":t=Kv(1);break;case"YY":t=Kv(2,!0);break;case"YYY":t=Kv(3);break;case"YYYY":t=Kv(4);break;case"M":case"L":t=Qn(Ge.Month,1,1);break;case"MM":case"LL":t=Qn(Ge.Month,2,1);break;case"MMM":t=cn(ct.Months,Dt.Abbreviated);break;case"MMMM":t=cn(ct.Months,Dt.Wide);break;case"MMMMM":t=cn(ct.Months,Dt.Narrow);break;case"LLL":t=cn(ct.Months,Dt.Abbreviated,jn.Standalone);break;case"LLLL":t=cn(ct.Months,Dt.Wide,jn.Standalone);break;case"LLLLL":t=cn(ct.Months,Dt.Narrow,jn.Standalone);break;case"w":t=sD(1);break;case"ww":t=sD(2);break;case"W":t=sD(1,!0);break;case"d":t=Qn(Ge.Date,1);break;case"dd":t=Qn(Ge.Date,2);break;case"c":case"cc":t=Qn(Ge.Day,1);break;case"ccc":t=cn(ct.Days,Dt.Abbreviated,jn.Standalone);break;case"cccc":t=cn(ct.Days,Dt.Wide,jn.Standalone);break;case"ccccc":t=cn(ct.Days,Dt.Narrow,jn.Standalone);break;case"cccccc":t=cn(ct.Days,Dt.Short,jn.Standalone);break;case"E":case"EE":case"EEE":t=cn(ct.Days,Dt.Abbreviated);break;case"EEEE":t=cn(ct.Days,Dt.Wide);break;case"EEEEE":t=cn(ct.Days,Dt.Narrow);break;case"EEEEEE":t=cn(ct.Days,Dt.Short);break;case"a":case"aa":case"aaa":t=cn(ct.DayPeriods,Dt.Abbreviated);break;case"aaaa":t=cn(ct.DayPeriods,Dt.Wide);break;case"aaaaa":t=cn(ct.DayPeriods,Dt.Narrow);break;case"b":case"bb":case"bbb":t=cn(ct.DayPeriods,Dt.Abbreviated,jn.Standalone,!0);break;case"bbbb":t=cn(ct.DayPeriods,Dt.Wide,jn.Standalone,!0);break;case"bbbbb":t=cn(ct.DayPeriods,Dt.Narrow,jn.Standalone,!0);break;case"B":case"BB":case"BBB":t=cn(ct.DayPeriods,Dt.Abbreviated,jn.Format,!0);break;case"BBBB":t=cn(ct.DayPeriods,Dt.Wide,jn.Format,!0);break;case"BBBBB":t=cn(ct.DayPeriods,Dt.Narrow,jn.Format,!0);break;case"h":t=Qn(Ge.Hours,1,-12);break;case"hh":t=Qn(Ge.Hours,2,-12);break;case"H":t=Qn(Ge.Hours,1);break;case"HH":t=Qn(Ge.Hours,2);break;case"m":t=Qn(Ge.Minutes,1);break;case"mm":t=Qn(Ge.Minutes,2);break;case"s":t=Qn(Ge.Seconds,1);break;case"ss":t=Qn(Ge.Seconds,2);break;case"S":t=Qn(Ge.FractionalSeconds,1);break;case"SS":t=Qn(Ge.FractionalSeconds,2);break;case"SSS":t=Qn(Ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=qv(ai.Short);break;case"ZZZZZ":t=qv(ai.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=qv(ai.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=qv(ai.Long);break;default:return null}return oD[n]=t,t}(m);f+=y?y(r,e,h):"''"===m?"'":m.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function $v(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Na(n,t){const e=function iL(n){return Cr(n)[ce.LocaleId]}(n);if(Fp[e]=Fp[e]||{},Fp[e][t])return Fp[e][t];let i="";switch(t){case"shortDate":i=zv(n,Pn.Short);break;case"mediumDate":i=zv(n,Pn.Medium);break;case"longDate":i=zv(n,Pn.Long);break;case"fullDate":i=zv(n,Pn.Full);break;case"shortTime":i=Wv(n,Pn.Short);break;case"mediumTime":i=Wv(n,Pn.Medium);break;case"longTime":i=Wv(n,Pn.Long);break;case"fullTime":i=Wv(n,Pn.Full);break;case"short":const r=Na(n,"shortTime"),s=Na(n,"shortDate");i=Zv(Gv(n,Pn.Short),[r,s]);break;case"medium":const a=Na(n,"mediumTime"),u=Na(n,"mediumDate");i=Zv(Gv(n,Pn.Medium),[a,u]);break;case"long":const h=Na(n,"longTime"),f=Na(n,"longDate");i=Zv(Gv(n,Pn.Long),[h,f]);break;case"full":const m=Na(n,"fullTime"),y=Na(n,"fullDate");i=Zv(Gv(n,Pn.Full),[m,y])}return i&&(Fp[e][t]=i),i}function Zv(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Ao(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.substr(a.length-t)),s+a}function Qn(n,t,e=0,i=!1,r=!1){return function(s,a){let u=function _L(n,t){switch(n){case Ge.FullYear:return t.getFullYear();case Ge.Month:return t.getMonth();case Ge.Date:return t.getDate();case Ge.Hours:return t.getHours();case Ge.Minutes:return t.getMinutes();case Ge.Seconds:return t.getSeconds();case Ge.FractionalSeconds:return t.getMilliseconds();case Ge.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||u>-e)&&(u+=e),n===Ge.Hours)0===u&&-12===e&&(u=12);else if(n===Ge.FractionalSeconds)return function vL(n,t){return Ao(n,3).substr(0,t)}(u,t);const h=zs(a,Fe.MinusSign);return Ao(u,t,h,i,r)}}function cn(n,t,e=jn.Format,i=!1){return function(r,s){return function yL(n,t,e,i,r,s){switch(e){case ct.Months:return function oL(n,t,e){const i=Cr(n),s=Ws([i[ce.MonthsFormat],i[ce.MonthsStandalone]],t);return Ws(s,e)}(t,r,i)[n.getMonth()];case ct.Days:return function sL(n,t,e){const i=Cr(n),s=Ws([i[ce.DaysFormat],i[ce.DaysStandalone]],t);return Ws(s,e)}(t,r,i)[n.getDay()];case ct.DayPeriods:const a=n.getHours(),u=n.getMinutes();if(s){const f=function cL(n){const t=Cr(n);return lM(t),(t[ce.ExtraData][2]||[]).map(i=>"string"==typeof i?rD(i):[rD(i[0]),rD(i[1])])}(t),m=function dL(n,t,e){const i=Cr(n);lM(i);const s=Ws([i[ce.ExtraData][0],i[ce.ExtraData][1]],t)||[];return Ws(s,e)||[]}(t,r,i),y=f.findIndex(C=>{if(Array.isArray(C)){const[S,T]=C,x=a>=S.hours&&u>=S.minutes,R=a<T.hours||a===T.hours&&u<T.minutes;if(S.hours<T.hours){if(x&&R)return!0}else if(x||R)return!0}else if(C.hours===a&&C.minutes===u)return!0;return!1});if(-1!==y)return m[y]}return function rL(n,t,e){const i=Cr(n),s=Ws([i[ce.DayPeriodsFormat],i[ce.DayPeriodsStandalone]],t);return Ws(s,e)}(t,r,i)[a<12?0:1];case ct.Eras:return function aL(n,t){return Ws(Cr(n)[ce.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function qv(n){return function(t,e,i){const r=-1*i,s=zs(e,Fe.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case ai.Short:return(r>=0?"+":"")+Ao(a,2,s)+Ao(Math.abs(r%60),2,s);case ai.ShortGMT:return"GMT"+(r>=0?"+":"")+Ao(a,1,s);case ai.Long:return"GMT"+(r>=0?"+":"")+Ao(a,2,s)+":"+Ao(Math.abs(r%60),2,s);case ai.Extended:return 0===i?"Z":(r>=0?"+":"")+Ao(a,2,s)+":"+Ao(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function uM(n){return $v(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function sD(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+s)/7)}else{const s=uM(e),a=function CL(n){const t=$v(n,0,1).getDay();return $v(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),u=s.getTime()-a.getTime();r=1+Math.round(u/6048e5)}return Ao(r,n,zs(i,Fe.MinusSign))}}function Kv(n,t=!1){return function(e,i){return Ao(uM(e).getFullYear(),n,zs(i,Fe.MinusSign),t)}}const oD={};function cM(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function dM(n){return n instanceof Date&&!isNaN(n.valueOf())}let dD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:function(e){let i=null;return e?i=new e:(r=z(js),i=new FL(r)),i;var r},providedIn:"root"}),n})();let FL=(()=>{class n extends dD{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(uL(i||this.locale)(e)){case Xn.Zero:return"zero";case Xn.One:return"one";case Xn.Two:return"two";case Xn.Few:return"few";case Xn.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(z(js))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function gM(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let ma=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Cp(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${yt(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(U(Uv),U(Lp),U(wn),U($r))},n.\u0275dir=we({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class BL{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jl=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new BL(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const u=i.get(s);i.move(u,a),mM(u,r)}});for(let r=0,s=i.length;r<s;r++){const u=i.get(r).context;u.index=r,u.count=s,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{mM(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(U(ds),U(pa),U(Uv))},n.\u0275dir=we({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function mM(n,t){n.context.$implicit=t.item}let Fa=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new HL,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){vM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){vM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(U(ds),U(pa))},n.\u0275dir=we({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class HL{constructor(){this.$implicit=null,this.ngIf=null}}function vM(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${yt(t)}'.`)}class hD{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Qv=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=we({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),_M=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new hD(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(U(ds),U(pa),U(Qv,9))},n.\u0275dir=we({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Bp=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(U(wn),U(Lp),U($r))},n.\u0275dir=we({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Gs=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(U(ds))},n.\u0275dir=we({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[_n]}),n})();function xo(n,t){return new ue(2100,"")}class zL{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class WL{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const GL=new WL,$L=new zL;let fD=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Dv(e))return GL;if(Ib(e))return $L;throw xo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(U(gh,16))},n.\u0275pipe=Kt({name:"async",type:n,pure:!1}),n})();const JL=/#/g;let pD=(()=>{class n{constructor(e){this._localization=e}transform(e,i,r){if(null==e)return"";if("object"!=typeof i||null===i)throw xo();return i[function pM(n,t,e,i){let r=`=${n}`;if(t.indexOf(r)>-1||(r=e.getPluralCategory(n,i),t.indexOf(r)>-1))return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}(e,Object.keys(i),this._localization,r)].replace(JL,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(U(dD,16))},n.\u0275pipe=Kt({name:"i18nPlural",type:n,pure:!0}),n})(),CM=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw xo();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Kt({name:"slice",type:n,pure:!1}),n})(),mh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({}),n})();const DM="browser";function SM(n){return n===DM}class EM{}class vD extends class dN extends class YO{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function qO(n){jv||(jv=n)}(new vD)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function hN(){return Hp=Hp||document.querySelector("base"),Hp?Hp.getAttribute("href"):null}();return null==e?null:function fN(n){Jv=Jv||document.createElement("a"),Jv.setAttribute("href",n);const t=Jv.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Hp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return gM(document.cookie,t)}}let Jv,Hp=null;const TM=new rt("TRANSITION_ID"),gN=[{provide:RT,useFactory:function pN(n,t,e){return()=>{e.get(WC).donePromise.then(()=>{const i=ga(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[TM,on,D],multi:!0}];class _D{static init(){!function DO(n){KC=n}(new _D)}addToWindow(t){Pt.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Pt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Pt.getAllAngularRootElements=()=>t.getAllRootElements(),Pt.frameworkStabilizers||(Pt.frameworkStabilizers=[]),Pt.frameworkStabilizers.push(i=>{const r=Pt.getAllAngularTestabilities();let s=r.length,a=!1;const u=function(h){a=a||h,s--,0==s&&i(a)};r.forEach(function(h){h.whenStable(u)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?ga().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}}let mN=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const e_=new rt("EventManagerPlugins");let t_=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(z(e_),z(Qt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class MM{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=ga().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let IM=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),Up=(()=>{class n extends IM{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(AM),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(AM))}}return n.\u0275fac=function(e){return new(e||n)(z(on))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function AM(n){ga().remove(n)}const yD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wD=/%COMP%/g;function n_(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?n_(n,r,e):(r=r.replace(wD,n),e.push(r))}return e}function RM(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let i_=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new CD(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case $i.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new DN(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case $i.ShadowDom:return new SN(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=n_(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(z(t_),z(Up),z(Op))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class CD{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(yD[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=yD[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=yD[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(_r.DashCase|_r.Important)?t.style.setProperty(e,i,r&_r.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&_r.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,RM(i)):this.eventManager.addEventListener(t,e,RM(i))}}class DN extends CD{constructor(t,e,i,r){super(t),this.component=i;const s=n_(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function yN(n){return"_ngcontent-%COMP%".replace(wD,n)}(r+"-"+i.id),this.hostAttr=function wN(n){return"_nghost-%COMP%".replace(wD,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class SN extends CD{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=n_(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const u=document.createElement("style");u.textContent=s[a],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let bN=(()=>{class n extends MM{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(z(on))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const OM=["alt","control","meta","shift"],TN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LM={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},MN={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let IN=(()=>{class n extends MM{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ga().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="";if(OM.forEach(h=>{const f=i.indexOf(h);f>-1&&(i.splice(f,1),a+=h+".")}),a+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=r,u.fullKey=a,u}static getEventFullKey(e){let i="",r=function AN(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&LM.hasOwnProperty(t)&&(t=LM[t]))}return TN[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),OM.forEach(s=>{s!=r&&MN[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(z(on))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const kN=BT(GO,"browser",[{provide:ph,useValue:DM},{provide:OT,useValue:function xN(){vD.makeCurrent(),_D.init()},multi:!0},{provide:on,useFactory:function RN(){return function pe(n){Q=n}(document),document},deps:[]}]),ON=[{provide:_p,useValue:"root"},{provide:tc,useFactory:function PN(){return new tc},deps:[]},{provide:e_,useClass:bN,multi:!0,deps:[on,Qt,ph]},{provide:e_,useClass:IN,multi:!0,deps:[on]},{provide:i_,useClass:i_,deps:[t_,Up,Op]},{provide:Ip,useExisting:i_},{provide:IM,useExisting:Up},{provide:Up,useClass:Up,deps:[on]},{provide:YC,useClass:YC,deps:[Qt]},{provide:t_,useClass:t_,deps:[e_,Qt]},{provide:EM,useClass:mN,deps:[]}];let NM=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Op,useValue:e.appId},{provide:TM,useExisting:Op},gN]}}}return n.\u0275fac=function(e){return new(e||n)(z(n,12))},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({providers:ON,imports:[mh,$O]}),n})();typeof window<"u"&&window;const SD={now:()=>(SD.delegate||Date).now(),delegate:void 0};class bD extends Oe{constructor(t=1/0,e=1/0,i=SD){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;e||(i.push(t),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!t.closed;a+=i?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=e.now();let u=0;for(let h=1;h<i.length&&i[h]<=a;h+=2)u=h;u&&i.splice(0,u+1)}}}function Va(n,t){return bt((e,i)=>{let r=null,s=0,a=!1;const u=()=>a&&!r&&i.complete();e.subscribe(Mt(i,h=>{null==r||r.unsubscribe();let f=0;const m=s++;Ti(n(h,m)).subscribe(r=Mt(i,y=>i.next(t?t(h,y,m,f++):y),()=>{r=null,u()}))},()=>{a=!0,u()}))})}const r_={schedule(n,t){const e=setTimeout(n,t);return()=>clearTimeout(e)},scheduleBeforeRender(n){if(typeof window>"u")return r_.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return r_.schedule(n,16);const t=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(t)}};let ED;function JN(n,t,e){let i=e;return function $N(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&t.some((r,s)=>!("*"===r||!function qN(n,t){if(!ED){const e=Element.prototype;ED=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&ED.call(n,t)}(n,r)||(i=s,0))),i}class tF{constructor(t,e){this.componentFactory=e.get(Ql).resolveComponentFactory(t)}create(t){return new nF(this.componentFactory,t)}}class nF{constructor(t,e){this.componentFactory=t,this.injector=e,this.eventEmitters=new bD(1),this.events=this.eventEmitters.pipe(Va(i=>Nn(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(Qt),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(t){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(t)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=r_.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(t){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(t):this.componentRef.instance[t])}setInputValue(t,e){this.runInZone(()=>{null!==this.componentRef?function YN(n,t){return n===t||n!=n&&t!=t}(e,this.getInputValue(t))&&(void 0!==e||!this.unchangedInputs.has(t))||(this.recordInputChange(t,e),this.unchangedInputs.delete(t),this.hasInputChanges=!0,this.componentRef.instance[t]=e,this.scheduleDetectChanges()):this.initialInputValues.set(t,e)})}initializeComponent(t){const e=D.create({providers:[],parent:this.injector}),i=function QN(n,t){const e=n.childNodes,i=t.map(()=>[]);let r=-1;t.some((s,a)=>"*"===s&&(r=a,!0));for(let s=0,a=e.length;s<a;++s){const u=e[s],h=JN(u,t,r);-1!==h&&i[h].push(u)}return i}(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,i,t),this.viewChangeDetectorRef=this.componentRef.injector.get(gh),this.implementsOnChanges=function ZN(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(Vv).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t})=>{this.initialInputValues.has(t)&&this.setInputValue(t,this.initialInputValues.get(t))}),this.initialInputValues.clear()}initializeOutputs(t){const e=this.componentFactory.outputs.map(({propName:i,templateName:r})=>t.instance[i].pipe(lt(a=>({name:r,value:a}))));this.eventEmitters.next(e)}callNgOnChanges(t){if(!this.implementsOnChanges||null===this.inputChanges)return;const e=this.inputChanges;this.inputChanges=null,t.instance.ngOnChanges(e)}markViewForCheck(t){this.hasInputChanges&&(this.hasInputChanges=!1,t.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=r_.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,e){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[t];if(i)return void(i.currentValue=e);const r=this.unchangedInputs.has(t),s=r?void 0:this.getInputValue(t);this.inputChanges[t]=new Cl(s,e,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(t){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t):t()}}class iF extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function BM(n,t){const e=function XN(n,t){return t.get(Ql).resolveComponentFactory(n).inputs}(n,t.injector),i=t.strategyFactory||new tF(n,t.injector),r=function KN(n){const t={};return n.forEach(({propName:e,templateName:i})=>{t[function GN(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}(i)]=e}),t}(e);class s extends iF{constructor(u){super(),this.injector=u}get ngElementStrategy(){if(!this._ngElementStrategy){const u=this._ngElementStrategy=i.create(this.injector||t.injector);e.forEach(({propName:h})=>{if(!this.hasOwnProperty(h))return;const f=this[h];delete this[h],u.setInputValue(h,f)})}return this._ngElementStrategy}attributeChangedCallback(u,h,f,m){this.ngElementStrategy.setInputValue(r[u],f)}connectedCallback(){let u=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),u=!0),this.ngElementStrategy.connect(this),u||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(u=>{const h=new CustomEvent(u.name,{detail:u.value});this.dispatchEvent(h)})}}return s.observedAttributes=Object.keys(r),e.forEach(({propName:a})=>{Object.defineProperty(s.prototype,a,{get(){return this.ngElementStrategy.getInputValue(a)},set(u){this.ngElementStrategy.setInputValue(a,u)},configurable:!0,enumerable:!0})}),s}class HM{}const Ba="*";function UM(n,t=null){return{type:4,styles:t,timings:n}}function jM(n,t=null){return{type:2,steps:n,options:t}}function s_(n){return{type:6,styles:n,offset:null}}function zM(n,t,e){return{type:0,name:n,styles:t,options:e}}function WM(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function GM(n){Promise.resolve(null).then(n)}class jp{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){GM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class $M{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?GM(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,u)=>Math.max(a,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Tt=!1;function ZM(n){return new ue(3e3,Tt)}function BF(){return typeof window<"u"&&typeof window.document<"u"}function MD(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function tu(n){switch(n.length){case 0:return new jp;case 1:return n[0];default:return new $M(n)}}function qM(n,t,e,i,r={},s={}){const a=[],u=[];let h=-1,f=null;if(i.forEach(m=>{const y=m.offset,C=y==h,S=C&&f||{};Object.keys(m).forEach(T=>{let x=T,R=m[T];if("offset"!==T)switch(x=t.normalizePropertyName(x,a),R){case"!":R=r[T];break;case Ba:R=s[T];break;default:R=t.normalizeStyleValue(T,x,R,a)}S[x]=R}),C||u.push(S),f=S,h=y}),a.length)throw function IF(n){return new ue(3502,Tt)}();return u}function ID(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&AD(e,"start",n)));break;case"done":n.onDone(()=>i(e&&AD(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&AD(e,"destroy",n)))}}function AD(n,t,e){const s=xD(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function xD(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function fs(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function YM(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let PD=(n,t)=>!1,KM=(n,t,e)=>[],XM=null;function RD(n){const t=n.parentNode||n.host;return t===XM?null:t}(MD()||typeof Element<"u")&&(BF()?(XM=(()=>document.documentElement)(),PD=(n,t)=>{for(;t;){if(t===n)return!0;t=RD(t)}return!1}):PD=(n,t)=>n.contains(t),KM=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let _c=null,QM=!1;function JM(n){_c||(_c=function UF(){return typeof document<"u"?document.body:null}()||{},QM=!!_c.style&&"WebkitAppearance"in _c.style);let t=!0;return _c.style&&!function HF(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in _c.style,!t&&QM&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in _c.style)),t}const eI=PD,tI=KM;let nI=(()=>{class n{validateStyleProperty(e){return JM(e)}matchesElement(e,i){return!1}containsElement(e,i){return eI(e,i)}getParentElement(e){return RD(e)}query(e,i,r){return tI(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,u=[],h){return new jp(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),kD=(()=>{class n{}return n.NOOP=new nI,n})();const OD="ng-enter",a_="ng-leave",l_="ng-trigger",u_=".ng-trigger",rI="ng-animating",LD=".ng-animating";function yc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ND(parseFloat(t[1]),t[2])}function ND(n,t){return"s"===t?1e3*n:n}function c_(n,t,e){return n.hasOwnProperty("duration")?n:function WF(n,t,e){let r,s=0,a="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(ZM()),{duration:0,delay:0,easing:""};r=ND(parseFloat(u[1]),u[2]);const h=u[3];null!=h&&(s=ND(parseFloat(h),u[4]));const f=u[5];f&&(a=f)}else r=n;if(!e){let u=!1,h=t.length;r<0&&(t.push(function oF(){return new ue(3100,Tt)}()),u=!0),s<0&&(t.push(function aF(){return new ue(3101,Tt)}()),u=!0),u&&t.splice(h,0,ZM())}return{duration:r,delay:s,easing:a}}(n,t,e)}function vh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function nu(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else vh(n,e);return e}function oI(n,t,e){return e?t+":"+e+";":""}function aI(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=oI(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=oI(0,ZF(e),n.style[e]));n.setAttribute("style",t)}function va(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=VD(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),MD()&&aI(n))}function wc(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=VD(e);n.style[i]=""}),MD()&&aI(n))}function zp(n){return Array.isArray(n)?1==n.length?n[0]:jM(n):n}const FD=new RegExp("{{\\s*(.+?)\\s*}}","g");function lI(n){let t=[];if("string"==typeof n){let e;for(;e=FD.exec(n);)t.push(e[1]);FD.lastIndex=0}return t}function d_(n,t,e){const i=n.toString(),r=i.replace(FD,(s,a)=>{let u=t[a];return t.hasOwnProperty(a)||(e.push(function uF(n){return new ue(3003,Tt)}()),u=""),u.toString()});return r==i?n:r}function h_(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const $F=/-+([a-z0-9])/g;function VD(n){return n.replace($F,(...t)=>t[1].toUpperCase())}function ZF(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ps(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function cF(n){return new ue(3004,Tt)}()}}function uI(n,t){return window.getComputedStyle(n)[t]}function JF(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function eV(n,t,e){if(":"==n[0]){const h=function tV(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function bF(n){return new ue(3016,Tt)}()),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function SF(n){return new ue(3015,Tt)}()),t;const r=i[1],s=i[2],a=i[3];t.push(cI(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&t.push(cI(a,r))}(i,e,t)):e.push(n),e}const m_=new Set(["true","1"]),v_=new Set(["false","0"]);function cI(n,t){const e=m_.has(n)||v_.has(n),i=m_.has(t)||v_.has(t);return(r,s)=>{let a="*"==n||n==r,u="*"==t||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?m_.has(n):v_.has(n)),!u&&i&&"boolean"==typeof s&&(u=s?m_.has(t):v_.has(t)),a&&u}}const nV=new RegExp("s*:selfs*,?","g");function BD(n,t,e,i){return new iV(n).build(t,e,i)}class iV{constructor(t){this._driver=t}build(t,e,i){const r=new oV(e);this._resetContextStyleTimingState(r);const s=ps(this,zp(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function hF(){return new ue(3006,Tt)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const h=u,f=h.name;f.toString().split(/\s*,\s*/).forEach(m=>{h.name=m,s.push(this.visitState(h,e))}),h.name=f}else if(1==u.type){const h=this.visitTransition(u,e);i+=h.queryCount,r+=h.depCount,a.push(h)}else e.errors.push(function fF(){return new ue(3007,Tt)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(u=>{if(__(u)){const h=u;Object.keys(h).forEach(f=>{lI(h[f]).forEach(m=>{a.hasOwnProperty(m)||s.add(m)})})}}),s.size&&(h_(s.values()),e.errors.push(function pF(n,t){return new ue(3008,Tt)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ps(this,zp(t.animation),e);return{type:1,matchers:JF(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Cc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ps(this,i,e)),options:Cc(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const u=ps(this,a,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:s,options:Cc(t.options)}}visitAnimate(t,e){const i=function lV(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return HD(c_(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=HD(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||c_(i,t),HD(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:s_({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,u=!1;if(!a){u=!0;const f={};i.easing&&(f.easing=i.easing),a=s_(f)}e.currentTime+=i.duration+i.delay;const h=this.visitStyle(a,e);h.isEmptyStep=u,r=h}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==Ba?i.push(a):e.errors.push(function gF(n){return new ue(3002,Tt)}()):i.push(a)}):i.push(t.styles);let r=!1,s=null;return i.forEach(a=>{if(__(a)){const u=a,h=u.easing;if(h&&(s=h,delete u.easing),!r)for(let f in u)if(u[f].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(u=>{if(!this._driver.validateStyleProperty(u))return delete a[u],void e.unsupportedCSSPropertiesFound.add(u);const h=e.collectedStyles[e.currentQuerySelector],f=h[u];let m=!0;f&&(s!=r&&s>=f.startTime&&r<=f.endTime&&(e.errors.push(function mF(n,t,e,i,r){return new ue(3010,Tt)}()),m=!1),s=f.startTime),m&&(h[u]={startTime:s,endTime:r}),e.options&&function GF(n,t,e){const i=t.params||{},r=lI(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function lF(n){return new ue(3001,Tt)}())})}(a[u],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function vF(){return new ue(3011,Tt)}()),i;let s=0;const a=[];let u=!1,h=!1,f=0;const m=t.steps.map(F=>{const O=this._makeStyleAst(F,e);let G=null!=O.offset?O.offset:function aV(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(__(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(__(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(O.styles),Y=0;return null!=G&&(s++,Y=O.offset=G),h=h||Y<0||Y>1,u=u||Y<f,f=Y,a.push(Y),O});h&&e.errors.push(function _F(){return new ue(3012,Tt)}()),u&&e.errors.push(function yF(){return new ue(3200,Tt)}());const y=t.steps.length;let C=0;s>0&&s<y?e.errors.push(function wF(){return new ue(3202,Tt)}()):0==s&&(C=1/(y-1));const S=y-1,T=e.currentTime,x=e.currentAnimateTimings,R=x.duration;return m.forEach((F,O)=>{const G=C>0?O==S?1:C*O:a[O],Y=G*R;e.currentTime=T+x.delay+Y,x.duration=Y,this._validateStyleAst(F,e),F.offset=G,i.styles.push(F)}),i}visitReference(t,e){return{type:8,animation:ps(this,zp(t.animation),e),options:Cc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Cc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Cc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function rV(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(nV,"")),n=n.replace(/@\*/g,u_).replace(/@\w+/g,e=>u_+"-"+e.substr(1)).replace(/:animating/g,LD),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,fs(e.collectedStyles,e.currentQuerySelector,{});const u=ps(this,zp(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:u,originalSelector:t.selector,options:Cc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function CF(){return new ue(3013,Tt)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:c_(t.timings,e.errors,!0);return{type:12,animation:ps(this,zp(t.animation),e),timings:i,options:null}}}class oV{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function __(n){return!Array.isArray(n)&&"object"==typeof n}function Cc(n){return n?(n=vh(n)).params&&(n.params=function sV(n){return n?vh(n):null}(n.params)):n={},n}function HD(n,t,e){return{duration:n,delay:t,easing:e}}function UD(n,t,e,i,r,s,a=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:u}}class y_{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const dV=new RegExp(":enter","g"),fV=new RegExp(":leave","g");function jD(n,t,e,i,r,s={},a={},u,h,f=[]){return(new pV).buildKeyframes(n,t,e,i,r,s,a,u,h,f)}class pV{buildKeyframes(t,e,i,r,s,a,u,h,f,m=[]){f=f||new y_;const y=new zD(t,e,f,r,s,m,[]);y.options=h,y.currentTimeline.setStyles([a],null,y.errors,h),ps(this,i,y);const C=y.timelines.filter(S=>S.containsAnimation());if(Object.keys(u).length){let S;for(let T=C.length-1;T>=0;T--){const x=C[T];if(x.element===e){S=x;break}}S&&!S.allowOnlyTimelineStyles()&&S.setStyles([u],null,y.errors,h)}return C.length?C.map(S=>S.buildKeyframes()):[UD(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?yc(i.duration):null,u=null!=i.delay?yc(i.delay):null;return 0!==a&&t.forEach(h=>{const f=e.appendInstructionToTimeline(h,a,u);s=Math.max(s,f.duration+f.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),ps(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=w_);const a=yc(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>ps(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?yc(t.options.delay):0;t.steps.forEach(a=>{const u=e.createSubContext(t.options);s&&u.delayNextStep(s),ps(this,a,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return c_(e.params?d_(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,t.styles.forEach(h=>{u.forwardTime((h.offset||0)*s),u.setStyles(h.styles,h.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?yc(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=w_);let a=i;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let h=null;u.forEach((f,m)=>{e.currentQueryIndex=m;const y=e.createSubContext(t.options,f);s&&y.delayNextStep(s),f===e.element&&(h=y.currentTimeline),ps(this,t.animation,y),y.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,y.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),u=a*(e.currentQueryTotal-1);let h=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=u-h;break;case"full":h=i.currentStaggerTime}const m=e.currentTimeline;h&&m.delayNextStep(h);const y=m.currentTime;ps(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-y+(r.startTime-i.currentTimeline.startTime)}}const w_={};class zD{constructor(t,e,i,r,s,a,u,h){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=w_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new C_(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=yc(i.duration)),null!=i.delay&&(r.delay=yc(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(u=>{(!e||!a.hasOwnProperty(u))&&(a[u]=d_(s[u],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new zD(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=w_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new gV(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(dV,"."+this._enterClassName)).replace(fV,"."+this._leaveClassName);let f=this._driver.query(this.element,t,1!=i);0!==i&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),u.push(...f)}return!s&&0==u.length&&a.push(function DF(n){return new ue(3014,Tt)}()),u}}class C_{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new C_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ba,this._currentKeyframe[e]=Ba}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},a=function mV(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=Ba})):nu(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(u=>{const h=d_(a[u],s,i);this._pendingStyles[u]=h,this._localTimelineStyles.hasOwnProperty(u)||(this._backFill[u]=this._globalTimelineStyles.hasOwnProperty(u)?this._globalTimelineStyles[u]:Ba),this._updateStyle(u,h)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,h)=>{const f=nu(u,!0);Object.keys(f).forEach(m=>{const y=f[m];"!"==y?t.add(m):y==Ba&&e.add(m)}),i||(f.offset=h/this.duration),r.push(f)});const s=t.size?h_(t.values()):[],a=e.size?h_(e.values()):[];if(i){const u=r[0],h=vh(u);u.offset=0,h.offset=1,r=[u,h]}return UD(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class gV extends C_{constructor(t,e,i,r,s,a,u=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,u=e/a,h=nu(t[0],!1);h.offset=0,s.push(h);const f=nu(t[0],!1);f.offset=fI(u),s.push(f);const m=t.length-1;for(let y=1;y<=m;y++){let C=nu(t[y],!1);C.offset=fI((e+C.offset*i)/a),s.push(C)}i=a,e=0,r="",t=s}return UD(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function fI(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class WD{}class vV extends WD{normalizePropertyName(t,e){return VD(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if(_V[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function dF(n,t){return new ue(3005,Tt)}())}return a+s}}const _V=(()=>function yV(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function pI(n,t,e,i,r,s,a,u,h,f,m,y,C){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:u,queriedElements:h,preStyleProps:f,postStyleProps:m,totalTime:y,errors:C}}const GD={};class gI{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function wV(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],a=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):a}build(t,e,i,r,s,a,u,h,f,m){const y=[],C=this.ast.options&&this.ast.options.params||GD,T=this.buildStyles(i,u&&u.params||GD,y),x=h&&h.params||GD,R=this.buildStyles(r,x,y),F=new Set,O=new Map,G=new Map,Y="void"===r,re={params:{...C,...x}},Ce=m?[]:jD(t,e,this.ast.animation,s,a,T,R,re,f,y);let Ze=0;if(Ce.forEach(De=>{Ze=Math.max(De.duration+De.delay,Ze)}),y.length)return pI(e,this._triggerName,i,r,Y,T,R,[],[],O,G,Ze,y);Ce.forEach(De=>{const be=De.element,de=fs(O,be,{});De.preStyleProps.forEach(ht=>de[ht]=!0);const ie=fs(G,be,{});De.postStyleProps.forEach(ht=>ie[ht]=!0),be!==e&&F.add(be)});const Ve=h_(F.values());return pI(e,this._triggerName,i,r,Y,T,R,Ce,Ve,O,G,Ze)}}class CV{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=vh(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!=a&&(r[s]=a)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const a=s;Object.keys(a).forEach(u=>{let h=a[u];h.length>1&&(h=d_(h,r,e));const f=this.normalizer.normalizePropertyName(u,e);h=this.normalizer.normalizeStyleValue(u,f,h,e),i[f]=h})}}),i}}class SV{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new CV(r.style,r.options&&r.options.params||{},i)}),mI(this.states,"true","1"),mI(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new gI(t,r,this.states))}),this.fallbackTransition=function bV(n,t,e){return new gI(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function mI(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const EV=new y_;class TV{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=BD(this._driver,e,i,[]);if(i.length)throw function AF(n){return new ue(3503,Tt)}();this._animations[t]=s}_buildPlayer(t,e,i){const r=t.element,s=qM(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let a;const u=new Map;if(s?(a=jD(this._driver,e,s,OD,a_,{},{},i,EV,r),a.forEach(m=>{const y=fs(u,m.element,{});m.postStyleProps.forEach(C=>y[C]=null)})):(r.push(function xF(){return new ue(3300,Tt)}()),a=[]),r.length)throw function PF(n){return new ue(3504,Tt)}();u.forEach((m,y)=>{Object.keys(m).forEach(C=>{m[C]=this._driver.computeStyle(y,C,Ba)})});const f=tu(a.map(m=>{const y=u.get(m.element);return this._buildPlayer(m,{},y)}));return this._playersById[t]=f,f.onDestroy(()=>this.destroy(t)),this.players.push(f),f}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function RF(n){return new ue(3301,Tt)}();return e}listen(t,e,i,r){const s=xD(e,"","","");return ID(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const vI="ng-animate-queued",$D="ng-animate-disabled",PV=[],_I={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},RV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$s="__ng_removed";class ZD{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function NV(n){return n??null}(i?t.value:t),i){const s=vh(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Wp="void",qD=new ZD(Wp);class kV{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Zs(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function kF(n,t){return new ue(3302,Tt)}();if(null==i||0==i.length)throw function OF(n){return new ue(3303,Tt)}();if(!function FV(n){return"start"==n||"done"==n}(i))throw function LF(n,t){return new ue(3400,Tt)}();const s=fs(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const u=fs(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(Zs(t,l_),Zs(t,l_+"-"+e),u[e]=qD),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(a);h>=0&&s.splice(h,1),this._triggers[e]||delete u[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function NF(n){return new ue(3401,Tt)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new YD(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(Zs(t,l_),Zs(t,l_+"-"+e),this._engine.statesByElement.set(t,u={}));let h=u[e];const f=new ZD(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&f.absorbOptions(h.options),u[e]=f,h||(h=qD),f.value!==Wp&&h.value===f.value){if(!function HV(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(h.params,f.params)){const x=[],R=s.matchStyles(h.value,h.params,x),F=s.matchStyles(f.value,f.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{wc(t,R),va(t,F)})}return}const C=fs(this._engine.playersByElement,t,[]);C.forEach(x=>{x.namespaceId==this.id&&x.triggerName==e&&x.queued&&x.destroy()});let S=s.matchTransition(h.value,f.value,t,f.params),T=!1;if(!S){if(!r)return;S=s.fallbackTransition,T=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:S,fromState:h,toState:f,player:a,isFallbackTransition:T}),T||(Zs(t,vI),a.onStart(()=>{_h(t,vI)})),a.onDone(()=>{let x=this.players.indexOf(a);x>=0&&this.players.splice(x,1);const R=this._engine.playersByElement.get(t);if(R){let F=R.indexOf(a);F>=0&&R.splice(F,1)}}),this.players.push(a),C.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,u_,!0);i.forEach(r=>{if(r[$s])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const u=[];if(Object.keys(s).forEach(h=>{if(a.set(h,s[h].value),this._triggers[h]){const f=this.trigger(t,h,Wp,r);f&&u.push(f)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&tu(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const h=this._triggers[a].fallbackTransition,f=i[a]||qD,m=new ZD(Wp),y=new YD(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:h,fromState:f,toState:m,player:y,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[$s];(!s||s===_I)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Zs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(u=>{if(u.name==i.triggerName){const h=xD(s,i.triggerName,i.fromState.value,i.toState.value);h._data=t,ID(i.player,u.phase,h,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class OV{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new kV(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let a=!1;if(void 0!==this.driver.getParentElement){let u=this.driver.getParentElement(e);for(;u;){const h=r.get(u);if(h){const f=i.indexOf(h);i.splice(f+1,0,t),a=!0;break}u=this.driver.getParentElement(u)}}else for(let u=s;u>=0;u--)if(this.driver.containsElement(i[u].hostElement,e)){i.splice(u+1,0,t),a=!0;break}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const a=i[r[s]].namespaceId;if(a){const u=this._fetchNamespace(a);u&&e.add(u)}}}return e}trigger(t,e,i,r){if(D_(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!D_(e))return;const s=e[$s];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Zs(t,$D)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),_h(t,$D))}removeNode(t,e,i,r){if(D_(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[$s]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return D_(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,u_,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,LD,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return tu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[$s];if(e&&e.setForRemoval){if(t[$s]=_I,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains($D)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Zs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?tu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function FF(n){return new ue(3402,Tt)}()}_flushAnimations(t,e){const i=new y_,r=[],s=new Map,a=[],u=new Map,h=new Map,f=new Map,m=new Set;this.disabledNodes.forEach(le=>{m.add(le);const Se=this.driver.query(le,".ng-animate-queued",!0);for(let xe=0;xe<Se.length;xe++)m.add(Se[xe])});const y=this.bodyNode,C=Array.from(this.statesByElement.keys()),S=CI(C,this.collectedEnterElements),T=new Map;let x=0;S.forEach((le,Se)=>{const xe=OD+x++;T.set(Se,xe),le.forEach(St=>Zs(St,xe))});const R=[],F=new Set,O=new Set;for(let le=0;le<this.collectedLeaveElements.length;le++){const Se=this.collectedLeaveElements[le],xe=Se[$s];xe&&xe.setForRemoval&&(R.push(Se),F.add(Se),xe.hasAnimation?this.driver.query(Se,".ng-star-inserted",!0).forEach(St=>F.add(St)):O.add(Se))}const G=new Map,Y=CI(C,Array.from(F));Y.forEach((le,Se)=>{const xe=a_+x++;G.set(Se,xe),le.forEach(St=>Zs(St,xe))}),t.push(()=>{S.forEach((le,Se)=>{const xe=T.get(Se);le.forEach(St=>_h(St,xe))}),Y.forEach((le,Se)=>{const xe=G.get(Se);le.forEach(St=>_h(St,xe))}),R.forEach(le=>{this.processLeaveNode(le)})});const re=[],Ce=[];for(let le=this._namespaceList.length-1;le>=0;le--)this._namespaceList[le].drainQueuedTransitions(e).forEach(xe=>{const St=xe.player,Rt=xe.element;if(re.push(St),this.collectedEnterElements.length){const Mr=Rt[$s];if(Mr&&Mr.setForMove){if(Mr.previousTriggersValues&&Mr.previousTriggersValues.has(xe.triggerName)){const Pc=Mr.previousTriggersValues.get(xe.triggerName),cu=this.statesByElement.get(xe.element);cu&&cu[xe.triggerName]&&(cu[xe.triggerName].value=Pc)}return void St.destroy()}}const Sn=!y||!this.driver.containsElement(y,Rt),bi=G.get(Rt),qs=T.get(Rt),ln=this._buildInstruction(xe,i,qs,bi,Sn);if(ln.errors&&ln.errors.length)return void Ce.push(ln);if(Sn)return St.onStart(()=>wc(Rt,ln.fromStyles)),St.onDestroy(()=>va(Rt,ln.toStyles)),void r.push(St);if(xe.isFallbackTransition)return St.onStart(()=>wc(Rt,ln.fromStyles)),St.onDestroy(()=>va(Rt,ln.toStyles)),void r.push(St);const yg=[];ln.timelines.forEach(Mr=>{Mr.stretchStartingKeyframe=!0,this.disabledNodes.has(Mr.element)||yg.push(Mr)}),ln.timelines=yg,i.append(Rt,ln.timelines),a.push({instruction:ln,player:St,element:Rt}),ln.queriedElements.forEach(Mr=>fs(u,Mr,[]).push(St)),ln.preStyleProps.forEach((Mr,Pc)=>{const cu=Object.keys(Mr);if(cu.length){let Rc=h.get(Pc);Rc||h.set(Pc,Rc=new Set),cu.forEach(_S=>Rc.add(_S))}}),ln.postStyleProps.forEach((Mr,Pc)=>{const cu=Object.keys(Mr);let Rc=f.get(Pc);Rc||f.set(Pc,Rc=new Set),cu.forEach(_S=>Rc.add(_S))})});if(Ce.length){const le=[];Ce.forEach(Se=>{le.push(function VF(n,t){return new ue(3505,Tt)}())}),re.forEach(Se=>Se.destroy()),this.reportError(le)}const Ze=new Map,Ve=new Map;a.forEach(le=>{const Se=le.element;i.has(Se)&&(Ve.set(Se,Se),this._beforeAnimationBuild(le.player.namespaceId,le.instruction,Ze))}),r.forEach(le=>{const Se=le.element;this._getPreviousPlayers(Se,!1,le.namespaceId,le.triggerName,null).forEach(St=>{fs(Ze,Se,[]).push(St),St.destroy()})});const De=R.filter(le=>SI(le,h,f)),be=new Map;wI(be,this.driver,O,f,Ba).forEach(le=>{SI(le,h,f)&&De.push(le)});const ie=new Map;S.forEach((le,Se)=>{wI(ie,this.driver,new Set(le),h,"!")}),De.forEach(le=>{const Se=be.get(le),xe=ie.get(le);be.set(le,{...Se,...xe})});const ht=[],dt=[],Tr={};a.forEach(le=>{const{element:Se,player:xe,instruction:St}=le;if(i.has(Se)){if(m.has(Se))return xe.onDestroy(()=>va(Se,St.toStyles)),xe.disabled=!0,xe.overrideTotalTime(St.totalTime),void r.push(xe);let Rt=Tr;if(Ve.size>1){let bi=Se;const qs=[];for(;bi=bi.parentNode;){const ln=Ve.get(bi);if(ln){Rt=ln;break}qs.push(bi)}qs.forEach(ln=>Ve.set(ln,Rt))}const Sn=this._buildAnimation(xe.namespaceId,St,Ze,s,ie,be);if(xe.setRealPlayer(Sn),Rt===Tr)ht.push(xe);else{const bi=this.playersByElement.get(Rt);bi&&bi.length&&(xe.parentPlayer=tu(bi)),r.push(xe)}}else wc(Se,St.fromStyles),xe.onDestroy(()=>va(Se,St.toStyles)),dt.push(xe),m.has(Se)&&r.push(xe)}),dt.forEach(le=>{const Se=s.get(le.element);if(Se&&Se.length){const xe=tu(Se);le.setRealPlayer(xe)}}),r.forEach(le=>{le.parentPlayer?le.syncPlayerEvents(le.parentPlayer):le.destroy()});for(let le=0;le<R.length;le++){const Se=R[le],xe=Se[$s];if(_h(Se,a_),xe&&xe.hasAnimation)continue;let St=[];if(u.size){let Sn=u.get(Se);Sn&&Sn.length&&St.push(...Sn);let bi=this.driver.query(Se,LD,!0);for(let qs=0;qs<bi.length;qs++){let ln=u.get(bi[qs]);ln&&ln.length&&St.push(...ln)}}const Rt=St.filter(Sn=>!Sn.destroyed);Rt.length?VV(this,Se,Rt):this.processLeaveNode(Se)}return R.length=0,ht.forEach(le=>{this.players.push(le),le.onDone(()=>{le.destroy();const Se=this.players.indexOf(le);this.players.splice(Se,1)}),le.play()}),ht}elementContainsData(t,e){let i=!1;const r=e[$s];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(a=u)}else{const u=this.playersByElement.get(t);if(u){const h=!s||s==Wp;u.forEach(f=>{f.queued||!h&&f.triggerName!=r||a.push(f)})}}return(i||r)&&(a=a.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const f=h.element,m=f!==s,y=fs(i,f,[]);this._getPreviousPlayers(f,m,a,u,e.toState).forEach(S=>{const T=S.getRealPlayer();T.beforeDestroy&&T.beforeDestroy(),S.destroy(),y.push(S)})}wc(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const u=e.triggerName,h=e.element,f=[],m=new Set,y=new Set,C=e.timelines.map(T=>{const x=T.element;m.add(x);const R=x[$s];if(R&&R.removedBeforeQueried)return new jp(T.duration,T.delay);const F=x!==h,O=function BV(n){const t=[];return DI(n,t),t}((i.get(x)||PV).map(Ze=>Ze.getRealPlayer())).filter(Ze=>!!Ze.element&&Ze.element===x),G=s.get(x),Y=a.get(x),re=qM(0,this._normalizer,0,T.keyframes,G,Y),Ce=this._buildPlayer(T,re,O);if(T.subTimeline&&r&&y.add(x),F){const Ze=new YD(t,u,x);Ze.setRealPlayer(Ce),f.push(Ze)}return Ce});f.forEach(T=>{fs(this.playersByQueriedElement,T.element,[]).push(T),T.onDone(()=>function LV(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,T.element,T))}),m.forEach(T=>Zs(T,rI));const S=tu(C);return S.onDestroy(()=>{m.forEach(T=>_h(T,rI)),va(h,e.toStyles)}),y.forEach(T=>{fs(r,T,[]).push(S)}),S}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new jp(t.duration,t.delay)}}class YD{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new jp,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>ID(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){fs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function D_(n){return n&&1===n.nodeType}function yI(n,t){const e=n.style.display;return n.style.display=t??"none",e}function wI(n,t,e,i,r){const s=[];e.forEach(h=>s.push(yI(h)));const a=[];i.forEach((h,f)=>{const m={};h.forEach(y=>{const C=m[y]=t.computeStyle(f,y,r);(!C||0==C.length)&&(f[$s]=RV,a.push(f))}),n.set(f,m)});let u=0;return e.forEach(h=>yI(h,s[u++])),a}function CI(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const r=new Set(t),s=new Map;function a(u){if(!u)return 1;let h=s.get(u);if(h)return h;const f=u.parentNode;return h=e.has(f)?f:r.has(f)?1:a(f),s.set(u,h),h}return t.forEach(u=>{const h=a(u);1!==h&&e.get(h).push(u)}),e}function Zs(n,t){n.classList?.add(t)}function _h(n,t){n.classList?.remove(t)}function VV(n,t,e){tu(e).onDone(()=>n.processLeaveNode(t))}function DI(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof $M?DI(i.players,t):t.push(i)}}function SI(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class S_{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new OV(t,e,i),this._timelineEngine=new TV(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let u=this._triggerCache[a];if(!u){const h=[],m=BD(this._driver,s,h,[]);if(h.length)throw function MF(n,t){return new ue(3404,Tt)}();u=function DV(n,t,e){return new SV(n,t,e)}(r,m,this._normalizer),this._triggerCache[a]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=YM(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,u]=YM(i);return this._timelineEngine.listen(a,e,u,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let jV=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&va(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(va(this._element,this._initialStyles),this._endStyles&&(va(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(wc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wc(this._element,this._endStyles),this._endStyles=null),va(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function KD(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];zV(r)&&(t=t||{},t[r]=n[r])}return t}function zV(n){return"display"===n||"position"===n}class bI{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:uI(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class WV{validateStyleProperty(t){return JM(t)}matchesElement(t,e){return!1}containsElement(t,e){return eI(t,e)}getParentElement(t){return RD(t)}query(t,e,i){return tI(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,a=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(h.easing=s);const f={},m=a.filter(C=>C instanceof bI);(function qF(n,t){return 0===n||0===t})(i,r)&&m.forEach(C=>{let S=C.currentSnapshot;Object.keys(S).forEach(T=>f[T]=S[T])}),e=function YF(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],a=[];if(i.forEach(u=>{s.hasOwnProperty(u)||a.push(u),s[u]=e[u]}),a.length)for(var r=1;r<t.length;r++){let u=t[r];a.forEach(function(h){u[h]=uI(n,h)})}}return t}(t,e=e.map(C=>nu(C,!1)),f);const y=function UV(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=KD(t[0]),t.length>1&&(i=KD(t[t.length-1]))):t&&(e=KD(t)),e||i?new jV(n,e,i):null}(t,e);return new bI(t,e,h,y)}}let GV=(()=>{class n extends HM{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:$i.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?jM(e):e;return EI(this._renderer,null,i,"register",[r]),new $V(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(z(Ip),z(on))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class $V extends class rF{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ZV(this._id,t,e||{},this._renderer)}}class ZV{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return EI(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function EI(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const TI="@.disabled";let qV=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const u=a?.parentNode(s);u&&a.removeChild(u,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let m=this._rendererCache.get(s);return m||(m=new MI("",s,this.engine),this._rendererCache.set(s,m)),m}const a=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const h=m=>{Array.isArray(m)?m.forEach(h):this.engine.registerTrigger(a,u,e,m.name,m)};return i.data.animation.forEach(h),new YV(this,u,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,u]=s;a(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(z(Ip),z(S_),z(Qt))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class MI{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==TI?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class YV extends MI{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==TI?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function KV(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),a="";return"@"!=s.charAt(0)&&([s,a]=function XV(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(t,e,i)}}let QV=(()=>{class n extends S_{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(z(on),z(kD),z(WD))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const II=new rt("AnimationModuleType"),AI=[{provide:HM,useClass:GV},{provide:WD,useFactory:function JV(){return new vV}},{provide:S_,useClass:QV},{provide:Ip,useFactory:function e2(n,t,e){return new qV(n,t,e)},deps:[i_,S_,Qt]}],xI=[{provide:kD,useFactory:()=>new WV},{provide:II,useValue:"BrowserAnimations"},...AI],t2=[{provide:kD,useClass:nI},{provide:II,useValue:"NoopAnimations"},...AI];let n2=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?t2:xI}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({providers:xI,imports:[NM]}),n})();function Ha(...n){return _s(n,Bo(n))}class r2 extends bn{constructor(t,e){super()}schedule(t,e=0){return this}}const E_={setInterval(n,t,...e){const{delegate:i}=E_;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=E_;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class XD extends r2{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return E_.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;E_.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,At(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}class Gp{constructor(t,e=Gp.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Gp.now=SD.now;class QD extends Gp{constructor(t,e=Gp.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const T_=new QD(XD),s2=T_;function M_(n=0,t,e=s2){let i=-1;return null!=t&&(Gc(t)?e=t:i=t),new _t(r=>{let s=function o2(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}class yh extends Oe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function PI(n=0,t=T_){return n<0&&(n=0),M_(n,n,t)}function Ua(n){return bt((t,e)=>{Ti(n).subscribe(Mt(e,()=>e.complete(),qr)),!e.closed&&t.subscribe(e)})}function RI(...n){return function a2(){return Su(1)}()(_s(n,Bo(n)))}function kI(...n){const t=Bo(n);return bt((e,i)=>{(t?RI(n,e,t):RI(n,e)).subscribe(i)})}var u2=function(){function n(){}return n.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},n.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},n.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},n.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},n.prototype.position=function(t,e){void 0===e&&(e=!0);var i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i={top:(i=t.getBoundingClientRect()).top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var s=this.offsetParent(t);i=this.offset(t,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},n.prototype.offset=function(t,e){void 0===e&&(e=!0);var i=t.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s},n.prototype.positionElements=function(t,e,i,r){var s=i.split("-"),a=s[0],u=void 0===a?"top":a,h=s[1],f=void 0===h?"center":h,m=r?this.offset(t,!1):this.position(t,!1),y=this.getAllStyles(e),C=parseFloat(y.marginTop),S=parseFloat(y.marginBottom),T=parseFloat(y.marginLeft),x=parseFloat(y.marginRight),R=0,F=0;switch(u){case"top":R=m.top-(e.offsetHeight+C+S);break;case"bottom":R=m.top+m.height;break;case"left":F=m.left-(e.offsetWidth+T+x);break;case"right":F=m.left+m.width}switch(f){case"top":R=m.top;break;case"bottom":R=m.top+m.height-e.offsetHeight;break;case"left":F=m.left;break;case"right":F=m.left+m.width-e.offsetWidth;break;case"center":"top"===u||"bottom"===u?F=m.left+m.width/2-e.offsetWidth/2:R=m.top+m.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(F)+"px, "+Math.round(R)+"px)";var O=e.getBoundingClientRect(),G=document.documentElement,Y=window.innerHeight||G.clientHeight,re=window.innerWidth||G.clientWidth;return O.left>=0&&O.top>=0&&O.right<=re&&O.bottom<=Y},n}(),c2=/\s+/,OI=new u2,Po=function(){return Po=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Po.apply(this,arguments)},LI=function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;var i=Array(n),r=0;for(t=0;t<e;t++)for(var s=arguments[t],a=0,u=s.length;a<u;a++,r++)i[r]=s[a];return i},$p=(()=>{return(n=$p||($p={}))[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",$p;var n})(),h2=[$p.SUNDAY,$p.SATURDAY],iu=86400;function NI(n,t){var e=t.startDate,r=t.excluded,s=t.precision;if(r.length<1)return 0;for(var u=n.getDay,h=n.addDays,f=(0,n.addSeconds)(e,t.seconds-1),m=u(e),y=u(f),C=0,S=e,T=function(){var x=u(S);r.some(function(R){return R===x})&&(C+=function f2(n,t){var i=t.day,s=t.dayEnd,a=t.startDate,u=t.endDate,h=n.differenceInSeconds,m=n.startOfDay;if("minutes"===t.precision){if(i===t.dayStart)return h((0,n.endOfDay)(a),a)+1;if(i===s)return h(u,m(u))+1}return iu}(n,{dayStart:m,dayEnd:y,day:x,precision:s,startDate:e,endDate:f})),S=h(S,1)};S<f;)T();return C}function Zp(n,t){var i=t.periodStart,r=t.periodEnd;return t.events.filter(function(s){return function m2(n,t){var e=t.event,i=t.periodStart,r=t.periodEnd,s=n.isSameSecond,a=e.start,u=e.end||e.start;return!!(a>i&&a<r||u>i&&u<r||a<i&&u>r||s(a,i)||s(a,r)||s(u,i)||s(u,r))}(n,{event:s,periodStart:i,periodEnd:r})})}function FI(n,t){var e=t.date,i=t.weekendDays,r=void 0===i?h2:i,a=n.isSameDay,u=n.getDay,h=(0,n.startOfDay)(new Date),f=u(e);return{date:e,day:f,isPast:e<h,isToday:a(e,h),isFuture:e>h,isWeekend:r.indexOf(f)>-1}}function t0(n,t){for(var r=t.excluded,s=void 0===r?[]:r,a=t.weekendDays,u=t.viewStart,h=void 0===u?n.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):u,f=t.viewEnd,m=void 0===f?n.addDays(h,7):f,y=n.addDays,C=n.getDay,S=[],T=h;T<m;)s.some(function(x){return C(T)===x})||S.push(FI(n,{date:T,weekendDays:a})),T=y(T,1);return S}function _2(n,t){var e=t.events,i=void 0===e?[]:e,r=t.excluded,s=void 0===r?[]:r,a=t.precision,u=void 0===a?"days":a,h=t.absolutePositionedEvents,f=void 0!==h&&h,m=t.viewStart,y=t.viewEnd;m=n.startOfDay(m),y=n.endOfDay(y);var C=n.differenceInSeconds,S=n.differenceInDays,T=function v2(n,t){for(var i=t.date2,r=t.excluded,s=t.date1,a=0;s<i;)-1===r.indexOf(n.getDay(s))&&a++,s=n.addDays(s,1);return a}(n,{date1:m,date2:y,excluded:s}),x=S(y,m)+1,R=i.filter(function(G){return G.allDay}).map(function(G){var Y=function g2(n,t){var e=t.event,i=t.startOfWeek,r=t.excluded,s=t.precision,a=n.differenceInDays,u=n.startOfDay,h=n.differenceInSeconds;if(e.start<i)return 0;var f=0;switch(s){case"days":f=a(u(e.start),i)*iu;break;case"minutes":f=h(e.start,i)}return f-=NI(n,{startDate:i,seconds:f,excluded:r,precision:s}),Math.abs(f/iu)}(n,{event:G,startOfWeek:m,excluded:s,precision:u}),re=function p2(n,t){var e=t.event,i=t.offset,s=t.excluded,a=t.precision,u=t.totalDaysInView,f=n.differenceInSeconds,m=n.addDays,y=n.endOfDay,C=n.differenceInDays,S=iu,T=(0,n.max)([e.start,t.startOfWeekDate]);e.end&&(S="minutes"===a?f(e.end,T):C(m(y(e.end),1),T)*iu);var x=i*iu,F=u*iu;return x+S>F&&(S=F-x),(S-=NI(n,{startDate:T,seconds:S,excluded:s,precision:a}))/iu}(n,{event:G,offset:Y,startOfWeekDate:m,excluded:s,precision:u,totalDaysInView:x});return{event:G,offset:Y,span:re}}).filter(function(G){return G.offset<T}).filter(function(G){return G.span>0}).map(function(G){return{event:G.event,offset:G.offset,span:G.span,startsBeforeWeek:G.event.start<m,endsAfterWeek:(G.event.end||G.event.start)>y}}).sort(function(G,Y){var re=C(G.event.start,Y.event.start);return 0===re?C(Y.event.end||Y.event.start,G.event.end||G.event.start):re}),F=[],O=[];return R.forEach(function(G,Y){if(-1===O.indexOf(G)){O.push(G);var re=G.span+G.offset,Ce=R.slice(Y+1).filter(function(De){if(De.offset>=re&&re+De.span<=x&&-1===O.indexOf(De)){var be=De.offset-re;return f||(De.offset=be),re+=De.span+be,O.push(De),!0}}),Ze=LI([G],Ce),Ve=Ze.filter(function(De){return De.event.id}).map(function(De){return De.event.id}).join("-");F.push(Po({row:Ze},Ve?{id:Ve}:{}))}}),F}function y2(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.hourDuration,a=t.dayStart,u=t.dayEnd,h=t.weekStartsOn,f=t.excluded,m=t.weekendDays,y=t.segmentHeight,C=t.viewStart,S=t.viewEnd,T=t.minimumEventHeight,x=function S2(n,t){var e=t.viewDate,i=t.hourSegments,r=t.hourDuration,s=t.dayStart,a=t.dayEnd,u=n.setMinutes,h=n.setHours,f=n.startOfDay,m=n.startOfMinute,y=n.endOfDay,C=n.addMinutes,T=n.addDays,x=[],R=u(h(f(e),x_(s.hour)),P_(s.minute)),F=u(h(m(y(e)),x_(a.hour)),P_(a.minute)),O=(r||60)/i,G=f(e),Y=y(e),re=function(de){return de};n.getTimezoneOffset(G)!==n.getTimezoneOffset(Y)&&(G=T(G,1),R=T(R,1),F=T(F,1),re=function(de){return T(de,-1)});for(var Ce=r?1440/r:60,Ze=0;Ze<Ce;Ze++){for(var Ve=[],De=0;De<i;De++){var be=C(C(R,Ze*(r||60)),De*O);be>=R&&be<F&&Ve.push({date:re(be),displayDate:be,isStart:0===De})}Ve.length>0&&x.push({segments:Ve})}return x}(n,{viewDate:i,hourSegments:r,hourDuration:s,dayStart:a,dayEnd:u}),R=t0(n,{viewDate:i,weekStartsOn:h,excluded:f,weekendDays:m,viewStart:C,viewEnd:S}),F=n.setHours,O=n.setMinutes,G=n.getHours,Y=n.getMinutes;return R.map(function(re){var Ce=function D2(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.dayStart,a=t.dayEnd,u=t.eventWidth,h=t.segmentHeight,f=t.hourDuration,m=t.minimumEventHeight,y=n.setMinutes,C=n.setHours,S=n.startOfDay,T=n.startOfMinute,x=n.endOfDay,R=n.differenceInMinutes,F=y(C(S(i),x_(s.hour)),P_(s.minute)),O=y(C(T(x(i)),x_(a.hour)),P_(a.minute));O.setSeconds(59,999);var G=[],Y=Zp(n,{events:e.filter(function(Ve){return!Ve.allDay}),periodStart:F,periodEnd:O}),re=Y.sort(function(Ve,De){return Ve.start.valueOf()-De.start.valueOf()}).map(function(Ve){var De=Ve.start,be=Ve.end||De,de=De<F,ie=be>O,ht=r*h/(f||60),dt=0;if(De>F){var Tr=n.getTimezoneOffset(De),Se=n.getTimezoneOffset(F)-Tr;dt+=R(De,F)+Se}dt*=ht,dt=Math.floor(dt);var xe=de?F:De,St=ie?O:be,Rt=n.getTimezoneOffset(xe)-n.getTimezoneOffset(St),Sn=R(St,xe)+Rt;Ve.end?Sn*=ht:Sn=h,m&&Sn<m&&(Sn=m),Sn=Math.floor(Sn);for(var qs=A_(G,dt,dt+Sn),ln=0;qs.some(function(vS){return vS.left===ln});)ln+=u;var yg={event:Ve,height:Sn,width:u,top:dt,left:ln,startsBeforeDay:de,endsAfterDay:ie};return G.push(yg),yg}),Ce=Math.max.apply(Math,re.map(function(Ve){return Ve.left+Ve.width})),Ze=Zp(n,{events:e.filter(function(Ve){return Ve.allDay}),periodStart:S(F),periodEnd:x(O)});return{events:re,width:Ce,allDayEvents:Ze,period:{events:Y,start:F,end:O}}}(n,{events:e,viewDate:re.date,hourSegments:r,dayStart:a,dayEnd:u,segmentHeight:y,eventWidth:1,hourDuration:s,minimumEventHeight:T}),Ze=x.map(function(be){var de=be.segments.map(function(ie){var ht=O(F(re.date,G(ie.date)),Y(ie.date));return Po(Po({},ie),{date:ht})});return Po(Po({},be),{segments:de})});function Ve(be,de){var ie=Math.max.apply(Math,de.map(function(dt){return dt.left+1})),ht=be.filter(function(dt){return dt.left>=ie}).filter(function(dt){return A_(de,dt.top,dt.top+dt.height).length>0});return ht.length>0?Ve(be,ht):ie}var De=Ce.events.map(function(be){var ie=100/Ve(Ce.events,A_(Ce.events,be.top,be.top+be.height));return Po(Po({},be),{left:be.left*ie,width:ie})});return{hours:Ze,date:re.date,events:De.map(function(be){var de=A_(De.filter(function(ie){return ie.left>be.left}),be.top,be.top+be.height);return de.length>0?Po(Po({},be),{width:Math.min.apply(Math,de.map(function(ie){return ie.left}))-be.left}):be})}})}function A_(n,t,e){return n.filter(function(i){var r=i.top,s=i.top+i.height;return t<s&&s<e||t<r&&r<e||r<=t&&e<=s})}function x_(n){return Math.max(Math.min(23,n),0)}function P_(n){return Math.max(Math.min(59,n),0)}var ru=(()=>{return(n=ru||(ru={})).NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",ru;var n})();const{isArray:E2}=Array,{getPrototypeOf:T2,prototype:M2,keys:I2}=Object;function VI(n){if(1===n.length){const t=n[0];if(E2(t))return{args:t,keys:null};if(function A2(n){return n&&"object"==typeof n&&T2(n)===M2}(t)){const e=I2(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:x2}=Array;function n0(n){return lt(t=>function P2(n,t){return x2(t)?n(...t):n(t)}(n,t))}function BI(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function HI(n,t,e){n?Pr(e,n,t):t()}const O2=["addListener","removeListener"],L2=["addEventListener","removeEventListener"],N2=["on","off"];function wh(n,t,e,i){if(at(e)&&(i=e,e=void 0),i)return wh(n,t,e).pipe(n0(i));const[r,s]=function B2(n){return at(n.addEventListener)&&at(n.removeEventListener)}(n)?L2.map(a=>u=>n[a](t,u,e)):function F2(n){return at(n.addListener)&&at(n.removeListener)}(n)?O2.map(UI(n,t)):function V2(n){return at(n.on)&&at(n.off)}(n)?N2.map(UI(n,t)):[];if(!r&&Da(n))return Rr(a=>wh(a,t,e))(Ti(n));if(!r)throw new TypeError("Invalid event target");return new _t(a=>{const u=(...h)=>a.next(1<h.length?h:h[0]);return r(u),()=>s(u)})}function UI(n,t){return e=>i=>n[e](t,i)}function Fi(n,t){return bt((e,i)=>{let r=0;e.subscribe(Mt(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Ro(n){return n<=0?()=>Jr:bt((t,e)=>{let i=0;t.subscribe(Mt(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function U2(n,t,e,i,r){return(s,a)=>{let u=e,h=t,f=0;s.subscribe(Mt(a,m=>{const y=f++;h=u?n(h,m,y):(u=!0,m),i&&a.next(h)},r&&(()=>{u&&a.next(h),a.complete()})))}}function r0(){return bt((n,t)=>{let e,i=!1;n.subscribe(Mt(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function jI(n,t=Tn){return n=n??W2,bt((e,i)=>{let r,s=!0;e.subscribe(Mt(i,a=>{const u=t(a);(s||!n(r,u))&&(s=!1,r=u,i.next(a))}))})}function W2(n,t){return n===t}function s0(n,t){return n=function G2(n,t){return typeof n>"u"?typeof t>"u"?n:t:n}(n,t),"function"==typeof n?function(){for(var i=arguments,r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=i[a];return!!n.apply(this,s)}:n?function(){return!0}:function(){return!1}}var o0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},zI=function(n){return null!=n&&"object"===(typeof n>"u"?"undefined":o0(n))&&1===n.nodeType&&"object"===o0(n.style)&&"object"===o0(n.ownerDocument)};function WI(n,t){if(t=l0(t,!0),!zI(t))return-1;for(var e=0;e<n.length;e++)if(n[e]===t)return e;return-1}function a0(n,t){return-1!==WI(n,t)}function $2(n,t){for(var e=0;e<t.length;e++)a0(n,t[e])||n.push(t[e]);return t}function Z2(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return $2(n,e=e.map(l0))}function q2(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return e.map(l0).reduce(function(r,s){var a=WI(n,s);return-1!==a?r.concat(n.splice(a,1)):r},[])}function l0(n,t){if("string"==typeof n)try{return document.querySelector(n)}catch(e){throw e}if(!zI(n)&&!t)throw new TypeError(n+" is not a DOM element.");return n}function GI(n){if(n===window)return function K2(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var t={};return Object.defineProperties(t,n),t}();try{var t=n.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch{throw new TypeError("Can't call getBoundingClientRect on "+n)}}var t,u0=void 0;"function"!=typeof Object.create?(t=function(){},u0=function(e,i){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");t.prototype=e||{};var r=new t;return t.prototype=null,void 0!==i&&Object.defineProperties(r,i),null===e&&(r.__proto__=null),r}):u0=Object.create;var Q2=u0,Dc=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function c0(n,t){t=t||{};for(var e=Q2(n),i=0;i<Dc.length;i++)void 0!==t[Dc[i]]&&(e[Dc[i]]=t[Dc[i]]);return e}function d0(n,t){console.log("data ",t),n.data=t||{},n.dispatched="mousemove"}var qp=["webkit","moz","ms","o"],Yp=function(){if(typeof window>"u")return function(){};for(var n=0,t=qp.length;n<t&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[qp[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(i){var r=(new Date).getTime(),s=Math.max(0,16-r-e),a=window.setTimeout(function(){return i(r+s)},s);return e=r+s,a}}return window.requestAnimationFrame.bind(window)}(),Ch=function(){if(typeof window>"u")return function(){};for(var n=0,t=qp.length;n<t&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[qp[n]+"CancelAnimationFrame"]||window[qp[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function eB(n,t){void 0===t&&(t={});var e=this,i=4,r=!1;if("object"!=typeof t.margin){var s=t.margin||-1;this.margin={left:s,right:s,top:s,bottom:s}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var a={},u=function Y2(n,t){var e=s0((t=t||{}).allowUpdate,!0);return function(r){if(r=r||window.event,n.target=r.target||r.srcElement||r.originalTarget,n.element=this,n.type=r.type,e(r)){if(r.targetTouches)n.x=r.targetTouches[0].clientX,n.y=r.targetTouches[0].clientY,n.pageX=r.targetTouches[0].pageX,n.pageY=r.targetTouches[0].pageY,n.screenX=r.targetTouches[0].screenX,n.screenY=r.targetTouches[0].screenY;else{if(null===r.pageX&&null!==r.clientX){var s=r.target&&r.target.ownerDocument||document,a=s.documentElement,u=s.body;n.pageX=r.clientX+(a&&a.scrollLeft||u&&u.scrollLeft||0)-(a&&a.clientLeft||u&&u.clientLeft||0),n.pageY=r.clientY+(a&&a.scrollTop||u&&u.scrollTop||0)-(a&&a.clientTop||u&&u.clientTop||0)}else n.pageX=r.pageX,n.pageY=r.pageY;n.x=r.clientX,n.y=r.clientY,n.screenX=r.screenX,n.screenY=r.screenY}n.clientX=n.x,n.clientY=n.y}}}(a),h=function J2(n){var t={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function e(s){for(var a=0;a<Dc.length;a++)t[Dc[a]]=s[Dc[a]]}return void 0!==n&&n.addEventListener("mousemove",e),{destroy:function r(){n&&n.removeEventListener("mousemove",e,!1),t=null},dispatch:MouseEvent?function(a,u,h){var f=new MouseEvent("mousemove",c0(t,u));return d0(f,h),a.dispatchEvent(f)}:"function"==typeof document.createEvent?function(a,u,h){var f=c0(t,u),m=document.createEvent("MouseEvents");return m.initMouseEvent("mousemove",!0,!0,window,0,f.screenX,f.screenY,f.clientX,f.clientY,f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.button,f.relatedTarget),d0(m,h),a.dispatchEvent(m)}:"function"==typeof document.createEventObject?function(a,u,h){var f=document.createEventObject(),m=c0(t,u);for(var y in m)f[y]=m[y];return d0(f,h),a.dispatchEvent(f)}:void 0}}(),f=!1;window.addEventListener("mousemove",u,!1),window.addEventListener("touchmove",u,!1),isNaN(t.maxSpeed)||(i=t.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=s0(t.autoScroll),this.syncMove=s0(t.syncMove,!1),this.destroy=function(de){window.removeEventListener("mousemove",u,!1),window.removeEventListener("touchmove",u,!1),window.removeEventListener("mousedown",x,!1),window.removeEventListener("touchstart",x,!1),window.removeEventListener("mouseup",R,!1),window.removeEventListener("touchend",R,!1),window.removeEventListener("pointerup",R,!1),window.removeEventListener("mouseleave",O,!1),window.removeEventListener("mousemove",re,!1),window.removeEventListener("touchmove",re,!1),window.removeEventListener("scroll",T,!0),n=[],de&&F()},this.add=function(){for(var de=[],ie=arguments.length;ie--;)de[ie]=arguments[ie];return Z2.apply(void 0,[n].concat(de)),this},this.remove=function(){for(var de=[],ie=arguments.length;ie--;)de[ie]=arguments[ie];return q2.apply(void 0,[n].concat(de))};var y,de,m=null;"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),de=n,n=[],de.forEach(function(ie){ie===window?m=window:e.add(ie)}),Object.defineProperties(this,{down:{get:function(){return f}},maxSpeed:{get:function(){return i}},point:{get:function(){return a}},scrolling:{get:function(){return r}}});var S,C=null;function T(de){for(var ie=0;ie<n.length;ie++)if(n[ie]===de.target){r=!0;break}r&&Yp(function(){return r=!1})}function x(){f=!0}function R(){f=!1,F()}function F(){Ch(S),Ch(y)}function O(){f=!1}function Y(){for(var de=null,ie=0;ie<n.length;ie++)$I(a,n[ie])&&(de=n[ie]);return de}function re(de){if(e.autoScroll()&&!de.dispatched){var ie=de.target,ht=document.body;C&&!$I(a,C)&&(e.scrollWhenOutside||(C=null)),ie&&ie.parentNode===ht?ie=Y():(ie=function G(de){if(!de)return null;if(C===de||a0(n,de))return de;for(;de=de.parentNode;)if(a0(n,de))return de;return null}(ie),ie||(ie=Y())),ie&&ie!==C&&(C=ie),m&&(Ch(y),y=Yp(Ce)),C&&(Ch(S),S=Yp(Ze))}}function Ce(){Ve(m),Ch(y),y=Yp(Ce)}function Ze(){!C||(Ve(C),Ch(S),S=Yp(Ze))}function Ve(de){var ht,dt,ie=GI(de);ht=a.x<ie.left+e.margin.left?Math.floor(Math.max(-1,(a.x-ie.left)/e.margin.left-1)*e.maxSpeed.left):a.x>ie.right-e.margin.right?Math.ceil(Math.min(1,(a.x-ie.right)/e.margin.right+1)*e.maxSpeed.right):0,dt=a.y<ie.top+e.margin.top?Math.floor(Math.max(-1,(a.y-ie.top)/e.margin.top-1)*e.maxSpeed.top):a.y>ie.bottom-e.margin.bottom?Math.ceil(Math.min(1,(a.y-ie.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):0,e.syncMove()&&h.dispatch(de,{pageX:a.pageX+ht,pageY:a.pageY+dt,clientX:a.x+ht,clientY:a.y+dt}),setTimeout(function(){dt&&function De(de,ie){de===window?window.scrollTo(de.pageXOffset,de.pageYOffset+ie):de.scrollTop+=ie}(de,dt),ht&&function be(de,ie){de===window?window.scrollTo(de.pageXOffset+ie,de.pageYOffset):de.scrollLeft+=ie}(de,ht)})}window.addEventListener("mousedown",x,!1),window.addEventListener("touchstart",x,!1),window.addEventListener("mouseup",R,!1),window.addEventListener("touchend",R,!1),window.addEventListener("pointerup",R,!1),window.addEventListener("mousemove",re,!1),window.addEventListener("touchmove",re,!1),window.addEventListener("mouseleave",O,!1),window.addEventListener("scroll",T,!0)}function $I(n,t,e){return e?n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right:function X2(n,t){var e=GI(t);return n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right}(n,t)}function h0(n,t,e){e&&e.split(" ").forEach(i=>n.addClass(t.nativeElement,i))}function R_(n,t,e){e&&e.split(" ").forEach(i=>n.removeClass(t.nativeElement,i))}let ZI=(()=>{class n{constructor(){this.currentDrag=new Oe}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qI=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(U(wn))},n.\u0275dir=we({type:n,selectors:[["","mwlDraggableScrollContainer",""]]}),n})(),f0=(()=>{class n{constructor(e,i,r,s,a,u,h){this.element=e,this.renderer=i,this.draggableHelper=r,this.zone=s,this.vcr=a,this.scrollContainer=u,this.document=h,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new me,this.dragStart=new me,this.ghostElementCreated=new me,this.dragging=new me,this.dragEnd=new me,this.pointerDown$=new Oe,this.pointerMove$=new Oe,this.pointerUp$=new Oe,this.eventListenerSubscriptions={},this.destroy$=new Oe,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe(Fi(()=>this.canDrag()),Rr(i=>{i.event.stopPropagation&&!this.scrollContainer&&i.event.stopPropagation();const r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(r)});const s=this.getScrollPosition(),a=new _t(S=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",x=>S.next(x))).pipe(kI(s),lt(()=>this.getScrollPosition())),u=new Oe,h=new bD;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const f=Nn(this.pointerUp$,this.pointerDown$,h,this.destroy$).pipe(Ye()),m=function R2(...n){const t=Bo(n),e=$c(n),{args:i,keys:r}=VI(n);if(0===i.length)return _s([],t);const s=new _t(function k2(n,t,e=Tn){return i=>{HI(t,()=>{const{length:r}=n,s=new Array(r);let a=r,u=r;for(let h=0;h<r;h++)HI(t,()=>{const f=_s(n[h],t);let m=!1;f.subscribe(Mt(i,y=>{s[h]=y,m||(m=!0,u--),u||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>BI(r,a):Tn));return e?s.pipe(n0(e)):s}([this.pointerMove$,a]).pipe(lt(([S,T])=>({currentDrag$:u,transformX:S.clientX-i.clientX,transformY:S.clientY-i.clientY,clientX:S.clientX,clientY:S.clientY,scrollLeft:T.left,scrollTop:T.top,target:S.event.target})),lt(S=>(this.dragSnapGrid.x&&(S.transformX=Math.round(S.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(S.transformY=Math.round(S.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),S)),lt(S=>(this.dragAxis.x||(S.transformX=0),this.dragAxis.y||(S.transformY=0),S)),lt(S=>{const T=S.scrollLeft-s.left,x=S.scrollTop-s.top;return Object.assign(Object.assign({},S),{x:S.transformX+T,y:S.transformY+x})}),Fi(({x:S,y:T,transformX:x,transformY:R})=>!this.validateDrag||this.validateDrag({x:S,y:T,transform:{x,y:R}})),Ua(f),Ye()),y=m.pipe(Ro(1),Ye()),C=m.pipe(function H2(n){return n<=0?()=>Jr:bt((t,e)=>{let i=[];t.subscribe(Mt(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}(1),Ye());return y.subscribe(({clientX:S,clientY:T,x,y:R})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:h})}),this.scroller=function tB(n,t){return new eB(n,t)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign(Object.assign({},this.autoScroll),{autoScroll:()=>!0})),h0(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const F=this.element.nativeElement.getBoundingClientRect(),O=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(O):this.element.nativeElement.parentNode.insertBefore(O,this.element.nativeElement.nextSibling),this.ghostElement=O,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(O,{position:"fixed",top:`${F.top}px`,left:`${F.left}px`,width:`${F.width}px`,height:`${F.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const G=this.vcr.createEmbeddedView(this.ghostElementTemplate);O.innerHTML="",G.rootNodes.filter(Y=>Y instanceof Node).forEach(Y=>{O.appendChild(Y)}),C.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(G))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:S-x,clientY:T-R,element:O})}),C.subscribe(()=>{O.parentElement.removeChild(O),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(u)}),C.pipe(Rr(S=>{const T=h.pipe(function z2(n){return function j2(n,t){return bt(U2(n,t,arguments.length>=2,!1,!0))}((t,e,i)=>!n||n(e,i)?t+1:t,0)}(),Ro(1),lt(x=>Object.assign(Object.assign({},S),{dragCancelled:x>0})));return h.complete(),T})).subscribe(({x:S,y:T,dragCancelled:x})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:S,y:T,dragCancelled:x})}),R_(this.renderer,this.element,this.dragActiveClass),u.complete()}),Nn(f,C).pipe(Ro(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),m}),Ye());Nn(e.pipe(Ro(1),lt(i=>[,i])),e.pipe(r0())).pipe(Fi(([i,r])=>!i||i.x!==r.x||i.y!==r.y),lt(([i,r])=>r)).subscribe(({x:i,y:r,currentDrag$:s,clientX:a,clientY:u,transformX:h,transformY:f,target:m})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:i,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){const y=`translate3d(${h}px, ${f}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:y,"-webkit-transform":y,"-ms-transform":y,"-moz-transform":y,"-o-transform":y})}}),s.next({clientX:a,clientY:u,dropData:this.dropData,target:m})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),i=Object.keys(this.eventListenerSubscriptions).length>0;e&&!i?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&i&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",i=>{this.pointerMove$.next({event:i,clientX:i.clientX,clientY:i.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let i,r,s;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,s=this.hasScrollbar(),i=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const a=wh(this.document,"contextmenu").subscribe(h=>{h.preventDefault()}),u=wh(this.document,"touchmove",{passive:!1}).subscribe(h=>{this.touchStartLongPress&&!r&&s&&(r=this.shouldBeginDrag(e,h,i)),(!this.touchStartLongPress||!s||r)&&(h.preventDefault(),this.pointerMove$.next({event:h,clientX:h.targetTouches[0].clientX,clientY:h.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{a.unsubscribe(),u.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,i){Object.keys(i).forEach(r=>{this.renderer.setStyle(e,r,i[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,i,r){const s=this.getScrollPosition(),a_top=Math.abs(s.top-r.top),a_left=Math.abs(s.left-r.left),u=Math.abs(i.targetTouches[0].clientX-e.touches[0].clientX)-a_left,h=Math.abs(i.targetTouches[0].clientY-e.touches[0].clientY)-a_top,m=this.touchStartLongPress;return(u+h>m.delta||a_top>0||a_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=m.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(U(wn),U($r),U(ZI),U(Qt),U(ds),U(qI,8),U(on))},n.\u0275dir=we({type:n,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[_n]}),n})();function YI(n,t,e){return n>=e.left&&n<=e.right&&t>=e.top&&t<=e.bottom}let p0=(()=>{class n{constructor(e,i,r,s,a){this.element=e,this.draggableHelper=i,this.zone=r,this.renderer=s,this.scrollContainer=a,this.dragEnter=new me,this.dragLeave=new me,this.dragOver=new me,this.drop=new me}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{h0(this.renderer,this.element,this.dragActiveClass);const i={updateCache:!0},r=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{i.updateCache=!0});let s;const a=e.pipe(lt(({clientX:f,clientY:m,dropData:y,target:C})=>{s={clientX:f,clientY:m,dropData:y,target:C},i.updateCache&&(i.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(i.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),i.updateCache=!1);const S=YI(f,m,i.rect),T=!this.validateDrop||this.validateDrop({clientX:f,clientY:m,target:C,dropData:y});return i.scrollContainerRect?S&&T&&YI(f,m,i.scrollContainerRect):S&&T})),u=a.pipe(jI());let h;u.pipe(Fi(f=>f)).subscribe(()=>{h=!0,h0(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(s)})}),a.pipe(Fi(f=>f)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(s)})}),u.pipe(r0(),Fi(([f,m])=>f&&!m)).subscribe(()=>{h=!1,R_(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(s)})}),e.subscribe({complete:()=>{r(),R_(this.renderer,this.element,this.dragActiveClass),h&&(R_(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(s)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(U(wn),U(ZI),U(Qt),U($r),U(qI,8))},n.\u0275dir=we({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),k_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({}),n})();function g0(n,t,e){const i=at(n)||t||e?{next:n,error:t,complete:e}:n;return i?bt((r,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let u=!0;r.subscribe(Mt(s,h=>{var f;null===(f=i.next)||void 0===f||f.call(i,h),s.next(h)},()=>{var h;u=!1,null===(h=i.complete)||void 0===h||h.call(i),s.complete()},h=>{var f;u=!1,null===(f=i.error)||void 0===f||f.call(i,h),s.error(h)},()=>{var h,f;u&&(null===(h=i.unsubscribe)||void 0===h||h.call(i)),null===(f=i.finalize)||void 0===f||f.call(i)}))}):Tn}const Sc=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function KI(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const s=e.querySelectorAll(n);for(let a=0;a<r.length;a++)i(r[a],s[a])}}let rB=0;function XI(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${rB++}`)}function QI(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function JI(n,t,e,i){const r={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return t.top&&(r.top+=i),t.bottom&&(r.bottom+=i),t.left&&(r.left+=e),t.right&&(r.right+=e),r.height=r.bottom-r.top,r.width=r.right-r.left,r}const eA=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function tA(n,t){return n.left&&n.top?t.topLeft:n.right&&n.top?t.topRight:n.left&&n.bottom?t.bottomLeft:n.right&&n.bottom?t.bottomRight:n.left||n.right?t.leftOrRight:n.top||n.bottom?t.topOrBottom:""}function O_({edges:n,initialRectangle:t,newRectangle:e}){const i={};return Object.keys(n).forEach(r=>{i[r]=(e[r]||0)-(t[r]||0)}),i}const nA="resize-active";let iA=(()=>{class n{constructor(e,i,r,s){this.platformId=e,this.renderer=i,this.elm=r,this.zone=s,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=eA,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new me,this.resizing=new me,this.resizeEnd=new me,this.mouseup=new Oe,this.mousedown=new Oe,this.mousemove=new Oe,this.destroy$=new Oe,this.pointerEventListeners=Dh.getInstance(i,s)}ngOnInit(){const e=Nn(this.pointerEventListeners.pointerDown,this.mousedown),i=Nn(this.pointerEventListeners.pointerMove,this.mousemove).pipe(g0(({event:f})=>{if(s)try{f.preventDefault()}catch{}}),Ye()),r=Nn(this.pointerEventListeners.pointerUp,this.mouseup);let s;const a=()=>{s&&s.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},u=()=>Object.assign(Object.assign({},eA),this.resizeCursors);e.pipe(Rr(f=>{function m(S){return{clientX:S.clientX-f.clientX,clientY:S.clientY-f.clientY}}const y=()=>{const S={x:1,y:1};return s&&(this.resizeSnapGrid.left&&s.edges.left?S.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&s.edges.right&&(S.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&s.edges.top?S.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&s.edges.bottom&&(S.y=+this.resizeSnapGrid.bottom)),S};function C(S,T){return{x:Math.ceil(S.clientX/T.x),y:Math.ceil(S.clientY/T.y)}}return Nn(i.pipe(Ro(1)).pipe(lt(S=>[,S])),i.pipe(r0())).pipe(lt(([S,T])=>[S&&m(S),m(T)])).pipe(Fi(([S,T])=>{if(!S)return!0;const x=y(),R=C(S,x),F=C(T,x);return R.x!==F.x||R.y!==F.y})).pipe(lt(([,S])=>{const T=y();return{clientX:Math.round(S.clientX/T.x)*T.x,clientY:Math.round(S.clientY/T.y)*T.y}})).pipe(Ua(Nn(r,e)))})).pipe(Fi(()=>!!s)).pipe(lt(({clientX:f,clientY:m})=>JI(s.startingRect,s.edges,f,m))).pipe(Fi(f=>this.allowNegativeResizes||!!(f.height&&f.width&&f.height>0&&f.width>0))).pipe(Fi(f=>!this.validateResize||this.validateResize({rectangle:f,edges:O_({edges:s.edges,initialRectangle:s.startingRect,newRectangle:f})})),Ua(this.destroy$)).subscribe(f=>{s&&s.clonedNode&&(this.renderer.setStyle(s.clonedNode,"height",`${f.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${f.width}px`),this.renderer.setStyle(s.clonedNode,"top",`${f.top}px`),this.renderer.setStyle(s.clonedNode,"left",`${f.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:O_({edges:s.edges,initialRectangle:s.startingRect,newRectangle:f}),rectangle:f})}),s.currentRect=f}),e.pipe(lt(({edges:f})=>f||{}),Fi(f=>Object.keys(f).length>0),Ua(this.destroy$)).subscribe(f=>{s&&a();const m=function sB(n,t){let e=0,i=0;const r=n.nativeElement.style,a=["transform","-ms-transform","-moz-transform","-o-transform"].map(u=>r[u]).find(u=>!!u);if(a&&a.includes("translate")&&(e=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-i,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-i,left:n.nativeElement.offsetLeft-e,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-e};{const u=n.nativeElement.getBoundingClientRect();return{height:u.height,width:u.width,top:u.top-i,bottom:u.bottom-i,left:u.left-e,right:u.right-e,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);s={edges:f,startingRect:m,currentRect:m};const y=u(),C=tA(s.edges,y);this.renderer.setStyle(document.body,"cursor",C),this.setElementClass(this.elm,nA,!0),this.enableGhostResize&&(s.clonedNode=function iB(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();return t.removeAttribute("id"),e.forEach(r=>{r.removeAttribute("id")}),"canvas"===i?QI(n,t):("input"===i||"select"===i||"textarea"===i)&&XI(n,t),KI("canvas",n,t,QI),KI("input, textarea, select",n,t,XI),t}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(s.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(s.clonedNode,"left",`${s.startingRect.left}px`),this.renderer.setStyle(s.clonedNode,"top",`${s.startingRect.top}px`),this.renderer.setStyle(s.clonedNode,"height",`${s.startingRect.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${s.startingRect.width}px`),this.renderer.setStyle(s.clonedNode,"cursor",tA(s.edges,y)),this.renderer.addClass(s.clonedNode,"resize-ghost-element"),s.clonedNode.scrollTop=s.startingRect.scrollTop,s.clonedNode.scrollLeft=s.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:O_({edges:f,initialRectangle:m,newRectangle:m}),rectangle:JI(m,{},0,0)})})}),r.pipe(Ua(this.destroy$)).subscribe(()=>{s&&(this.renderer.removeClass(this.elm.nativeElement,nA),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:O_({edges:s.edges,initialRectangle:s.startingRect,newRectangle:s.currentRect}),rectangle:s.currentRect})}),a(),s=null)})}ngOnDestroy(){SM(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(e,i,r){r?this.renderer.addClass(e.nativeElement,i):this.renderer.removeClass(e.nativeElement,i)}}return n.\u0275fac=function(e){return new(e||n)(U(ph),U($r),U(wn),U(Qt))},n.\u0275dir=we({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})();class Dh{constructor(t,e){this.pointerDown=new _t(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousedown",a=>{i.next({clientX:a.clientX,clientY:a.clientY,event:a})}),Sc&&(s=t.listen("document","touchstart",a=>{i.next({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,event:a})}))}),()=>{r(),Sc&&s()}}).pipe(Ye()),this.pointerMove=new _t(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousemove",a=>{i.next({clientX:a.clientX,clientY:a.clientY,event:a})}),Sc&&(s=t.listen("document","touchmove",a=>{i.next({clientX:a.targetTouches[0].clientX,clientY:a.targetTouches[0].clientY,event:a})}))}),()=>{r(),Sc&&s()}}).pipe(Ye()),this.pointerUp=new _t(i=>{let r,s,a;return e.runOutsideAngular(()=>{r=t.listen("document","mouseup",u=>{i.next({clientX:u.clientX,clientY:u.clientY,event:u})}),Sc&&(s=t.listen("document","touchend",u=>{i.next({clientX:u.changedTouches[0].clientX,clientY:u.changedTouches[0].clientY,event:u})}),a=t.listen("document","touchcancel",u=>{i.next({clientX:u.changedTouches[0].clientX,clientY:u.changedTouches[0].clientY,event:u})}))}),()=>{r(),Sc&&(s(),a())}}).pipe(Ye())}static getInstance(t,e){return Dh.instance||(Dh.instance=new Dh(t,e)),Dh.instance}}let lB=(()=>{class n{constructor(e,i,r,s){this.renderer=e,this.element=i,this.zone=r,this.resizableDirective=s,this.resizeEdges={},this.eventListeners={},this.destroy$=new Oe}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),Sc&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),Nn(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,i,r){e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",s=>{this.onMousemove(s,s.targetTouches[0].clientX,s.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",s=>{this.onMousemove(s,s.clientX,s.clientY)})),this.resizable.mousedown.next({clientX:i,clientY:r,edges:this.resizeEdges})}onMouseup(e,i){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:i,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,i,r){this.resizable.mousemove.next({clientX:i,clientY:r,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return wh(this.element.nativeElement,e).pipe(Ua(this.destroy$))}}return n.\u0275fac=function(e){return new(e||n)(U($r),U(wn),U(Qt),U(iA,8))},n.\u0275dir=we({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),rA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({}),n})();const uB=function(n){return{action:n}};function cB(n,t){if(1&n){const e=Kn();fe(0,"a",5),We("mwlClick",function(r){const a=_e(e).$implicit,u=ee(2).event;return a.onClick({event:u,sourceEvent:r})})("mwlKeydownEnter",function(r){const a=_e(e).$implicit,u=ee(2).event;return a.onClick({event:u,sourceEvent:r})}),Cn(1,"calendarA11y"),ge()}if(2&n){const e=t.$implicit;te("ngClass",e.cssClass)("innerHtml",e.label,Nd),si("aria-label",To(1,3,gc(6,uB,e),"actionButtonLabel"))}}function dB(n,t){if(1&n&&(fe(0,"span",3),Ee(1,cB,2,8,"a",4),ge()),2&n){const e=ee(),i=e.event,r=e.trackByActionId;J(1),te("ngForOf",i.actions)("ngForTrackBy",r)}}function hB(n,t){1&n&&Ee(0,dB,2,2,"span",2),2&n&&te("ngIf",t.event.actions)}function fB(n,t){}const pB=function(n,t){return{event:n,trackByActionId:t}},Sh=function(){return{}};function gB(n,t){if(1&n&&(fn(0,"span",2),Cn(1,"calendarEventTitle"),Cn(2,"calendarA11y")),2&n){const e=t.event;te("innerHTML",Mo(1,2,e.title,t.view,e),Nd),si("aria-hidden",To(2,6,Dr(9,Sh),"hideEventTitle"))}}function mB(n,t){}const vB=function(n,t){return{event:n,view:t}};function _B(n,t){if(1&n&&(fe(0,"div",2),fn(1,"div",3)(2,"div",4),ge()),2&n){const e=t.contents;te("ngClass","cal-tooltip-"+t.placement),J(2),te("innerHtml",e,Nd)}}function yB(n,t){}const wB=function(n,t,e){return{contents:n,placement:t,event:e}};function CB(n,t){if(1&n){const e=Kn();fe(0,"div",4),We("click",function(r){const a=_e(e).$implicit;return ee(2).columnHeaderClicked.emit({isoDayNumber:a.day,sourceEvent:r})}),pn(1),Cn(2,"calendarDate"),ge()}if(2&n){const e=t.$implicit,i=ee().locale;yi("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),te("ngClass",e.cssClass),J(1),ah(" ",Mo(2,10,e.date,"monthViewColumnHeader",i)," ")}}function DB(n,t){if(1&n&&(fe(0,"div",2),Ee(1,CB,3,14,"div",3),ge()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;J(1),te("ngForOf",e)("ngForTrackBy",i)}}function SB(n,t){}const bB=function(n,t,e){return{days:n,locale:t,trackByWeekDayHeaderDate:e}};function EB(n,t){if(1&n&&(fe(0,"span",7),pn(1),ge()),2&n){const e=ee().day;J(1),fc(e.badgeTotal)}}const m0=function(n){return{backgroundColor:n}},TB=function(n,t){return{event:n,draggedFrom:t}},Kp=function(n,t){return{x:n,y:t}},L_=function(){return{delay:300,delta:30}};function MB(n,t){if(1&n){const e=Kn();fe(0,"div",10),We("mouseenter",function(){const s=_e(e).$implicit;return ee(2).highlightDay.emit({event:s})})("mouseleave",function(){const s=_e(e).$implicit;return ee(2).unhighlightDay.emit({event:s})})("mwlClick",function(r){const a=_e(e).$implicit;return ee(2).eventClicked.emit({event:a,sourceEvent:r})}),Cn(1,"calendarEventTitle"),Cn(2,"calendarA11y"),ge()}if(2&n){const e=t.$implicit,i=ee(2),r=i.tooltipPlacement,s=i.tooltipTemplate,a=i.tooltipAppendToBody,u=i.tooltipDelay,h=i.day,f=i.validateDrag;yi("cal-draggable",e.draggable),te("ngStyle",gc(22,m0,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",Mo(1,15,e.title,"monthTooltip",e))("tooltipPlacement",r)("tooltipEvent",e)("tooltipTemplate",s)("tooltipAppendToBody",a)("tooltipDelay",u)("dropData",wi(24,TB,e,h))("dragAxis",wi(27,Kp,e.draggable,e.draggable))("validateDrag",f)("touchStartLongPress",Dr(30,L_)),si("aria-hidden",To(2,19,Dr(31,Sh),"hideMonthCellEvents"))}}function IB(n,t){if(1&n&&(fe(0,"div",8),Ee(1,MB,3,32,"div",9),ge()),2&n){const e=ee(),i=e.day,r=e.trackByEventId;J(1),te("ngForOf",i.events)("ngForTrackBy",r)}}const AB=function(n,t){return{day:n,locale:t}};function xB(n,t){if(1&n&&(fe(0,"div",2),Cn(1,"calendarA11y"),fe(2,"span",3),Ee(3,EB,2,1,"span",4),fe(4,"span",5),pn(5),Cn(6,"calendarDate"),ge()()(),Ee(7,IB,2,2,"div",6)),2&n){const e=t.day,i=t.locale;si("aria-label",To(1,4,wi(11,AB,e,i),"monthCell")),J(3),te("ngIf",e.badgeTotal>0),J(2),fc(Mo(6,7,e.date,"monthViewDayNumber",i)),J(2),te("ngIf",e.events.length>0)}}function PB(n,t){}const RB=function(n,t,e,i,r,s,a,u,h,f,m,y){return{day:n,openDay:t,locale:e,tooltipPlacement:i,highlightDay:r,unhighlightDay:s,eventClicked:a,tooltipTemplate:u,tooltipAppendToBody:h,tooltipDelay:f,trackByEventId:m,validateDrag:y}},kB=function(n){return{event:n}},sA=function(n,t){return{event:n,locale:t}};function OB(n,t){if(1&n){const e=Kn();fe(0,"div",7),fn(1,"span",8),pn(2," "),fe(3,"mwl-calendar-event-title",9),We("mwlClick",function(r){const a=_e(e).$implicit;return ee(2).eventClicked.emit({event:a,sourceEvent:r})})("mwlKeydownEnter",function(r){const a=_e(e).$implicit;return ee(2).eventClicked.emit({event:a,sourceEvent:r})}),Cn(4,"calendarA11y"),ge(),pn(5," "),fn(6,"mwl-calendar-event-actions",10),ge()}if(2&n){const e=t.$implicit,i=ee(2).validateDrag,r=ee();yi("cal-draggable",e.draggable),te("ngClass",null==e?null:e.cssClass)("dropData",gc(16,kB,e))("dragAxis",wi(18,Kp,e.draggable,e.draggable))("validateDrag",i)("touchStartLongPress",Dr(21,L_)),J(1),te("ngStyle",gc(22,m0,null==e.color?null:e.color.primary)),J(2),te("event",e)("customTemplate",r.eventTitleTemplate),si("aria-label",To(4,13,wi(24,sA,e,r.locale),"eventDescription")),J(3),te("event",e)("customTemplate",r.eventActionsTemplate)}}const oA=function(n,t){return{date:n,locale:t}};function LB(n,t){if(1&n&&(fe(0,"div",3),fn(1,"span",4),Cn(2,"calendarA11y"),fn(3,"span",5),Cn(4,"calendarA11y"),Ee(5,OB,7,27,"div",6),ge()),2&n){const e=ee(),i=e.events,r=e.trackByEventId,s=ee();te("@collapse",void 0),J(1),si("aria-label",To(2,5,wi(11,oA,s.date,s.locale),"openDayEventsAlert")),J(2),si("aria-label",To(4,8,wi(14,oA,s.date,s.locale),"openDayEventsLandmark")),J(2),te("ngForOf",i)("ngForTrackBy",r)}}function NB(n,t){1&n&&Ee(0,LB,6,17,"div",2),2&n&&te("ngIf",t.isOpen)}function FB(n,t){}const VB=function(n,t,e,i,r){return{events:n,eventClicked:t,isOpen:e,trackByEventId:i,validateDrag:r}};function BB(n,t){if(1&n){const e=Kn();fe(0,"mwl-calendar-month-cell",7),We("mwlClick",function(r){const a=_e(e).$implicit;return ee(2).dayClicked.emit({day:a,sourceEvent:r})})("mwlKeydownEnter",function(r){const a=_e(e).$implicit;return ee(2).dayClicked.emit({day:a,sourceEvent:r})})("highlightDay",function(r){return _e(e),ee(2).toggleDayHighlight(r.event,!0)})("unhighlightDay",function(r){return _e(e),ee(2).toggleDayHighlight(r.event,!1)})("drop",function(r){const a=_e(e).$implicit;return ee(2).eventDropped(a,r.dropData.event,r.dropData.draggedFrom)})("eventClicked",function(r){return _e(e),ee(2).eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent})}),Cn(1,"calendarA11y"),ge()}if(2&n){const e=t.$implicit,i=ee(2);te("ngClass",null==e?null:e.cssClass)("day",e)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",gc(15,m0,e.backgroundColor))("clickListenerDisabled",0===i.dayClicked.observers.length),si("tabindex",To(1,12,Dr(17,Sh),"monthCellTabIndex"))}}function HB(n,t){if(1&n){const e=Kn();fe(0,"div")(1,"div",4),Ee(2,BB,2,18,"mwl-calendar-month-cell",5),Cn(3,"slice"),ge(),fe(4,"mwl-calendar-open-day-events",6),We("eventClicked",function(r){return _e(e),ee().eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent})})("drop",function(r){_e(e);const s=ee();return s.eventDropped(s.openDay,r.dropData.event,r.dropData.draggedFrom)}),ge()()}if(2&n){const e=t.$implicit,i=ee();J(2),te("ngForOf",Mo(3,9,i.view.days,e,e+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),J(2),te("locale",i.locale)("isOpen",i.openRowIndex===e)("events",null==i.openDay?null:i.openDay.events)("date",null==i.openDay?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}function UB(n,t){if(1&n){const e=Kn();fe(0,"div",4),We("mwlClick",function(r){const a=_e(e).$implicit;return ee().dayHeaderClicked.emit({day:a,sourceEvent:r})})("drop",function(r){const a=_e(e).$implicit;return ee().eventDropped.emit({event:r.dropData.event,newStart:a.date})})("dragEnter",function(){const s=_e(e).$implicit;return ee().dragEnter.emit({date:s.date})}),fe(1,"b"),pn(2),Cn(3,"calendarDate"),ge(),fn(4,"br"),fe(5,"span"),pn(6),Cn(7,"calendarDate"),ge()()}if(2&n){const e=t.$implicit,i=ee().locale;yi("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),te("ngClass",e.cssClass),J(2),fc(Mo(3,11,e.date,"weekViewColumnHeader",i)),J(4),fc(Mo(7,15,e.date,"weekViewColumnSubHeader",i))}}function jB(n,t){if(1&n&&(fe(0,"div",2),Ee(1,UB,8,19,"div",3),ge()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;J(1),te("ngForOf",e)("ngForTrackBy",i)}}function zB(n,t){}const WB=function(n,t,e,i,r,s){return{days:n,locale:t,dayHeaderClicked:e,eventDropped:i,dragEnter:r,trackByWeekDayHeaderDate:s}},GB=function(n,t){return{backgroundColor:n,borderColor:t}};function $B(n,t){if(1&n){const e=Kn();fe(0,"div",2),We("mwlClick",function(r){return _e(e).eventClicked.emit({sourceEvent:r})})("mwlKeydownEnter",function(r){return _e(e).eventClicked.emit({sourceEvent:r})}),Cn(1,"calendarEventTitle"),Cn(2,"calendarA11y"),fn(3,"mwl-calendar-event-actions",3),pn(4," "),fn(5,"mwl-calendar-event-title",4),ge()}if(2&n){const e=t.weekEvent,i=t.tooltipPlacement,r=t.tooltipTemplate,s=t.tooltipAppendToBody,a=t.tooltipDisabled,u=t.tooltipDelay,h=t.daysInWeek,f=ee();te("ngStyle",wi(20,GB,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",a?"":Mo(1,13,e.event.title,1===h?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",i)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",r)("tooltipAppendToBody",s)("tooltipDelay",u),si("aria-label",To(2,17,wi(23,sA,e.tempEvent||e.event,f.locale),"eventDescription")),J(3),te("event",e.tempEvent||e.event)("customTemplate",f.eventActionsTemplate),J(2),te("event",e.tempEvent||e.event)("customTemplate",f.eventTitleTemplate)("view",1===h?"day":"week")}}function ZB(n,t){}const qB=function(n,t,e,i,r,s,a,u,h){return{weekEvent:n,tooltipPlacement:t,eventClicked:e,tooltipTemplate:i,tooltipAppendToBody:r,tooltipDisabled:s,tooltipDelay:a,column:u,daysInWeek:h}};function YB(n,t){if(1&n&&(fe(0,"div",4),pn(1),Cn(2,"calendarDate"),ge()),2&n){const e=ee(),i=e.segment,r=e.daysInWeek,s=e.locale;J(1),ah(" ",Mo(2,1,i.displayDate,1===r?"dayViewHour":"weekViewHour",s)," ")}}function KB(n,t){if(1&n&&(fe(0,"div",2),Cn(1,"calendarA11y"),Ee(2,YB,3,5,"div",3),ge()),2&n){const e=t.segment,r=t.isTimeLabel,s=t.daysInWeek;La("height",t.segmentHeight,"px"),yi("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),te("ngClass",e.cssClass),si("aria-hidden",To(1,9,Dr(12,Sh),1===s?"hideDayHourSegment":"hideWeekHourSegment")),J(2),te("ngIf",r)}}function XB(n,t){}const QB=function(n,t,e,i,r){return{segment:n,locale:t,segmentHeight:e,isTimeLabel:i,daysInWeek:r}};function JB(n,t){1&n&&fn(0,"div",3),2&n&&La("top",ee().topPx,"px")}function eH(n,t){1&n&&Ee(0,JB,1,2,"div",2),2&n&&te("ngIf",t.isVisible)}function tH(n,t){}const nH=function(n,t,e,i,r,s,a){return{columnDate:n,dayStartHour:t,dayStartMinute:e,dayEndHour:i,dayEndMinute:r,isVisible:s,topPx:a}};function iH(n,t){if(1&n){const e=Kn();fe(0,"div",13),We("drop",function(r){const a=_e(e).$implicit;return ee(2).eventDropped(r,a.date,!0)})("dragEnter",function(){const s=_e(e).$implicit;return ee(2).dateDragEnter(s.date)}),ge()}}const rH=function(){return{left:!0}};function sH(n,t){1&n&&fn(0,"div",22),2&n&&te("resizeEdges",Dr(1,rH))}const oH=function(){return{right:!0}};function aH(n,t){1&n&&fn(0,"div",23),2&n&&te("resizeEdges",Dr(1,oH))}const lH=function(n,t){return{left:n,right:t}},aA=function(n,t){return{event:n,calendarId:t}},uH=function(n){return{x:n}};function cH(n,t){if(1&n){const e=Kn();fe(0,"div",17,18),We("resizeStart",function(r){const a=_e(e).$implicit;ee();const u=Yn(1);return ee(2).allDayEventResizeStarted(u,a,r)})("resizing",function(r){const a=_e(e).$implicit,u=ee(3);return u.allDayEventResizing(a,r,u.dayColumnWidth)})("resizeEnd",function(){const s=_e(e).$implicit;return ee(3).allDayEventResizeEnded(s)})("dragStart",function(){const s=_e(e).$implicit,a=Yn(1);ee();const u=Yn(1);return ee(2).dragStarted(u,a,s,!1)})("dragging",function(){return _e(e),ee(3).allDayEventDragMove()})("dragEnd",function(r){const a=_e(e).$implicit,u=ee(3);return u.dragEnded(a,r,u.dayColumnWidth)}),Ee(2,sH,1,2,"div",19),fe(3,"mwl-calendar-week-view-event",20),We("eventClicked",function(r){const a=_e(e).$implicit;return ee(3).eventClicked.emit({event:a.event,sourceEvent:r.sourceEvent})}),ge(),Ee(4,aH,1,2,"div",21),ge()}if(2&n){const e=t.$implicit,i=ee(3);La("width",100/i.days.length*e.span,"%")("margin-left",i.rtl?null:100/i.days.length*e.offset,"%")("margin-right",i.rtl?100/i.days.length*(i.days.length-e.offset)*-1:null,"%"),yi("cal-draggable",e.event.draggable&&0===i.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),te("ngClass",null==e.event?null:e.event.cssClass)("resizeSnapGrid",wi(32,lH,i.dayColumnWidth,i.dayColumnWidth))("validateResize",i.validateResize)("dropData",wi(35,aA,e.event,i.calendarId))("dragAxis",wi(38,Kp,e.event.draggable&&0===i.allDayEventResizes.size,!i.snapDraggedEvents&&e.event.draggable&&0===i.allDayEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?gc(41,uH,i.dayColumnWidth):Dr(43,Sh))("validateDrag",i.validateDrag)("touchStartLongPress",Dr(44,L_)),J(2),te("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),J(1),te("locale",i.locale)("weekEvent",e)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("daysInWeek",i.daysInWeek),J(1),te("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function dH(n,t){if(1&n&&(fe(0,"div",14,15),Ee(2,cH,5,45,"div",16),ge()),2&n){const e=t.$implicit,i=ee(2);J(2),te("ngForOf",e.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function hH(n,t){if(1&n){const e=Kn();fe(0,"div",8,9),We("dragEnter",function(){return _e(e),ee().dragEnter("allDay")})("dragLeave",function(){return _e(e),ee().dragLeave("allDay")}),fe(2,"div",5),fn(3,"div",10),Ee(4,iH,1,0,"div",11),ge(),Ee(5,dH,3,2,"div",12),ge()}if(2&n){const e=ee();J(3),te("ngTemplateOutlet",e.allDayEventsLabelTemplate),J(1),te("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),J(1),te("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function fH(n,t){if(1&n&&fn(0,"mwl-calendar-week-view-hour-segment",28),2&n){const e=t.$implicit,i=ee(3);La("height",i.hourSegmentHeight,"px"),te("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",i.daysInWeek)}}function pH(n,t){if(1&n&&(fe(0,"div",26),Ee(1,fH,1,8,"mwl-calendar-week-view-hour-segment",27),ge()),2&n){const e=t.$implicit,i=t.odd,r=ee(2);yi("cal-hour-odd",i),J(1),te("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function gH(n,t){if(1&n&&(fe(0,"div",24),Ee(1,pH,2,4,"div",25),ge()),2&n){const e=ee();J(1),te("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const mH=function(){return{left:!0,top:!0}};function vH(n,t){1&n&&fn(0,"div",22),2&n&&te("resizeEdges",Dr(1,mH))}function _H(n,t){}function yH(n,t){if(1&n){const e=Kn();fe(0,"mwl-calendar-week-view-event",36),We("eventClicked",function(r){_e(e);const s=ee().$implicit;return ee(2).eventClicked.emit({event:s.event,sourceEvent:r.sourceEvent})}),ge()}if(2&n){const e=ee().$implicit,i=ee().$implicit,r=ee();te("locale",r.locale)("weekEvent",e)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDisabled",r.dragActive||r.timeEventResizes.size>0)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("column",i)("daysInWeek",r.daysInWeek)}}const wH=function(){return{right:!0,bottom:!0}};function CH(n,t){1&n&&fn(0,"div",23),2&n&&te("resizeEdges",Dr(1,wH))}const DH=function(n,t,e,i){return{left:n,right:t,top:e,bottom:i}};function SH(n,t){if(1&n){const e=Kn();fe(0,"div",33,18),We("resizeStart",function(r){const a=_e(e).$implicit,u=ee(2),h=Yn(6);return u.timeEventResizeStarted(h,a,r)})("resizing",function(r){const a=_e(e).$implicit;return ee(2).timeEventResizing(a,r)})("resizeEnd",function(){const s=_e(e).$implicit;return ee(2).timeEventResizeEnded(s)})("dragStart",function(){const s=_e(e).$implicit,a=Yn(1),u=ee(2),h=Yn(6);return u.dragStarted(h,a,s,!0)})("dragging",function(r){const a=_e(e).$implicit;return ee(2).dragMove(a,r)})("dragEnd",function(r){const a=_e(e).$implicit,u=ee(2);return u.dragEnded(a,r,u.dayColumnWidth,!0)}),Ee(2,vH,1,2,"div",19),Ee(3,_H,0,0,"ng-template",34),Ee(4,yH,1,12,"ng-template",null,35,hs),Ee(6,CH,1,2,"div",21),ge()}if(2&n){const e=t.$implicit,i=Yn(5),r=ee(2);La("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),yi("cal-draggable",e.event.draggable&&0===r.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),te("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeSnapGrid",eT(29,DH,r.dayColumnWidth,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight,r.eventSnapSize||r.hourSegmentHeight))("validateResize",r.validateResize)("allowNegativeResizes",!0)("dropData",wi(34,aA,e.event,r.calendarId))("dragAxis",wi(37,Kp,e.event.draggable&&0===r.timeEventResizes.size,e.event.draggable&&0===r.timeEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?wi(40,Kp,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight):Dr(43,Sh))("touchStartLongPress",Dr(44,L_))("ghostDragEnabled",!r.snapDraggedEvents)("ghostElementTemplate",i)("validateDrag",r.validateDrag),J(2),te("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),J(1),te("ngTemplateOutlet",i),J(3),te("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function bH(n,t){if(1&n){const e=Kn();fe(0,"mwl-calendar-week-view-hour-segment",38),We("mwlClick",function(r){const a=_e(e).$implicit;return ee(3).hourSegmentClicked.emit({date:a.date,sourceEvent:r})})("drop",function(r){const a=_e(e).$implicit;return ee(3).eventDropped(r,a.date,!1)})("dragEnter",function(){const s=_e(e).$implicit;return ee(3).dateDragEnter(s.date)}),ge()}if(2&n){const e=t.$implicit,i=ee(3);La("height",i.hourSegmentHeight,"px"),te("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("daysInWeek",i.daysInWeek)("clickListenerDisabled",0===i.hourSegmentClicked.observers.length)("dragOverClass",i.dragActive&&i.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===i.daysInWeek)}}function EH(n,t){if(1&n&&(fe(0,"div",26),Ee(1,bH,1,10,"mwl-calendar-week-view-hour-segment",37),ge()),2&n){const e=t.$implicit,i=t.odd,r=ee(2);yi("cal-hour-odd",i),J(1),te("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function TH(n,t){if(1&n&&(fe(0,"div",29),fn(1,"mwl-calendar-week-view-current-time-marker",30),fe(2,"div",31),Ee(3,SH,7,45,"div",32),ge(),Ee(4,EH,2,4,"div",25),ge()),2&n){const e=t.$implicit,i=ee();J(1),te("columnDate",e.date)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("customTemplate",i.currentTimeMarkerTemplate),J(2),te("ngForOf",e.events)("ngForTrackBy",i.trackByWeekTimeEvent),J(1),te("ngForOf",e.hours)("ngForTrackBy",i.trackByHour)}}let bc=(()=>{class n{constructor(e,i,r){this.renderer=e,this.elm=i,this.document=r,this.clickListenerDisabled=!1,this.click=new me,this.destroy$=new Oe}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(Ua(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new _t(e=>this.renderer.listen(this.elm.nativeElement,"click",i=>{e.next(i)}))}}return n.\u0275fac=function(e){return new(e||n)(U($r),U(wn),U(on))},n.\u0275dir=we({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),N_=(()=>{class n{constructor(e,i,r){this.host=e,this.ngZone=i,this.renderer=r,this.keydown=new me,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(13===e.keyCode||13===e.which||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(e){return new(e||n)(U(wn),U(Qt),U($r))},n.\u0275dir=we({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),F_=(()=>{class n{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:i}){return e.badgeTotal>0?`\n        ${li(e.date,"EEEE MMMM d",i)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${li(e.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:e,locale:i}){return`\n      Beginning of expanded view for ${li(e,"EEEE MMMM dd",i)}\n    `}openDayEventsAlert({date:e,locale:i}){return`${li(e,"EEEE MMMM dd",i)} expanded`}eventDescription({event:e,locale:i}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:i});const r=`\n      ${li(e.start,"EEEE MMMM dd",i)},\n      ${e.title}, from ${li(e.start,"hh:mm a",i)}\n    `;return e.end?r+` to ${li(e.end,"hh:mm a",i)}`:r}allDayEventDescription({event:e,locale:i}){const r=`\n      ${e.title}, event spans multiple days:\n      start time ${li(e.start,"MMMM dd hh:mm a",i)}\n    `;return e.end?r+`, stop time ${li(e.end,"MMMM d hh:mm a",i)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(e){return new(e||n)(z(pD))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),Ec=(()=>{class n{constructor(e,i){this.calendarA11y=e,this.locale=i}transform(e,i){if(e.locale=e.locale||this.locale,typeof this.calendarA11y[i]>"u"){const r=Object.getOwnPropertyNames(Object.getPrototypeOf(F_.prototype)).filter(s=>"constructor"!==s);throw new Error(`${i} is not a valid a11y method. Can only be one of ${r.join(", ")}`)}return this.calendarA11y[i](e)}}return n.\u0275fac=function(e){return new(e||n)(U(F_,16),U(js,16))},n.\u0275pipe=Kt({name:"calendarA11y",type:n,pure:!0}),n})(),lA=(()=>{class n{constructor(){this.trackByActionId=(e,i)=>i.id?i.id:i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Yt({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,i){if(1&e&&(Ee(0,hB,1,1,"ng-template",null,0,hs),Ee(2,fB,0,0,"ng-template",1)),2&e){const r=Yn(1);J(2),te("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",wi(2,pB,i.event,i.trackByActionId))}},directives:[Fa,Jl,ma,bc,N_,Gs],pipes:[Ec],encapsulation:2}),n})();class v0{month(t,e){return t.title}monthTooltip(t,e){return t.title}week(t,e){return t.title}weekTooltip(t,e){return t.title}day(t,e){return t.title}dayTooltip(t,e){return t.title}}let _0=(()=>{class n{constructor(e){this.calendarEventTitle=e}transform(e,i,r){return this.calendarEventTitle[i](r,e)}}return n.\u0275fac=function(e){return new(e||n)(U(v0,16))},n.\u0275pipe=Kt({name:"calendarEventTitle",type:n,pure:!0}),n})(),uA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Yt({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,i){if(1&e&&(Ee(0,gB,3,10,"ng-template",null,0,hs),Ee(2,mB,0,0,"ng-template",1)),2&e){const r=Yn(1);J(2),te("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",wi(2,vB,i.event,i.view))}},directives:[Gs],pipes:[_0,Ec],encapsulation:2}),n})(),MH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Yt({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,i){if(1&e&&(Ee(0,_B,3,2,"ng-template",null,0,hs),Ee(2,yB,0,0,"ng-template",1)),2&e){const r=Yn(1);J(2),te("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",IC(2,wB,i.contents,i.placement,i.event))}},directives:[ma,Gs],encapsulation:2}),n})(),cA=(()=>{class n{constructor(e,i,r,s,a,u){this.elementRef=e,this.injector=i,this.renderer=r,this.viewContainerRef=a,this.document=u,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new Oe,this.tooltipFactory=s.resolveComponentFactory(MH)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?Ha("now"):M_(this.delay)).pipe(Ua(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function d2(n,t,e,i,r){var s=Array.isArray(e)?e:e.split(c2),a=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],u=t.classList,h=function(R){var F=R.split("-"),O=F[0],G=F[1],Y=[];return r&&(Y.push(r+"-"+O),G&&Y.push(r+"-"+O+"-"+G),Y.forEach(function(re){u.add(re)})),Y};r&&a.forEach(function(R){u.remove(r+"-"+R)});var f=s.findIndex(function(R){return"auto"===R});f>=0&&a.forEach(function(R){null==s.find(function(F){return-1!==F.search("^"+R)})&&s.splice(f++,1,R)});var m=t.style;m.position="absolute",m.top="0",m.left="0",m["will-change"]="transform";for(var y,C=!1,S=0,T=s;S<T.length;S++){var x=h(y=T[S]);if(OI.positionElements(n,t,y,i)){C=!0;break}r&&x.forEach(function(R){u.remove(R)})}return C||(h(y=s[0]),OI.positionElements(n,t,y,i)),y}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(e){return new(e||n)(U(wn),U(D),U($r),U(Ql),U(ds),U(on))},n.\u0275dir=we({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,i){1&e&&We("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseOut()})},inputs:{contents:["mwlCalendarTooltip","contents"],placement:["tooltipPlacement","placement"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"],delay:["tooltipDelay","delay"]},features:[_n]}),n})();var ja=(()=>{return(n=ja||(ja={})).Month="month",n.Week="week",n.Day="day",ja;var n})();const dA=n=>function b2(n,t){var e=!0;function i(r,s){t(r,s),e=!1}return Array.isArray(n)?(n.forEach(function(r){r.start?r.start instanceof Date||i(ru.StartPropertyNotDate,r):i(ru.StartPropertyMissing,r),r.end&&(r.end instanceof Date||i(ru.EndPropertyNotDate,r),r.start>r.end&&i(ru.EndsBeforeStart,r))}),e):(t(ru.NotArray,n),!1)}(n,(...e)=>console.warn("angular-calendar",...e));function hA(n,t){return Math.floor(n.left)<=Math.ceil(t.left)&&Math.floor(t.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(t.right)&&Math.floor(t.right)<=Math.ceil(n.right)}function fA(n,t){return Math.round(n/t)*t}const pA=(n,t)=>t.id?t.id:t,y0=(n,t)=>t.date.toISOString(),xH=(n,t)=>t.date.toISOString(),PH=(n,t)=>t.segments[0].date.toISOString(),RH=(n,t)=>t.event.id?t.event.id:t.event,kH=(n,t)=>t.event.id?t.event.id:t.event;function w0(n,t,e,i,r){const s=fA(n,i||e),a=function LH(n,t,e){return(e||60)/(n*t)}(t,e,r);return s*a}function gA(n,t,e){return t.end?t.end:n.addMinutes(t.start,e)}function ko(n,t,e,i){let r=0,s=0;const a=e<0?n.subDays:n.addDays;let u=t;for(;s<=Math.abs(e);){u=a(t,r);const h=n.getDay(u);-1===i.indexOf(h)&&s++,r++}return u}function C0(n,t,e,i=[],r){let s=r?n.startOfDay(t):n.startOfWeek(t,{weekStartsOn:e});const a=n.endOfWeek(t,{weekStartsOn:e});for(;i.indexOf(n.getDay(s))>-1&&s<a;)s=n.addDays(s,1);if(r)return{viewStart:s,viewEnd:n.endOfDay(ko(n,s,r-1,i))};{let u=a;for(;i.indexOf(n.getDay(u))>-1&&u>s;)u=n.subDays(u,1);return{viewStart:s,viewEnd:u}}}function D0({x:n,y:t}){return Math.abs(n)>1||Math.abs(t)>1}class za{}let VH=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new me}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===ja.Day?ko(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===ja.Week&&this.daysInWeek?ko(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)(U(za))},n.\u0275dir=we({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,i){1&e&&We("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),BH=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new me}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===ja.Day?ko(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===ja.Week&&this.daysInWeek?ko(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)(U(za))},n.\u0275dir=we({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,i){1&e&&We("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),HH=(()=>{class n{constructor(e){this.dateAdapter=e,this.viewDateChange=new me}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return n.\u0275fac=function(e){return new(e||n)(U(za))},n.\u0275dir=we({type:n,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,i){1&e&&We("click",function(){return i.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),n})(),UH=(()=>{class n{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:i}){return li(e,"EEEE",i)}monthViewDayNumber({date:e,locale:i}){return li(e,"d",i)}monthViewTitle({date:e,locale:i}){return li(e,"LLLL y",i)}weekViewColumnHeader({date:e,locale:i}){return li(e,"EEEE",i)}weekViewColumnSubHeader({date:e,locale:i}){return li(e,"MMM d",i)}weekViewTitle({date:e,locale:i,weekStartsOn:r,excludeDays:s,daysInWeek:a}){const{viewStart:u,viewEnd:h}=C0(this.dateAdapter,e,r,s,a),f=(m,y)=>li(m,"MMM d"+(y?", yyyy":""),i);return`${f(u,u.getUTCFullYear()!==h.getUTCFullYear())} - ${f(h,!0)}`}weekViewHour({date:e,locale:i}){return li(e,"h a",i)}dayViewHour({date:e,locale:i}){return li(e,"h a",i)}dayViewTitle({date:e,locale:i}){return li(e,"EEEE, MMMM d, y",i)}}return n.\u0275fac=function(e){return new(e||n)(z(za))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),V_=(()=>{class n extends UH{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Hn(n)))(i||n)}}(),n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),Xp=(()=>{class n{constructor(e,i){this.dateFormatter=e,this.locale=i}transform(e,i,r=this.locale,s=0,a=[],u){if(typeof this.dateFormatter[i]>"u"){const h=Object.getOwnPropertyNames(Object.getPrototypeOf(V_.prototype)).filter(f=>"constructor"!==f);throw new Error(`${i} is not a valid date formatter. Can only be one of ${h.join(", ")}`)}return this.dateFormatter[i]({date:e,locale:r,weekStartsOn:s,excludeDays:a,daysInWeek:u})}}return n.\u0275fac=function(e){return new(e||n)(U(V_,16),U(js,16))},n.\u0275pipe=Kt({name:"calendarDate",type:n,pure:!0}),n})(),B_=(()=>{class n{constructor(e){this.dateAdapter=e}getMonthView(e){return function C2(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,a=t.excluded,u=void 0===a?[]:a,h=t.viewStart,f=void 0===h?n.startOfMonth(r):h,m=t.viewEnd,y=void 0===m?n.endOfMonth(r):m,C=t.weekendDays;i||(i=[]);for(var be,T=n.endOfWeek,x=n.differenceInDays,R=n.startOfDay,F=n.addHours,O=n.endOfDay,G=n.isSameMonth,Y=n.getDay,Ce=(0,n.startOfWeek)(f,{weekStartsOn:s}),Ze=T(y,{weekStartsOn:s}),Ve=Zp(n,{events:i,periodStart:Ce,periodEnd:Ze}),De=[],de=function(St){var Rt;if(be?(Rt=R(F(be,24)),be.getTime()===Rt.getTime()&&(Rt=R(F(be,25))),be=Rt):Rt=be=Ce,!u.some(function(qs){return Y(Rt)===qs})){var Sn=FI(n,{date:Rt,weekendDays:C}),bi=Zp(n,{events:Ve,periodStart:R(Rt),periodEnd:O(Rt)});Sn.inMonth=G(Rt,r),Sn.events=bi,Sn.badgeTotal=bi.length,De.push(Sn)}},ie=0;ie<x(Ze,Ce)+1;ie++)de();var ht=[],dt=7-u.length;if(dt<7)for(ie=0;ie<De.length;ie+=dt){var Tr=De.slice(ie,ie+dt);Tr.some(function(Rt){return f<=Rt.date&&Rt.date<y})&&(ht=LI(ht,Tr))}else ht=De;var Se=Math.floor(ht.length/dt),xe=[];for(ie=0;ie<Se;ie++)xe.push(ie*dt);return{rowOffsets:xe,totalDaysVisibleInWeek:dt,days:ht,period:{start:ht[0].date,end:O(ht[ht.length-1].date),events:Ve}}}(this.dateAdapter,e)}getWeekViewHeader(e){return t0(this.dateAdapter,e)}getWeekView(e){return function w2(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,a=t.excluded,u=void 0===a?[]:a,h=t.precision,f=void 0===h?"days":h,m=t.absolutePositionedEvents,y=void 0!==m&&m,C=t.hourSegments,S=t.hourDuration,T=t.dayStart,x=t.dayEnd,R=t.weekendDays,F=t.segmentHeight,O=t.minimumEventHeight,G=t.viewStart,Y=void 0===G?n.startOfWeek(r,{weekStartsOn:s}):G,re=t.viewEnd,Ce=void 0===re?n.endOfWeek(r,{weekStartsOn:s}):re;i||(i=[]);var Ve=n.endOfDay,De=Zp(n,{events:i,periodStart:Y=(0,n.startOfDay)(Y),periodEnd:Ce=Ve(Ce)}),be=t0(n,{viewDate:r,weekStartsOn:s,excluded:u,weekendDays:R,viewStart:Y,viewEnd:Ce});return{allDayEventRows:_2(n,{events:De,excluded:u,precision:f,absolutePositionedEvents:y,viewStart:Y,viewEnd:Ce}),period:{events:De,start:be[0].date,end:Ve(be[be.length-1].date)},hourColumns:y2(n,{events:i,viewDate:r,hourSegments:C,hourDuration:S,dayStart:T,dayEnd:x,weekStartsOn:s,excluded:u,weekendDays:R,segmentHeight:F,viewStart:Y,viewEnd:Ce,minimumEventHeight:O})}}(this.dateAdapter,e)}}return n.\u0275fac=function(e){return new(e||n)(z(za))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();new rt("Moment");var _a=(()=>{return(n=_a||(_a={})).Drag="drag",n.Drop="drop",n.Resize="resize",_a;var n})();let Qp=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||v0,i.dateFormatter||V_,i.utils||B_,i.a11y||F_]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({providers:[pD],imports:[[mh]]}),n})(),jH=(()=>{class n{constructor(){this.columnHeaderClicked=new me,this.trackByWeekDayHeaderDate=y0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Yt({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,i){if(1&e&&(Ee(0,DB,2,2,"ng-template",null,0,hs),Ee(2,SB,0,0,"ng-template",1)),2&e){const r=Yn(1);J(2),te("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",IC(2,bB,i.days,i.locale,i.trackByWeekDayHeaderDate))}},directives:[Jl,ma,Gs],pipes:[Xp],encapsulation:2}),n})(),zH=(()=>{class n{constructor(){this.highlightDay=new me,this.unhighlightDay=new me,this.eventClicked=new me,this.trackByEventId=pA,this.validateDrag=D0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Yt({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,i){2&e&&yi("cal-past",i.day.isPast)("cal-today",i.day.isToday)("cal-future",i.day.isFuture)("cal-weekend",i.day.isWeekend)("cal-in-month",i.day.inMonth)("cal-out-month",!i.day.inMonth)("cal-has-events",i.day.events.length>0)("cal-open",i.day===i.openDay)("cal-event-highlight",!!i.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(e,i){if(1&e&&(Ee(0,xB,8,14,"ng-template",null,0,hs),Ee(2,PB,0,0,"ng-template",1)),2&e){const r=Yn(1);J(2),te("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",xC(2,RB,[i.day,i.openDay,i.locale,i.tooltipPlacement,i.highlightDay,i.unhighlightDay,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDelay,i.trackByEventId,i.validateDrag]))}},directives:[Fa,Jl,f0,Bp,ma,cA,bc,Gs],pipes:[Ec,Xp,_0],encapsulation:2}),n})();const WH=function sF(n,t){return{type:7,name:n,definitions:t,options:{}}}("collapse",[zM("void",s_({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),zM("*",s_({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),WM("* => void",UM("150ms ease-out")),WM("void => *",UM("150ms ease-in"))]);let GH=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new me,this.trackByEventId=pA,this.validateDrag=D0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Yt({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,i){if(1&e&&(Ee(0,NB,1,1,"ng-template",null,0,hs),Ee(2,FB,0,0,"ng-template",1)),2&e){const r=Yn(1);J(2),te("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",AC(2,VB,i.events,i.eventClicked,i.isOpen,i.trackByEventId,i.validateDrag))}},directives:[uA,lA,Fa,Jl,f0,ma,Bp,bc,N_,Gs],pipes:[Ec],encapsulation:2,data:{animation:[WH]}}),n})(),$H=(()=>{class n{constructor(e,i,r,s){this.cdr=e,this.utils=i,this.dateAdapter=s,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new me,this.dayClicked=new me,this.eventClicked=new me,this.columnHeaderClicked=new me,this.eventTimesChanged=new me,this.trackByRowOffset=(a,u)=>this.view.days.slice(u,this.view.totalDaysVisibleInWeek).map(h=>h.date.toISOString()).join("-"),this.trackByDate=(a,u)=>u.date.toISOString(),this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays,r=e.viewDate||e.events||e.excludeDays||e.weekendDays;i&&this.refreshHeader(),e.events&&dA(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,i){this.view.days.forEach(r=>{i&&r.events.indexOf(e)>-1?r.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete r.backgroundColor})}eventDropped(e,i,r){if(e!==r){const s=this.dateAdapter.getYear(e.date),a=this.dateAdapter.getMonth(e.date),u=this.dateAdapter.getDate(e.date),h=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(i.start,s),a),u);let f;if(i.end){const m=this.dateAdapter.differenceInSeconds(h,i.start);f=this.dateAdapter.addSeconds(i.end,m)}this.eventTimesChanged.emit({event:i,newStart:h,newEnd:f,day:e,type:_a.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(r=>this.dateAdapter.isSameDay(r.date,e));const i=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(i/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(e){return new(e||n)(U(gh),U(B_),U(js),U(za))},n.\u0275cmp=Yt({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[_n],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,i){1&e&&(fe(0,"div",0)(1,"mwl-calendar-month-view-header",1),We("columnHeaderClicked",function(s){return i.columnHeaderClicked.emit(s)}),ge(),fe(2,"div",2),Ee(3,HB,5,13,"div",3),ge()()),2&e&&(J(1),te("days",i.columnHeaders)("locale",i.locale)("customTemplate",i.headerTemplate),J(2),te("ngForOf",i.view.rowOffsets)("ngForTrackBy",i.trackByRowOffset))},directives:[jH,zH,GH,Jl,p0,ma,Bp,bc,N_],pipes:[Ec,CM],encapsulation:2}),n})(),mA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({imports:[[mh,k_,Qp],k_]}),n})();class ZH{constructor(t,e){this.dragContainerElement=t,this.startPosition=e.getBoundingClientRect()}validateDrag({x:t,y:e,snapDraggedEvents:i,dragAlreadyMoved:r,transform:s}){const a=D0({x:t,y:e})||r;if(i){const u=Object.assign({},this.startPosition,{left:this.startPosition.left+s.x,right:this.startPosition.right+s.x,top:this.startPosition.top+s.y,bottom:this.startPosition.bottom+s.y});if(a){const h=this.dragContainerElement.getBoundingClientRect(),f=h.top<u.top&&u.top<h.bottom,m=h.top<u.bottom&&u.bottom<h.bottom;return hA(h,u)&&(f||m)}return!1}return a}}class qH{constructor(t,e,i){this.resizeContainerElement=t,this.minWidth=e,this.rtl=i}validateResize({rectangle:t,edges:e}){return this.rtl&&(typeof e.left<"u"?(t.left-=e.left,t.right+=e.left):typeof e.right<"u"&&(t.left+=e.right,t.right-=e.right),t.width=t.right-t.left),!(this.minWidth&&Math.ceil(t.width)<Math.ceil(this.minWidth))&&function AH(n,t){return hA(n,t)&&function IH(n,t){return Math.floor(n.top)<=Math.ceil(t.top)&&Math.floor(t.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(t.bottom)&&Math.floor(t.bottom)<=Math.ceil(n.bottom)}(n,t)}(this.resizeContainerElement.getBoundingClientRect(),t)}}let YH=(()=>{class n{constructor(){this.dayHeaderClicked=new me,this.eventDropped=new me,this.dragEnter=new me,this.trackByWeekDayHeaderDate=y0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Yt({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,i){if(1&e&&(Ee(0,jB,2,2,"ng-template",null,0,hs),Ee(2,zB,0,0,"ng-template",1)),2&e){const r=Yn(1);J(2),te("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",function tT(n,t,e,i,r,s,a,u,h){const f=Oi()+n,m=K(),y=Us(m,f,e,i,r,s);return hc(m,f+4,a,u)||y?da(m,f+6,h?t.call(h,e,i,r,s,a,u):t(e,i,r,s,a,u)):Dp(m,f+6)}(2,WB,i.days,i.locale,i.dayHeaderClicked,i.eventDropped,i.dragEnter,i.trackByWeekDayHeaderDate))}},directives:[Jl,p0,ma,bc,Gs],pipes:[Xp],encapsulation:2}),n})(),KH=(()=>{class n{constructor(){this.eventClicked=new me}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Yt({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,i){if(1&e&&(Ee(0,$B,6,26,"ng-template",null,0,hs),Ee(2,ZB,0,0,"ng-template",1)),2&e){const r=Yn(1);J(2),te("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",xC(2,qB,[i.weekEvent,i.tooltipPlacement,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDisabled,i.tooltipDelay,i.column,i.daysInWeek]))}},directives:[lA,uA,Bp,cA,bc,N_,Gs],pipes:[_0,Ec],encapsulation:2}),n})(),XH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Yt({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,i){if(1&e&&(Ee(0,KB,3,13,"ng-template",null,0,hs),Ee(2,XB,0,0,"ng-template",1)),2&e){const r=Yn(1);J(2),te("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",AC(2,QB,i.segment,i.locale,i.segmentHeight,i.isTimeLabel,i.daysInWeek))}},directives:[ma,Fa,Gs],pipes:[Ec,Xp],encapsulation:2}),n})(),QH=(()=>{class n{constructor(e,i){this.dateAdapter=e,this.zone=i,this.columnDate$=new yh(void 0),this.marker$=this.zone.onStable.pipe(Va(()=>PI(6e4)),kI(0),function l2(n,t){return at(t)?Va(()=>n,t):Va(()=>n)}(this.columnDate$),lt(r=>{const s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayStartHour),this.dayStartMinute),a=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayEndHour),this.dayEndMinute),u=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),h=new Date;return{isVisible:this.dateAdapter.isSameDay(r,h)&&h>=s&&h<=a,top:this.dateAdapter.differenceInMinutes(h,s)*u}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}return n.\u0275fac=function(e){return new(e||n)(U(za),U(Qt))},n.\u0275cmp=Yt({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[_n],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,i){if(1&e&&(Ee(0,eH,1,1,"ng-template",null,0,hs),Ee(2,tH,0,0,"ng-template",1),Cn(3,"async"),Cn(4,"async")),2&e){const r=Yn(1);let s;J(2),te("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",function nT(n,t,e,i,r,s,a,u,h,f){const m=Oi()+n,y=K();let C=Us(y,m,e,i,r,s);return wv(y,m+4,a,u,h)||C?da(y,m+7,f?t.call(f,e,i,r,s,a,u,h):t(e,i,r,s,a,u,h)):Dp(y,m+7)}(6,nH,i.columnDate,i.dayStartHour,i.dayStartMinute,i.dayEndHour,i.dayEndMinute,null==(s=xv(3,2,i.marker$))?null:s.isVisible,null==(s=xv(4,4,i.marker$))?null:s.top))}},directives:[Fa,Gs],pipes:[fD],encapsulation:2}),n})(),vA=(()=>{class n{constructor(e,i,r,s,a){this.cdr=e,this.utils=i,this.dateAdapter=s,this.element=a,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new me,this.eventClicked=new me,this.eventTimesChanged=new me,this.beforeViewRender=new me,this.hourSegmentClicked=new me,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=y0,this.trackByHourSegment=xH,this.trackByHour=PH,this.trackByWeekAllDayEvent=RH,this.trackByWeekTimeEvent=kH,this.trackByHourColumn=(u,h)=>h.hours[0]?h.hours[0].segments[0].date.toISOString():h,this.trackById=(u,h)=>h.id,this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,r=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;i&&this.refreshHeader(),e.events&&dA(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(e,i,r){this.timeEventResizes.set(i.event,r),this.resizeStarted(e,i)}timeEventResizing(e,i){this.timeEventResizes.set(e.event,i);const r=new Map,s=[...this.events];this.timeEventResizes.forEach((a,u)=>{const h=this.getTimeEventResizedDates(u,a),f=Object.assign(Object.assign({},u),h);r.set(f,u);const m=s.indexOf(u);s[m]=f}),this.restoreOriginalEvents(s,r,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const i=this.timeEventResizes.get(e.event);if(i){this.timeEventResizes.delete(e.event);const r=this.getTimeEventResizedDates(e.event,i);this.eventTimesChanged.emit({newStart:r.start,newEnd:r.end,event:e.event,type:_a.Resize})}}allDayEventResizeStarted(e,i,r){this.allDayEventResizes.set(i,{originalOffset:i.offset,originalSpan:i.span,edge:typeof r.edges.left<"u"?"left":"right"}),this.resizeStarted(e,i,this.getDayColumnWidth(e))}allDayEventResizing(e,i,r){const s=this.allDayEventResizes.get(e),a=this.rtl?-1:1;if(typeof i.edges.left<"u"){const u=Math.round(+i.edges.left/r)*a;e.offset=s.originalOffset+u,e.span=s.originalSpan-u}else if(typeof i.edges.right<"u"){const u=Math.round(+i.edges.right/r)*a;e.span=s.originalSpan+u}}allDayEventResizeEnded(e){const i=this.allDayEventResizes.get(e);if(i){const r="left"===i.edge;let s;s=r?e.offset-i.originalOffset:e.span-i.originalSpan,e.offset=i.originalOffset,e.span=i.originalSpan;const a=this.getAllDayEventResizedDates(e.event,s,r);this.eventTimesChanged.emit({newStart:a.start,newEnd:a.end,event:e.event,type:_a.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,i,r){(function FH(n,t,e,i){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==i||n.dropData.event.allDay&&!e||!n.dropData.event.allDay&&e)})(e,0,r,this.calendarId)&&this.lastDragEnterDate.getTime()===i.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:_a.Drop,event:e.dropData.event,newStart:i,allDay:r}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,i,r,s){this.dayColumnWidth=this.getDayColumnWidth(e);const a=new ZH(e,i);this.validateDrag=({x:u,y:h,transform:f})=>{const m=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&a.validateDrag({x:u,y:h,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:f});if(m&&this.validateEventTimesChanged){const y=this.getDragMovedEventTimes(r,{x:u,y:h},this.dayColumnWidth,s);return this.validateEventTimesChanged({type:_a.Drag,event:r.event,newStart:y.start,newEnd:y.end})}return m},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&s&&this.view.hourColumns.forEach(u=>{const h=u.events.find(f=>f.event===r.event&&f!==r);h&&(h.width=0,h.height=0)}),this.cdr.markForCheck()}dragMove(e,i){const r=this.getDragMovedEventTimes(e,i,this.dayColumnWidth,!0),s=e.event,a=Object.assign(Object.assign({},s),r),u=this.events.map(h=>h===s?a:h);this.restoreOriginalEvents(u,new Map([[a,s]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,i,r,s=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:a,end:u}=this.getDragMovedEventTimes(e,i,r,s);(this.snapDraggedEvents||this.eventDragEnterByType[s?"time":"allDay"]>0)&&function NH(n,t,e){const i=t||n;return e.start<=n&&n<=e.end||e.start<=i&&i<=e.end}(a,u,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:a,newEnd:u,event:e.event,type:_a.Drag,allDay:!s}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},C0(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(e){return this.utils.getWeekView(Object.assign({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight},C0(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(e,i,r,s){const a=fA(i.x,r)/r*(this.rtl?-1:1),u=s?w0(i.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,h=this.dateAdapter.addMinutes(ko(this.dateAdapter,e.event.start,a,this.excludeDays),u);let f;return e.event.end&&(f=this.dateAdapter.addMinutes(ko(this.dateAdapter,e.event.end,a,this.excludeDays),u)),{start:h,end:f}}restoreOriginalEvents(e,i,r=!0){const s=this.view;r&&(this.view=this.getWeekView(e));const a=e.filter(u=>i.has(u));this.view.hourColumns.forEach((u,h)=>{s.hourColumns[h].hours.forEach((f,m)=>{f.segments.forEach((y,C)=>{u.hours[m].segments[C].cssClass=y.cssClass})}),a.forEach(f=>{const m=i.get(f),y=u.events.find(C=>C.event===(r?f:m));y?(y.event=m,y.tempEvent=f,r||(y.height=0,y.width=0)):u.events.push({event:m,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:f})})}),i.clear()}getTimeEventResizedDates(e,i){const r={start:e.start,end:gA(this.dateAdapter,e,this.minimumEventHeight)},a=function Ya(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}(e,["end"]),u={start:this.dateAdapter.addMinutes(r.end,-1*this.minimumEventHeight),end:gA(this.dateAdapter,a,this.minimumEventHeight)},h=this.rtl?-1:1;if(typeof i.edges.left<"u"){const f=Math.round(+i.edges.left/this.dayColumnWidth)*h,m=ko(this.dateAdapter,r.start,f,this.excludeDays);r.start=m<u.start?m:u.start}else if(typeof i.edges.right<"u"){const f=Math.round(+i.edges.right/this.dayColumnWidth)*h,m=ko(this.dateAdapter,r.end,f,this.excludeDays);r.end=m>u.end?m:u.end}if(typeof i.edges.top<"u"){const f=w0(i.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),m=this.dateAdapter.addMinutes(r.start,f);r.start=m<u.start?m:u.start}else if(typeof i.edges.bottom<"u"){const f=w0(i.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),m=this.dateAdapter.addMinutes(r.end,f);r.end=m>u.end?m:u.end}return r}resizeStarted(e,i,r){this.dayColumnWidth=this.getDayColumnWidth(e);const s=new qH(e,r,this.rtl);this.validateResize=({rectangle:a,edges:u})=>{const h=s.validateResize({rectangle:Object.assign({},a),edges:u});if(h&&this.validateEventTimesChanged){let f;if(r){const m=this.rtl?-1:1;if(typeof u.left<"u"){const y=Math.round(+u.left/r)*m;f=this.getAllDayEventResizedDates(i.event,y,!this.rtl)}else{const y=Math.round(+u.right/r)*m;f=this.getAllDayEventResizedDates(i.event,y,this.rtl)}}else f=this.getTimeEventResizedDates(i.event,{rectangle:a,edges:u});return this.validateEventTimesChanged({type:_a.Resize,event:i.event,newStart:f.start,newEnd:f.end})}return h},this.cdr.markForCheck()}getAllDayEventResizedDates(e,i,r){let s=e.start,a=e.end||e.start;return r?s=ko(this.dateAdapter,s,i,this.excludeDays):a=ko(this.dateAdapter,a,i,this.excludeDays),{start:s,end:a}}}return n.\u0275fac=function(e){return new(e||n)(U(gh),U(B_),U(js),U(za),U(wn))},n.\u0275cmp=Yt({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[_n],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,i){1&e&&(fe(0,"div",0)(1,"mwl-calendar-week-view-header",1),We("dayHeaderClicked",function(s){return i.dayHeaderClicked.emit(s)})("eventDropped",function(s){return i.eventDropped({dropData:s},s.newStart,!0)})("dragEnter",function(s){return i.dateDragEnter(s.date)}),ge(),Ee(2,hH,6,5,"div",2),fe(3,"div",3),We("dragEnter",function(){return i.dragEnter("time")})("dragLeave",function(){return i.dragLeave("time")}),Ee(4,gH,2,2,"div",4),fe(5,"div",5,6),Ee(7,TH,5,13,"div",7),ge()()()),2&e&&(J(1),te("days",i.days)("locale",i.locale)("customTemplate",i.headerTemplate),J(1),te("ngIf",i.view.allDayEventRows.length>0),J(2),te("ngIf",i.view.hourColumns.length>0&&1!==i.daysInWeek),J(1),yi("cal-resize-active",i.timeEventResizes.size>0),J(2),te("ngForOf",i.view.hourColumns)("ngForTrackBy",i.trackByHourColumn))},directives:[YH,KH,XH,QH,Fa,p0,Gs,Jl,iA,f0,ma,lB,bc],encapsulation:2}),n})(),S0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({imports:[[mh,rA,k_,Qp],rA,k_]}),n})(),JH=(()=>{class n{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new me,this.hourSegmentClicked=new me,this.eventTimesChanged=new me,this.beforeViewRender=new me}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Yt({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:26,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(e,i){1&e&&(fe(0,"mwl-calendar-week-view",0),We("eventClicked",function(s){return i.eventClicked.emit(s)})("hourSegmentClicked",function(s){return i.hourSegmentClicked.emit(s)})("eventTimesChanged",function(s){return i.eventTimesChanged.emit(s)})("beforeViewRender",function(s){return i.beforeViewRender.emit(s)}),ge()),2&e&&te("daysInWeek",1)("viewDate",i.viewDate)("events",i.events)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("minimumEventHeight",i.minimumEventHeight)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("refresh",i.refresh)("locale",i.locale)("eventSnapSize",i.eventSnapSize)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("hourSegmentTemplate",i.hourSegmentTemplate)("eventTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("snapDraggedEvents",i.snapDraggedEvents)("allDayEventsLabelTemplate",i.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",i.currentTimeMarkerTemplate)("validateEventTimesChanged",i.validateEventTimesChanged)},directives:[vA],encapsulation:2}),n})(),_A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({imports:[[mh,Qp,S0]]}),n})(),eU=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||v0,i.dateFormatter||V_,i.utils||B_,i.a11y||F_]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({imports:[[Qp,mA,S0,_A],Qp,mA,S0,_A]}),n})();function Vi(n){if(null===n||!0===n||!1===n)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function it(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function jt(n){it(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||"object"==typeof n&&"[object Date]"===t?new Date(n.getTime()):"number"==typeof n||"[object Number]"===t?new Date(n):(("string"==typeof n||"[object String]"===t)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function b0(n,t){it(2,arguments);var e=jt(n),i=Vi(t);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}function E0(n,t){it(2,arguments);var e=jt(n).getTime(),i=Vi(t);return new Date(e+i)}function nU(n,t){it(2,arguments);var e=Vi(t);return E0(n,36e5*e)}function rU(n,t){it(2,arguments);var e=Vi(t);return E0(n,6e4*e)}function sU(n,t){it(2,arguments);var e=Vi(t);return E0(n,1e3*e)}function yA(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function Jp(n){it(1,arguments);var t=jt(n);return t.setHours(0,0,0,0),t}function aU(n,t){it(2,arguments);var e=Jp(n),i=Jp(t),r=e.getTime()-yA(e),s=i.getTime()-yA(i);return Math.round((r-s)/864e5)}function wA(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function lU(n,t){it(2,arguments);var e=jt(n),i=jt(t),r=wA(e,i),s=Math.abs(aU(e,i));e.setDate(e.getDate()-r*s);var a=Number(wA(e,i)===-r),u=r*(s-a);return 0===u?0:u}function DA(n,t){return it(2,arguments),jt(n).getTime()-jt(t).getTime()}Math.pow(10,8);var SA={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(n){return n<0?Math.ceil(n):Math.floor(n)}};function bA(n){return n?SA[n]:SA.trunc}function mU(n,t,e){it(2,arguments);var i=DA(n,t)/6e4;return bA(null==e?void 0:e.roundingMethod)(i)}function vU(n,t,e){it(2,arguments);var i=DA(n,t)/1e3;return bA(null==e?void 0:e.roundingMethod)(i)}function _U(n){it(1,arguments);var t=jt(n);return t.setHours(23,59,59,999),t}function yU(n){it(1,arguments);var t=jt(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}var EA={};function TA(){return EA}function wU(n,t){var e,i,r,s,a,u,h,f;it(1,arguments);var m=TA(),y=Vi(null!==(e=null!==(i=null!==(r=null!==(s=null==t?void 0:t.weekStartsOn)&&void 0!==s?s:null==t||null===(a=t.locale)||void 0===a||null===(u=a.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==r?r:m.weekStartsOn)&&void 0!==i?i:null===(h=m.locale)||void 0===h||null===(f=h.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==e?e:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var C=jt(n),S=C.getDay(),T=6+(S<y?-7:0)-(S-y);return C.setDate(C.getDate()+T),C.setHours(23,59,59,999),C}function CU(n){it(1,arguments);var t=jt(n),e=t.getDay();return e}function DU(n){it(1,arguments);var t=jt(n),e=t.getMonth();return e}function MA(n,t){it(2,arguments);var e=Jp(n),i=Jp(t);return e.getTime()===i.getTime()}function IA(n,t){it(2,arguments);var e=jt(n),i=jt(t);return e.getFullYear()===i.getFullYear()&&e.getMonth()===i.getMonth()}function AA(n){it(1,arguments);var t=jt(n);return t.setMilliseconds(0),t}function SU(n,t){it(2,arguments);var e=AA(n),i=AA(t);return e.getTime()===i.getTime()}function bU(n){var t,e;if(it(1,arguments),n&&"function"==typeof n.forEach)t=n;else{if("object"!=typeof n||null===n)return new Date(NaN);t=Array.prototype.slice.call(n)}return t.forEach(function(i){var r=jt(i);(void 0===e||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function EU(n,t){it(2,arguments);var e=jt(n),i=Vi(t);return e.setHours(i),e}function TU(n,t){it(2,arguments);var e=jt(n),i=Vi(t);return e.setMinutes(i),e}function MU(n){it(1,arguments);var t=jt(n);return t.setSeconds(0,0),t}function IU(n){it(1,arguments);var t=jt(n);return t.setDate(1),t.setHours(0,0,0,0),t}function xA(n,t){var e,i,r,s,a,u,h,f;it(1,arguments);var m=TA(),y=Vi(null!==(e=null!==(i=null!==(r=null!==(s=null==t?void 0:t.weekStartsOn)&&void 0!==s?s:null==t||null===(a=t.locale)||void 0===a||null===(u=a.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==r?r:m.weekStartsOn)&&void 0!==i?i:null===(h=m.locale)||void 0===h||null===(f=h.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==e?e:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var C=jt(n),S=C.getDay(),T=(S<y?7:0)+S-y;return C.setDate(C.getDate()-T),C.setHours(0,0,0,0),C}function AU(n){it(1,arguments);var t=jt(n),e=t.getHours();return e}function xU(n){it(1,arguments);var t=jt(n),e=t.getMinutes();return e}function PU(n){return new Date(n).getTimezoneOffset()}function PA(n,t){it(2,arguments);var e=Vi(t),i=7*e;return b0(n,i)}function RA(n,t){it(2,arguments);var e=jt(n),i=Vi(t);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),s=new Date(e.getTime());s.setMonth(e.getMonth()+i+1,0);var a=s.getDate();return r>=a?s:(e.setFullYear(s.getFullYear(),s.getMonth(),r),e)}function kU(n,t){it(2,arguments);var e=Vi(t);return b0(n,-e)}function OU(n,t){it(2,arguments);var e=Vi(t);return PA(n,-e)}function LU(n,t){it(2,arguments);var e=Vi(t);return RA(n,-e)}function H_(n){return it(1,arguments),xA(n,{weekStartsOn:1})}function NU(n){it(1,arguments);var t=jt(n),e=t.getFullYear(),i=new Date(0);i.setFullYear(e+1,0,4),i.setHours(0,0,0,0);var r=H_(i),s=new Date(0);s.setFullYear(e,0,4),s.setHours(0,0,0,0);var a=H_(s);return t.getTime()>=r.getTime()?e+1:t.getTime()>=a.getTime()?e:e-1}function FU(n){it(1,arguments);var t=NU(n),e=new Date(0);e.setFullYear(t,0,4),e.setHours(0,0,0,0);var i=H_(e);return i}var VU=6048e5;function BU(n){it(1,arguments);var t=jt(n),e=H_(t).getTime()-FU(t).getTime();return Math.round(e/VU)+1}function HU(n,t){it(2,arguments);var e=jt(n),i=Vi(t);return e.setDate(i),e}function UU(n){it(1,arguments);var t=jt(n),e=t.getFullYear(),i=t.getMonth(),r=new Date(0);return r.setFullYear(e,i+1,0),r.setHours(0,0,0,0),r.getDate()}function jU(n,t){it(2,arguments);var e=jt(n),i=Vi(t),r=e.getFullYear(),s=e.getDate(),a=new Date(0);a.setFullYear(r,i,15),a.setHours(0,0,0,0);var u=UU(a);return e.setMonth(i,Math.min(s,u)),e}function zU(n,t){it(2,arguments);var e=jt(n),i=Vi(t);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(i),e)}function WU(n){it(1,arguments);var t=jt(n),e=t.getDate();return e}function GU(n){return it(1,arguments),jt(n).getFullYear()}function $U(){return Qr(Qr({},function RU(){return{addDays:b0,addHours:nU,addMinutes:rU,addSeconds:sU,differenceInDays:lU,differenceInMinutes:mU,differenceInSeconds:vU,endOfDay:_U,endOfMonth:yU,endOfWeek:wU,getDay:CU,getMonth:DU,isSameDay:MA,isSameMonth:IA,isSameSecond:SU,max:bU,setHours:EU,setMinutes:TU,startOfDay:Jp,startOfMinute:MU,startOfMonth:IU,startOfWeek:xA,getHours:AU,getMinutes:xU,getTimezoneOffset:PU}}()),{addWeeks:PA,addMonths:RA,subDays:kU,subWeeks:OU,subMonths:LU,getISOWeek:BU,setDate:HU,setMonth:jU,setYear:zU,getDate:WU,getYear:GU})}class kA{}class OA{}class ya{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ya?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ya;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ya?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(u=>-1===s.indexOf(u)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class qU{encodeKey(t){return LA(t)}encodeValue(t){return LA(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const KU=/%(\d[a-f0-9])/gi,XU={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function LA(n){return encodeURIComponent(n).replace(KU,(t,e)=>XU[e]??t)}function NA(n){return`${n}`}class Wa{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new qU,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YU(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,u]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],h=e.get(a)||[];h.push(u),e.set(a,h)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Wa({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(NA(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(NA(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class U_{constructor(t){this.defaultValue=t}}class FA{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function VA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function BA(n){return typeof Blob<"u"&&n instanceof Blob}function HA(n){return typeof FormData<"u"&&n instanceof FormData}class eg{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function QU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ya),this.context||(this.context=new FA),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+a}}else this.params=new Wa,this.urlWithParams=e}serializeBody(){return null===this.body?null:VA(this.body)||BA(this.body)||HA(this.body)||function JU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||HA(this.body)?null:BA(this.body)?this.body.type||null:VA(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,f=t.params||this.params;const m=t.context??this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((y,C)=>y.set(C,t.setHeaders[C]),h)),t.setParams&&(f=Object.keys(t.setParams).reduce((y,C)=>y.set(C,t.setParams[C]),f)),new eg(e,i,s,{params:f,headers:h,context:m,reportProgress:u,responseType:r,withCredentials:a})}}var Jn=(()=>((Jn=Jn||{})[Jn.Sent=0]="Sent",Jn[Jn.UploadProgress=1]="UploadProgress",Jn[Jn.ResponseHeader=2]="ResponseHeader",Jn[Jn.DownloadProgress=3]="DownloadProgress",Jn[Jn.Response=4]="Response",Jn[Jn.User=5]="User",Jn))();class T0{constructor(t,e=200,i="OK"){this.headers=t.headers||new ya,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class M0 extends T0{constructor(t={}){super(t),this.type=Jn.ResponseHeader}clone(t={}){return new M0({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class tg extends T0{constructor(t={}){super(t),this.type=Jn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new tg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class I0 extends T0{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function A0(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let su=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof eg)s=e;else{let h,f;h=r.headers instanceof ya?r.headers:new ya(r.headers),r.params&&(f=r.params instanceof Wa?r.params:new Wa({fromObject:r.params})),s=new eg(e,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:f,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=Ha(s).pipe(function ZU(n,t){return at(t)?Rr(n,t,1):Rr(n,1)}(h=>this.handler.handle(h)));if(e instanceof eg||"events"===r.observe)return a;const u=a.pipe(Fi(h=>h instanceof tg));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(lt(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return u.pipe(lt(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return u.pipe(lt(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return u.pipe(lt(h=>h.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Wa).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,A0(r,i))}post(e,i,r={}){return this.request("POST",e,A0(r,i))}put(e,i,r={}){return this.request("PUT",e,A0(r,i))}}return n.\u0275fac=function(e){return new(e||n)(z(kA))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class UA{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const j_=new rt("HTTP_INTERCEPTORS");let ej=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const tj=/^\)\]\}',?\n/;let jA=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _t(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((S,T)=>r.setRequestHeader(S,T.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const S=e.detectContentTypeHeader();null!==S&&r.setRequestHeader("Content-Type",S)}if(e.responseType){const S=e.responseType.toLowerCase();r.responseType="json"!==S?S:"text"}const s=e.serializeBody();let a=null;const u=()=>{if(null!==a)return a;const S=r.statusText||"OK",T=new ya(r.getAllResponseHeaders()),x=function nj(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new M0({headers:T,status:r.status,statusText:S,url:x}),a},h=()=>{let{headers:S,status:T,statusText:x,url:R}=u(),F=null;204!==T&&(F=typeof r.response>"u"?r.responseText:r.response),0===T&&(T=F?200:0);let O=T>=200&&T<300;if("json"===e.responseType&&"string"==typeof F){const G=F;F=F.replace(tj,"");try{F=""!==F?JSON.parse(F):null}catch(Y){F=G,O&&(O=!1,F={error:Y,text:F})}}O?(i.next(new tg({body:F,headers:S,status:T,statusText:x,url:R||void 0})),i.complete()):i.error(new I0({error:F,headers:S,status:T,statusText:x,url:R||void 0}))},f=S=>{const{url:T}=u(),x=new I0({error:S,status:r.status||0,statusText:r.statusText||"Unknown Error",url:T||void 0});i.error(x)};let m=!1;const y=S=>{m||(i.next(u()),m=!0);let T={type:Jn.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(T.total=S.total),"text"===e.responseType&&!!r.responseText&&(T.partialText=r.responseText),i.next(T)},C=S=>{let T={type:Jn.UploadProgress,loaded:S.loaded};S.lengthComputable&&(T.total=S.total),i.next(T)};return r.addEventListener("load",h),r.addEventListener("error",f),r.addEventListener("timeout",f),r.addEventListener("abort",f),e.reportProgress&&(r.addEventListener("progress",y),null!==s&&r.upload&&r.upload.addEventListener("progress",C)),r.send(s),i.next({type:Jn.Sent}),()=>{r.removeEventListener("error",f),r.removeEventListener("abort",f),r.removeEventListener("load",h),r.removeEventListener("timeout",f),e.reportProgress&&(r.removeEventListener("progress",y),null!==s&&r.upload&&r.upload.removeEventListener("progress",C)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(z(EM))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const x0=new rt("XSRF_COOKIE_NAME"),P0=new rt("XSRF_HEADER_NAME");class zA{}let ij=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=gM(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(z(on),z(ph),z(x0))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),R0=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(z(zA),z(P0))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),rj=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(j_,[]);this.chain=i.reduceRight((r,s)=>new UA(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(z(OA),z(D))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),sj=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:R0,useClass:ej}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:x0,useValue:e.cookieName}:[],e.headerName?{provide:P0,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({providers:[R0,{provide:j_,useExisting:R0,multi:!0},{provide:zA,useClass:ij},{provide:x0,useValue:"XSRF-TOKEN"},{provide:P0,useValue:"X-XSRF-TOKEN"}]}),n})(),oj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({providers:[su,{provide:kA,useClass:rj},jA,{provide:OA,useExisting:jA}],imports:[[sj.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function z_(n,t){const e=at(n)?n:()=>n,i=r=>r.error(e());return new _t(t?r=>t.schedule(i,0,r):i)}function bh(n){return bt((t,e)=>{let s,i=null,r=!1;i=t.subscribe(Mt(e,void 0,void 0,a=>{s=Ti(n(a,bh(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function k0(n){this.message=n}(k0.prototype=new Error).name="InvalidCharacterError";var WA=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(n){var t=String(n).replace(/=+$/,"");if(t.length%4==1)throw new k0("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,i,r=0,s=0,a="";i=t.charAt(s++);~i&&(e=r%4?64*e+i:i,r++%4)?a+=String.fromCharCode(255&e>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return a};function W_(n){this.message=n}(W_.prototype=new Error).name="InvalidTokenError";const GA=function lj(n,t){if("string"!=typeof n)throw new W_("Invalid token specified");var e=!0===(t=t||{}).header?0:1;try{return JSON.parse(function aj(n){var t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(WA(t).replace(/(.)/g,function(i,r){var s=r.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}catch{return WA(t)}}(n.split(".")[e]))}catch(i){throw new W_("Invalid token specified: "+i.message)}};var n,O0=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),ng=function(n){function t(e,i){var s=this,a=this.constructor.prototype;return(s=n.call(this,e)||this).statusCode=i,s.__proto__=a,s}return O0(t,n),t}(Error),L0=function(n){function t(e){void 0===e&&(e="A timeout occurred.");var r=this,s=this.constructor.prototype;return(r=n.call(this,e)||this).__proto__=s,r}return O0(t,n),t}(Error),ig=function(n){function t(e){void 0===e&&(e="An abort occurred.");var r=this,s=this.constructor.prototype;return(r=n.call(this,e)||this).__proto__=s,r}return O0(t,n),t}(Error),N0=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},$A=function n(t,e,i){this.statusCode=t,this.statusText=e,this.content=i},F0=function(){function n(){}return n.prototype.get=function(t,e){return this.send(N0({},e,{method:"GET",url:t}))},n.prototype.post=function(t,e){return this.send(N0({},e,{method:"POST",url:t}))},n.prototype.delete=function(t,e){return this.send(N0({},e,{method:"DELETE",url:t}))},n.prototype.getCookieString=function(t){return""},n}(),q=(()=>(function(n){n[n.Trace=0]="Trace",n[n.Debug=1]="Debug",n[n.Information=2]="Information",n[n.Warning=3]="Warning",n[n.Error=4]="Error",n[n.Critical=5]="Critical",n[n.None=6]="None"}(q||(q={})),q))(),V0=function(){function n(){}return n.prototype.log=function(t,e){},n.instance=new n,n}(),uj=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Ci=function(){function n(){}return n.isRequired=function(t,e){if(null==t)throw new Error("The '"+e+"' argument is required.")},n.isNotEmpty=function(t,e){if(!t||t.match(/^\s*$/))throw new Error("The '"+e+"' argument should not be empty.")},n.isIn=function(t,e,i){if(!(t in e))throw new Error("Unknown "+i+" value: "+t+".")},n}(),br=function(){function n(){}return Object.defineProperty(n,"isBrowser",{get:function(){return"object"==typeof window},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isWebWorker",{get:function(){return"object"==typeof self&&"importScripts"in self},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isNode",{get:function(){return!this.isBrowser&&!this.isWebWorker},enumerable:!0,configurable:!0}),n}();function rg(n,t){var e="";return B0(n)?(e="Binary data of length "+n.byteLength,t&&(e+=". Content: '"+function fj(n){var t=new Uint8Array(n),e="";return t.forEach(function(i){e+="0x"+(i<16?"0":"")+i.toString(16)+" "}),e.substr(0,e.length-1)}(n)+"'")):"string"==typeof n&&(e="String data of length "+n.length,t&&(e+=". Content: '"+n+"'")),e}function B0(n){return n&&typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||n.constructor&&"ArrayBuffer"===n.constructor.name)}function ZA(n,t,e,i,r,s,a,u,h){return function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(f){try{h(i.next(f))}catch(m){s(m)}}function u(f){try{h(i.throw(f))}catch(m){s(m)}}function h(f){f.done?r(f.value):new e(function(m){m(f.value)}).then(a,u)}h((i=i.apply(n,[])).next())})}(this,0,void 0,function(){var f,m,y,C,x,R;return function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(f){return function(m){return function h(f){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&f[0]?r.return:f[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,f[1])).done)return s;switch(r=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===f[0]||2===f[0])){e=0;continue}if(3===f[0]&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(6===f[0]&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=t.call(n,e)}catch(m){f=[6,m],r=0}finally{i=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,m])}}}(this,function(F){switch(F.label){case 0:return m={},r?[4,r()]:[3,2];case 1:(y=F.sent())&&((f={}).Authorization="Bearer "+y,m=f),F.label=2;case 2:return C=Eh(),m[C[0]]=C[1],n.log(q.Trace,"("+t+" transport) sending data. "+rg(s,a)+"."),x=B0(s)?"arraybuffer":"text",[4,e.post(i,{content:s,headers:uj({},m,h),responseType:x,withCredentials:u})];case 3:return R=F.sent(),n.log(q.Trace,"("+t+" transport) request complete. Response status: "+R.statusCode+"."),[2]}})})}var gj=function(){function n(t,e){this.subject=t,this.observer=e}return n.prototype.dispose=function(){var t=this.subject.observers.indexOf(this.observer);t>-1&&this.subject.observers.splice(t,1),0===this.subject.observers.length&&this.subject.cancelCallback&&this.subject.cancelCallback().catch(function(e){})},n}(),G_=function(){function n(t){this.minimumLogLevel=t,this.outputConsole=console}return n.prototype.log=function(t,e){if(t>=this.minimumLogLevel)switch(t){case q.Critical:case q.Error:this.outputConsole.error("["+(new Date).toISOString()+"] "+q[t]+": "+e);break;case q.Warning:this.outputConsole.warn("["+(new Date).toISOString()+"] "+q[t]+": "+e);break;case q.Information:this.outputConsole.info("["+(new Date).toISOString()+"] "+q[t]+": "+e);break;default:this.outputConsole.log("["+(new Date).toISOString()+"] "+q[t]+": "+e)}},n}();function Eh(){var n="X-SignalR-User-Agent";return br.isNode&&(n="User-Agent"),[n,mj("5.0.10",vj(),br.isNode?"NodeJS":"Browser",_j())]}function mj(n,t,e,i){var r="Microsoft SignalR/",s=n.split(".");return r+=s[0]+"."+s[1],r+=" ("+n+"; ",r+=t&&""!==t?t+"; ":"Unknown OS; ",r+=""+e,(r+=i?"; "+i:"; Unknown Runtime Version")+")"}function vj(){if(!br.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function _j(){if(br.isNode)return process.versions.node}var wj=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Cj=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},bj=function(n){function t(e){var i=n.call(this)||this;if(i.logger=e,typeof fetch>"u"){var r=require;i.jar=new(r("tough-cookie").CookieJar),i.fetchType=r("node-fetch"),i.fetchType=r("fetch-cookie")(i.fetchType,i.jar),i.abortControllerType=r("abort-controller")}else i.fetchType=fetch.bind(self),i.abortControllerType=AbortController;return i}return wj(t,n),t.prototype.send=function(e){return function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(f){try{h(i.next(f))}catch(m){s(m)}}function u(f){try{h(i.throw(f))}catch(m){s(m)}}function h(f){f.done?r(f.value):new e(function(m){m(f.value)}).then(a,u)}h((i=i.apply(n,[])).next())})}(this,0,void 0,function(){var i,r,s,u,h,f,m,y=this;return function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(f){return function(m){return function h(f){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&f[0]?r.return:f[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,f[1])).done)return s;switch(r=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===f[0]||2===f[0])){e=0;continue}if(3===f[0]&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(6===f[0]&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=t.call(n,e)}catch(m){f=[6,m],r=0}finally{i=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,m])}}}(this,function(C){switch(C.label){case 0:if(e.abortSignal&&e.abortSignal.aborted)throw new ig;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");i=new this.abortControllerType,e.abortSignal&&(e.abortSignal.onabort=function(){i.abort(),r=new ig}),s=null,e.timeout&&(s=setTimeout(function(){i.abort(),y.logger.log(q.Warning,"Timeout from HTTP request."),r=new L0},e.timeout)),C.label=1;case 1:return C.trys.push([1,3,4,5]),[4,this.fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:Cj({"Content-Type":"text/plain;charset=UTF-8","X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,mode:"cors",redirect:"manual",signal:i.signal})];case 2:return u=C.sent(),[3,5];case 3:throw h=C.sent(),r||(this.logger.log(q.Warning,"Error from HTTP request. "+h+"."),h);case 4:return s&&clearTimeout(s),e.abortSignal&&(e.abortSignal.onabort=null),[7];case 5:if(!u.ok)throw new ng(u.statusText,u.status);return f=function Ej(n,t){var e;switch(t){case"arraybuffer":e=n.arrayBuffer();break;case"text":default:e=n.text();break;case"blob":case"document":case"json":throw new Error(t+" is not supported.")}return e}(u,e.responseType),[4,f];case 6:return m=C.sent(),[2,new $A(u.status,u.statusText,m)]}})})},t.prototype.getCookieString=function(e){var i="";return br.isNode&&this.jar&&this.jar.getCookies(e,function(r,s){return i=s.join("; ")}),i},t}(F0),Tj=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Mj=function(n){function t(e){var i=n.call(this)||this;return i.logger=e,i}return Tj(t,n),t.prototype.send=function(e){var i=this;return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new ig):e.method?e.url?new Promise(function(r,s){var a=new XMLHttpRequest;a.open(e.method,e.url,!0),a.withCredentials=void 0===e.withCredentials||e.withCredentials,a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var u=e.headers;u&&Object.keys(u).forEach(function(h){a.setRequestHeader(h,u[h])}),e.responseType&&(a.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=function(){a.abort(),s(new ig)}),e.timeout&&(a.timeout=e.timeout),a.onload=function(){e.abortSignal&&(e.abortSignal.onabort=null),a.status>=200&&a.status<300?r(new $A(a.status,a.statusText,a.response||a.responseText)):s(new ng(a.statusText,a.status))},a.onerror=function(){i.logger.log(q.Warning,"Error from HTTP request. "+a.status+": "+a.statusText+"."),s(new ng(a.statusText,a.status))},a.ontimeout=function(){i.logger.log(q.Warning,"Timeout from HTTP request."),s(new L0)},a.send(e.content||"")}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t}(F0),Ij=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Aj=function(n){function t(e){var i=n.call(this)||this;if(typeof fetch<"u"||br.isNode)i.httpClient=new bj(e);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");i.httpClient=new Mj(e)}return i}return Ij(t,n),t.prototype.send=function(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new ig):e.method?e.url?this.httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t.prototype.getCookieString=function(e){return this.httpClient.getCookieString(e)},t}(F0),Th=function(){function n(){}return n.write=function(t){return""+t+n.RecordSeparator},n.parse=function(t){if(t[t.length-1]!==n.RecordSeparator)throw new Error("Message is incomplete.");var e=t.split(n.RecordSeparator);return e.pop(),e},n.RecordSeparatorCode=30,n.RecordSeparator=String.fromCharCode(n.RecordSeparatorCode),n}(),xj=function(){function n(){}return n.prototype.writeHandshakeRequest=function(t){return Th.write(JSON.stringify(t))},n.prototype.parseHandshakeResponse=function(t){var i,r;if(B0(t)||typeof Buffer<"u"&&t instanceof Buffer){var s=new Uint8Array(t);if(-1===(a=s.indexOf(Th.RecordSeparatorCode)))throw new Error("Message is incomplete.");var u=a+1;i=String.fromCharCode.apply(null,s.slice(0,u)),r=s.byteLength>u?s.slice(u).buffer:null}else{var a,h=t;if(-1===(a=h.indexOf(Th.RecordSeparator)))throw new Error("Message is incomplete.");i=h.substring(0,u=a+1),r=h.length>u?h.substring(u):null}var f=Th.parse(i),m=JSON.parse(f[0]);if(m.type)throw new Error("Expected a handshake response from the server.");return[r,m]},n}(),an=(()=>(function(n){n[n.Invocation=1]="Invocation",n[n.StreamItem=2]="StreamItem",n[n.Completion=3]="Completion",n[n.StreamInvocation=4]="StreamInvocation",n[n.CancelInvocation=5]="CancelInvocation",n[n.Ping=6]="Ping",n[n.Close=7]="Close"}(an||(an={})),an))(),Pj=function(){function n(){this.observers=[]}return n.prototype.next=function(t){for(var e=0,i=this.observers;e<i.length;e++)i[e].next(t)},n.prototype.error=function(t){for(var e=0,i=this.observers;e<i.length;e++){var r=i[e];r.error&&r.error(t)}},n.prototype.complete=function(){for(var t=0,e=this.observers;t<e.length;t++){var i=e[t];i.complete&&i.complete()}},n.prototype.subscribe=function(t){return this.observers.push(t),new gj(this,t)},n}(),sg=function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(f){try{h(i.next(f))}catch(m){s(m)}}function u(f){try{h(i.throw(f))}catch(m){s(m)}}function h(f){f.done?r(f.value):new e(function(m){m(f.value)}).then(a,u)}h((i=i.apply(n,t||[])).next())})},og=function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(f){return function(m){return function h(f){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&f[0]?r.return:f[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,f[1])).done)return s;switch(r=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===f[0]||2===f[0])){e=0;continue}if(3===f[0]&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(6===f[0]&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=t.call(n,e)}catch(m){f=[6,m],r=0}finally{i=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,m])}}},Dn=(()=>(function(n){n.Disconnected="Disconnected",n.Connecting="Connecting",n.Connected="Connected",n.Disconnecting="Disconnecting",n.Reconnecting="Reconnecting"}(Dn||(Dn={})),Dn))(),Oj=function(){function n(t,e,i,r){var s=this;this.nextKeepAlive=0,Ci.isRequired(t,"connection"),Ci.isRequired(e,"logger"),Ci.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this.logger=e,this.protocol=i,this.connection=t,this.reconnectPolicy=r,this.handshakeProtocol=new xj,this.connection.onreceive=function(a){return s.processIncomingData(a)},this.connection.onclose=function(a){return s.connectionClosed(a)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.reconnectingCallbacks=[],this.reconnectedCallbacks=[],this.invocationId=0,this.receivedHandshakeResponse=!1,this.connectionState=Dn.Disconnected,this.connectionStarted=!1,this.cachedPingMessage=this.protocol.writeMessage({type:an.Ping})}return n.create=function(t,e,i,r){return new n(t,e,i,r)},Object.defineProperty(n.prototype,"state",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"connectionId",{get:function(){return this.connection&&this.connection.connectionId||null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"baseUrl",{get:function(){return this.connection.baseUrl||""},set:function(t){if(this.connectionState!==Dn.Disconnected&&this.connectionState!==Dn.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t},enumerable:!0,configurable:!0}),n.prototype.start=function(){return this.startPromise=this.startWithStateTransitions(),this.startPromise},n.prototype.startWithStateTransitions=function(){return sg(this,void 0,void 0,function(){var t;return og(this,function(e){switch(e.label){case 0:if(this.connectionState!==Dn.Disconnected)return[2,Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."))];this.connectionState=Dn.Connecting,this.logger.log(q.Debug,"Starting HubConnection."),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.startInternal()];case 2:return e.sent(),this.connectionState=Dn.Connected,this.connectionStarted=!0,this.logger.log(q.Debug,"HubConnection connected successfully."),[3,4];case 3:return t=e.sent(),this.connectionState=Dn.Disconnected,this.logger.log(q.Debug,"HubConnection failed to start successfully because of error '"+t+"'."),[2,Promise.reject(t)];case 4:return[2]}})})},n.prototype.startInternal=function(){return sg(this,void 0,void 0,function(){var t,e,i,r=this;return og(this,function(s){switch(s.label){case 0:return this.stopDuringStartError=void 0,this.receivedHandshakeResponse=!1,t=new Promise(function(a,u){r.handshakeResolver=a,r.handshakeRejecter=u}),[4,this.connection.start(this.protocol.transferFormat)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),e={protocol:this.protocol.name,version:this.protocol.version},this.logger.log(q.Debug,"Sending handshake request."),[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(e))];case 3:return s.sent(),this.logger.log(q.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.resetTimeoutPeriod(),this.resetKeepAliveInterval(),[4,t];case 4:if(s.sent(),this.stopDuringStartError)throw this.stopDuringStartError;return[3,7];case 5:return i=s.sent(),this.logger.log(q.Debug,"Hub handshake failed with error '"+i+"' during start(). Stopping HubConnection."),this.cleanupTimeout(),this.cleanupPingTimer(),[4,this.connection.stop(i)];case 6:throw s.sent(),i;case 7:return[2]}})})},n.prototype.stop=function(){return sg(this,void 0,void 0,function(){var t;return og(this,function(i){switch(i.label){case 0:return t=this.startPromise,this.stopPromise=this.stopInternal(),[4,this.stopPromise];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t];case 3:case 4:return i.sent(),[3,5];case 5:return[2]}})})},n.prototype.stopInternal=function(t){return this.connectionState===Dn.Disconnected?(this.logger.log(q.Debug,"Call to HubConnection.stop("+t+") ignored because it is already in the disconnected state."),Promise.resolve()):this.connectionState===Dn.Disconnecting?(this.logger.log(q.Debug,"Call to HttpConnection.stop("+t+") ignored because the connection is already in the disconnecting state."),this.stopPromise):(this.connectionState=Dn.Disconnecting,this.logger.log(q.Debug,"Stopping HubConnection."),this.reconnectDelayHandle?(this.logger.log(q.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this.reconnectDelayHandle),this.reconnectDelayHandle=void 0,this.completeClose(),Promise.resolve()):(this.cleanupTimeout(),this.cleanupPingTimer(),this.stopDuringStartError=t||new Error("The connection was stopped before the hub handshake could complete."),this.connection.stop(t)))},n.prototype.stream=function(t){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var f,s=this.replaceStreamingParams(i),a=s[0],u=s[1],h=this.createStreamInvocation(t,i,u),m=new Pj;return m.cancelCallback=function(){var y=e.createCancelInvocation(h.invocationId);return delete e.callbacks[h.invocationId],f.then(function(){return e.sendWithProtocol(y)})},this.callbacks[h.invocationId]=function(y,C){C?m.error(C):y&&(y.type===an.Completion?y.error?m.error(new Error(y.error)):m.complete():m.next(y.item))},f=this.sendWithProtocol(h).catch(function(y){m.error(y),delete e.callbacks[h.invocationId]}),this.launchStreams(a,f),m},n.prototype.sendMessage=function(t){return this.resetKeepAliveInterval(),this.connection.send(t)},n.prototype.sendWithProtocol=function(t){return this.sendMessage(this.protocol.writeMessage(t))},n.prototype.send=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var r=this.replaceStreamingParams(e),s=r[0],a=r[1],u=this.sendWithProtocol(this.createInvocation(t,e,!0,a));return this.launchStreams(s,u),u},n.prototype.invoke=function(t){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var s=this.replaceStreamingParams(i),a=s[0],u=s[1],h=this.createInvocation(t,i,!1,u),f=new Promise(function(m,y){e.callbacks[h.invocationId]=function(S,T){T?y(T):S&&(S.type===an.Completion?S.error?y(new Error(S.error)):m(S.result):y(new Error("Unexpected message type: "+S.type)))};var C=e.sendWithProtocol(h).catch(function(S){y(S),delete e.callbacks[h.invocationId]});e.launchStreams(a,C)});return f},n.prototype.on=function(t,e){!t||!e||(t=t.toLowerCase(),this.methods[t]||(this.methods[t]=[]),-1===this.methods[t].indexOf(e)&&this.methods[t].push(e))},n.prototype.off=function(t,e){if(t){t=t.toLowerCase();var i=this.methods[t];if(i)if(e){var r=i.indexOf(e);-1!==r&&(i.splice(r,1),0===i.length&&delete this.methods[t])}else delete this.methods[t]}},n.prototype.onclose=function(t){t&&this.closedCallbacks.push(t)},n.prototype.onreconnecting=function(t){t&&this.reconnectingCallbacks.push(t)},n.prototype.onreconnected=function(t){t&&this.reconnectedCallbacks.push(t)},n.prototype.processIncomingData=function(t){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(t=this.processHandshakeResponse(t),this.receivedHandshakeResponse=!0),t)for(var i=0,r=this.protocol.parseMessages(t,this.logger);i<r.length;i++){var s=r[i];switch(s.type){case an.Invocation:this.invokeClientMethod(s);break;case an.StreamItem:case an.Completion:var a=this.callbacks[s.invocationId];a&&(s.type===an.Completion&&delete this.callbacks[s.invocationId],a(s));break;case an.Ping:break;case an.Close:this.logger.log(q.Information,"Close message received from server.");var u=s.error?new Error("Server returned an error on close: "+s.error):void 0;!0===s.allowReconnect?this.connection.stop(u):this.stopPromise=this.stopInternal(u);break;default:this.logger.log(q.Warning,"Invalid message type: "+s.type+".")}}this.resetTimeoutPeriod()},n.prototype.processHandshakeResponse=function(t){var e,i,r,s;try{r=(e=this.handshakeProtocol.parseHandshakeResponse(t))[0],i=e[1]}catch(u){this.logger.log(q.Error,s="Error parsing handshake response: "+u);var a=new Error(s);throw this.handshakeRejecter(a),a}if(i.error)throw this.logger.log(q.Error,s="Server returned handshake error: "+i.error),a=new Error(s),this.handshakeRejecter(a),a;return this.logger.log(q.Debug,"Server handshake complete."),this.handshakeResolver(),r},n.prototype.resetKeepAliveInterval=function(){this.connection.features.inherentKeepAlive||(this.nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this.cleanupPingTimer())},n.prototype.resetTimeoutPeriod=function(){var t=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout(function(){return t.serverTimeout()},this.serverTimeoutInMilliseconds),void 0!==this.pingServerHandle))){var e=this.nextKeepAlive-(new Date).getTime();e<0&&(e=0),this.pingServerHandle=setTimeout(function(){return sg(t,void 0,void 0,function(){return og(this,function(r){switch(r.label){case 0:if(this.connectionState!==Dn.Connected)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.sendMessage(this.cachedPingMessage)];case 2:return r.sent(),[3,4];case 3:return r.sent(),this.cleanupPingTimer(),[3,4];case 4:return[2]}})})},e)}},n.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},n.prototype.invokeClientMethod=function(t){var e=this,i=this.methods[t.target.toLowerCase()];if(i){try{i.forEach(function(s){return s.apply(e,t.arguments)})}catch(s){this.logger.log(q.Error,"A callback for the method "+t.target.toLowerCase()+" threw error '"+s+"'.")}if(t.invocationId){var r="Server requested a response, which is not supported in this version of the client.";this.logger.log(q.Error,r),this.stopPromise=this.stopInternal(new Error(r))}}else this.logger.log(q.Warning,"No client method with the name '"+t.target+"' found.")},n.prototype.connectionClosed=function(t){this.logger.log(q.Debug,"HubConnection.connectionClosed("+t+") called while in state "+this.connectionState+"."),this.stopDuringStartError=this.stopDuringStartError||t||new Error("The underlying connection was closed before the hub handshake could complete."),this.handshakeResolver&&this.handshakeResolver(),this.cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this.cleanupTimeout(),this.cleanupPingTimer(),this.connectionState===Dn.Disconnecting?this.completeClose(t):this.connectionState===Dn.Connected&&this.reconnectPolicy?this.reconnect(t):this.connectionState===Dn.Connected&&this.completeClose(t)},n.prototype.completeClose=function(t){var e=this;if(this.connectionStarted){this.connectionState=Dn.Disconnected,this.connectionStarted=!1;try{this.closedCallbacks.forEach(function(i){return i.apply(e,[t])})}catch(i){this.logger.log(q.Error,"An onclose callback called with error '"+t+"' threw error '"+i+"'.")}}},n.prototype.reconnect=function(t){return sg(this,void 0,void 0,function(){var e,i,r,s,a,u=this;return og(this,function(h){switch(h.label){case 0:if(e=Date.now(),i=0,r=void 0!==t?t:new Error("Attempting to reconnect due to a unknown error."),null===(s=this.getNextRetryDelay(i++,0,r)))return this.logger.log(q.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this.completeClose(t),[2];if(this.connectionState=Dn.Reconnecting,this.logger.log(q.Information,t?"Connection reconnecting because of error '"+t+"'.":"Connection reconnecting."),this.onreconnecting){try{this.reconnectingCallbacks.forEach(function(f){return f.apply(u,[t])})}catch(f){this.logger.log(q.Error,"An onreconnecting callback called with error '"+t+"' threw error '"+f+"'.")}if(this.connectionState!==Dn.Reconnecting)return this.logger.log(q.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting."),[2]}h.label=1;case 1:return null===s?[3,7]:(this.logger.log(q.Information,"Reconnect attempt number "+i+" will start in "+s+" ms."),[4,new Promise(function(f){u.reconnectDelayHandle=setTimeout(f,s)})]);case 2:if(h.sent(),this.reconnectDelayHandle=void 0,this.connectionState!==Dn.Reconnecting)return this.logger.log(q.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting."),[2];h.label=3;case 3:return h.trys.push([3,5,,6]),[4,this.startInternal()];case 4:if(h.sent(),this.connectionState=Dn.Connected,this.logger.log(q.Information,"HubConnection reconnected successfully."),this.onreconnected)try{this.reconnectedCallbacks.forEach(function(f){return f.apply(u,[u.connection.connectionId])})}catch(f){this.logger.log(q.Error,"An onreconnected callback called with connectionId '"+this.connection.connectionId+"; threw error '"+f+"'.")}return[2];case 5:return a=h.sent(),this.logger.log(q.Information,"Reconnect attempt failed because of error '"+a+"'."),this.connectionState!==Dn.Reconnecting?(this.logger.log(q.Debug,"Connection moved to the '"+this.connectionState+"' from the reconnecting state during reconnect attempt. Done reconnecting."),this.connectionState===Dn.Disconnecting&&this.completeClose(),[2]):(r=a instanceof Error?a:new Error(a.toString()),s=this.getNextRetryDelay(i++,Date.now()-e,r),[3,6]);case 6:return[3,1];case 7:return this.logger.log(q.Information,"Reconnect retries have been exhausted after "+(Date.now()-e)+" ms and "+i+" failed attempts. Connection disconnecting."),this.completeClose(),[2]}})})},n.prototype.getNextRetryDelay=function(t,e,i){try{return this.reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:t,retryReason:i})}catch(r){return this.logger.log(q.Error,"IRetryPolicy.nextRetryDelayInMilliseconds("+t+", "+e+") threw error '"+r+"'."),null}},n.prototype.cancelCallbacksWithError=function(t){var e=this.callbacks;this.callbacks={},Object.keys(e).forEach(function(i){(0,e[i])(null,t)})},n.prototype.cleanupPingTimer=function(){this.pingServerHandle&&(clearTimeout(this.pingServerHandle),this.pingServerHandle=void 0)},n.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},n.prototype.createInvocation=function(t,e,i,r){if(i)return 0!==r.length?{arguments:e,streamIds:r,target:t,type:an.Invocation}:{arguments:e,target:t,type:an.Invocation};var s=this.invocationId;return this.invocationId++,0!==r.length?{arguments:e,invocationId:s.toString(),streamIds:r,target:t,type:an.Invocation}:{arguments:e,invocationId:s.toString(),target:t,type:an.Invocation}},n.prototype.launchStreams=function(t,e){var i=this;if(0!==t.length){e||(e=Promise.resolve());var r=function(a){t[a].subscribe({complete:function(){e=e.then(function(){return i.sendWithProtocol(i.createCompletionMessage(a))})},error:function(u){var h;h=u instanceof Error?u.message:u&&u.toString?u.toString():"Unknown error",e=e.then(function(){return i.sendWithProtocol(i.createCompletionMessage(a,h))})},next:function(u){e=e.then(function(){return i.sendWithProtocol(i.createStreamItemMessage(a,u))})}})};for(var s in t)r(s)}},n.prototype.replaceStreamingParams=function(t){for(var e=[],i=[],r=0;r<t.length;r++){var s=t[r];if(this.isObservable(s)){var a=this.invocationId;this.invocationId++,e[a]=s,i.push(a.toString()),t.splice(r,1)}}return[e,i]},n.prototype.isObservable=function(t){return t&&t.subscribe&&"function"==typeof t.subscribe},n.prototype.createStreamInvocation=function(t,e,i){var r=this.invocationId;return this.invocationId++,0!==i.length?{arguments:e,invocationId:r.toString(),streamIds:i,target:t,type:an.StreamInvocation}:{arguments:e,invocationId:r.toString(),target:t,type:an.StreamInvocation}},n.prototype.createCancelInvocation=function(t){return{invocationId:t,type:an.CancelInvocation}},n.prototype.createStreamItemMessage=function(t,e){return{invocationId:t,item:e,type:an.StreamItem}},n.prototype.createCompletionMessage=function(t,e,i){return e?{error:e,invocationId:t,type:an.Completion}:{invocationId:t,result:i,type:an.Completion}},n}(),Lj=[0,2e3,1e4,3e4,null],qA=function(){function n(t){this.retryDelays=void 0!==t?t.concat([null]):Lj}return n.prototype.nextRetryDelayInMilliseconds=function(t){return this.retryDelays[t.previousRetryCount]},n}(),Di=(()=>(function(n){n[n.None=0]="None",n[n.WebSockets=1]="WebSockets",n[n.ServerSentEvents=2]="ServerSentEvents",n[n.LongPolling=4]="LongPolling"}(Di||(Di={})),Di))(),Bi=(()=>(function(n){n[n.Text=1]="Text",n[n.Binary=2]="Binary"}(Bi||(Bi={})),Bi))(),Nj=function(){function n(){this.isAborted=!1,this.onabort=null}return n.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(n.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),n}(),YA=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},ag=function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(f){try{h(i.next(f))}catch(m){s(m)}}function u(f){try{h(i.throw(f))}catch(m){s(m)}}function h(f){f.done?r(f.value):new e(function(m){m(f.value)}).then(a,u)}h((i=i.apply(n,t||[])).next())})},lg=function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(f){return function(m){return function h(f){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&f[0]?r.return:f[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,f[1])).done)return s;switch(r=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===f[0]||2===f[0])){e=0;continue}if(3===f[0]&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(6===f[0]&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=t.call(n,e)}catch(m){f=[6,m],r=0}finally{i=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,m])}}},KA=function(){function n(t,e,i,r,s,a){this.httpClient=t,this.accessTokenFactory=e,this.logger=i,this.pollAbort=new Nj,this.logMessageContent=r,this.withCredentials=s,this.headers=a,this.running=!1,this.onreceive=null,this.onclose=null}return Object.defineProperty(n.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),n.prototype.connect=function(t,e){return ag(this,void 0,void 0,function(){var i,r,u,h,f,m,y;return lg(this,function(C){switch(C.label){case 0:if(Ci.isRequired(t,"url"),Ci.isRequired(e,"transferFormat"),Ci.isIn(e,Bi,"transferFormat"),this.url=t,this.logger.log(q.Trace,"(LongPolling transport) Connecting."),e===Bi.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return r=Eh(),u=YA(((i={})[r[0]]=r[1],i),this.headers),h={abortSignal:this.pollAbort.signal,headers:u,timeout:1e5,withCredentials:this.withCredentials},e===Bi.Binary&&(h.responseType="arraybuffer"),[4,this.getAccessToken()];case 1:return f=C.sent(),this.updateHeaderToken(h,f),m=t+"&_="+Date.now(),this.logger.log(q.Trace,"(LongPolling transport) polling: "+m+"."),[4,this.httpClient.get(m,h)];case 2:return 200!==(y=C.sent()).statusCode?(this.logger.log(q.Error,"(LongPolling transport) Unexpected response code: "+y.statusCode+"."),this.closeError=new ng(y.statusText||"",y.statusCode),this.running=!1):this.running=!0,this.receiving=this.poll(this.url,h),[2]}})})},n.prototype.getAccessToken=function(){return ag(this,void 0,void 0,function(){return lg(this,function(t){switch(t.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:return[2,t.sent()];case 2:return[2,null]}})})},n.prototype.updateHeaderToken=function(t,e){t.headers||(t.headers={}),e?t.headers.Authorization="Bearer "+e:t.headers.Authorization&&delete t.headers.Authorization},n.prototype.poll=function(t,e){return ag(this,void 0,void 0,function(){var i,r,s,a;return lg(this,function(u){switch(u.label){case 0:u.trys.push([0,,8,9]),u.label=1;case 1:return this.running?[4,this.getAccessToken()]:[3,7];case 2:i=u.sent(),this.updateHeaderToken(e,i),u.label=3;case 3:return u.trys.push([3,5,,6]),r=t+"&_="+Date.now(),this.logger.log(q.Trace,"(LongPolling transport) polling: "+r+"."),[4,this.httpClient.get(r,e)];case 4:return 204===(s=u.sent()).statusCode?(this.logger.log(q.Information,"(LongPolling transport) Poll terminated by server."),this.running=!1):200!==s.statusCode?(this.logger.log(q.Error,"(LongPolling transport) Unexpected response code: "+s.statusCode+"."),this.closeError=new ng(s.statusText||"",s.statusCode),this.running=!1):s.content?(this.logger.log(q.Trace,"(LongPolling transport) data received. "+rg(s.content,this.logMessageContent)+"."),this.onreceive&&this.onreceive(s.content)):this.logger.log(q.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return a=u.sent(),this.running?a instanceof L0?this.logger.log(q.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this.closeError=a,this.running=!1):this.logger.log(q.Trace,"(LongPolling transport) Poll errored after shutdown: "+a.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.logger.log(q.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this.raiseOnClose(),[7];case 9:return[2]}})})},n.prototype.send=function(t){return ag(this,void 0,void 0,function(){return lg(this,function(e){return this.running?[2,ZA(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent,this.withCredentials,this.headers)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},n.prototype.stop=function(){return ag(this,void 0,void 0,function(){var t,e,s,a;return lg(this,function(u){switch(u.label){case 0:this.logger.log(q.Trace,"(LongPolling transport) Stopping polling."),this.running=!1,this.pollAbort.abort(),u.label=1;case 1:return u.trys.push([1,,5,6]),[4,this.receiving];case 2:return u.sent(),this.logger.log(q.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),t={},e=Eh(),t[e[0]]=e[1],s={headers:YA({},t,this.headers),withCredentials:this.withCredentials},[4,this.getAccessToken()];case 3:return a=u.sent(),this.updateHeaderToken(s,a),[4,this.httpClient.delete(this.url,s)];case 4:return u.sent(),this.logger.log(q.Trace,"(LongPolling transport) DELETE request sent."),[3,6];case 5:return this.logger.log(q.Trace,"(LongPolling transport) Stop finished."),this.raiseOnClose(),[7];case 6:return[2]}})})},n.prototype.raiseOnClose=function(){if(this.onclose){var t="(LongPolling transport) Firing onclose event.";this.closeError&&(t+=" Error: "+this.closeError),this.logger.log(q.Trace,t),this.onclose(this.closeError)}},n}(),Fj=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},XA=function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(f){try{h(i.next(f))}catch(m){s(m)}}function u(f){try{h(i.throw(f))}catch(m){s(m)}}function h(f){f.done?r(f.value):new e(function(m){m(f.value)}).then(a,u)}h((i=i.apply(n,t||[])).next())})},QA=function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(f){return function(m){return function h(f){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&f[0]?r.return:f[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,f[1])).done)return s;switch(r=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===f[0]||2===f[0])){e=0;continue}if(3===f[0]&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(6===f[0]&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=t.call(n,e)}catch(m){f=[6,m],r=0}finally{i=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,m])}}},Vj=function(){function n(t,e,i,r,s,a,u){this.httpClient=t,this.accessTokenFactory=e,this.logger=i,this.logMessageContent=r,this.withCredentials=a,this.eventSourceConstructor=s,this.headers=u,this.onreceive=null,this.onclose=null}return n.prototype.connect=function(t,e){return XA(this,void 0,void 0,function(){var i,r=this;return QA(this,function(s){switch(s.label){case 0:return Ci.isRequired(t,"url"),Ci.isRequired(e,"transferFormat"),Ci.isIn(e,Bi,"transferFormat"),this.logger.log(q.Trace,"(SSE transport) Connecting."),this.url=t,this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(i=s.sent())&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(i)),s.label=2;case 2:return[2,new Promise(function(a,u){var h=!1;if(e===Bi.Text){var f;if(br.isBrowser||br.isWebWorker)f=new r.eventSourceConstructor(t,{withCredentials:r.withCredentials});else{var m=r.httpClient.getCookieString(t),y={};y.Cookie=m;var C=Eh();y[C[0]]=C[1],f=new r.eventSourceConstructor(t,{withCredentials:r.withCredentials,headers:Fj({},y,r.headers)})}try{f.onmessage=function(x){if(r.onreceive)try{r.logger.log(q.Trace,"(SSE transport) data received. "+rg(x.data,r.logMessageContent)+"."),r.onreceive(x.data)}catch(R){return void r.close(R)}},f.onerror=function(x){var R=new Error(x.data||"Error occurred");h?r.close(R):u(R)},f.onopen=function(){r.logger.log(q.Information,"SSE connected to "+r.url),r.eventSource=f,h=!0,a()}}catch(x){return void u(x)}}else u(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})]}})})},n.prototype.send=function(t){return XA(this,void 0,void 0,function(){return QA(this,function(e){return this.eventSource?[2,ZA(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent,this.withCredentials,this.headers)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},n.prototype.stop=function(){return this.close(),Promise.resolve()},n.prototype.close=function(t){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0,this.onclose&&this.onclose(t))},n}(),Bj=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},jj=function(){function n(t,e,i,r,s,a){this.logger=i,this.accessTokenFactory=e,this.logMessageContent=r,this.webSocketConstructor=s,this.httpClient=t,this.onreceive=null,this.onclose=null,this.headers=a}return n.prototype.connect=function(t,e){return function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(f){try{h(i.next(f))}catch(m){s(m)}}function u(f){try{h(i.throw(f))}catch(m){s(m)}}function h(f){f.done?r(f.value):new e(function(m){m(f.value)}).then(a,u)}h((i=i.apply(n,[])).next())})}(this,0,void 0,function(){var i,r=this;return function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(f){return function(m){return function h(f){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&f[0]?r.return:f[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,f[1])).done)return s;switch(r=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===f[0]||2===f[0])){e=0;continue}if(3===f[0]&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(6===f[0]&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=t.call(n,e)}catch(m){f=[6,m],r=0}finally{i=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,m])}}}(this,function(s){switch(s.label){case 0:return Ci.isRequired(t,"url"),Ci.isRequired(e,"transferFormat"),Ci.isIn(e,Bi,"transferFormat"),this.logger.log(q.Trace,"(WebSockets transport) Connecting."),this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(i=s.sent())&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(i)),s.label=2;case 2:return[2,new Promise(function(a,u){t=t.replace(/^http/,"ws");var h,f=r.httpClient.getCookieString(t),m=!1;if(br.isNode){var y={},C=Eh();y[C[0]]=C[1],f&&(y.Cookie=""+f),h=new r.webSocketConstructor(t,void 0,{headers:Bj({},y,r.headers)})}h||(h=new r.webSocketConstructor(t)),e===Bi.Binary&&(h.binaryType="arraybuffer"),h.onopen=function(x){r.logger.log(q.Information,"WebSocket connected to "+t+"."),r.webSocket=h,m=!0,a()},h.onerror=function(x){var R;R=typeof ErrorEvent<"u"&&x instanceof ErrorEvent?x.error:new Error("There was an error with the transport."),u(R)},h.onmessage=function(x){if(r.logger.log(q.Trace,"(WebSockets transport) data received. "+rg(x.data,r.logMessageContent)+"."),r.onreceive)try{r.onreceive(x.data)}catch(R){return void r.close(R)}},h.onclose=function(x){if(m)r.close(x);else{var R;R=typeof ErrorEvent<"u"&&x instanceof ErrorEvent?x.error:new Error("There was an error with the transport."),u(R)}}})]}})})},n.prototype.send=function(t){return this.webSocket&&this.webSocket.readyState===this.webSocketConstructor.OPEN?(this.logger.log(q.Trace,"(WebSockets transport) sending data. "+rg(t,this.logMessageContent)+"."),this.webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")},n.prototype.stop=function(){return this.webSocket&&this.close(void 0),Promise.resolve()},n.prototype.close=function(t){this.webSocket&&(this.webSocket.onclose=function(){},this.webSocket.onmessage=function(){},this.webSocket.onerror=function(){},this.webSocket.close(),this.webSocket=void 0),this.logger.log(q.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this.isCloseEvent(t)||!1!==t.wasClean&&1e3===t.code?t instanceof Error?this.onclose(t):this.onclose():this.onclose(new Error("WebSocket closed with status code: "+t.code+" ("+t.reason+").")))},n.prototype.isCloseEvent=function(t){return t&&"boolean"==typeof t.wasClean&&"number"==typeof t.code},n}(),zj=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Tc=function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(f){try{h(i.next(f))}catch(m){s(m)}}function u(f){try{h(i.throw(f))}catch(m){s(m)}}function h(f){f.done?r(f.value):new e(function(m){m(f.value)}).then(a,u)}h((i=i.apply(n,t||[])).next())})},ou=function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(f){return function(m){return function h(f){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&f[0]?r.return:f[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,f[1])).done)return s;switch(r=0,s&&(f=[2&f[0],s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,r=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===f[0]||2===f[0])){e=0;continue}if(3===f[0]&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(6===f[0]&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=t.call(n,e)}catch(m){f=[6,m],r=0}finally{i=s=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,m])}}},Wj=function(){function n(t,e){if(void 0===e&&(e={}),this.stopPromiseResolver=function(){},this.features={},this.negotiateVersion=1,Ci.isRequired(t,"url"),this.logger=function pj(n){return void 0===n?new G_(q.Information):null===n?V0.instance:n.log?n:new G_(n)}(e.logger),this.baseUrl=this.resolveUrl(t),(e=e||{}).logMessageContent=void 0!==e.logMessageContent&&e.logMessageContent,"boolean"!=typeof e.withCredentials&&void 0!==e.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.withCredentials=void 0===e.withCredentials||e.withCredentials;var i=null,r=null;if(br.isNode){var s=require;i=s("ws"),r=s("eventsource")}!br.isNode&&typeof WebSocket<"u"&&!e.WebSocket?e.WebSocket=WebSocket:br.isNode&&!e.WebSocket&&i&&(e.WebSocket=i),!br.isNode&&typeof EventSource<"u"&&!e.EventSource?e.EventSource=EventSource:br.isNode&&!e.EventSource&&typeof r<"u"&&(e.EventSource=r),this.httpClient=e.httpClient||new Aj(this.logger),this.connectionState="Disconnected",this.connectionStarted=!1,this.options=e,this.onreceive=null,this.onclose=null}return n.prototype.start=function(t){return Tc(this,void 0,void 0,function(){var e;return ou(this,function(i){switch(i.label){case 0:return Ci.isIn(t=t||Bi.Binary,Bi,"transferFormat"),this.logger.log(q.Debug,"Starting connection with transfer format '"+Bi[t]+"'."),"Disconnected"!==this.connectionState?[2,Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."))]:(this.connectionState="Connecting",this.startInternalPromise=this.startInternal(t),[4,this.startInternalPromise]);case 1:return i.sent(),"Disconnecting"!==this.connectionState?[3,3]:(this.logger.log(q.Error,e="Failed to start the HttpConnection before stop() was called."),[4,this.stopPromise]);case 2:return i.sent(),[2,Promise.reject(new Error(e))];case 3:if("Connected"!==this.connectionState)return this.logger.log(q.Error,e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!"),[2,Promise.reject(new Error(e))];i.label=4;case 4:return this.connectionStarted=!0,[2]}})})},n.prototype.send=function(t){return"Connected"!==this.connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this.sendQueue||(this.sendQueue=new $j(this.transport)),this.sendQueue.send(t))},n.prototype.stop=function(t){return Tc(this,void 0,void 0,function(){var e=this;return ou(this,function(i){switch(i.label){case 0:return"Disconnected"===this.connectionState?(this.logger.log(q.Debug,"Call to HttpConnection.stop("+t+") ignored because the connection is already in the disconnected state."),[2,Promise.resolve()]):"Disconnecting"===this.connectionState?(this.logger.log(q.Debug,"Call to HttpConnection.stop("+t+") ignored because the connection is already in the disconnecting state."),[2,this.stopPromise]):(this.connectionState="Disconnecting",this.stopPromise=new Promise(function(r){e.stopPromiseResolver=r}),[4,this.stopInternal(t)]);case 1:return i.sent(),[4,this.stopPromise];case 2:return i.sent(),[2]}})})},n.prototype.stopInternal=function(t){return Tc(this,void 0,void 0,function(){var i;return ou(this,function(r){switch(r.label){case 0:this.stopError=t,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.startInternalPromise];case 2:case 3:return r.sent(),[3,4];case 4:if(!this.transport)return[3,9];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.transport.stop()];case 6:return r.sent(),[3,8];case 7:return i=r.sent(),this.logger.log(q.Error,"HttpConnection.transport.stop() threw error '"+i+"'."),this.stopConnection(),[3,8];case 8:return this.transport=void 0,[3,10];case 9:this.logger.log(q.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed."),r.label=10;case 10:return[2]}})})},n.prototype.startInternal=function(t){return Tc(this,void 0,void 0,function(){var e,i,r,s,a,u;return ou(this,function(h){switch(h.label){case 0:e=this.baseUrl,this.accessTokenFactory=this.options.accessTokenFactory,h.label=1;case 1:return h.trys.push([1,12,,13]),this.options.skipNegotiation?this.options.transport!==Di.WebSockets?[3,3]:(this.transport=this.constructTransport(Di.WebSockets),[4,this.startTransport(e,t)]):[3,5];case 2:return h.sent(),[3,4];case 3:throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:i=null,r=0,s=function(){var f;return ou(this,function(m){switch(m.label){case 0:return[4,a.getNegotiationResponse(e)];case 1:if(i=m.sent(),"Disconnecting"===a.connectionState||"Disconnected"===a.connectionState)throw new Error("The connection was stopped during negotiation.");if(i.error)throw new Error(i.error);if(i.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");return i.url&&(e=i.url),i.accessToken&&(f=i.accessToken,a.accessTokenFactory=function(){return f}),r++,[2]}})},a=this,h.label=6;case 6:return[5,s()];case 7:h.sent(),h.label=8;case 8:if(i.url&&r<100)return[3,6];h.label=9;case 9:if(100===r&&i.url)throw new Error("Negotiate redirection limit exceeded.");return[4,this.createTransport(e,this.options.transport,i,t)];case 10:h.sent(),h.label=11;case 11:return this.transport instanceof KA&&(this.features.inherentKeepAlive=!0),"Connecting"===this.connectionState&&(this.logger.log(q.Debug,"The HttpConnection connected successfully."),this.connectionState="Connected"),[3,13];case 12:return u=h.sent(),this.logger.log(q.Error,"Failed to start the connection: "+u),this.connectionState="Disconnected",this.transport=void 0,this.stopPromiseResolver(),[2,Promise.reject(u)];case 13:return[2]}})})},n.prototype.getNegotiationResponse=function(t){return Tc(this,void 0,void 0,function(){var e,i,r,u,h,f,m;return ou(this,function(y){switch(y.label){case 0:return e={},this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(i=y.sent())&&(e.Authorization="Bearer "+i),y.label=2;case 2:r=Eh(),e[r[0]]=r[1],u=this.resolveNegotiateUrl(t),this.logger.log(q.Debug,"Sending negotiation request: "+u+"."),y.label=3;case 3:return y.trys.push([3,5,,6]),[4,this.httpClient.post(u,{content:"",headers:zj({},e,this.options.headers),withCredentials:this.options.withCredentials})];case 4:return 200!==(h=y.sent()).statusCode?[2,Promise.reject(new Error("Unexpected status code returned from negotiate '"+h.statusCode+"'"))]:((!(f=JSON.parse(h.content)).negotiateVersion||f.negotiateVersion<1)&&(f.connectionToken=f.connectionId),[2,f]);case 5:return m=y.sent(),this.logger.log(q.Error,"Failed to complete negotiation with the server: "+m),[2,Promise.reject(m)];case 6:return[2]}})})},n.prototype.createConnectUrl=function(t,e){return e?t+(-1===t.indexOf("?")?"?":"&")+"id="+e:t},n.prototype.createTransport=function(t,e,i,r){return Tc(this,void 0,void 0,function(){var s,a,h,f,m,y,C,S,T;return ou(this,function(R){switch(R.label){case 0:return s=this.createConnectUrl(t,i.connectionToken),this.isITransport(e)?(this.logger.log(q.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=e,[4,this.startTransport(s,r)]):[3,2];case 1:return R.sent(),this.connectionId=i.connectionId,[2];case 2:a=[],h=i,f=0,m=i.availableTransports||[],R.label=3;case 3:return f<m.length?(C=this.resolveTransportOrError(y=m[f],e,r))instanceof Error?(a.push(y.transport+" failed: "+C),[3,12]):[3,4]:[3,13];case 4:if(!this.isITransport(C))return[3,12];if(this.transport=C,h)return[3,9];R.label=5;case 5:return R.trys.push([5,7,,8]),[4,this.getNegotiationResponse(t)];case 6:return h=R.sent(),[3,8];case 7:return S=R.sent(),[2,Promise.reject(S)];case 8:s=this.createConnectUrl(t,h.connectionToken),R.label=9;case 9:return R.trys.push([9,11,,12]),[4,this.startTransport(s,r)];case 10:return R.sent(),this.connectionId=h.connectionId,[2];case 11:return T=R.sent(),this.logger.log(q.Error,"Failed to start the transport '"+y.transport+"': "+T),h=void 0,a.push(y.transport+" failed: "+T),"Connecting"!==this.connectionState?(this.logger.log(q.Debug,"Failed to select transport before stop() was called."),[2,Promise.reject(new Error("Failed to select transport before stop() was called."))]):[3,12];case 12:return f++,[3,3];case 13:return a.length>0?[2,Promise.reject(new Error("Unable to connect to the server with any of the available transports. "+a.join(" ")))]:[2,Promise.reject(new Error("None of the transports supported by the client are supported by the server."))]}})})},n.prototype.constructTransport=function(t){switch(t){case Di.WebSockets:if(!this.options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new jj(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.WebSocket,this.options.headers||{});case Di.ServerSentEvents:if(!this.options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new Vj(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.EventSource,this.options.withCredentials,this.options.headers||{});case Di.LongPolling:return new KA(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.withCredentials,this.options.headers||{});default:throw new Error("Unknown transport: "+t+".")}},n.prototype.startTransport=function(t,e){var i=this;return this.transport.onreceive=this.onreceive,this.transport.onclose=function(r){return i.stopConnection(r)},this.transport.connect(t,e)},n.prototype.resolveTransportOrError=function(t,e,i){var r=Di[t.transport];if(null==r)return this.logger.log(q.Debug,"Skipping transport '"+t.transport+"' because it is not supported by this client."),new Error("Skipping transport '"+t.transport+"' because it is not supported by this client.");if(!function Gj(n,t){return!n||0!=(t&n)}(e,r))return this.logger.log(q.Debug,"Skipping transport '"+Di[r]+"' because it was disabled by the client."),new Error("'"+Di[r]+"' is disabled by the client.");if(!(t.transferFormats.map(function(a){return Bi[a]}).indexOf(i)>=0))return this.logger.log(q.Debug,"Skipping transport '"+Di[r]+"' because it does not support the requested transfer format '"+Bi[i]+"'."),new Error("'"+Di[r]+"' does not support "+Bi[i]+".");if(r===Di.WebSockets&&!this.options.WebSocket||r===Di.ServerSentEvents&&!this.options.EventSource)return this.logger.log(q.Debug,"Skipping transport '"+Di[r]+"' because it is not supported in your environment.'"),new Error("'"+Di[r]+"' is not supported in your environment.");this.logger.log(q.Debug,"Selecting transport '"+Di[r]+"'.");try{return this.constructTransport(r)}catch(a){return a}},n.prototype.isITransport=function(t){return t&&"object"==typeof t&&"connect"in t},n.prototype.stopConnection=function(t){var e=this;if(this.logger.log(q.Debug,"HttpConnection.stopConnection("+t+") called while in state "+this.connectionState+"."),this.transport=void 0,t=this.stopError||t,this.stopError=void 0,"Disconnected"!==this.connectionState){if("Connecting"===this.connectionState)throw this.logger.log(q.Warning,"Call to HttpConnection.stopConnection("+t+") was ignored because the connection is still in the connecting state."),new Error("HttpConnection.stopConnection("+t+") was called while the connection is still in the connecting state.");if("Disconnecting"===this.connectionState&&this.stopPromiseResolver(),t?this.logger.log(q.Error,"Connection disconnected with error '"+t+"'."):this.logger.log(q.Information,"Connection disconnected."),this.sendQueue&&(this.sendQueue.stop().catch(function(i){e.logger.log(q.Error,"TransportSendQueue.stop() threw error '"+i+"'.")}),this.sendQueue=void 0),this.connectionId=void 0,this.connectionState="Disconnected",this.connectionStarted){this.connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(i){this.logger.log(q.Error,"HttpConnection.onclose("+t+") threw error '"+i+"'.")}}}else this.logger.log(q.Debug,"Call to HttpConnection.stopConnection("+t+") was ignored because the connection is already in the disconnected state.")},n.prototype.resolveUrl=function(t){if(0===t.lastIndexOf("https://",0)||0===t.lastIndexOf("http://",0))return t;if(!br.isBrowser||!window.document)throw new Error("Cannot resolve '"+t+"'.");var e=window.document.createElement("a");return e.href=t,this.logger.log(q.Information,"Normalizing '"+t+"' to '"+e.href+"'."),e.href},n.prototype.resolveNegotiateUrl=function(t){var e=t.indexOf("?"),i=t.substring(0,-1===e?t.length:e);return"/"!==i[i.length-1]&&(i+="/"),i+="negotiate",-1===(i+=-1===e?"":t.substring(e)).indexOf("negotiateVersion")&&(i+=-1===e?"?":"&",i+="negotiateVersion="+this.negotiateVersion),i},n}(),$j=function(){function n(t){this.transport=t,this.buffer=[],this.executing=!0,this.sendBufferedData=new $_,this.transportResult=new $_,this.sendLoopPromise=this.sendLoop()}return n.prototype.send=function(t){return this.bufferData(t),this.transportResult||(this.transportResult=new $_),this.transportResult.promise},n.prototype.stop=function(){return this.executing=!1,this.sendBufferedData.resolve(),this.sendLoopPromise},n.prototype.bufferData=function(t){if(this.buffer.length&&typeof this.buffer[0]!=typeof t)throw new Error("Expected data to be of type "+typeof this.buffer+" but was of type "+typeof t);this.buffer.push(t),this.sendBufferedData.resolve()},n.prototype.sendLoop=function(){return Tc(this,void 0,void 0,function(){var t,e,i;return ou(this,function(r){switch(r.label){case 0:return[4,this.sendBufferedData.promise];case 1:if(r.sent(),!this.executing)return this.transportResult&&this.transportResult.reject("Connection stopped."),[3,6];this.sendBufferedData=new $_,t=this.transportResult,this.transportResult=void 0,e="string"==typeof this.buffer[0]?this.buffer.join(""):n.concatBuffers(this.buffer),this.buffer.length=0,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.transport.send(e)];case 3:return r.sent(),t.resolve(),[3,5];case 4:return i=r.sent(),t.reject(i),[3,5];case 5:return[3,0];case 6:return[2]}})})},n.concatBuffers=function(t){for(var e=t.map(function(h){return h.byteLength}).reduce(function(h,f){return h+f}),i=new Uint8Array(e),r=0,s=0,a=t;s<a.length;s++){var u=a[s];i.set(new Uint8Array(u),r),r+=u.byteLength}return i.buffer},n}(),$_=function(){function n(){var t=this;this.promise=new Promise(function(e,i){var r;return t.resolver=(r=[e,i])[0],t.rejecter=r[1],r})}return n.prototype.resolve=function(){this.resolver()},n.prototype.reject=function(t){this.rejecter(t)},n}(),qj=function(){function n(){this.name="json",this.version=1,this.transferFormat=Bi.Text}return n.prototype.parseMessages=function(t,e){if("string"!=typeof t)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];null===e&&(e=V0.instance);for(var r=[],s=0,a=Th.parse(t);s<a.length;s++){var h=JSON.parse(a[s]);if("number"!=typeof h.type)throw new Error("Invalid payload.");switch(h.type){case an.Invocation:this.isInvocationMessage(h);break;case an.StreamItem:this.isStreamItemMessage(h);break;case an.Completion:this.isCompletionMessage(h);break;case an.Ping:case an.Close:break;default:e.log(q.Information,"Unknown message type '"+h.type+"' ignored.");continue}r.push(h)}return r},n.prototype.writeMessage=function(t){return Th.write(JSON.stringify(t))},n.prototype.isInvocationMessage=function(t){this.assertNotEmptyString(t.target,"Invalid payload for Invocation message."),void 0!==t.invocationId&&this.assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")},n.prototype.isStreamItemMessage=function(t){if(this.assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),void 0===t.item)throw new Error("Invalid payload for StreamItem message.")},n.prototype.isCompletionMessage=function(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this.assertNotEmptyString(t.error,"Invalid payload for Completion message."),this.assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")},n.prototype.assertNotEmptyString=function(t,e){if("string"!=typeof t||""===t)throw new Error(e)},n}(),e1=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Yj={trace:q.Trace,debug:q.Debug,info:q.Information,information:q.Information,warn:q.Warning,warning:q.Warning,error:q.Error,critical:q.Critical,none:q.None},Xj=function(){function n(){}return n.prototype.configureLogging=function(t){if(Ci.isRequired(t,"logging"),function Qj(n){return void 0!==n.log}(t))this.logger=t;else if("string"==typeof t){var e=function Kj(n){var t=Yj[n.toLowerCase()];if(typeof t<"u")return t;throw new Error("Unknown log level: "+n)}(t);this.logger=new G_(e)}else this.logger=new G_(t);return this},n.prototype.withUrl=function(t,e){return Ci.isRequired(t,"url"),Ci.isNotEmpty(t,"url"),this.url=t,this.httpConnectionOptions=e1({},this.httpConnectionOptions,"object"==typeof e?e:{transport:e}),this},n.prototype.withHubProtocol=function(t){return Ci.isRequired(t,"protocol"),this.protocol=t,this},n.prototype.withAutomaticReconnect=function(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=t?Array.isArray(t)?new qA(t):t:new qA,this},n.prototype.build=function(){var t=this.httpConnectionOptions||{};if(void 0===t.logger&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var e=new Wj(this.url,t);return Oj.create(e,this.logger||V0.instance,this.protocol||new qj,this.reconnectPolicy)},n}();class nr{constructor(){this.baseApiUrl=()=>"http://localhost:8080/api/",this.apiVersion="v4",this.channelUrl="",this.channelHubName="",this.realtimeGeolocationHubName="",this.clientId="",this.googleApiKey="",this.logLevel=0,this.isMobileApp=!1,this.cacheProvider=null}get apiUrl(){return`${this.baseApiUrl()}/api/${this.apiVersion}`}}class r3{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}let wa=(()=>{class n{constructor(e){this.config=e}logError(e,...i){this.config.logLevel>=2&&(i&&i.length?console.error(`[ERROR] ${this.config.clientId} - ${e}`,...i):console.error(`[ERROR] ${this.config.clientId} - ${e}`))}logWarning(e,...i){this.config.logLevel>=1&&(i&&i.length?console.warn(`[WARN] ${this.config.clientId} - ${e}`,...i):console.warn(`[WARN] ${this.config.clientId} - ${e}`))}logDebug(e,...i){this.config.logLevel>=0&&(i&&i.length?console.log(`[DEBUG] ${this.config.clientId} - ${e}`,...i):console.log(`[DEBUG] ${this.config.clientId} - ${e}`))}}return n.\u0275fac=function(e){return new(e||n)(z(nr))},n.\u0275prov=oe({factory:function(){return new n(z(nr))},token:n,providedIn:"root"}),n})(),r1=(()=>{class n{constructor(e,i){this.logger=e,this.config=i}read(e){const i=`${this.config.clientId}.${e}`,r=localStorage.getItem(i);return r?(this.logger.logDebug(`readKey ${i} length: ${r.length}`),JSON.parse(r)):(this.logger.logDebug(`readKey ${i} empty`),null)}write(e,i){return localStorage.setItem(`${this.config.clientId}.${e}`,JSON.stringify(i)),!0}remove(e){return localStorage.removeItem(`${this.config.clientId}.${e}`),!0}clear(){return localStorage.clear(),!0}}return n.\u0275fac=function(e){return new(e||n)(z(wa),z(nr))},n.\u0275prov=oe({factory:function(){return new n(z(wa),z(nr))},token:n,providedIn:"root"}),n})(),Z_=(()=>{class n{constructor(e,i,r,s){this.http=e,this.config=i,this.storageService=r,this.logger=s,this.isRefreshing=!1,this.refreshTokenSubject=new yh(null),this.initalState={profile:void 0,tokens:void 0,authReady:!1},this.authReady$=new yh(!1),this.state=new yh(this.initalState),this.state$=this.state.asObservable(),this.tokens$=this.state.pipe(Fi(a=>null!=a.authReady&&0!=a.authReady),lt(a=>a.tokens)),this.profile$=this.state.pipe(Fi(a=>null!=a.authReady&&0!=a.authReady),lt(a=>a.profile)),this.loggedIn$=this.tokens$.pipe(lt(a=>!!a))}init(){return this.startupTokenRefresh().pipe(g0(()=>this.scheduleRefresh()))}login(e){return this.getTokens(e,"password")}logout(){this.updateState({profile:void 0,tokens:void 0}),this.refreshSubscription$&&this.refreshSubscription$.unsubscribe(),this.removeToken()}refreshTokens(){this.logger.logDebug("Starting refresh token flow");const e=this.retrieveTokens();return e&&e.refresh_token&&e.refresh_token.length>0?this.isRefreshing?this.refreshTokenSubject.pipe(Fi(i=>null!==i),Ro(1),Va(i=>Ha(i))):(this.isRefreshing=!0,this.logger.logDebug("Retrieved stored tokens"),this.getTokens({username:"",password:"",refresh_token:e.refresh_token},"refresh_token")):(this.logger.logDebug("No stored tokens retrieved"),Ha(null))}storeToken(e){const i=this.retrieveTokens();null!=i&&null==e.refresh_token&&(e.refresh_token=i.refresh_token),this.storageService.write("auth-tokens",e)}retrieveTokens(){return this.storageService.read("auth-tokens")||null}removeToken(){this.storageService.remove("auth-tokens")}updateState(e){const i=this.state.getValue();this.state.next(Object.assign({},i,e))}getTokens(e,i){let r=new ya;r=r.set("Content-Type","application/x-www-form-urlencoded");let s=new Wa({encoder:new r3});return s=s.set("grant_type",i),e.refresh_token&&e.refresh_token.length>0?s=s.append("refresh_token",e.refresh_token):(s=s.append("scope",this.config.isMobileApp?"openid profile offline_access mobile":"openid profile offline_access"),s=s.append("username",e.username),s=s.append("password",e.password)),this.logger.logDebug("performing token connection"),this.http.post(`${this.config.apiUrl}/connect/token`,s,{headers:r}).pipe(lt(a=>{const u=new Date;a.expiration_date=new Date(u.getTime()+1e3*a.expires_in).getTime().toString(),this.logger.logDebug(`got token expiration: ${a.expiration_date}`);const h=GA(a.id_token);return this.storeToken(a),this.updateState({authReady:!0,tokens:a,profile:h}),this.isRefreshing=!1,this.refreshTokenSubject.next(h),h}),bh(a=>(this.isRefreshing=!1,this.refreshTokenSubject.next(null),z_(a))))}startupTokenRefresh(){return Ha(this.retrieveTokens()).pipe(lt(e=>{if(!e)return this.updateState({authReady:!0}),Ha("No token in Storage");const i=GA(e.id_token);return this.updateState({tokens:e,profile:i}),+e.expiration_date>(new Date).getTime()&&this.updateState({authReady:!0}),this.refreshTokens()}),bh(e=>(this.logout(),this.updateState({authReady:!0}),Ha(e))))}scheduleRefresh(){this.refreshSubscription$=this.tokens$.pipe(Ro(1),lt(e=>{e&&(this.logger.logDebug("Will refresh auth token in "+.8*e.expires_in*1e3),PI(.8*e.expires_in*1e3))}),lt(()=>this.refreshTokens())).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(z(su),z(nr),z(r1),z(wa))},n.\u0275prov=oe({factory:function(){return new n(z(su),z(nr),z(r1),z(wa))},token:n,providedIn:"root"}),n})(),s3=(()=>{class n{constructor(e,i,r){this.authService=e,this.config=i,this.logger=r,this.isRefreshing=!1,this.refreshTokenSubject=new yh(null)}intercept(e,i){if(this.shouldAddTokenToRequest(e.url)){const r=this.addAuthHeader(e);return i.handle(r).pipe(bh(s=>s instanceof I0&&401===s.status?this.handle401Error(e,i):z_(s)))}return i.handle(e)}handle401Error(e,i){return this.isRefreshing?this.refreshTokenSubject.pipe(Fi(r=>null!==r),Ro(1),Va(r=>i.handle(this.addAuthHeader(e)))):(this.isRefreshing=!0,this.refreshTokenSubject.next(null),this.authService.refreshTokens().pipe(Va(r=>{this.isRefreshing=!1;const s=this.addAuthHeader(e),a=this.authService.retrieveTokens();return a&&this.refreshTokenSubject.next(a.access_token),i.handle(s)}),bh(r=>(this.isRefreshing=!1,this.authService.logout(),z_(r)))))}addAuthHeader(e){const i=this.authService.retrieveTokens();return i?e.clone({headers:e.headers.set("Authorization","Bearer "+i.access_token)}):e}handleResponseError(e,i,r){return 400!==e.status&&401===e.status?(this.logger.logDebug(`In handleResponseError got 401 response: ${i.url}`),M_(1e4).pipe(Va(()=>{const s=this.addAuthHeader(i);return r.handle(s)}))):z_(e)}shouldAddTokenToRequest(e){return!(!e.startsWith(this.config.baseApiUrl())||e.includes("/connect/token"))}}return n.\u0275fac=function(e){return new(e||n)(z(Z_),z(nr),z(wa))},n.\u0275prov=oe({factory:function(){return new n(z(Z_),z(nr),z(wa))},token:n,providedIn:"root"}),n})();const s1=new U_(()=>!1),o1=new U_(()=>""),a1=new U_(()=>0),l1=new U_(()=>0);let u1=(()=>{class n{constructor(e,i){this.cacheProvider=e,this.loggerService=i}setCacheInfoHttpContext(e){let i=new FA;return i.set(s1,!0),i.set(o1,e.cacheKey),i.set(a1,e.cacheType),i.set(l1,e.cacheTime),i}initalize(){return ur(this,void 0,void 0,function*(){return this.cacheProvider?yield this.cacheProvider.initialize():(this.loggerService.logError("No cache provider found"),new Promise((e,i)=>{e()}))})}put(e){return ur(this,void 0,void 0,function*(){if(this.cacheProvider){e.cacheSavedOn=new Date;const i=new Date;i.setMinutes(i.getMinutes()+e.cacheTime),yield this.cacheProvider.put(e.cacheKey,i,JSON.stringify(e))}})}get(e){return ur(this,void 0,void 0,function*(){if(this.cacheProvider)try{const i=yield this.cacheProvider.get(e);if(i){const r=JSON.parse(i);if(r){const s=new Date;return r.cacheSavedOn&&(r.cacheSavedOn.setMinutes(r.cacheSavedOn.getMinutes()+r.cacheTime),s.getTime()-r.cacheSavedOn.getTime()<=0&&(r.cacheHitFailed=!0,yield this.delete(e))),r}}}catch{return{cacheHitFailed:!0}}return{cacheHitFailed:!0}})}delete(e){return ur(this,void 0,void 0,function*(){this.cacheProvider&&(yield this.cacheProvider.delete(e))})}putHttpResponse(e,i,r){return ur(this,void 0,void 0,function*(){if(this.cacheProvider){const s=new Date;s.setMinutes(s.getMinutes()+i),yield this.cacheProvider.put(e,s,JSON.stringify(r))}})}getHttpResponse(e){return ur(this,void 0,void 0,function*(){if(this.cacheProvider){const i=yield this.cacheProvider.get(e);if(i)return JSON.parse(i)}})}deleteHttpResponse(e){return ur(this,void 0,void 0,function*(){this.cacheProvider&&(yield this.cacheProvider.delete(e))})}}return n.\u0275fac=function(e){return new(e||n)(z("RG_CACHE_PROVIDER"),z(wa))},n.\u0275prov=oe({factory:function(){return new n(z("RG_CACHE_PROVIDER"),z(wa))},token:n,providedIn:"root"}),n})(),o3=(()=>{class n{constructor(e,i){this.cacheService=e,this.loggerService=i}intercept(e,i){return"GET"===e.method&&e.context.get(s1)&&1===e.context.get(a1)?i.handle(e).pipe(g0(r=>{r instanceof tg&&200===r.status&&this.cacheService.putHttpResponse(e.context.get(o1),e.context.get(l1),r)}),Va(r=>Ha(r)),bh(r=>{throw r})):i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(z(u1),z(wa))},n.\u0275prov=oe({factory:function(){return new n(z(u1),z(wa))},token:n,providedIn:"root"}),n})(),a3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({providers:[{provide:j_,useClass:s3,multi:!0},{provide:j_,useClass:o3,multi:!0}]}),n})(),l3=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:nr,useFactory:()=>{let i=new nr;return i.baseApiUrl=e.baseApiUrl,i.apiVersion=e.apiVersion,i.clientId=e.clientId,i.googleApiKey=e.googleApiKey,i.channelUrl=e.channelUrl,i.channelHubName=e.channelHubName,i.realtimeGeolocationHubName=e.realtimeGeolocationHubName,i.logLevel=e.logLevel,i.isMobileApp=e.isMobileApp,i}},{provide:"RG_CACHE_PROVIDER",useValue:e.cacheProvider}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({imports:[[a3]]}),n})(),ug=(()=>{class n{constructor(){this.LANG_KEY="lang",this.LANG_EN="en",this.HAS_SEEN_TUTORIAL_KEY="hasSeenTutorial",this.EVENTS={LOGGED_IN:"userLoggedIn",SYSTEM_READY:"systemReady",COREDATASYNCED:"coreDataSynced",LOCAL_DATA_SET:"localDataSet",SETTINGS_SAVED:"settingsSaved",MESSAGE_RECIPIENT_ADDED:"messageRecipientAdded",REGISTRATION_OPERATION_FINISHED:"registrationOperationFinished",CORDOVA_DEVICE_RESUMED:"onResumeCordova",CORDOVA_DEVICE_PAUSED:"onPauseCordova",HIDE_SPLASH_SCREEN:"hideSplashScreen",STATUS_UPDATED:"statusUpdated",STATUS_QUEUED:"statusQueued",STAFFING_UPDATED:"staffingUpdated",SECURITY_SET:"securitySet",NAV_PUSH:"navPush",NAV_SETROOT:"navSetRoot"},this.SIGNALR_EVENTS={PERSONNEL_STATUS_UPDATED:"PersonnelStatusUpdated",PERSONNEL_STAFFING_UPDATED:"PersonnelStaffingUpdated",UNIT_STATUS_UPDATED:"UnitStatusUpdated",CALLS_UPDATED:"CallsUpdated",CALL_ADDED:"CallAdded",CALL_CLOSED:"CallClosed",PERSONNEL_LOCATION_UPDATED:"PersonnelLocationUpdated",UNIT_LOCATION_UPDATED:"UnitLocationUpdated"},this.DOCTYPES={PERSONNEL:1,GROUPS:2,UNITS:3,ROLES:4,STATUSES:5,PRIORITIES:6,DEPARTMENTS:7},this.STATUS={STANDINGBY:0,NOTRESPONDING:1,RESPONDING:2,ONSCENE:3,AVAILABLESTATION:4,RESPONDINGTOSTATION:5,RESPONDINGTOSCENE:6},this.STAFFING={NORMAL:0,DELAYED:1,UNAVAILABLE:2,COMMITTED:3,ONSHIFT:4},this.DETAILTYPES={NONE:0,STATIONS:1,CALLS:2,CALLSANDSTATIONS:3},this.NOTETYPES={NONE:0,OPTIONAL:1,REQUIRED:2},this.CUSTOMTYPES={PERSONNEL:1,UNIT:2,STAFFING:3},this.MESSAGETYPES={NORMAL:0,CALLBACK:1,POLL:2},this.GROUPTYPES={ORG:1,STATION:2},this.DESTTYPES={STATION:1,CALL:2},this.CACHE={PERSON_DETAIL:"personDetail",UNIT_DETAIL:"unitDetail"}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({factory:function(){return new n},token:n,providedIn:"root"}),n})(),c3=(()=>{class n{constructor(e,i){this.http=e,this.config=i}getMapDataAndMarkers(){return this.http.get(this.config.apiUrl+"/Mapping/GetMapDataAndMarkers")}getMayLayers(e){return this.http.get(this.config.apiUrl+"/Mapping/GetMayLayers?type="+e)}}return n.\u0275fac=function(e){return new(e||n)(z(su),z(nr))},n.\u0275prov=oe({factory:function(){return new n(z(su),z(nr))},token:n,providedIn:"root"}),n})(),d3=(()=>{class n{constructor(e,i){this.http=e,this.config=i}getShifts(){return this.http.get(this.config.apiUrl+"/Shifts/GetShifts")}getShift(e){return this.http.get(this.config.apiUrl+"/Shifts/GetShift?id="+e)}getTodaysShifts(){return this.http.get(this.config.apiUrl+"/Shifts/GetTodaysShifts")}getShiftDay(e){return this.http.get(this.config.apiUrl+"/Shifts/GetShiftDay?id="+e)}signupForShiftDay(e,i){return this.http.post(this.config.apiUrl+"/Shifts/SignupForShiftDay",{ShiftDayId:e,GroupId:i})}}return n.\u0275fac=function(e){return new(e||n)(z(su),z(nr))},n.\u0275prov=oe({factory:function(){return new n(z(su),z(nr))},token:n,providedIn:"root"}),n})();var ir=(()=>(function(n){n[n.Subject=0]="Subject",n[n.BehaviorSubject=1]="BehaviorSubject",n[n.ReplaySubject=2]="ReplaySubject"}(ir||(ir={})),ir))();let c1=(()=>{class n{constructor(){this.eventObservableMapping={}}publishEvent(e,i){this.validateEventName(e),this.createSubjectIfNotExist(e),this.publishNext(e,ir.Subject,i)}subscribe(e,i,r,s){return this.validateEventName(e),this.createSubjectIfNotExist(e),this.eventObservableMapping[e].ref.subscribe(i,r,s)}getEventObservable(e){return this.validateEventName(e),this.createSubjectIfNotExist(e),this.eventObservableMapping[e].ref.asObservable()}registerEventWithLast(e,i){this.validateEventName(e),this.checkType(e,ir.BehaviorSubject,!0),this.eventObservableMapping[e]={type:ir.BehaviorSubject,ref:new yh(i)}}registerEventWithHistory(e,i,r,s){this.validateEventName(e),this.checkType(e,ir.ReplaySubject,!0),this.eventObservableMapping[e]={type:ir.ReplaySubject,ref:new bD(i,r,s)}}publishWithLast(e,i){this.validateEventName(e),this.publishNext(e,ir.BehaviorSubject,i)}publishWithHistory(e,i){this.validateEventName(e),this.publishNext(e,ir.ReplaySubject,i)}completeEvent(e){if(this.validateEventName(e),!this.eventObservableMapping[e])throw Error("Event not created yet");this.completeObservableAndDestroyMapping(e)}ngOnDestroy(){for(const e in this.eventObservableMapping)this.eventObservableMapping.hasOwnProperty(e)&&this.completeObservableAndDestroyMapping(e)}publishNext(e,i=ir.Subject,r){this.checkType(e,i),this.eventObservableMapping[e].ref.next(r)}checkType(e,i=ir.Subject,r=!1){const s=this.eventObservableMapping[e];let a;if((s||!r)&&(s?s.type!==i&&(a=`Event exists with other type: ${ir[s.type]}. Expected type: ${ir[i]}`):a=`Event doesn't exist of type: ${ir[i]} or it has been completed`,r&&s.type===i&&(a="Event already registerd with the same type. Don't register a second time"),a))throw Error(`Error (${e}): ${a}`)}createSubjectIfNotExist(e){this.eventObservableMapping[e]||(this.eventObservableMapping[e]={type:ir.Subject,ref:new Oe})}validateEventName(e){if(!e)throw Error("Event name not provided")}completeObservableAndDestroyMapping(e){this.eventObservableMapping[e].ref.complete(),delete this.eventObservableMapping[e]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({factory:function(){return new n},token:n,providedIn:"root"}),n})(),H0=(()=>{class n{constructor(e,i){this.pubsubSvc=e,this.consts=i,this.pubsubSvc.registerEventWithLast(this.consts.EVENTS.LOGGED_IN,void 0),this.pubsubSvc.registerEventWithLast(this.consts.EVENTS.SYSTEM_READY,void 0),this.pubsubSvc.registerEventWithLast(this.consts.EVENTS.COREDATASYNCED,void 0),this.pubsubSvc.registerEventWithLast(this.consts.EVENTS.LOCAL_DATA_SET,void 0),this.pubsubSvc.registerEventWithLast(this.consts.EVENTS.SETTINGS_SAVED,void 0),this.pubsubSvc.registerEventWithLast(this.consts.EVENTS.STATUS_UPDATED,void 0),this.pubsubSvc.registerEventWithLast(this.consts.EVENTS.STAFFING_UPDATED,void 0),this.pubsubSvc.registerEventWithLast(this.consts.EVENTS.SECURITY_SET,void 0)}publishEvent(e,i){this.pubsubSvc.publishEvent(e,i)}subscribe(e,i,r,s){return this.pubsubSvc.subscribe(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(z(c1),z(ug))},n.\u0275prov=oe({factory:function(){return new n(z(c1),z(ug))},token:n,providedIn:"root"}),n})();Window;var Oo=(()=>(function(n){n[n.Connecting=1]="Connecting",n[n.Connected=2]="Connected",n[n.Reconnecting=3]="Reconnecting",n[n.Disconnected=4]="Disconnected"}(Oo||(Oo={})),Oo))();class g3{constructor(){this.channel=""}}let m3=(()=>{class n{constructor(e,i,r,s){this.config=e,this.events=i,this.consts=r,this.authService=s,this.startingSubject=new Oe,this.errorSubject=new Oe,this.started=!1,this.subjects=new Array,this.connectionState$=new _t(a=>{this.connectionStateObserver=a}).pipe(Ye()),this.error$=this.errorSubject.asObservable(),this.starting$=this.startingSubject.asObservable()}start(){var e;if(console.log("SignalR Channel Start()"),!this.started)try{null===(e=this.connectionStateObserver)||void 0===e||e.next(Oo.Connecting);const i=this.authService.retrieveTokens();i&&(this.hubConnection=(new Xj).withUrl(this.config.channelUrl+this.config.realtimeGeolocationHubName+`?access_token=${encodeURIComponent(i.access_token)}`).configureLogging(q.Information).withAutomaticReconnect().build(),this.hubConnection.on("onPersonnelLocationUpdated",r=>{console.log("onPersonnelLocationUpdated"),this.events.publishEvent(this.consts.SIGNALR_EVENTS.PERSONNEL_LOCATION_UPDATED,r)}),this.hubConnection.on("onUnitLocationUpdated",r=>{console.log("onUnitLocationUpdated"),this.events.publishEvent(this.consts.SIGNALR_EVENTS.UNIT_LOCATION_UPDATED,r)}),this.hubConnection.on("onGeolocationConnect",r=>{console.log(`onGeolocationConnect with ${r}`)}),this.hubConnection.start().then(()=>{var r,s;console.log("Connection started"),null===(r=this.connectionStateObserver)||void 0===r||r.next(Oo.Connected),null===(s=this.hubConnection)||void 0===s||s.invoke("geolocationConnect").then(()=>{console.log("Successfully subscribed to geolocationConnect channel")}).catch(a=>{console.log(`Error subscribed to geolocationConnect channel, ERROR: ${a}`)}),this.started=!0}).catch(r=>{var s;console.log("Error while starting connection: "+r),null===(s=this.connectionStateObserver)||void 0===s||s.next(Oo.Disconnected),this.errorSubject.next(r)}))}catch(i){console.log(i)}}restart(e){if(this.hubConnection&&!1===this.started)try{this.hubConnection.start().then(()=>{var i,r;console.log("Connection started"),null===(i=this.connectionStateObserver)||void 0===i||i.next(Oo.Connected),null===(r=this.hubConnection)||void 0===r||r.invoke("geolocationConnect",parseInt(e)).then(()=>{console.log(`Successfully subscribed to Connect channel with ${e}`)}).catch(s=>{console.log(`Error subscribed to Connect channel with ${e}, ERROR: ${s}`)}),this.started=!0}).catch(i=>{var r;console.log("Error while starting connection: "+i),null===(r=this.connectionStateObserver)||void 0===r||r.next(Oo.Disconnected),this.started=!1,this.errorSubject.next(i)})}catch(i){console.log(i)}}stop(){this.hubConnection&&this.hubConnection.stop().then(()=>{var e;console.log("Connection stopped"),null===(e=this.connectionStateObserver)||void 0===e||e.next(Oo.Disconnected),this.started=!1}).catch(e=>{var i;console.log("Error while starting connection: "+e),null===(i=this.connectionStateObserver)||void 0===i||i.next(Oo.Disconnected),this.started=!1,this.errorSubject.next(e)})}sub(e,i){var r;let s=this.subjects.find(a=>a.channel===e);return void 0!==s?(console.log(`Found existing observable for ${e} channel`),null===(r=null==s?void 0:s.subject)||void 0===r?void 0:r.asObservable()):(s=new g3,s.channel=e,s.subject=new Oe,this.subjects.push(s),this.starting$.subscribe(()=>{var a;null===(a=this.hubConnection)||void 0===a||a.invoke(e,i).then(()=>console.log(`Successfully subscribed to ${e} channel with ${i}`)).catch(u=>{var h;return null===(h=null==s?void 0:s.subject)||void 0===h?void 0:h.error(u)})},a=>{var u;null===(u=null==s?void 0:s.subject)||void 0===u||u.error(a)}),s.subject.asObservable())}publish(e){var i;null===(i=this.hubConnection)||void 0===i||i.invoke("Publish",e)}}return n.\u0275fac=function(e){return new(e||n)(z(nr),z(H0),z(ug),z(Z_))},n.\u0275prov=oe({factory:function(){return new n(z(nr),z(H0),z(ug),z(Z_))},token:n,providedIn:"root"}),n})();const B3=["modalContent"];function H3(n,t){1&n&&(fe(0,"div",2)(1,"div",3),fn(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8),ge(),fn(7,"br"),pn(8," Loading shift calendar... "),ge())}function U3(n,t){if(1&n){const e=Kn();fe(0,"mwl-calendar-month-view",19),We("dayClicked",function(r){return _e(e),ee(2).dayClicked(r.day)})("eventClicked",function(r){return _e(e),ee(2).handleEvent("Clicked",r.event)}),ge()}if(2&n){const e=ee().$implicit,i=ee();te("viewDate",i.viewDate)("events",e)("refresh",i.refresh)("activeDayIsOpen",i.activeDayIsOpen)}}function j3(n,t){if(1&n){const e=Kn();fe(0,"mwl-calendar-week-view",20),We("eventClicked",function(r){return _e(e),ee(2).handleEvent("Clicked",r.event)}),ge()}if(2&n){const e=ee().$implicit,i=ee();te("viewDate",i.viewDate)("events",e)("refresh",i.refresh)}}function z3(n,t){if(1&n){const e=Kn();fe(0,"mwl-calendar-day-view",20),We("eventClicked",function(r){return _e(e),ee(2).handleEvent("Clicked",r.event)}),ge()}if(2&n){const e=ee().$implicit,i=ee();te("viewDate",i.viewDate)("events",e)("refresh",i.refresh)}}function W3(n,t){if(1&n){const e=Kn();fe(0,"div")(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12),We("viewDateChange",function(r){return _e(e),ee().viewDate=r})("viewDateChange",function(){return _e(e),ee().closeOpenMonthViewDay()}),pn(5," Previous "),ge(),fe(6,"div",13),We("viewDateChange",function(r){return _e(e),ee().viewDate=r}),pn(7," Today "),ge(),fe(8,"div",14),We("viewDateChange",function(r){return _e(e),ee().viewDate=r})("viewDateChange",function(){return _e(e),ee().closeOpenMonthViewDay()}),pn(9," Next "),ge()()(),fe(10,"div",10)(11,"h3"),pn(12),Cn(13,"calendarDate"),ge()(),fe(14,"div",10)(15,"div",11)(16,"div",15),We("click",function(){_e(e);const r=ee();return r.setView(r.CalendarView.Month)}),pn(17," Month "),ge(),fe(18,"div",15),We("click",function(){_e(e);const r=ee();return r.setView(r.CalendarView.Week)}),pn(19," Week "),ge(),fe(20,"div",15),We("click",function(){_e(e);const r=ee();return r.setView(r.CalendarView.Day)}),pn(21," Day "),ge()()()(),fn(22,"br"),fe(23,"div",16),Ee(24,U3,1,4,"mwl-calendar-month-view",17),Ee(25,j3,1,3,"mwl-calendar-week-view",18),Ee(26,z3,1,3,"mwl-calendar-day-view",18),ge()()}if(2&n){const e=ee();J(4),te("view",e.view)("viewDate",e.viewDate),J(2),te("viewDate",e.viewDate),J(2),te("view",e.view)("viewDate",e.viewDate),J(4),fc(Mo(13,16,e.viewDate,e.view+"ViewTitle","en")),J(4),yi("active",e.view===e.CalendarView.Month),J(2),yi("active",e.view===e.CalendarView.Week),J(2),yi("active",e.view===e.CalendarView.Day),J(3),te("ngSwitch",e.view),J(1),te("ngSwitchCase",e.CalendarView.Month),J(1),te("ngSwitchCase",e.CalendarView.Week),J(1),te("ngSwitchCase",e.CalendarView.Day)}}let G3=(()=>{class n{constructor(e,i){this.shiftProvider=e,this.http=i,this.view=ja.Month,this.CalendarView=ja,this.viewDate=new Date,this.refresh=new Oe,this.activeDayIsOpen=!0,this.actions=[{label:'<i class="fas fa-fw fa-pencil-alt"></i>',a11yLabel:"Edit",onClick:({event:r})=>{this.handleEvent("Edited",r)}},{label:'<i class="fas fa-fw fa-trash-alt"></i>',a11yLabel:"Delete",onClick:({event:r})=>{this.handleEvent("Deleted",r)}}],this.events$=this.http.get("/User/Shifts/GetShiftCalendarItems").pipe(lt(r=>{if(r&&r.length>0)return r.map(s=>{if(s)return{title:s.Title,start:new Date(s.Start),end:new Date(s.End),color:{primary:s.Color,secondary:s.Color},allDay:s.IsAllDay,draggable:!1,resizable:{beforeStart:!1,afterEnd:!1},meta:{shift:s}}})}))}ngOnInit(){}ngAfterContentInit(){}dayClicked({date:e,events:i}){IA(e,this.viewDate)&&(this.activeDayIsOpen=!(MA(this.viewDate,e)&&!0===this.activeDayIsOpen||0===i.length),this.viewDate=e)}handleEvent(e,i){e&&"Clicked"===e&&i&&i.meta&&i.meta.shift&&(i.meta.shift.WorkshiftId?window.open(`/User/Workshifts/ViewDay?dayId=${i.meta.shift.WorkshiftDayId}`,"_self"):0===i.meta.shift.SignupType?window.open(`/User/Shifts/ViewShift?shiftDayId=${i.meta.shift.CalendarItemId}`,"_self"):window.open(`/User/Shifts/Signup?shiftDayId=${i.meta.shift.CalendarItemId}`,"_self"))}setView(e){this.view=e}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}}return n.\u0275fac=function(e){return new(e||n)(U(d3),U(su))},n.\u0275cmp=Yt({type:n,selectors:[["ng-component"]],viewQuery:function(e,i){if(1&e&&kv(B3,7),2&e){let r;Rv(r=Ov())&&(i.modalContent=r.first)}},decls:4,vars:4,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"text-center"],[1,"sk-spinner","sk-spinner-wave"],[1,"sk-rect1"],[1,"sk-rect2",2,"padding-left","4px"],[1,"sk-rect3",2,"padding-left","4px"],[1,"sk-rect4",2,"padding-left","4px"],[1,"sk-rect5",2,"padding-left","4px"],[1,"row","text-center"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],[1,"btn","btn-primary",3,"click"],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked",4,"ngSwitchCase"],[3,"viewDate","events","refresh","eventClicked",4,"ngSwitchCase"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked"],[3,"viewDate","events","refresh","eventClicked"]],template:function(e,i){if(1&e&&(Ee(0,H3,9,0,"ng-template",null,0,hs),Ee(2,W3,27,20,"div",1),Cn(3,"async")),2&e){const r=Yn(1);J(2),te("ngIf",xv(3,2,i.events$))("ngIfElse",r)}},directives:[Fa,VH,HH,BH,Qv,_M,$H,vA,JH],pipes:[fD,Xp],styles:[""],changeDetection:0}),n})();var Ga=ne(407),Z3=ne(489);function dg(n){return null!=n&&"false"!=`${n}`}function f1(n){return Array.isArray(n)?n:[n]}function ei(n){return null==n?"":"string"==typeof n?n:`${n}px`}const hg={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=hg;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new bn(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=hg;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=hg;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class X3 extends QD{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class K3 extends XD{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=hg.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(hg.cancelAnimationFrame(e),t._scheduled=void 0)}});let U0,J3=1;const Y_={};function p1(n){return n in Y_&&(delete Y_[n],!0)}const ez={setImmediate(n){const t=J3++;return Y_[t]=!0,U0||(U0=Promise.resolve()),U0.then(()=>p1(t)&&n()),t},clearImmediate(n){p1(n)}},{setImmediate:tz,clearImmediate:nz}=ez,K_={setImmediate(...n){const{delegate:t}=K_;return((null==t?void 0:t.setImmediate)||tz)(...n)},clearImmediate(n){const{delegate:t}=K_;return((null==t?void 0:t.clearImmediate)||nz)(n)},delegate:void 0};new class rz extends QD{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class iz extends XD{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=K_.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(K_.clearImmediate(e),t._scheduled=void 0)}});function g1(n,t=T_){return function oz(n){return bt((t,e)=>{let i=!1,r=null,s=null,a=!1;const u=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const f=r;r=null,e.next(f)}a&&e.complete()},h=()=>{s=null,a&&e.complete()};t.subscribe(Mt(e,f=>{i=!0,r=f,s||Ti(n(f)).subscribe(s=Mt(e,u,h))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>M_(n,t))}let j0;try{j0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{j0=!1}let Mc,fg=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?SM(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!j0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(z(ph))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lz(){if(null==Mc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Mc=!1,Mc;if("scrollBehavior"in document.documentElement.style)Mc=!0;else{const n=Element.prototype.scrollTo;Mc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Mc}function v1(n){return n.composedPath?n.composedPath()[0]:n.target}function _1(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const cz=new rt("cdk-dir-doc",{providedIn:"root",factory:function dz(){return Zu(on)}}),hz=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let y1=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new me,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function fz(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?hz.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(z(cz,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({}),n})(),gz=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Oe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new _t(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(g1(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ha()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Fi(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function Y3(n){return n instanceof wn?n.nativeElement:n}(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>wh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(z(Qt),z(fg),z(on,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w1=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Oe,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(g1(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(z(fg),z(Qt),z(on,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({}),n})(),D1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({imports:[[W0,C1],W0,C1]}),n})();class G0{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class vz extends G0{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class S1 extends G0{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class _z extends G0{constructor(t){super(),this.element=t instanceof wn?t.nativeElement:t}}class wz extends class yz{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof vz?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof S1?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof _z?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const u=a.element,h=this._document.createComment("dom-portal");u.parentNode.insertBefore(h,u),this.outletElement.appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||D.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Cz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({}),n})();const b1=lz();class Ez{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ei(-this._previousScrollPosition.left),t.style.top=ei(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),b1&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),b1&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Tz{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class E1{enable(){}disable(){}attach(){}}function $0(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function T1(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Mz{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();$0(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Iz=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new E1,this.close=a=>new Tz(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new Ez(this._viewportRuler,this._document),this.reposition=a=>new Mz(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(z(gz),z(w1),z(Qt),z(on))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class M1{constructor(t){if(this.scrollStrategy=new E1,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Az{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let I1=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(z(on))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xz=(()=>{class n extends I1{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const u=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(z(on),z(Qt,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pz=(()=>{class n extends I1{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=v1(s)},this._clickListener=s=>{const a=v1(s),u="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let f=h.length-1;f>-1;f--){const m=h[f];if(m._outsidePointerEvents.observers.length<1||!m.hasAttached())continue;if(m.overlayElement.contains(a)||m.overlayElement.contains(u))break;const y=m._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>y.next(s)):y.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(z(on),z(fg),z(Qt,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A1=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||_1()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),_1()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(z(on),z(fg))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Rz{constructor(t,e,i,r,s,a,u,h,f){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=u,this._location=h,this._outsideClickDispatcher=f,this._backdropElement=null,this._backdropClick=new Oe,this._attachments=new Oe,this._detachments=new Oe,this._locationChanges=bn.EMPTY,this._backdropClickHandler=m=>this._backdropClick.next(m),this._backdropTransitionendHandler=m=>{this._disposeBackdrop(m.target)},this._keydownEvents=new Oe,this._outsidePointerEvents=new Oe,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ro(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ei(this._config.width),t.height=ei(this._config.height),t.minWidth=ei(this._config.minWidth),t.minHeight=ei(this._config.minHeight),t.maxWidth=ei(this._config.maxWidth),t.maxHeight=ei(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=f1(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ua(Nn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const x1="cdk-overlay-connected-position-bounding-box",kz=/([A-Za-z%]+)$/;class Oz{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Oe,this._resizeSubscription=bn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(x1),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let u of this._preferredPositions){let h=this._getOriginPoint(t,r,u),f=this._getOverlayPoint(h,e,u),m=this._getOverlayFit(f,e,i,u);if(m.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,h);this._canFitWithFlexibleDimensions(m,f,i)?s.push({position:u,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,u)}):(!a||a.overlayFit.visibleArea<m.visibleArea)&&(a={overlayFit:m,overlayPoint:f,originPoint:h,position:u,overlayRect:e})}if(s.length){let u=null,h=-1;for(const f of s){const m=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);m>h&&(h=m,u=f)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ic(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(x1),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==i.originX?a:u}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=R1(e);let{x:a,y:u}=t,h=this._getOffset(r,"x"),f=this._getOffset(r,"y");h&&(a+=h),f&&(u+=f);let C=0-u,S=u+s.height-i.height,T=this._subtractOverflows(s.width,0-a,a+s.width-i.width),x=this._subtractOverflows(s.height,C,S),R=T*x;return{visibleArea:R,isCompletelyWithinViewport:s.width*s.height===R,fitsInViewportVertically:x===s.height,fitsInViewportHorizontally:T==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,a=P1(this._overlayRef.getConfig().minHeight),u=P1(this._overlayRef.getConfig().minWidth),f=t.fitsInViewportHorizontally||null!=u&&u<=s;return(t.fitsInViewportVertically||null!=a&&a<=r)&&f}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=R1(e),s=this._viewportRect,a=Math.max(t.x+r.width-s.width,0),u=Math.max(t.y+r.height-s.height,0),h=Math.max(s.top-i.top-t.y,0),f=Math.max(s.left-i.left-t.x,0);let m=0,y=0;return m=r.width<=s.width?f||-a:t.x<this._viewportMargin?s.left-i.left-t.x:0,y=r.height<=s.height?h||-u:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:m,y},{x:t.x+m,y:t.y+y}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Az(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,a,u,m,y,C;if("top"===e.overlayY)a=t.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)u=i.height-t.y+2*this._viewportMargin,s=i.height-u+this._viewportMargin;else{const S=Math.min(i.bottom-t.y+i.top,t.y),T=this._lastBoundingBoxSize.height;s=2*S,a=t.y-S,s>T&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-T/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)C=i.width-t.x+this._viewportMargin,m=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)y=t.x,m=i.right-t.x;else{const S=Math.min(i.right-t.x+i.left,t.x),T=this._lastBoundingBoxSize.width;m=2*S,y=t.x-S,m>T&&!this._isInitialRender&&!this._growAfterOpen&&(y=t.x-T/2)}return{top:a,left:y,bottom:u,right:C,width:m,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=ei(i.height),r.top=ei(i.top),r.bottom=ei(i.bottom),r.width=ei(i.width),r.left=ei(i.left),r.right=ei(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ei(s)),a&&(r.maxWidth=ei(a))}this._lastBoundingBoxSize=i,Ic(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ic(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ic(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const m=this._viewportRuler.getViewportScrollPosition();Ic(i,this._getExactOverlayY(e,t,m)),Ic(i,this._getExactOverlayX(e,t,m))}else i.position="static";let u="",h=this._getOffset(e,"x"),f=this._getOffset(e,"y");h&&(u+=`translateX(${h}px) `),f&&(u+=`translateY(${f}px)`),i.transform=u.trim(),a.maxHeight&&(r?i.maxHeight=ei(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=ei(a.maxWidth):s&&(i.maxWidth="")),Ic(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ei(s.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ei(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:T1(t,i),isOriginOutsideView:$0(t,i),isOverlayClipped:T1(e,i),isOverlayOutsideView:$0(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&f1(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof wn)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Ic(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function P1(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(kz);return e&&"px"!==e?null:parseFloat(t)}return n||null}function R1(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const k1="cdk-global-overlay-wrapper";class Lz{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(k1),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:u}=i,h=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),f=!("100%"!==s&&"100vh"!==s||u&&"100%"!==u&&"100vh"!==u);t.position=this._cssPosition,t.marginLeft=h?"0":this._leftOffset,t.marginTop=f?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,h?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=f?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(k1),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Nz=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Lz}flexibleConnectedTo(e){return new Oz(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(z(w1),z(on),z(fg),z(A1))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fz=0,Z0=(()=>{class n{constructor(e,i,r,s,a,u,h,f,m,y,C){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=u,this._ngZone=h,this._document=f,this._directionality=m,this._location=y,this._outsideClickDispatcher=C}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new M1(e);return a.direction=a.direction||this._directionality.value,new Rz(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Fz++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Vv)),new wz(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(z(Iz),z(A1),z(Ql),z(Nz),z(xz),z(D),z(Qt),z(on),z(y1),z(sM),z(Pz))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const Vz=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],O1=new rt("cdk-connected-overlay-scroll-strategy");let L1=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(U(wn))},n.\u0275dir=we({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),Bz=(()=>{class n{constructor(e,i,r,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=bn.EMPTY,this._attachSubscription=bn.EMPTY,this._detachSubscription=bn.EMPTY,this._positionSubscription=bn.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new me,this.positionChange=new me,this.attach=new me,this.detach=new me,this.overlayKeydown=new me,this.overlayOutsideClick=new me,this._templatePortal=new S1(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=dg(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=dg(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=dg(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=dg(e)}get push(){return this._push}set push(e){this._push=dg(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Vz);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!function bz(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new M1({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof L1?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Dz(n,t=!1){return bt((e,i)=>{let r=0;e.subscribe(Mt(i,s=>{const a=n(s,r++);(a||t)&&i.next(s),!a&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(U(Z0),U(pa),U(ds),U(O1),U(y1,8))},n.\u0275dir=we({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[_n]}),n})();const Uz={provide:O1,deps:[Z0],useFactory:function Hz(n){return()=>n.scrollStrategies.reposition()}};let jz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({providers:[Z0,Uz],imports:[[W0,Cz,D1],D1]}),n})(),N1=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(U($r),U(wn))},n.\u0275dir=we({type:n}),n})(),Ac=(()=>{class n extends N1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Hn(n)))(i||n)}}(),n.\u0275dir=we({type:n,features:[Xt]}),n})();const Ca=new rt("NgValueAccessor"),Gz={provide:Ca,useExisting:Le(()=>Q_),multi:!0},Zz=new rt("CompositionEventMode");let Q_=(()=>{class n extends N1{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $z(){const n=ga()?ga().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(U($r),U(wn),U(Zz,8))},n.\u0275dir=we({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&We("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[yn([Gz]),Xt]}),n})();const rr=new rt("NgValidators"),lu=new rt("NgAsyncValidators");function Z1(n){return null!=n}function q1(n){const t=Dv(n)?_s(n):n;return Ab(t),t}function Y1(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function K1(n,t){return t.map(e=>e(n))}function X1(n){return n.map(t=>function Yz(n){return!n.validate}(t)?t:e=>t.validate(e))}function q0(n){return null!=n?function Q1(n){if(!n)return null;const t=n.filter(Z1);return 0==t.length?null:function(e){return Y1(K1(e,t))}}(X1(n)):null}function Y0(n){return null!=n?function J1(n){if(!n)return null;const t=n.filter(Z1);return 0==t.length?null:function(e){return function zz(...n){const t=$c(n),{args:e,keys:i}=VI(n),r=new _t(s=>{const{length:a}=e;if(!a)return void s.complete();const u=new Array(a);let h=a,f=a;for(let m=0;m<a;m++){let y=!1;Ti(e[m]).subscribe(Mt(s,C=>{y||(y=!0,f--),u[m]=C},()=>h--,void 0,()=>{(!h||!y)&&(f||s.next(i?BI(i,u):u),s.complete())}))}});return t?r.pipe(n0(t)):r}(K1(e,t).map(q1)).pipe(lt(Y1))}}(X1(n)):null}function ex(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function K0(n){return n?Array.isArray(n)?n:[n]:[]}function ey(n,t){return Array.isArray(n)?n.includes(t):n===t}function ix(n,t){const e=K0(t);return K0(n).forEach(r=>{ey(e,r)||e.push(r)}),e}function rx(n,t){return K0(t).filter(e=>!ey(n,e))}class sx{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=q0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Y0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Er extends sx{get formDirective(){return null}get path(){return null}}class uu extends sx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let ax=(()=>{class n extends class ox{constructor(t){this._cd=t}is(t){return"submitted"===t?!!this._cd?.submitted:!!this._cd?.control?.[t]}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(U(uu,2))},n.\u0275dir=we({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&yi("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Xt]}),n})();function gg(n,t){(function J0(n,t){const e=function tx(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(ex(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function nx(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(ex(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();ry(t._rawValidators,r),ry(t._rawAsyncValidators,r)})(n,t),t.valueAccessor.writeValue(n.value),function rW(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ux(n,t)})}(n,t),function oW(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function sW(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ux(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function iW(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function ry(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ux(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function nS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const mg="VALID",oy="INVALID",Ih="PENDING",vg="DISABLED";function rS(n){return(ay(n)?n.validators:n)||null}function fx(n){return Array.isArray(n)?q0(n):n||null}function sS(n,t){return(ay(t)?t.asyncValidators:n)||null}function px(n){return Array.isArray(n)?Y0(n):n||null}function ay(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const oS=n=>n instanceof lS;function mx(n){return(n=>n instanceof yx)(n)?n.value:n.getRawValue()}function vx(n,t){const e=oS(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new ue(1e3,"");if(!i[t])throw new ue(1001,"")}function _x(n,t){oS(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new ue(1002,"")})}class aS{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=fx(this._rawValidators),this._composedAsyncValidatorFn=px(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===mg}get invalid(){return this.status===oy}get pending(){return this.status==Ih}get disabled(){return this.status===vg}get enabled(){return this.status!==vg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=fx(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=px(t)}addValidators(t){this.setValidators(ix(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ix(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(rx(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(rx(t,this._rawAsyncValidators))}hasValidator(t){return ey(this._rawValidators,t)}hasAsyncValidator(t){return ey(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ih,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=vg,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=mg,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mg||this.status===Ih)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vg:mg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ih,this._hasOwnPendingAsyncValidator=!0;const e=q1(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function cW(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=oS(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof hW)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new me,this.statusChanges=new me}_calculateStatus(){return this._allControlsDisabled()?vg:this.errors?oy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ih)?Ih:this._anyControlsHaveStatus(oy)?oy:mg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ay(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class yx extends aS{constructor(t=null,e,i){super(rS(e),sS(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ay(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){nS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){nS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class lS extends aS{constructor(t,e,i){super(rS(e),sS(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){_x(this,t),Object.keys(t).forEach(i=>{vx(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=mx(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class hW extends aS{constructor(t,e,i){super(rS(e),sS(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){_x(this,t),t.forEach((i,r)=>{vx(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>mx(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const gW={provide:uu,useExisting:Le(()=>cS)},Dx=(()=>Promise.resolve(null))();let cS=(()=>{class n extends uu{constructor(e,i,r,s,a){super(),this._changeDetectorRef=a,this.control=new yx,this._registered=!1,this.update=new me,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function tS(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Q_?e=s:function uW(n){return Object.getPrototypeOf(n.constructor)===Ac}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function eS(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Dx.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;Dx.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function ny(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(U(Er,9),U(rr,10),U(lu,10),U(Ca,10),U(gh,8))},n.\u0275dir=we({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yn([gW]),Xt,_n]}),n})(),bx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({}),n})(),UW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({imports:[[bx]]}),n})(),jW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({imports:[UW]}),n})();const zW=["map"],WW=["filterTextInput"];function GW(n,t){1&n&&(fe(0,"div",7)(1,"div",8),fn(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12)(6,"div",13),ge(),fn(7,"br"),pn(8," Loading map... "),ge())}function $W(n,t){if(1&n){const e=Kn();fe(0,"div",14)(1,"div",15)(2,"input",16,17),We("ngModelChange",function(r){return _e(e),ee().filterText=r}),ge(),pn(4,"\xa0\xa0\xa0 Hide Labels: "),fe(5,"input",18),We("change",function(r){return _e(e),ee().changeHideLabels(r)}),ge()(),fe(6,"div",19),pn(7," Show Calls: "),fe(8,"input",18),We("change",function(r){return _e(e),ee().changeShowCalls(r)}),ge(),pn(9," \xa0\xa0\xa0 Show Stations: "),fe(10,"input",18),We("change",function(r){return _e(e),ee().changeShowStations(r)}),ge(),pn(11," \xa0\xa0\xa0 Show Units: "),fe(12,"input",18),We("change",function(r){return _e(e),ee().changeShowUnits(r)}),ge(),pn(13," \xa0\xa0\xa0 Show Personnel: "),fe(14,"input",18),We("change",function(r){return _e(e),ee().changeShowPeople(r)}),ge()()()}if(2&n){const e=ee();J(2),te("ngModel",e.filterText),J(3),te("checked",e.hideLabels),J(3),te("checked",e.showCalls),J(2),te("checked",e.showStations),J(2),te("checked",e.showUnits),J(2),te("checked",e.showPersonnel)}}let ZW=(()=>{class n{constructor(e,i,r,s,a){this.mapProvider=e,this.cdRef=i,this.realtimeGeolocationService=r,this.events=s,this.consts=a,this.showCalls=!0,this.showStations=!0,this.showUnits=!0,this.showPersonnel=!0,this.hideLabels=!1,this.filterText="",this.updateDate="",this.signalRStarted=!1,this.markers=[]}ngOnInit(){const e=new Date;this.updateDate=e.toString(),this.mapProvider.getMapDataAndMarkers().pipe(Ro(1)).subscribe(i=>{this.processMapData(i.Data),this.startSignalR()}),typeof this.showbuttons>"u"&&(this.showbuttons=!1),typeof this.mapheight>"u"&&(this.mapheight="600px"),this.cdRef.detectChanges()}ngAfterViewInit(){this.filterTextInput.valueChanges.pipe(function $3(n,t=T_){return bt((e,i)=>{let r=null,s=null,a=null;const u=()=>{if(r){r.unsubscribe(),r=null;const f=s;s=null,i.next(f)}};function h(){const f=a+n,m=t.now();if(m<f)return r=this.schedule(void 0,f-m),void i.add(r);u()}e.subscribe(Mt(i,f=>{s=f,a=t.now(),r||(r=t.schedule(h,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{s=r=null}))})}(500)).pipe(jI()).subscribe(e=>{this.mapProvider.getMapDataAndMarkers().subscribe(i=>{this.processMapData(i.Data)})})}ngOnChanges(){typeof this.showbuttons>"u"&&(this.showbuttons=!1),typeof this.mapheight>"u"&&(this.mapheight="600px"),this.cdRef.detectChanges()}changeHideLabels(e){e&&e.target&&(this.hideLabels=e.target.checked,this.mapProvider.getMapDataAndMarkers().subscribe(r=>{this.processMapData(r.Data)}))}changeShowCalls(e){e&&e.target&&(this.showCalls=e.target.checked,this.mapProvider.getMapDataAndMarkers().subscribe(r=>{this.processMapData(r.Data)}))}changeShowStations(e){e&&e.target&&(this.showStations=e.target.checked,this.mapProvider.getMapDataAndMarkers().subscribe(r=>{this.processMapData(r.Data)}))}changeShowUnits(e){e&&e.target&&(this.showUnits=e.target.checked,this.mapProvider.getMapDataAndMarkers().subscribe(r=>{this.processMapData(r.Data)}))}changeShowPeople(e){e&&e.target&&(this.showPersonnel=e.target.checked,this.mapProvider.getMapDataAndMarkers().subscribe(r=>{this.processMapData(r.Data)}))}getMapLayers(){this.mapProvider.getMayLayers(0).pipe(Ro(1)).subscribe(e=>{if(e&&e.Data&&e.Data.LayerJson){this.clearLayers();var i=JSON.parse(e.Data.LayerJson);i&&i.forEach(r=>{var s=Ga.geoJSON(r,{style:{color:r.features[0].properties.color,opacity:.7,fillColor:r.features[0].properties.color,fillOpacity:.1}});this.layerControl.addOverlay(s,r.features[0].properties.name),this.layers.push(s)})}})}clearLayers(){this.layers&&this.layers.length>0?(this.layers.forEach(e=>{try{this.layerControl.removeLayer(e),this.map.removeLayer(e)}catch{}}),this.layers=[]):this.layers=[]}colorlayer(e,i){i.on("mouseover",function(r){i.setStyle({fillOpacity:.4})}),i.on("mouseout",function(r){i.setStyle({fillOpacity:0})})}processMapData(e){if(e){const u=new Date;this.updateDate=u.toString(),this.clearLayers();var i=this.getMapCenter(e);if(!this.map){var r=Ga.tileLayer(this.leafletosmurl,{maxZoom:19,attribution:this.mapattribution});this.baseMaps={OpenStreetMap:r},this.map=Ga.map(this.mapContainer.nativeElement,{doubleClickZoom:!1,zoomControl:!0,layers:[r]}),this.layerControl=Ga.control.layers(this.baseMaps).addTo(this.map)}if(this.map.setView(i,this.getMapZoomLevel(e)),this.markers&&this.markers.length>=0){for(var s=0;s<this.markers.length;s++)this.markers[s]&&this.map.removeLayer(this.markers[s]);this.markers=new Array}if(e.MapMakerInfos&&e.MapMakerInfos.length>0){e&&e.MapMakerInfos&&e.MapMakerInfos.forEach(h=>{if(""===this.filterText||h.Title.toLowerCase().indexOf(this.filterText.toLowerCase())>=0){let f="",m=null;this.hideLabels||(f=h.Title),(0==h.Type&&this.showCalls||1==h.Type&&this.showUnits||2==h.Type&&this.showStations)&&(m=this.hideLabels?Ga.marker([h.Latitude,h.Longitude],{icon:Ga.icon({iconUrl:"/images/mapping/"+h.ImagePath+".png",iconSize:[32,37],iconAnchor:[16,37]}),draggable:!1,title:f,elementId:h.Id}).addTo(this.map):Ga.marker([h.Latitude,h.Longitude],{icon:Ga.icon({iconUrl:"/images/mapping/"+h.ImagePath+".png",iconSize:[32,37],iconAnchor:[16,37]}),draggable:!1,title:f,elementId:h.Id}).bindTooltip(f,{permanent:!0,direction:"bottom"}).addTo(this.map)),console.log(JSON.stringify(m)),this.markers.push(m)}});var a=Ga.featureGroup(this.markers);this.map.fitBounds(a.getBounds())}}this.getMapLayers()}getMapCenter(e){return[e.CenterLat,e.CenterLon]}getMapZoomLevel(e){return e.ZoomLevel}startSignalR(){this.signalRStarted||(Object.defineProperty(WebSocket,"OPEN",{value:1}),this.realtimeGeolocationService.connectionState$.subscribe(e=>{}),this.signalrInit(),this.realtimeGeolocationService.start(),this.signalRStarted=!0)}stopSignalR(){this.realtimeGeolocationService.stop(),this.signalRStarted=!1}signalrInit(){this.events.subscribe(this.consts.SIGNALR_EVENTS.PERSONNEL_LOCATION_UPDATED,e=>{}),this.events.subscribe(this.consts.SIGNALR_EVENTS.UNIT_LOCATION_UPDATED,e=>{if(console.log("unit location updated event"),e){let i=Z3.find(this.markers,["elementId",`u${e.UnitId}`]);i&&i.setLatLng([e.Latitude,e.Longitude])}})}}return n.\u0275fac=function(e){return new(e||n)(U(c3),U(gh),U(m3),U(H0),U(ug))},n.\u0275cmp=Yt({type:n,selectors:[["ng-component"]],viewQuery:function(e,i){if(1&e&&(kv(zW,5),kv(WW,5)),2&e){let r;Rv(r=Ov())&&(i.mapContainer=r.first),Rv(r=Ov())&&(i.filterTextInput=r.first)}},inputs:{showbuttons:"showbuttons",mapheight:"mapheight",departmentId:"departmentId",leafletosmurl:"leafletosmurl",mapattribution:"mapattribution"},features:[_n],decls:8,vars:5,consts:[["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen"],["cdkOverlayOrigin",""],["style","width: 100%; padding-bottom: 4px;",4,"ngIf"],["id","map","name","map",2,"width","100%"],["map",""],[2,"width","100%"],[2,"font-size","10px","width","50%","float","right","text-align","right","margin-bottom","8px"],[1,"text-center"],[1,"sk-spinner","sk-spinner-wave"],[1,"sk-rect1"],[1,"sk-rect2",2,"padding-left","4px"],[1,"sk-rect3",2,"padding-left","4px"],[1,"sk-rect4",2,"padding-left","4px"],[1,"sk-rect5",2,"padding-left","4px"],[2,"width","100%","padding-bottom","4px"],[2,"width","50%","float","left","text-align","left"],["type","text","placeholder","filter markers text",3,"ngModel","ngModelChange"],["filterTextInput","ngModel"],["type","checkbox",3,"checked","change"],[2,"width","50%","float","right","text-align","right"]],template:function(e,i){1&e&&(Ee(0,GW,9,0,"ng-template",0),fe(1,"div",1),Ee(2,$W,15,6,"div",2),fn(3,"div",3,4),fe(5,"div",5)(6,"div",6),pn(7),ge()()()),2&e&&(te("cdkConnectedOverlayOpen",null===Yn(4)),J(2),te("ngIf",1==i.showbuttons),J(1),La("height",i.mapheight),J(4),ah(" Last Update: ",i.updateDate," "))},directives:[Bz,L1,Fa,Q_,ax,cS],styles:[""],changeDetection:0}),n})();const qW=()=>window.rgApiBaseUrl&&window.rgApiBaseUrl.length>0?window.rgApiBaseUrl.trim().toString():"https://api.resgrid.com";let XW=(()=>{class n{constructor(e){this.injector=e}ngDoBootstrap(){customElements.define("rg-shifts-calendar",BM(G3,{injector:this.injector})),customElements.define("rg-map",BM(ZW,{injector:this.injector}))}}return n.\u0275fac=function(e){return new(e||n)(z(D))},n.\u0275mod=Ht({type:n}),n.\u0275inj=Je({providers:[],imports:[[mh,oj,NM,jW,n2,eU.forRoot({provide:za,useFactory:$U}),jz,l3.forRoot({baseApiUrl:qW,apiVersion:"v4",clientId:"RgWebApp",googleApiKey:window.rgGoogleMapsKey&&window.rgGoogleMapsKey.length>0?window.rgGoogleMapsKey.trim().toString():"",channelUrl:window.rgChannelUrl&&window.rgChannelUrl.length>0?window.rgChannelUrl.trim().toString():"https://events.resgrid.com",channelHubName:"eventingHub",realtimeGeolocationHubName:"/geolocationHub",logLevel:0,isMobileApp:!1,cacheProvider:null})]]}),n})();(function xO(){WT=!1})(),kN().bootstrapModule(XW).catch(n=>console.error(n))},407:function(gs,Lo){!function(ne){"use strict";function I(o){var c,p,v,w;for(p=1,v=arguments.length;p<v;p++)for(c in w=arguments[p])o[c]=w[c];return o}var No=Object.create||function(){function o(){}return function(c){return o.prototype=c,new o}}();function At(o,c){var p=Array.prototype.slice;if(o.bind)return o.bind.apply(o,p.call(arguments,1));var v=p.call(arguments,2);return function(){return o.apply(c,v.length?v.concat(p.call(arguments)):arguments)}}var bn=0;function qe(o){return"_leaflet_id"in o||(o._leaflet_id=++bn),o._leaflet_id}function du(o,c,p){var v,w,b,P;return P=function(){v=!1,w&&(b.apply(p,w),w=!1)},b=function(){v?w=arguments:(o.apply(p,arguments),setTimeout(P,c),v=!0)},b}function ms(o,c,p){var v=c[1],w=c[0],b=v-w;return o===v&&p?o:((o-w)%b+b)%b+w}function Wt(){return!1}function zn(o,c){if(!1===c)return o;var p=Math.pow(10,void 0===c?6:c);return Math.round(o*p)/p}function sr(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function qr(o){return sr(o).split(/\s+/)}function Vt(o,c){for(var p in Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?No(o.options):{}),c)o.options[p]=c[p];return o.options}function Ys(o,c,p){var v=[];for(var w in o)v.push(encodeURIComponent(p?w.toUpperCase():w)+"="+encodeURIComponent(o[w]));return(c&&-1!==c.indexOf("?")?"&":"?")+v.join("&")}var $a=/\{ *([\w_ -]+) *\}/g;function ti(o,c){return o.replace($a,function(p,v){var w=c[v];if(void 0===w)throw new Error("No value provided for variable "+p);return"function"==typeof w&&(w=w(c)),w})}var un=Array.isArray||function(o){return"[object Array]"===Object.prototype.toString.call(o)};function Ks(o,c){for(var p=0;p<o.length;p++)if(o[p]===c)return p;return-1}var Ei="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ir(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var or=0;function Yr(o){var c=+new Date,p=Math.max(0,16-(c-or));return or=c+p,window.setTimeout(o,p)}var ar=window.requestAnimationFrame||Ir("RequestAnimationFrame")||Yr,Ar=window.cancelAnimationFrame||Ir("CancelAnimationFrame")||Ir("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function En(o,c,p){if(!p||ar!==Yr)return ar.call(window,At(o,c));o.call(c)}function Hi(o){o&&Ar.call(window,o)}var hu={__proto__:null,extend:I,create:No,bind:At,get lastId(){return bn},stamp:qe,throttle:du,wrapNum:ms,falseFn:Wt,formatNum:zn,trim:sr,splitWords:qr,setOptions:Vt,getParamString:Ys,template:ti,isArray:un,indexOf:Ks,emptyImageUrl:Ei,requestFn:ar,cancelFn:Ar,requestAnimFrame:En,cancelAnimFrame:Hi};function Kr(){}Kr.extend=function(o){var c=function(){Vt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,v=No(p);for(var w in v.constructor=c,c.prototype=v,this)Object.prototype.hasOwnProperty.call(this,w)&&"prototype"!==w&&"__super__"!==w&&(c[w]=this[w]);return o.statics&&I(c,o.statics),o.includes&&(function fu(o){if(!(typeof L>"u")&&L&&L.Mixin){o=un(o)?o:[o];for(var c=0;c<o.length;c++)o[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(o.includes),I.apply(null,[v].concat(o.includes))),I(v,o),delete v.statics,delete v.includes,v.options&&(v.options=p.options?No(p.options):{},I(v.options,o.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var b=0,P=v._initHooks.length;b<P;b++)v._initHooks[b].call(this)}},c},Kr.include=function(o){var c=this.prototype.options;return I(this.prototype,o),o.options&&(this.prototype.options=c,this.mergeOptions(o.options)),this},Kr.mergeOptions=function(o){return I(this.prototype.options,o),this},Kr.addInitHook=function(o){var c=Array.prototype.slice.call(arguments,1),p="function"==typeof o?o:function(){this[o].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};var Tn={on:function(o,c,p){if("object"==typeof o)for(var v in o)this._on(v,o[v],c);else for(var w=0,b=(o=qr(o)).length;w<b;w++)this._on(o[w],c,p);return this},off:function(o,c,p){if(arguments.length)if("object"==typeof o)for(var v in o)this._off(v,o[v],c);else{o=qr(o);for(var w=1===arguments.length,b=0,P=o.length;b<P;b++)w?this._off(o[b]):this._off(o[b],c,p)}else delete this._events;return this},_on:function(o,c,p){if("function"==typeof c){this._events=this._events||{};var v=this._events[o];v||(this._events[o]=v=[]),p===this&&(p=void 0);for(var w={fn:c,ctx:p},b=v,P=0,B=b.length;P<B;P++)if(b[P].fn===c&&b[P].ctx===p)return;b.push(w)}else console.warn("wrong listener type: "+typeof c)},_off:function(o,c,p){var v,w,b;if(this._events&&(v=this._events[o])){if(1===arguments.length){if(this._firingCount)for(w=0,b=v.length;w<b;w++)v[w].fn=Wt;return void delete this._events[o]}if(p===this&&(p=void 0),"function"!=typeof c)return void console.warn("wrong listener type: "+typeof c);for(w=0,b=v.length;w<b;w++){var P=v[w];if(P.ctx===p&&P.fn===c)return this._firingCount&&(P.fn=Wt,this._events[o]=v=v.slice()),void v.splice(w,1)}console.warn("listener not found")}},fire:function(o,c,p){if(!this.listens(o,p))return this;var v=I({},c,{type:o,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var w=this._events[o];if(w){this._firingCount=this._firingCount+1||1;for(var b=0,P=w.length;b<P;b++){var B=w[b];B.fn.call(B.ctx||this,v)}this._firingCount--}}return p&&this._propagateEvent(v),this},listens:function(o,c){"string"!=typeof o&&console.warn('"string" type argument expected');var p=this._events&&this._events[o];if(p&&p.length)return!0;if(c)for(var v in this._eventParents)if(this._eventParents[v].listens(o,c))return!0;return!1},once:function(o,c,p){if("object"==typeof o){for(var v in o)this.once(v,o[v],c);return this}var w=At(function(){this.off(o,c,p).off(o,w,p)},this);return this.on(o,c,p).on(o,w,p)},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[qe(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[qe(o)],this},_propagateEvent:function(o){for(var c in this._eventParents)this._eventParents[c].fire(o.type,I({layer:o.target,propagatedFrom:o.target},o),!0)}};Tn.addEventListener=Tn.on,Tn.removeEventListener=Tn.clearAllEventListeners=Tn.off,Tn.addOneTimeEventListener=Tn.once,Tn.fireEvent=Tn.fire,Tn.hasEventListeners=Tn.listens;var Za=Kr.extend(Tn);function Be(o,c,p){this.x=p?Math.round(o):o,this.y=p?Math.round(c):c}var _t=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};function $e(o,c,p){return o instanceof Be?o:un(o)?new Be(o[0],o[1]):null==o?o:"object"==typeof o&&"x"in o&&"y"in o?new Be(o.x,o.y):new Be(o,c,p)}function en(o,c){if(o)for(var p=c?[o,c]:o,v=0,w=p.length;v<w;v++)this.extend(p[v])}function ui(o,c){return!o||o instanceof en?o:new en(o,c)}function tn(o,c){if(o)for(var p=c?[o,c]:o,v=0,w=p.length;v<w;v++)this.extend(p[v])}function Oe(o,c){return o instanceof tn?o:new tn(o,c)}function Bt(o,c,p){if(isNaN(o)||isNaN(c))throw new Error("Invalid LatLng object: ("+o+", "+c+")");this.lat=+o,this.lng=+c,void 0!==p&&(this.alt=+p)}function nn(o,c,p){return o instanceof Bt?o:un(o)&&"object"!=typeof o[0]?3===o.length?new Bt(o[0],o[1],o[2]):2===o.length?new Bt(o[0],o[1]):null:null==o?o:"object"==typeof o&&"lat"in o?new Bt(o.lat,"lng"in o?o.lng:o.lon,o.alt):void 0===c?null:new Bt(o,c,p)}Be.prototype={clone:function(){return new Be(this.x,this.y)},add:function(o){return this.clone()._add($e(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract($e(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new Be(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new Be(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=_t(this.x),this.y=_t(this.y),this},distanceTo:function(o){var c=(o=$e(o)).x-this.x,p=o.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(o){return(o=$e(o)).x===this.x&&o.y===this.y},contains:function(o){return o=$e(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+zn(this.x)+", "+zn(this.y)+")"}},en.prototype={extend:function(o){return o=$e(o),this.min||this.max?(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)):(this.min=o.clone(),this.max=o.clone()),this},getCenter:function(o){return new Be((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return new Be(this.min.x,this.max.y)},getTopRight:function(){return new Be(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var c,p;return(o="number"==typeof o[0]||o instanceof Be?$e(o):ui(o))instanceof en?(c=o.min,p=o.max):c=p=o,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(o){o=ui(o);var c=this.min,p=this.max,v=o.min,w=o.max;return w.x>=c.x&&v.x<=p.x&&w.y>=c.y&&v.y<=p.y},overlaps:function(o){o=ui(o);var c=this.min,p=this.max,v=o.min,w=o.max;return w.x>c.x&&v.x<p.x&&w.y>c.y&&v.y<p.y},isValid:function(){return!(!this.min||!this.max)}},tn.prototype={extend:function(o){var v,w,c=this._southWest,p=this._northEast;if(o instanceof Bt)v=o,w=o;else{if(!(o instanceof tn))return o?this.extend(nn(o)||Oe(o)):this;if(w=o._northEast,!(v=o._southWest)||!w)return this}return c||p?(c.lat=Math.min(v.lat,c.lat),c.lng=Math.min(v.lng,c.lng),p.lat=Math.max(w.lat,p.lat),p.lng=Math.max(w.lng,p.lng)):(this._southWest=new Bt(v.lat,v.lng),this._northEast=new Bt(w.lat,w.lng)),this},pad:function(o){var c=this._southWest,p=this._northEast,v=Math.abs(c.lat-p.lat)*o,w=Math.abs(c.lng-p.lng)*o;return new tn(new Bt(c.lat-v,c.lng-w),new Bt(p.lat+v,p.lng+w))},getCenter:function(){return new Bt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Bt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Bt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){o="number"==typeof o[0]||o instanceof Bt||"lat"in o?nn(o):Oe(o);var v,w,c=this._southWest,p=this._northEast;return o instanceof tn?(v=o.getSouthWest(),w=o.getNorthEast()):v=w=o,v.lat>=c.lat&&w.lat<=p.lat&&v.lng>=c.lng&&w.lng<=p.lng},intersects:function(o){o=Oe(o);var c=this._southWest,p=this._northEast,v=o.getSouthWest(),w=o.getNorthEast();return w.lat>=c.lat&&v.lat<=p.lat&&w.lng>=c.lng&&v.lng<=p.lng},overlaps:function(o){o=Oe(o);var c=this._southWest,p=this._northEast,v=o.getSouthWest(),w=o.getNorthEast();return w.lat>c.lat&&v.lat<p.lat&&w.lng>c.lng&&v.lng<p.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,c){return!!o&&(o=Oe(o),this._southWest.equals(o.getSouthWest(),c)&&this._northEast.equals(o.getNorthEast(),c))},isValid:function(){return!(!this._southWest||!this._northEast)}},Bt.prototype={equals:function(o,c){return!!o&&(o=nn(o),Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng))<=(void 0===c?1e-9:c))},toString:function(o){return"LatLng("+zn(this.lat,o)+", "+zn(this.lng,o)+")"},distanceTo:function(o){return Mt.distance(this,nn(o))},wrap:function(){return Mt.wrapLatLng(this)},toBounds:function(o){var c=180*o/40075017,p=c/Math.cos(Math.PI/180*this.lat);return Oe([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new Bt(this.lat,this.lng,this.alt)}};var o,bt={latLngToPoint:function(o,c){var p=this.projection.project(o),v=this.scale(c);return this.transformation._transform(p,v)},pointToLatLng:function(o,c){var p=this.scale(c),v=this.transformation.untransform(o,p);return this.projection.unproject(v)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(o);return new en(this.transformation.transform(c.min,p),this.transformation.transform(c.max,p))},infinite:!1,wrapLatLng:function(o){var c=this.wrapLng?ms(o.lng,this.wrapLng,!0):o.lng;return new Bt(this.wrapLat?ms(o.lat,this.wrapLat,!0):o.lat,c,o.alt)},wrapLatLngBounds:function(o){var c=o.getCenter(),p=this.wrapLatLng(c),v=c.lat-p.lat,w=c.lng-p.lng;if(0===v&&0===w)return o;var b=o.getSouthWest(),P=o.getNorthEast();return new tn(new Bt(b.lat-v,b.lng-w),new Bt(P.lat-v,P.lng-w))}},Mt=I({},bt,{wrapLng:[-180,180],R:6371e3,distance:function(o,c){var p=Math.PI/180,v=o.lat*p,w=c.lat*p,b=Math.sin((c.lat-o.lat)*p/2),P=Math.sin((c.lng-o.lng)*p/2),B=b*b+Math.cos(v)*Math.cos(w)*P*P,W=2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B));return this.R*W}}),lt={R:6378137,MAX_LATITUDE:85.0511287798,project:function(o){var c=Math.PI/180,p=this.MAX_LATITUDE,v=Math.max(Math.min(p,o.lat),-p),w=Math.sin(v*c);return new Be(this.R*o.lng*c,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(o){var c=180/Math.PI;return new Bt((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*c,o.x*c/this.R)},bounds:(o=6378137*Math.PI,new en([-o,-o],[o,o]))};function Xr(o,c,p,v){if(un(o))return this._a=o[0],this._b=o[1],this._c=o[2],void(this._d=o[3]);this._a=o,this._b=c,this._c=p,this._d=v}function qa(o,c,p,v){return new Xr(o,c,p,v)}Xr.prototype={transform:function(o,c){return this._transform(o.clone(),c)},_transform:function(o,c){return o.x=(c=c||1)*(this._a*o.x+this._b),o.y=c*(this._c*o.y+this._d),o},untransform:function(o,c){return new Be((o.x/(c=c||1)-this._b)/this._a,(o.y/c-this._d)/this._c)}};var Qr=I({},Mt,{code:"EPSG:3857",projection:lt,transformation:function(){var o=.5/(Math.PI*lt.R);return qa(o,.5,-o,.5)}()}),Ya=I({},Qr,{code:"EPSG:900913"});function Oc(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function lr(o,c){var v,w,b,P,B,W,p="";for(v=0,b=o.length;v<b;v++){for(w=0,P=(B=o[v]).length;w<P;w++)p+=(w?"L":"M")+(W=B[w]).x+" "+W.y;p+=c?ve.svg?"z":"x":""}return p||"M0 0"}var Fo=document.documentElement.style,ur="ActiveXObject"in window,vs=ur&&!document.addEventListener,Ka="msLaunchUri"in navigator&&!("documentMode"in document),Lc=xr("webkit"),Xs=xr("android"),Ui=xr("android 2")||xr("android 3"),Xa=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pu=Xs&&xr("Google")&&Xa<537&&!("AudioNode"in window),Nc=!!window.opera,ji=!Ka&&xr("chrome"),Fc=xr("gecko")&&!Lc&&!Nc&&!ur,Qa=!ji&&xr("safari"),Qs=xr("phantom"),gu="OTransition"in Fo,mu=0===navigator.platform.indexOf("Win"),vu=ur&&"transition"in Fo,Ja="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ui,_u="MozPerspective"in Fo,Vc=!window.L_DISABLE_3D&&(vu||Ja||_u)&&!gu&&!Qs,Vo=typeof orientation<"u"||xr("mobile"),Da=Vo&&Lc,el=Vo&&Ja,yu=!window.PointerEvent&&window.MSPointerEvent,wu=!(!window.PointerEvent&&!yu),Cu="ontouchstart"in window||!!window.TouchEvent,Bc=!window.L_NO_TOUCH&&(Cu||wu),Du=Vo&&Nc,Hc=Vo&&Fc,Uc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,jc=function(){var o=!1;try{var c=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",Wt,c),window.removeEventListener("testPassiveEventSupport",Wt,c)}catch{}return o}(),Ti=!!document.createElement("canvas").getContext,tl=!(!document.createElementNS||!Oc("svg").createSVGRect),Ah=!!tl&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(o.firstChild&&o.firstChild.namespaceURI)}(),xh=!tl&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var c=o.firstChild;return c.style.behavior="url(#default#VML)",c&&"object"==typeof c.adj}catch{return!1}}();function xr(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var ve={ie:ur,ielt9:vs,edge:Ka,webkit:Lc,android:Xs,android23:Ui,androidStock:pu,opera:Nc,chrome:ji,gecko:Fc,safari:Qa,phantom:Qs,opera12:gu,win:mu,ie3d:vu,webkit3d:Ja,gecko3d:_u,any3d:Vc,mobile:Vo,mobileWebkit:Da,mobileWebkit3d:el,msPointer:yu,pointer:wu,touch:Bc,touchNative:Cu,mobileOpera:Du,mobileGecko:Hc,retina:Uc,passiveEvents:jc,canvas:Ti,svg:tl,vml:xh,inlineSvg:Ah},zc=ve.msPointer?"MSPointerDown":"pointerdown",nl=ve.msPointer?"MSPointerMove":"pointermove",Pr=ve.msPointer?"MSPointerUp":"pointerup",Wc=ve.msPointer?"MSPointerCancel":"pointercancel",Rr={touchstart:zc,touchmove:nl,touchend:Pr,touchcancel:Wc},Su={touchstart:function Zc(o,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Je(c),Sa(o,c)},touchmove:Sa,touchend:Sa,touchcancel:Sa},Jr={},Ph=!1;function Rh(o,c,p){return"touchstart"===c&&function kh(){Ph||(document.addEventListener(zc,il,!0),document.addEventListener(nl,$c,!0),document.addEventListener(Pr,Bo,!0),document.addEventListener(Wc,Bo,!0),Ph=!0)}(),Su[c]?(p=Su[c].bind(this,p),o.addEventListener(Rr[c],p,!1),p):(console.warn("wrong event specified:",c),L.Util.falseFn)}function il(o){Jr[o.pointerId]=o}function $c(o){Jr[o.pointerId]&&(Jr[o.pointerId]=o)}function Bo(o){delete Jr[o.pointerId]}function Sa(o,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){for(var p in c.touches=[],Jr)c.touches.push(Jr[p]);c.changedTouches=[c],o(c)}}var Uo,al,eo,ul,Wi,ol=Js(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ba=Js(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),qc="webkitTransition"===ba||"OTransition"===ba?ba+"End":"transitionend";function _s(o){return"string"==typeof o?document.getElementById(o):o}function Nn(o,c){var p=o.style[c]||o.currentStyle&&o.currentStyle[c];if((!p||"auto"===p)&&document.defaultView){var v=document.defaultView.getComputedStyle(o,null);p=v?v[c]:null}return"auto"===p?null:p}function Ye(o,c,p){var v=document.createElement(o);return v.className=c||"",p&&p.appendChild(v),v}function Zt(o){var c=o.parentNode;c&&c.removeChild(o)}function xt(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function ys(o){var c=o.parentNode;c&&c.lastChild!==o&&c.appendChild(o)}function yt(o){var c=o.parentNode;c&&c.firstChild!==o&&c.insertBefore(o,c.firstChild)}function Ho(o,c){if(void 0!==o.classList)return o.classList.contains(c);var p=Ea(o);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function Qe(o,c){if(void 0!==o.classList)for(var p=qr(c),v=0,w=p.length;v<w;v++)o.classList.add(p[v]);else if(!Ho(o,c)){var b=Ea(o);He(o,(b?b+" ":"")+c)}}function Le(o,c){void 0!==o.classList?o.classList.remove(c):He(o,sr((" "+Ea(o)+" ").replace(" "+c+" "," ")))}function He(o,c){void 0===o.className.baseVal?o.className=c:o.className.baseVal=c}function Ea(o){return o.correspondingElement&&(o=o.correspondingElement),void 0===o.className.baseVal?o.className:o.className.baseVal}function zi(o,c){"opacity"in o.style?o.style.opacity=c:"filter"in o.style&&function ue(o,c){var p=!1,v="DXImageTransform.Microsoft.Alpha";try{p=o.filters.item(v)}catch{if(1===c)return}c=Math.round(100*c),p?(p.Enabled=100!==c,p.Opacity=c):o.style.filter+=" progid:"+v+"(opacity="+c+")"}(o,c)}function Js(o){for(var c=document.documentElement.style,p=0;p<o.length;p++)if(o[p]in c)return o[p];return!1}function Ae(o,c,p){var v=c||new Be(0,0);o.style[ol]=(ve.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(p?" scale("+p+")":"")}function ft(o,c){o._leaflet_pos=c,ve.any3d?Ae(o,c):(o.style.left=c.x+"px",o.style.top=c.y+"px")}function ws(o){return o._leaflet_pos||new Be(0,0)}if("onselectstart"in document)Uo=function(){tt(window,"selectstart",Je)},al=function(){qt(window,"selectstart",Je)};else{var Mn=Js(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Uo=function(){if(Mn){var o=document.documentElement.style;eo=o[Mn],o[Mn]="none"}},al=function(){Mn&&(document.documentElement.style[Mn]=eo,eo=void 0)}}function ll(){tt(window,"dragstart",Je)}function Cs(){qt(window,"dragstart",Je)}function Yc(o){for(;-1===o.tabIndex;)o=o.parentNode;!o.style||(cl(),ul=o,Wi=o.style.outline,o.style.outline="none",tt(window,"keydown",cl))}function cl(){!ul||(ul.style.outline=Wi,ul=void 0,Wi=void 0,qt(window,"keydown",cl))}function Kc(o){do{o=o.parentNode}while(!(o.offsetWidth&&o.offsetHeight||o===document.body));return o}function bu(o){var c=o.getBoundingClientRect();return{x:c.width/o.offsetWidth||1,y:c.height/o.offsetHeight||1,boundingClientRect:c}}var Xc={__proto__:null,TRANSFORM:ol,TRANSITION:ba,TRANSITION_END:qc,get:_s,getStyle:Nn,create:Ye,remove:Zt,empty:xt,toFront:ys,toBack:yt,hasClass:Ho,addClass:Qe,removeClass:Le,setClass:He,getClass:Ea,setOpacity:zi,testProp:Js,setTransform:Ae,setPosition:ft,getPosition:ws,get disableTextSelection(){return Uo},get enableTextSelection(){return al},disableImageDrag:ll,enableImageDrag:Cs,preventOutline:Yc,restoreOutline:cl,getSizedParentNode:Kc,getScale:bu};function tt(o,c,p,v){if(c&&"object"==typeof c)for(var w in c)Qc(o,w,c[w],p);else for(var b=0,P=(c=qr(c)).length;b<P;b++)Qc(o,c[b],p,v);return this}var kr="_leaflet_events";function qt(o,c,p,v){if(1===arguments.length)ni(o),delete o[kr];else if(c&&"object"==typeof c)for(var w in c)Jc(o,w,c[w],p);else if(c=qr(c),2===arguments.length)ni(o,function(B){return-1!==Ks(c,B)});else for(var b=0,P=c.length;b<P;b++)Jc(o,c[b],p,v);return this}function ni(o,c){for(var p in o[kr]){var v=p.split(/\d/)[0];(!c||c(v))&&Jc(o,v,null,null,p)}}var zt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Qc(o,c,p,v){var w=c+qe(p)+(v?"_"+qe(v):"");if(o[kr]&&o[kr][w])return this;var b=function(B){return p.call(v||o,B||window.event)},P=b;!ve.touchNative&&ve.pointer&&0===c.indexOf("touch")?b=Rh(o,c,b):ve.touch&&"dblclick"===c?b=function Lh(o,c){o.addEventListener("dblclick",c);var v,p=0;function w(b){if(1===b.detail){if("mouse"!==b.pointerType&&(!b.sourceCapabilities||b.sourceCapabilities.firesTouchEvents)){var P=Date.now();P-p<=200?2==++v&&c(function Oh(o){var p,v,c={};for(v in o)c[v]=(p=o[v])&&p.bind?p.bind(o):p;return o=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}(b)):v=1,p=P}}else v=b.detail}return o.addEventListener("click",w),{dblclick:c,simDblclick:w}}(o,b):"addEventListener"in o?"touchstart"===c||"touchmove"===c||"wheel"===c||"mousewheel"===c?o.addEventListener(zt[c]||c,b,!!ve.passiveEvents&&{passive:!1}):"mouseenter"===c||"mouseleave"===c?o.addEventListener(zt[c],b=function(B){B=B||window.event,kt(o,B)&&P(B)},!1):o.addEventListener(c,P,!1):o.attachEvent("on"+c,b),o[kr]=o[kr]||{},o[kr][w]=b}function Jc(o,c,p,v,w){w=w||c+qe(p)+(v?"_"+qe(v):"");var b=o[kr]&&o[kr][w];if(!b)return this;!ve.touchNative&&ve.pointer&&0===c.indexOf("touch")?function Gc(o,c,p){Rr[c]?o.removeEventListener(Rr[c],p,!1):console.warn("wrong event specified:",c)}(o,c,b):ve.touch&&"dblclick"===c?function sl(o,c){o.removeEventListener("dblclick",c.dblclick),o.removeEventListener("click",c.simDblclick)}(o,b):"removeEventListener"in o?o.removeEventListener(zt[c]||c,b,!1):o.detachEvent("on"+c,b),o[kr][w]=null}function jo(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function oe(o){return Qc(o,"wheel",jo),this}function dl(o){return tt(o,"mousedown touchstart dblclick contextmenu",jo),o._leaflet_disable_click=!0,this}function Je(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function es(o){return Je(o),jo(o),this}function Eu(o,c){if(!c)return new Be(o.clientX,o.clientY);var p=bu(c),v=p.boundingClientRect;return new Be((o.clientX-v.left)/p.x-c.clientLeft,(o.clientY-v.top)/p.y-c.clientTop)}var Nh=ve.win&&ve.chrome?2*window.devicePixelRatio:ve.gecko?window.devicePixelRatio:1;function Gt(o){return ve.edge?o.wheelDeltaY/2:o.deltaY&&0===o.deltaMode?-o.deltaY/Nh:o.deltaY&&1===o.deltaMode?20*-o.deltaY:o.deltaY&&2===o.deltaMode?60*-o.deltaY:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?20*-o.detail:o.detail?o.detail/-32765*60:0}function kt(o,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==o;)p=p.parentNode}catch{return!1}return p!==o}var hl={__proto__:null,on:tt,off:qt,stopPropagation:jo,disableScrollPropagation:oe,disableClickPropagation:dl,preventDefault:Je,stop:es,getMousePosition:Eu,getWheelDelta:Gt,isExternalTarget:kt,addListener:tt,removeListener:qt},fl=Za.extend({run:function(o,c,p,v){this.stop(),this._el=o,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=ws(o),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=En(this._animate,this),this._step()},_step:function(o){var c=+new Date-this._startTime,p=1e3*this._duration;c<p?this._runFrame(this._easeOut(c/p),o):(this._runFrame(1),this._complete())},_runFrame:function(o,c){var p=this._startPos.add(this._offset.multiplyBy(o));c&&p._round(),ft(this._el,p),this.fire("step")},_complete:function(){Hi(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),pt=Za.extend({options:{crs:Qr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,c){c=Vt(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=At(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),void 0!==c.zoom&&(this._zoom=this._limitZoom(c.zoom)),c.center&&void 0!==c.zoom&&this.setView(nn(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ba&&ve.any3d&&!ve.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),tt(this._proxy,qc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,c,p){return c=void 0===c?this._zoom:this._limitZoom(c),o=this._limitCenter(nn(o),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&!0!==p&&(void 0!==p.animate&&(p.zoom=I({animate:p.animate},p.zoom),p.pan=I({animate:p.animate,duration:p.duration},p.pan)),this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,c,p.zoom):this._tryAnimatedPan(o,p.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(o,c),this)},setZoom:function(o,c){return this._loaded?this.setView(this.getCenter(),o,{zoom:c}):(this._zoom=o,this)},zoomIn:function(o,c){return this.setZoom(this._zoom+(o=o||(ve.any3d?this.options.zoomDelta:1)),c)},zoomOut:function(o,c){return this.setZoom(this._zoom-(o=o||(ve.any3d?this.options.zoomDelta:1)),c)},setZoomAround:function(o,c,p){var v=this.getZoomScale(c),w=this.getSize().divideBy(2),P=(o instanceof Be?o:this.latLngToContainerPoint(o)).subtract(w).multiplyBy(1-1/v),B=this.containerPointToLatLng(w.add(P));return this.setView(B,c,{zoom:p})},_getBoundsCenterZoom:function(o,c){c=c||{},o=o.getBounds?o.getBounds():Oe(o);var p=$e(c.paddingTopLeft||c.padding||[0,0]),v=$e(c.paddingBottomRight||c.padding||[0,0]),w=this.getBoundsZoom(o,!1,p.add(v));if((w="number"==typeof c.maxZoom?Math.min(c.maxZoom,w):w)===1/0)return{center:o.getCenter(),zoom:w};var b=v.subtract(p).divideBy(2),P=this.project(o.getSouthWest(),w),B=this.project(o.getNorthEast(),w);return{center:this.unproject(P.add(B).divideBy(2).add(b),w),zoom:w}},fitBounds:function(o,c){if(!(o=Oe(o)).isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(o,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,c){return this.setView(o,this._zoom,{pan:c})},panBy:function(o,c){if(c=c||{},!(o=$e(o).round()).x&&!o.y)return this.fire("moveend");if(!0!==c.animate&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),!1!==c.animate){Qe(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,c,p){if(!1===(p=p||{}).animate||!ve.any3d)return this.setView(o,c,p);this._stop();var v=this.project(this.getCenter()),w=this.project(o),b=this.getSize(),P=this._zoom;o=nn(o),c=void 0===c?P:c;var B=Math.max(b.x,b.y),W=B*this.getZoomScale(P,c),Q=w.distanceTo(v)||1,pe=1.42,nt=pe*pe;function Ie(mt){var El=(W*W-B*B+(mt?-1:1)*nt*nt*Q*Q)/(2*(mt?W:B)*nt*Q),Tl=Math.sqrt(El*El+1)-El;return Tl<1e-9?-18:Math.log(Tl)}function je(mt){return(Math.exp(mt)-Math.exp(-mt))/2}function Ms(mt){return(Math.exp(mt)+Math.exp(-mt))/2}var Ut=Ie(0);function sd(mt){return B*(Ms(Ut)*function bl(mt){return je(mt)/Ms(mt)}(Ut+pe*mt)-je(Ut))/nt}var fi=Date.now(),lo=(Ie(1)-Ut)/pe,uo=p.duration?1e3*p.duration:1e3*lo*.8;return this._moveStart(!0,p.noMoveStart),function gr(){var mt=(Date.now()-fi)/uo,Nr=function Is(mt){return 1-Math.pow(1-mt,1.5)}(mt)*lo;mt<=1?(this._flyToFrame=En(gr,this),this._move(this.unproject(v.add(w.subtract(v).multiplyBy(sd(Nr)/Q)),P),this.getScaleZoom(B/function ku(mt){return B*(Ms(Ut)/Ms(Ut+pe*mt))}(Nr),P),{flyTo:!0})):this._move(o,c)._moveEnd(!0)}.call(this),this},flyToBounds:function(o,c){var p=this._getBoundsCenterZoom(o,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(o){return(o=Oe(o)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(o){var c=this.options.minZoom;return this.options.minZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var c=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,c){this._enforcingBounds=!0;var p=this.getCenter(),v=this._limitCenter(p,this._zoom,Oe(o));return p.equals(v)||this.panTo(v,c),this._enforcingBounds=!1,this},panInside:function(o,c){var p=$e((c=c||{}).paddingTopLeft||c.padding||[0,0]),v=$e(c.paddingBottomRight||c.padding||[0,0]),w=this.project(this.getCenter()),b=this.project(o),P=this.getPixelBounds(),B=ui([P.min.add(p),P.max.subtract(v)]),W=B.getSize();if(!B.contains(b)){this._enforcingBounds=!0;var Q=b.subtract(B.getCenter()),pe=B.extend(b).getSize().subtract(W);w.x+=Q.x<0?-pe.x:pe.x,w.y+=Q.y<0?-pe.y:pe.y,this.panTo(this.unproject(w),c),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=I({animate:!1,pan:!0},!0===o?{animate:!0}:o);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),v=c.divideBy(2).round(),w=p.divideBy(2).round(),b=v.subtract(w);return b.x||b.y?(o.animate&&o.pan?this.panBy(b):(o.pan&&this._rawPanBy(b),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(At(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=I({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=At(this._handleGeolocationResponse,this),p=At(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,o):navigator.geolocation.getCurrentPosition(c,p,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var c=o.code,p=o.message||(1===c?"permission denied":2===c?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var v=new Bt(o.coords.latitude,o.coords.longitude),w=v.toBounds(2*o.coords.accuracy),b=this._locateOptions;if(b.setView){var P=this.getBoundsZoom(w);this.setView(v,b.maxZoom?Math.min(P,b.maxZoom):P)}var B={latlng:v,bounds:w,timestamp:o.timestamp};for(var W in o.coords)"number"==typeof o.coords[W]&&(B[W]=o.coords[W]);this.fire("locationfound",B)}},addHandler:function(o,c){if(!c)return this;var p=this[o]=new c(this);return this._handlers.push(p),this.options[o]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var o;for(o in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Zt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Hi(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[o].remove();for(o in this._panes)Zt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,c){var v=Ye("div","leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),c||this._mapPane);return o&&(this._panes[o]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds();return new tn(this.unproject(o.getBottomLeft()),this.unproject(o.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,c,p){o=Oe(o),p=$e(p||[0,0]);var v=this.getZoom()||0,w=this.getMinZoom(),b=this.getMaxZoom(),P=o.getNorthWest(),B=o.getSouthEast(),W=this.getSize().subtract(p),Q=ui(this.project(B,v),this.project(P,v)).getSize(),pe=ve.any3d?this.options.zoomSnap:1,nt=W.x/Q.x,Ie=W.y/Q.y,je=c?Math.max(nt,Ie):Math.min(nt,Ie);return v=this.getScaleZoom(je,v),pe&&(v=Math.round(v/(pe/100))*(pe/100),v=c?Math.ceil(v/pe)*pe:Math.floor(v/pe)*pe),Math.max(w,Math.min(b,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Be(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,c){var p=this._getTopLeftPoint(o,c);return new en(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(void 0===o?this.getZoom():o)},getPane:function(o){return"string"==typeof o?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,c){var p=this.options.crs;return c=void 0===c?this._zoom:c,p.scale(o)/p.scale(c)},getScaleZoom:function(o,c){var p=this.options.crs,v=p.zoom(o*p.scale(c=void 0===c?this._zoom:c));return isNaN(v)?1/0:v},project:function(o,c){return c=void 0===c?this._zoom:c,this.options.crs.latLngToPoint(nn(o),c)},unproject:function(o,c){return c=void 0===c?this._zoom:c,this.options.crs.pointToLatLng($e(o),c)},layerPointToLatLng:function(o){var c=$e(o).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(o){return this.project(nn(o))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(nn(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Oe(o))},distance:function(o,c){return this.options.crs.distance(nn(o),nn(c))},containerPointToLayerPoint:function(o){return $e(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return $e(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var c=this.containerPointToLayerPoint($e(o));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(nn(o)))},mouseEventToContainerPoint:function(o){return Eu(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var c=this._container=_s(o);if(!c)throw new Error("Map container not found.");if(c._leaflet_id)throw new Error("Map container is already initialized.");tt(c,"scroll",this._onScroll,this),this._containerId=qe(c)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&ve.any3d,Qe(o,"leaflet-container"+(ve.touch?" leaflet-touch":"")+(ve.retina?" leaflet-retina":"")+(ve.ielt9?" leaflet-oldie":"")+(ve.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Nn(o,"position");"absolute"!==c&&"relative"!==c&&"fixed"!==c&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ft(this._mapPane,new Be(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Qe(o.markerPane,"leaflet-zoom-hide"),Qe(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,c){ft(this._mapPane,new Be(0,0));var p=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var v=this._zoom!==c;this._moveStart(v,!1)._move(o,c)._moveEnd(v),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(o,c){return o&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(o,c,p,v){void 0===c&&(c=this._zoom);var w=this._zoom!==c;return this._zoom=c,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),v?p&&p.pinch&&this.fire("zoom",p):((w||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Hi(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){ft(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[qe(this._container)]=this;var c=o?qt:tt;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),ve.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Hi(this._resizeRequest),this._resizeRequest=En(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,c){for(var v,p=[],w="mouseout"===c||"mouseover"===c,b=o.target||o.srcElement,P=!1;b;){if((v=this._targets[qe(b)])&&("click"===c||"preclick"===c)&&this._draggableMoved(v)){P=!0;break}if(v&&v.listens(c,!0)&&(w&&!kt(b,o)||(p.push(v),w))||b===this._container)break;b=b.parentNode}return!p.length&&!P&&!w&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(o){for(;o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var c=o.target||o.srcElement;if(!(!this._loaded||c._leaflet_disable_events||"click"===o.type&&this._isClickDisabled(c))){var p=o.type;"mousedown"===p&&Yc(c),this._fireDOMEvent(o,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,c,p){if("click"===o.type){var v=I({},o);v.type="preclick",this._fireDOMEvent(v,v.type,p)}var w=this._findEventTargets(o,c);if(p){for(var b=[],P=0;P<p.length;P++)p[P].listens(c,!0)&&b.push(p[P]);w=b.concat(w)}if(w.length){"contextmenu"===c&&Je(o);var B=w[0],W={originalEvent:o};if("keypress"!==o.type&&"keydown"!==o.type&&"keyup"!==o.type){var Q=B.getLatLng&&(!B._radius||B._radius<=10);W.containerPoint=Q?this.latLngToContainerPoint(B.getLatLng()):this.mouseEventToContainerPoint(o),W.layerPoint=this.containerPointToLayerPoint(W.containerPoint),W.latlng=Q?B.getLatLng():this.layerPointToLatLng(W.layerPoint)}for(P=0;P<w.length;P++)if(w[P].fire(c,W,!0),W.originalEvent._stopped||!1===w[P].options.bubblingMouseEvents&&-1!==Ks(this._mouseEvents,c))return}},_draggableMoved:function(o){return(o=o.dragging&&o.dragging.enabled()?o:this).dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,c=this._handlers.length;o<c;o++)this._handlers[o].disable()},whenReady:function(o,c){return this._loaded?o.call(c||this,{target:this}):this.on("load",o,c),this},_getMapPanePos:function(){return ws(this._mapPane)||new Be(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,c){return(o&&void 0!==c?this._getNewPixelOrigin(o,c):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,c){var p=this.getSize()._divideBy(2);return this.project(o,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,c,p){var v=this._getNewPixelOrigin(p,c);return this.project(o,c)._subtract(v)},_latLngBoundsToNewLayerBounds:function(o,c,p){var v=this._getNewPixelOrigin(p,c);return ui([this.project(o.getSouthWest(),c)._subtract(v),this.project(o.getNorthWest(),c)._subtract(v),this.project(o.getSouthEast(),c)._subtract(v),this.project(o.getNorthEast(),c)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,c,p){if(!p)return o;var v=this.project(o,c),w=this.getSize().divideBy(2),b=new en(v.subtract(w),v.add(w)),P=this._getBoundsOffset(b,p,c);return P.round().equals([0,0])?o:this.unproject(v.add(P),c)},_limitOffset:function(o,c){if(!c)return o;var p=this.getPixelBounds(),v=new en(p.min.add(o),p.max.add(o));return o.add(this._getBoundsOffset(v,c))},_getBoundsOffset:function(o,c,p){var v=ui(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),w=v.min.subtract(o.min),b=v.max.subtract(o.max);return new Be(this._rebound(w.x,-b.x),this._rebound(w.y,-b.y))},_rebound:function(o,c){return o+c>0?Math.round(o-c)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(c))},_limitZoom:function(o){var c=this.getMinZoom(),p=this.getMaxZoom(),v=ve.any3d?this.options.zoomSnap:1;return v&&(o=Math.round(o/v)*v),Math.max(c,Math.min(p,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,c){var p=this._getCenterOffset(o)._trunc();return!(!0!==(c&&c.animate)&&!this.getSize().contains(p)||(this.panBy(p,c),0))},_createAnimProxy:function(){var o=this._proxy=Ye("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(c){var p=ol,v=this._proxy.style[p];Ae(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),v===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Zt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),c=this.getZoom();Ae(this._proxy,this.project(o,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||!1===p.animate||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(c),w=this._getCenterOffset(o)._divideBy(1-1/v);return!(!0!==p.animate&&!this.getSize().contains(w)||(En(function(){this._moveStart(!0,!1)._animateZoom(o,c,!0)},this),0))},_animateZoom:function(o,c,p,v){!this._mapPane||(p&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=c,Qe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:c,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(At(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&Le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Te=Kr.extend({options:{position:"topright"},initialize:function(o){Vt(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var c=this._map;return c&&c.removeControl(this),this.options.position=o,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var c=this._container=this.onAdd(o),p=this.getPosition(),v=o._controlCorners[p];return Qe(c,"leaflet-control"),-1!==p.indexOf("bottom")?v.insertBefore(c,v.firstChild):v.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Zt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),to=function(o){return new Te(o)};pt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},c="leaflet-",p=this._controlContainer=Ye("div",c+"control-container",this._container);function v(w,b){o[w+b]=Ye("div",c+w+" "+c+b,p)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Zt(this._controlCorners[o]);Zt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Tu=Te.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,c,p,v){return p<v?-1:v<p?1:0}},initialize:function(o,c,p){for(var v in Vt(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,o)this._addLayer(o[v],v);for(v in c)this._addLayer(c[v],v,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Te.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,c){return this._addLayer(o,c),this._map?this._update():this},addOverlay:function(o,c){return this._addLayer(o,c,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var c=this._getLayer(qe(o));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Qe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Qe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",c=this._container=Ye("div",o),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),dl(c),oe(c);var v=this._section=Ye("section",o+"-list");p&&(this._map.on("click",this.collapse,this),tt(c,{mouseenter:function(){tt(v,"click",Je),this.expand(),setTimeout(function(){qt(v,"click",Je)})},mouseleave:this.collapse},this));var w=this._layersLink=Ye("a",o+"-toggle",c);w.href="#",w.title="Layers",w.setAttribute("role","button"),tt(w,"click",Je),tt(w,"focus",this.expand,this),p||this.expand(),this._baseLayersList=Ye("div",o+"-base",v),this._separator=Ye("div",o+"-separator",v),this._overlaysList=Ye("div",o+"-overlays",v),c.appendChild(v)},_getLayer:function(o){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&qe(this._layers[c].layer)===o)return this._layers[c]},_addLayer:function(o,c,p){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(At(function(v,w){return this.options.sortFunction(v.layer,w.layer,v.name,w.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xt(this._baseLayersList),xt(this._overlaysList),this._layerControlInputs=[];var o,c,p,v,w=0;for(p=0;p<this._layers.length;p++)this._addItem(v=this._layers[p]),c=c||v.overlay,o=o||!v.overlay,w+=v.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(o=o&&w>1)?"":"none"),this._separator.style.display=c&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var c=this._getLayer(qe(o.target)),p=c.overlay?"add"===o.type?"overlayadd":"overlayremove":"add"===o.type?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(o,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(c?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=p,v.firstChild},_addItem:function(o){var v,c=document.createElement("label"),p=this._map.hasLayer(o.layer);o.overlay?((v=document.createElement("input")).type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=p):v=this._createRadioElement("leaflet-base-layers_"+qe(this),p),this._layerControlInputs.push(v),v.layerId=qe(o.layer),tt(v,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+o.name;var b=document.createElement("span");return c.appendChild(b),b.appendChild(v),b.appendChild(w),(o.overlay?this._overlaysList:this._baseLayersList).appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){var c,p,o=this._layerControlInputs,v=[],w=[];this._handlingClick=!0;for(var b=o.length-1;b>=0;b--)p=this._getLayer((c=o[b]).layerId).layer,c.checked?v.push(p):c.checked||w.push(p);for(b=0;b<w.length;b++)this._map.hasLayer(w[b])&&this._map.removeLayer(w[b]);for(b=0;b<v.length;b++)this._map.hasLayer(v[b])||this._map.addLayer(v[b]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var c,p,o=this._layerControlInputs,v=this._map.getZoom(),w=o.length-1;w>=0;w--)p=this._getLayer((c=o[w]).layerId).layer,c.disabled=void 0!==p.options.minZoom&&v<p.options.minZoom||void 0!==p.options.maxZoom&&v>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),gn=Te.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var c="leaflet-control-zoom",p=Ye("div",c+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,c,p,v,w){var b=Ye("a",p,v);return b.innerHTML=o,b.href="#",b.title=c,b.setAttribute("role","button"),b.setAttribute("aria-label",c),dl(b),tt(b,"click",es),tt(b,"click",w,this),tt(b,"click",this._refocusOnMap,this),b},_updateDisabled:function(){var o=this._map,c="leaflet-disabled";Le(this._zoomInButton,c),Le(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Qe(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Qe(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});pt.mergeOptions({zoomControl:!0}),pt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new gn,this.addControl(this.zoomControl))});var Mi=Te.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var c="leaflet-control-scale",p=Ye("div",c),v=this.options;return this._addScales(v,c+"-line",p),o.on(v.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),p},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,c,p){o.metric&&(this._mScale=Ye("div",c,p)),o.imperial&&(this._iScale=Ye("div",c,p))},_update:function(){var o=this._map,c=o.getSize().y/2,p=o.distance(o.containerPointToLatLng([0,c]),o.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var c=this._getRoundNum(o);this._updateScale(this._mScale,c<1e3?c+" m":c/1e3+" km",c/o)},_updateImperial:function(o){var p,v,w,c=3.2808399*o;c>5280?(v=this._getRoundNum(p=c/5280),this._updateScale(this._iScale,v+" mi",v/p)):(w=this._getRoundNum(c),this._updateScale(this._iScale,w+" ft",w/c))},_updateScale:function(o,c,p){o.style.width=Math.round(this.options.maxWidth*p)+"px",o.innerHTML=c},_getRoundNum:function(o){var c=Math.pow(10,(Math.floor(o)+"").length-1),p=o/c;return c*(p>=10?10:p>=5?5:p>=3?3:p>=2?2:1)}}),Ii=Te.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ve.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(o){Vt(this,o),this._attributions={}},onAdd:function(o){for(var c in o.attributionControl=this,this._container=Ye("div","leaflet-control-attribution"),dl(this._container),o._layers)o._layers[c].getAttribution&&this.addAttribution(o._layers[c].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var c in this._attributions)this._attributions[c]&&o.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),o.length&&p.push(o.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});pt.mergeOptions({attributionControl:!0}),pt.addInitHook(function(){this.options.attributionControl&&(new Ii).addTo(this)});Te.Layers=Tu,Te.Zoom=gn,Te.Scale=Mi,Te.Attribution=Ii,to.layers=function(o,c,p){return new Tu(o,c,p)},to.zoom=function(o){return new gn(o)},to.scale=function(o){return new Mi(o)},to.attribution=function(o){return new Ii(o)};var cr=Kr.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});cr.addTo=function(o,c){return o.addHandler(c,this),this};var dr,td={Events:Tn},Mu=ve.touch?"touchstart mousedown":"mousedown",Ss=Za.extend({options:{clickTolerance:3},initialize:function(o,c,p,v){Vt(this,v),this._element=o,this._dragStartTarget=c||o,this._preventOutline=p},enable:function(){this._enabled||(tt(this._dragStartTarget,Mu,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(Ss._dragging===this&&this.finishDrag(!0),qt(this._dragStartTarget,Mu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Ho(this._element,"leaflet-zoom-anim"))){if(o.touches&&1!==o.touches.length)return void(Ss._dragging===this&&this.finishDrag());if(!(Ss._dragging||o.shiftKey||1!==o.which&&1!==o.button&&!o.touches||(Ss._dragging=this,this._preventOutline&&Yc(this._element),ll(),Uo(),this._moving))){this.fire("down");var c=o.touches?o.touches[0]:o,p=Kc(this._element);this._startPoint=new Be(c.clientX,c.clientY),this._startPos=ws(this._element),this._parentScale=bu(p);var v="mousedown"===o.type;tt(document,v?"mousemove":"touchmove",this._onMove,this),tt(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1)return void(this._moved=!0);var c=o.touches&&1===o.touches.length?o.touches[0]:o,p=new Be(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Je(o),this._moved||(this.fire("dragstart"),this._moved=!0,Qe(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Qe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),ft(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(o){Le(document.body,"leaflet-dragging"),this._lastTarget&&(Le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),qt(document,"mousemove touchmove",this._onMove,this),qt(document,"mouseup touchend touchcancel",this._onUp,this),Cs(),al(),this._moved&&this._moving&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Ss._dragging=!1}});function Pt(o,c){if(!c||!o.length)return o.slice();var p=c*c;return function Fn(o,c){var p=o.length,w=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(p);w[0]=w[p-1]=1,Ot(o,w,c,0,p-1);var b,P=[];for(b=0;b<p;b++)w[b]&&P.push(o[b]);return P}(o=function Ta(o,c){for(var p=[o[0]],v=1,w=0,b=o.length;v<b;v++)Zi(o[v],o[w])>c&&(p.push(o[v]),w=v);return w<b-1&&p.push(o[b-1]),p}(o,p),p)}function Ai(o,c,p){return Math.sqrt(ro(o,c,p,!0))}function Ot(o,c,p,v,w){var P,B,W,b=0;for(B=v+1;B<=w-1;B++)(W=ro(o[B],o[v],o[w],!0))>b&&(P=B,b=W);b>p&&(c[P]=1,Ot(o,c,p,v,P),Ot(o,c,p,P,w))}function no(o,c,p,v,w){var B,W,Q,b=v?dr:ot(o,p),P=ot(c,p);for(dr=P;;){if(!(b|P))return[o,c];if(b&P)return!1;Q=ot(W=io(o,c,B=b||P,p,w),p),B===b?(o=W,b=Q):(c=W,P=Q)}}function io(o,c,p,v,w){var Q,pe,b=c.x-o.x,P=c.y-o.y,B=v.min,W=v.max;return 8&p?(Q=o.x+b*(W.y-o.y)/P,pe=W.y):4&p?(Q=o.x+b*(B.y-o.y)/P,pe=B.y):2&p?(Q=W.x,pe=o.y+P*(W.x-o.x)/b):1&p&&(Q=B.x,pe=o.y+P*(B.x-o.x)/b),new Be(Q,pe,w)}function ot(o,c){var p=0;return o.x<c.min.x?p|=1:o.x>c.max.x&&(p|=2),o.y<c.min.y?p|=4:o.y>c.max.y&&(p|=8),p}function Zi(o,c){var p=c.x-o.x,v=c.y-o.y;return p*p+v*v}function ro(o,c,p,v){var Q,w=c.x,b=c.y,P=p.x-w,B=p.y-b,W=P*P+B*B;return W>0&&((Q=((o.x-w)*P+(o.y-b)*B)/W)>1?(w=p.x,b=p.y):Q>0&&(w+=P*Q,b+=B*Q)),P=o.x-w,B=o.y-b,v?P*P+B*B:new Be(w,b)}function Yt(o){return!un(o[0])||"object"!=typeof o[0][0]&&typeof o[0][0]<"u"}function pl(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Yt(o)}var nd={__proto__:null,simplify:Pt,pointToSegmentDistance:Ai,closestPointOnSegment:function wg(o,c,p){return ro(o,c,p)},clipSegment:no,_getEdgeIntersection:io,_getBitCode:ot,_sqClosestPointOnSegment:ro,isFlat:Yt,_flat:pl};function Iu(o,c,p){var v,b,P,B,W,Q,pe,nt,Ie,w=[1,4,2,8];for(b=0,pe=o.length;b<pe;b++)o[b]._code=ot(o[b],c);for(B=0;B<4;B++){for(nt=w[B],v=[],b=0,P=(pe=o.length)-1;b<pe;P=b++)Q=o[P],(W=o[b])._code&nt?Q._code&nt||((Ie=io(Q,W,nt,c,p))._code=ot(Ie,c),v.push(Ie)):(Q._code&nt&&((Ie=io(Q,W,nt,c,p))._code=ot(Ie,c),v.push(Ie)),v.push(W));o=v}return o}var id={__proto__:null,clipPolygon:Iu},Ht={project:function(o){return new Be(o.lng,o.lat)},unproject:function(o){return new Bt(o.y,o.x)},bounds:new en([-180,-90],[180,90])},zo={R:6378137,R_MINOR:6356752.314245179,bounds:new en([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(o){var c=Math.PI/180,p=this.R,v=o.lat*c,w=this.R_MINOR/p,b=Math.sqrt(1-w*w),P=b*Math.sin(v),B=Math.tan(Math.PI/4-v/2)/Math.pow((1-P)/(1+P),b/2);return v=-p*Math.log(Math.max(B,1e-10)),new Be(o.lng*c*p,v)},unproject:function(o){for(var Q,c=180/Math.PI,p=this.R,v=this.R_MINOR/p,w=Math.sqrt(1-v*v),b=Math.exp(-o.y/p),P=Math.PI/2-2*Math.atan(b),B=0,W=.1;B<15&&Math.abs(W)>1e-7;B++)Q=w*Math.sin(P),Q=Math.pow((1-Q)/(1+Q),w/2),P+=W=Math.PI/2-2*Math.atan(b*Q)-P;return new Bt(P*c,o.x*c/p)}},so={__proto__:null,LonLat:Ht,Mercator:zo,SphericalMercator:lt},we=I({},Mt,{code:"EPSG:3395",projection:zo,transformation:function(){var o=.5/(Math.PI*zo.R);return qa(o,.5,-o,.5)}()}),Kt=I({},Mt,{code:"EPSG:4326",projection:Ht,transformation:qa(1/180,1,-1/180,.5)}),Vn=I({},bt,{projection:Ht,transformation:qa(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,c){var p=c.lng-o.lng,v=c.lat-o.lat;return Math.sqrt(p*p+v*v)},infinite:!0});bt.Earth=Mt,bt.EPSG3395=we,bt.EPSG3857=Qr,bt.EPSG900913=Ya,bt.EPSG4326=Kt,bt.Simple=Vn;var mn=Za.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[qe(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[qe(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var c=o.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});pt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var c=qe(o);return this._layers[c]||(this._layers[c]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o)),this},removeLayer:function(o){var c=qe(o);return this._layers[c]?(this._loaded&&o.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return qe(o)in this._layers},eachLayer:function(o,c){for(var p in this._layers)o.call(c,this._layers[p]);return this},_addLayers:function(o){for(var c=0,p=(o=o?un(o)?o:[o]:[]).length;c<p;c++)this.addLayer(o[c])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[qe(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var c=qe(o);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,c=-1/0,p=this._getZoomSpan();for(var v in this._zoomBoundLayers){var w=this._zoomBoundLayers[v].options;o=void 0===w.minZoom?o:Math.min(o,w.minZoom),c=void 0===w.maxZoom?c:Math.max(c,w.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=o===1/0?void 0:o,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ci=mn.extend({initialize:function(o,c){var p,v;if(Vt(this,c),this._layers={},o)for(p=0,v=o.length;p<v;p++)this.addLayer(o[p])},addLayer:function(o){var c=this.getLayerId(o);return this._layers[c]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var c=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(o){return("number"==typeof o?o:this.getLayerId(o))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var p,v,c=Array.prototype.slice.call(arguments,1);for(p in this._layers)(v=this._layers[p])[o]&&v[o].apply(v,c);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,c){for(var p in this._layers)o.call(c,this._layers[p]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return qe(o)}}),Bn=ci.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),ci.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),ci.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new tn;for(var c in this._layers){var p=this._layers[c];o.extend(p.getBounds?p.getBounds():p.getLatLng())}return o}}),Ue=Kr.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){Vt(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,c){var p=this._getIconUrl(o);if(!p){if("icon"===o)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(p,c&&"IMG"===c.tagName?c:null);return this._setIconStyles(v,o),(this.options.crossOrigin||""===this.options.crossOrigin)&&(v.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),v},_setIconStyles:function(o,c){var p=this.options,v=p[c+"Size"];"number"==typeof v&&(v=[v,v]);var w=$e(v),b=$e("shadow"===c&&p.shadowAnchor||p.iconAnchor||w&&w.divideBy(2,!0));o.className="leaflet-marker-"+c+" "+(p.className||""),b&&(o.style.marginLeft=-b.x+"px",o.style.marginTop=-b.y+"px"),w&&(o.style.width=w.x+"px",o.style.height=w.y+"px")},_createImg:function(o,c){return(c=c||document.createElement("img")).src=o,c},_getIconUrl:function(o){return ve.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});var Rn=Ue.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return"string"!=typeof Rn.imagePath&&(Rn.imagePath=this._detectIconPath()),(this.options.imagePath||Rn.imagePath)+Ue.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var c=function(p,v,w){var b=v.exec(p);return b&&b[w]};return(o=c(o,/^url\((['"])?(.+)\1\)$/,2))&&c(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Ye("div","leaflet-default-icon-path",document.body),c=Nn(o,"background-image")||Nn(o,"backgroundImage");if(document.body.removeChild(o),c=this._stripUrl(c))return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),vn=cr.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Ss(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Qe(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var c=this._marker,p=c._map,v=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,b=ws(c._icon),P=p.getPixelBounds(),B=p.getPixelOrigin(),W=ui(P.min._subtract(B).add(w),P.max._subtract(B).subtract(w));if(!W.contains(b)){var Q=$e((Math.max(W.max.x,b.x)-W.max.x)/(P.max.x-W.max.x)-(Math.min(W.min.x,b.x)-W.min.x)/(P.min.x-W.min.x),(Math.max(W.max.y,b.y)-W.max.y)/(P.max.y-W.max.y)-(Math.min(W.min.y,b.y)-W.min.y)/(P.min.y-W.min.y)).multiplyBy(v);p.panBy(Q,{animate:!1}),this._draggable._newPos._add(Q),this._draggable._startPos._add(Q),ft(c._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=En(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Hi(this._panRequest),this._panRequest=En(this._adjustPan.bind(this,o)))},_onDrag:function(o){var c=this._marker,p=c._shadow,v=ws(c._icon),w=c._map.layerPointToLatLng(v);p&&ft(p,v),c._latlng=w,o.latlng=w,o.oldLatLng=this._oldLatLng,c.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Hi(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),rn=mn.extend({options:{icon:new Rn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,c){Vt(this,c),this._latlng=nn(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var c=this._latlng;return this._latlng=nn(o),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=o.icon.createIcon(this._icon),v=!1;p!==this._icon&&(this._icon&&this._removeIcon(),v=!0,o.title&&(p.title=o.title),"IMG"===p.tagName&&(p.alt=o.alt||"")),Qe(p,c),o.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(p,"focus",this._panOnFocus,this);var w=o.icon.createShadow(this._shadow),b=!1;w!==this._shadow&&(this._removeShadow(),b=!0),w&&(Qe(w,c),w.alt=""),this._shadow=w,o.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&b&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qt(this._icon,"focus",this._panOnFocus,this),Zt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Zt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&ft(this._icon,o),this._shadow&&ft(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Qe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vn)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vn(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&zi(this._icon,o),this._shadow&&zi(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var c=this.options.icon.options,p=c.iconSize?$e(c.iconSize):$e(0,0),v=c.iconAnchor?$e(c.iconAnchor):$e(0,0);o.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:p.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Lt=mn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return Vt(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ts=Lt.extend({options:{fill:!0,radius:10},initialize:function(o,c){Vt(this,c),this._latlng=nn(o),this._radius=this.options.radius},setLatLng:function(o){var c=this._latlng;return this._latlng=nn(o),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var c=o&&o.radius||this._radius;return Lt.prototype.setStyle.call(this,o),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,c=this._radiusY||o,p=this._clickTolerance(),v=[o+p,c+p];this._pxBounds=new en(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Ke=ts.extend({initialize:function(o,c,p){if("number"==typeof c&&(c=I({},p,{radius:c})),Vt(this,c),this._latlng=nn(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new tn(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Lt.prototype.setStyle,_project:function(){var o=this._latlng.lng,c=this._latlng.lat,p=this._map,v=p.options.crs;if(v.distance===Mt.distance){var w=Math.PI/180,b=this._mRadius/Mt.R/w,P=p.project([c+b,o]),B=p.project([c-b,o]),W=P.add(B).divideBy(2),Q=p.unproject(W).lat,pe=Math.acos((Math.cos(b*w)-Math.sin(c*w)*Math.sin(Q*w))/(Math.cos(c*w)*Math.cos(Q*w)))/w;(isNaN(pe)||0===pe)&&(pe=b/Math.cos(Math.PI/180*c)),this._point=W.subtract(p.getPixelOrigin()),this._radius=isNaN(pe)?0:W.x-p.project([Q,o-pe]).x,this._radiusY=W.y-P.y}else{var nt=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(nt).x}this._updateBounds()}});var di=Lt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,c){Vt(this,c),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var w,b,c=1/0,p=null,v=ro,P=0,B=this._parts.length;P<B;P++)for(var W=this._parts[P],Q=1,pe=W.length;Q<pe;Q++){var nt=v(o,w=W[Q-1],b=W[Q],!0);nt<c&&(c=nt,p=v(o,w,b))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var o,c,p,v,w,b,P,B=this._rings[0],W=B.length;if(!W)return null;for(o=0,c=0;o<W-1;o++)c+=B[o].distanceTo(B[o+1])/2;if(0===c)return this._map.layerPointToLatLng(B[0]);for(o=0,v=0;o<W-1;o++)if((v+=p=(w=B[o]).distanceTo(b=B[o+1]))>c)return this._map.layerPointToLatLng([b.x-(P=(v-c)/p)*(b.x-w.x),b.y-P*(b.y-w.y)])},getBounds:function(){return this._bounds},addLatLng:function(o,c){return c=c||this._defaultShape(),o=nn(o),c.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new tn,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Yt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var c=[],p=Yt(o),v=0,w=o.length;v<w;v++)p?(c[v]=nn(o[v]),this._bounds.extend(c[v])):c[v]=this._convertLatLngs(o[v]);return c},_project:function(){var o=new en;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),c=new Be(o,o);!this._rawPxBounds||(this._pxBounds=new en([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(o,c,p){var b,P,w=o.length;if(o[0]instanceof Bt){for(P=[],b=0;b<w;b++)P[b]=this._map.latLngToLayerPoint(o[b]),p.extend(P[b]);c.push(P)}else for(b=0;b<w;b++)this._projectLatlngs(o[b],c,p)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);var p,v,w,b,P,B,W,c=this._parts;for(p=0,w=0,b=this._rings.length;p<b;p++)for(v=0,P=(W=this._rings[p]).length;v<P-1;v++)(B=no(W[v],W[v+1],o,v,!0))&&(c[w]=c[w]||[],c[w].push(B[0]),(B[1]!==W[v+1]||v===P-2)&&(c[w].push(B[1]),w++))}},_simplifyPoints:function(){for(var o=this._parts,c=this.options.smoothFactor,p=0,v=o.length;p<v;p++)o[p]=Pt(o[p],c)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,c){var p,v,w,b,P,B,W=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(p=0,b=this._parts.length;p<b;p++)for(v=0,w=(P=(B=this._parts[p]).length)-1;v<P;w=v++)if((c||0!==v)&&Ai(o,B[w],B[v])<=W)return!0;return!1}});di._flat=pl;var Wn=di.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var o,c,p,v,w,b,P,B,Q=this._rings[0],pe=Q.length;if(!pe)return null;for(b=P=B=0,o=0,c=pe-1;o<pe;c=o++)P+=((p=Q[o]).x+(v=Q[c]).x)*(w=p.y*v.x-v.y*p.x),B+=(p.y+v.y)*w,b+=3*w;return this._map.layerPointToLatLng(0===b?Q[0]:[P/b,B/b])},_convertLatLngs:function(o){var c=di.prototype._convertLatLngs.call(this,o),p=c.length;return p>=2&&c[0]instanceof Bt&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(o){di.prototype._setLatLngs.call(this,o),Yt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Yt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,c=this.options.weight,p=new Be(c,c);if(o=new en(o.min.subtract(p),o.max.add(p)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);for(var b,v=0,w=this._rings.length;v<w;v++)(b=Iu(this._rings[v],o,!0)).length&&this._parts.push(b)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var p,v,w,b,P,B,W,Q,c=!1;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(b=0,W=this._parts.length;b<W;b++)for(P=0,B=(Q=(p=this._parts[b]).length)-1;P<Q;B=P++)(v=p[P]).y>o.y!=(w=p[B]).y>o.y&&o.x<(w.x-v.x)*(o.y-v.y)/(w.y-v.y)+v.x&&(c=!c);return c||di.prototype._containsPoint.call(this,o,!0)}});var Pi=Bn.extend({initialize:function(o,c){Vt(this,c),this._layers={},o&&this.addData(o)},addData:function(o){var p,v,w,c=un(o)?o:o.features;if(c){for(p=0,v=c.length;p<v;p++)((w=c[p]).geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var b=this.options;if(b.filter&&!b.filter(o))return this;var P=Or(o,b);return P?(P.feature=ki(o),P.defaultOptions=P.options,this.resetStyle(P),b.onEachFeature&&b.onEachFeature(o,P),this.addLayer(P)):this},resetStyle:function(o){return void 0===o?this.eachLayer(this.resetStyle,this):(o.options=I({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(c){this._setLayerStyle(c,o)},this)},_setLayerStyle:function(o,c){o.setStyle&&("function"==typeof c&&(c=c(o.feature)),o.setStyle(c))}});function Or(o,c){var B,W,Q,pe,p="Feature"===o.type?o.geometry:o,v=p?p.coordinates:null,w=[],b=c&&c.pointToLayer,P=c&&c.coordsToLatLng||gt;if(!v&&!p)return null;switch(p.type){case"Point":return Ri(b,o,B=P(v),c);case"MultiPoint":for(Q=0,pe=v.length;Q<pe;Q++)B=P(v[Q]),w.push(Ri(b,o,B,c));return new Bn(w);case"LineString":case"MultiLineString":return W=oo(v,"LineString"===p.type?0:1,P),new di(W,c);case"Polygon":case"MultiPolygon":return W=oo(v,"Polygon"===p.type?1:2,P),new Wn(W,c);case"GeometryCollection":for(Q=0,pe=p.geometries.length;Q<pe;Q++){var nt=Or({geometry:p.geometries[Q],type:"Feature",properties:o.properties},c);nt&&w.push(nt)}return new Bn(w);default:throw new Error("Invalid GeoJSON object.")}}function Ri(o,c,p,v){return o?o(c,p):new rn(p,v&&v.markersInheritOptions&&v)}function gt(o){return new Bt(o[1],o[0],o[2])}function oo(o,c,p){for(var P,v=[],w=0,b=o.length;w<b;w++)P=c?oo(o[w],c-1,p):(p||gt)(o[w]),v.push(P);return v}function xu(o,c){return void 0!==(o=nn(o)).alt?[zn(o.lng,c),zn(o.lat,c),zn(o.alt,c)]:[zn(o.lng,c),zn(o.lat,c)]}function ao(o,c,p,v){for(var w=[],b=0,P=o.length;b<P;b++)w.push(c?ao(o[b],c-1,p,v):xu(o[b],v));return!c&&p&&w.push(w[0]),w}function bs(o,c){return o.feature?I({},o.feature,{geometry:c}):ki(c)}function ki(o){return"Feature"===o.type||"FeatureCollection"===o.type?o:{type:"Feature",properties:{},geometry:o}}var Gn={toGeoJSON:function(o){return bs(this,{type:"Point",coordinates:xu(this.getLatLng(),o)})}};function ns(o,c){return new Pi(o,c)}rn.include(Gn),Ke.include(Gn),ts.include(Gn),di.include({toGeoJSON:function(o){var c=!Yt(this._latlngs);return bs(this,{type:(c?"Multi":"")+"LineString",coordinates:ao(this._latlngs,c?1:0,!1,o)})}}),Wn.include({toGeoJSON:function(o){var c=!Yt(this._latlngs),p=c&&!Yt(this._latlngs[0]),v=ao(this._latlngs,p?2:c?1:0,!0,o);return c||(v=[v]),bs(this,{type:(p?"Multi":"")+"Polygon",coordinates:v})}}),ci.include({toMultiPoint:function(o){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(o).geometry.coordinates)}),bs(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(o){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===c)return this.toMultiPoint(o);var p="GeometryCollection"===c,v=[];return this.eachLayer(function(w){if(w.toGeoJSON){var b=w.toGeoJSON(o);if(p)v.push(b.geometry);else{var P=ki(b);"FeatureCollection"===P.type?v.push.apply(v,P.features):v.push(P)}}}),p?bs(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});var $n=ns,ml=mn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,c,p){this._url=o,this._bounds=Oe(c),Vt(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Qe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Zt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&ys(this._image),this},bringToBack:function(){return this._map&&yt(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Oe(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o="IMG"===this._url.tagName,c=this._image=o?this._url:Ye("img");Qe(c,"leaflet-image-layer"),this._zoomAnimated&&Qe(c,"leaflet-zoom-animated"),this.options.className&&Qe(c,this.options.className),c.onselectstart=Wt,c.onmousemove=Wt,c.onload=At(this.fire,this,"load"),c.onerror=At(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(c.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o?this._url=c.src:(c.src=this._url,c.alt=this.options.alt)},_animateZoom:function(o){var c=this._map.getZoomScale(o.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Ae(this._image,p,c)},_reset:function(){var o=this._image,c=new en(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();ft(o,c.min),o.style.width=p.x+"px",o.style.height=p.y+"px"},_updateOpacity:function(){zi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),qi=ml.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o="VIDEO"===this._url.tagName,c=this._image=o?this._url:Ye("video");if(Qe(c,"leaflet-image-layer"),this._zoomAnimated&&Qe(c,"leaflet-zoom-animated"),this.options.className&&Qe(c,this.options.className),c.onselectstart=Wt,c.onmousemove=Wt,c.onloadeddata=At(this.fire,this,"load"),o){for(var p=c.getElementsByTagName("source"),v=[],w=0;w<p.length;w++)v.push(p[w].src);this._url=p.length>0?v:[c.src]}else{un(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var b=0;b<this._url.length;b++){var P=Ye("source");P.src=this._url[b],c.appendChild(P)}}}});var Es=ml.extend({_initImage:function(){var o=this._image=this._url;Qe(o,"leaflet-image-layer"),this._zoomAnimated&&Qe(o,"leaflet-zoom-animated"),this.options.className&&Qe(o,this.options.className),o.onselectstart=Wt,o.onmousemove=Wt}});var j=mn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(o,c){Vt(this,o),this._source=c},openOn:function(o){return(o=arguments.length?o:this._source._map).hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&zi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&zi(this._container,1),this.bringToFront(),this.options.interactive&&(Qe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(zi(this._container,0),this._removeTimeout=setTimeout(At(Zt,void 0,this._container),200)):Zt(this._container),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=nn(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ys(this._container),this},bringToBack:function(){return this._map&&yt(this._container),this},_prepareOpen:function(o){var c=this._source;if(!c._map)return!1;if(c instanceof Bn){c=null;var p=this._source._layers;for(var v in p)if(p[v]._map){c=p[v];break}if(!c)return!1;this._source=c}if(!o)if(c.getCenter)o=c.getCenter();else if(c.getLatLng)o=c.getLatLng();else{if(!c.getBounds)throw new Error("Unable to get source layer LatLng.");o=c.getBounds().getCenter()}return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,c="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof c)o.innerHTML=c;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),c=$e(this.options.offset),p=this._getAnchor();this._zoomAnimated?ft(this._container,o.add(p)):c=c.add(o).add(p);var v=this._containerBottom=-c.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=v+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});pt.include({_initOverlay:function(o,c,p,v){var w=c;return w instanceof o||(w=new o(v).setContent(c)),p&&w.setLatLng(p),w}}),mn.include({_initOverlay:function(o,c,p,v){var w=p;return w instanceof o?(Vt(w,v),w._source=this):(w=c&&!v?c:new o(v,this)).setContent(p),w}});var H=j.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return!(o=arguments.length?o:this._source._map).hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,j.prototype.openOn.call(this,o)},onAdd:function(o){j.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Lt||this._source.on("preclick",jo))},onRemove:function(o){j.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Lt||this._source.off("preclick",jo))},getEvents:function(){var o=j.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",c=this._container=Ye("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Ye("div",o+"-content-wrapper",c);if(this._contentNode=Ye("div",o+"-content",p),dl(c),oe(this._contentNode),tt(c,"contextmenu",jo),this._tipContainer=Ye("div",o+"-tip-container",c),this._tip=Ye("div",o+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=Ye("a",o+"-close-button",c);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',tt(v,"click",this.close,this)}},_updateLayout:function(){var o=this._contentNode,c=o.style;c.width="",c.whiteSpace="nowrap";var p=o.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var w=this.options.maxHeight,b="leaflet-popup-scrolled";w&&o.offsetHeight>w?(c.height=w+"px",Qe(o,b)):Le(o,b),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),p=this._getAnchor();ft(this._container,c.add(p))},_adjustPan:function(o){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var c=this._map,p=parseInt(Nn(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+p,w=this._containerWidth,b=new Be(this._containerLeft,-v-this._containerBottom);b._add(ws(this._container));var P=c.layerPointToContainerPoint(b),B=$e(this.options.autoPanPadding),W=$e(this.options.autoPanPaddingTopLeft||B),Q=$e(this.options.autoPanPaddingBottomRight||B),pe=c.getSize(),nt=0,Ie=0;P.x+w+Q.x>pe.x&&(nt=P.x+w-pe.x+Q.x),P.x-nt-W.x<0&&(nt=P.x-W.x),P.y+v+Q.y>pe.y&&(Ie=P.y+v-pe.y+Q.y),P.y-Ie-W.y<0&&(Ie=P.y-W.y),(nt||Ie)&&c.fire("autopanstart").panBy([nt,Ie],{animate:o&&"moveend"===o.type})}},_getAnchor:function(){return $e(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});pt.mergeOptions({closePopupOnClick:!0}),pt.include({openPopup:function(o,c,p){return this._initOverlay(H,o,c,p).openOn(this),this},closePopup:function(o){return(o=arguments.length?o:this._popup)&&o.close(),this}}),mn.include({bindPopup:function(o,c){return this._popup=this._initOverlay(H,this._popup,o,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&this._popup._prepareOpen(o)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(this._popup&&this._map){es(o);var c=o.layer||o.target;if(this._popup._source===c&&!(c instanceof Lt))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng));this._popup._source=c,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){13===o.originalEvent.keyCode&&this._openPopup(o)}});var Ne=j.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){j.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){j.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=j.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){this._contentNode=this._container=Ye("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var c,p,v=this._map,w=this._container,b=v.latLngToContainerPoint(v.getCenter()),P=v.layerPointToContainerPoint(o),B=this.options.direction,W=w.offsetWidth,Q=w.offsetHeight,pe=$e(this.options.offset),nt=this._getAnchor();"top"===B?(c=W/2,p=Q):"bottom"===B?(c=W/2,p=0):"center"===B?(c=W/2,p=Q/2):"right"===B?(c=0,p=Q/2):"left"===B?(c=W,p=Q/2):P.x<b.x?(B="right",c=0,p=Q/2):(B="left",c=W+2*(pe.x+nt.x),p=Q/2),o=o.subtract($e(c,p,!0)).add(pe).add(nt),Le(w,"leaflet-tooltip-right"),Le(w,"leaflet-tooltip-left"),Le(w,"leaflet-tooltip-top"),Le(w,"leaflet-tooltip-bottom"),Qe(w,"leaflet-tooltip-"+B),ft(w,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&zi(this._container,o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(c)},_getAnchor:function(){return $e(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});pt.include({openTooltip:function(o,c,p){return this._initOverlay(Ne,o,c,p).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),mn.include({bindTooltip:function(o,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ne,this._tooltip,o,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(o||!this._tooltipHandlersAdded){var c=o?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&this._tooltip._prepareOpen(o)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_openTooltip:function(o){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0))},_moveTooltip:function(o){var p,v,c=o.latlng;this._tooltip.options.sticky&&o.originalEvent&&(p=this._map.mouseEventToContainerPoint(o.originalEvent),v=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(c)}});var In=Ue.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var c=o&&"DIV"===o.tagName?o:document.createElement("div"),p=this.options;if(p.html instanceof Element?(xt(c),c.appendChild(p.html)):c.innerHTML=!1!==p.html?p.html:"",p.bgPos){var v=$e(p.bgPos);c.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});Ue.Default=Rn;var Go=mn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ve.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){Vt(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Zt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ys(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=du(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof Be?o:new Be(o,o)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var b,c=this.getPane().children,p=-o(-1/0,1/0),v=0,w=c.length;v<w;v++)b=c[v].style.zIndex,c[v]!==this._container&&b&&(p=o(p,+b));isFinite(p)&&(this.options.zIndex=p+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ve.ielt9){zi(this._container,this.options.opacity);var o=+new Date,c=!1,p=!1;for(var v in this._tiles){var w=this._tiles[v];if(w.current&&w.loaded){var b=Math.min(1,(o-w.loaded)/200);zi(w.el,b),b<1?c=!0:(w.active?p=!0:this._onOpaqueTile(w),w.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(Hi(this._fadeFrame),this._fadeFrame=En(this._updateOpacity,this))}},_onOpaqueTile:Wt,_initContainer:function(){this._container||(this._container=Ye("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,c=this.options.maxZoom;if(void 0!==o){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===o?(this._levels[p].el.style.zIndex=c-Math.abs(o-p),this._onUpdateLevel(p)):(Zt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var v=this._levels[o],w=this._map;return v||((v=this._levels[o]={}).el=Ye("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=c,v.origin=w.project(w.unproject(w.getPixelOrigin()),o).round(),v.zoom=o,this._setZoomTransform(v,w.getCenter(),w.getZoom()),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:Wt,_onRemoveLevel:Wt,_onCreateLevel:Wt,_pruneTiles:function(){if(this._map){var o,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom)return void this._removeAllTiles();for(o in this._tiles)(c=this._tiles[o]).retain=c.current;for(o in this._tiles)if((c=this._tiles[o]).current&&!c.active){var v=c.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var c in this._tiles)this._tiles[c].coords.z===o&&this._removeTile(c)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Zt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,c,p,v){var w=Math.floor(o/2),b=Math.floor(c/2),P=p-1,B=new Be(+w,+b);B.z=+P;var W=this._tileCoordsToKey(B),Q=this._tiles[W];return Q&&Q.active?(Q.retain=!0,!0):(Q&&Q.loaded&&(Q.retain=!0),P>v&&this._retainParent(w,b,P,v))},_retainChildren:function(o,c,p,v){for(var w=2*o;w<2*o+2;w++)for(var b=2*c;b<2*c+2;b++){var P=new Be(w,b);P.z=p+1;var B=this._tileCoordsToKey(P),W=this._tiles[B];W&&W.active?W.retain=!0:(W&&W.loaded&&(W.retain=!0),p+1<v&&this._retainChildren(w,b,p+1,v))}},_resetView:function(o){var c=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var c=this.options;return void 0!==c.minNativeZoom&&o<c.minNativeZoom?c.minNativeZoom:void 0!==c.maxNativeZoom&&c.maxNativeZoom<o?c.maxNativeZoom:o},_setView:function(o,c,p,v){var w=Math.round(c);w=void 0!==this.options.maxZoom&&w>this.options.maxZoom||void 0!==this.options.minZoom&&w<this.options.minZoom?void 0:this._clampZoom(w),(!v||this.options.updateWhenZooming&&w!==this._tileZoom)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==w&&this._update(o),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(o,c)},_setZoomTransforms:function(o,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],o,c)},_setZoomTransform:function(o,c,p){var v=this._map.getZoomScale(p,o.zoom),w=o.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(c,p)).round();ve.any3d?Ae(o.el,w,v):ft(o.el,w)},_resetGrid:function(){var o=this._map,c=o.options.crs,p=this._tileSize=this.getTileSize(),v=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,c.wrapLng[0]],v).x/p.x),Math.ceil(o.project([0,c.wrapLng[1]],v).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([c.wrapLat[0],0],v).y/p.x),Math.ceil(o.project([c.wrapLat[1],0],v).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),v=c.getZoomScale(p,this._tileZoom),w=c.project(o,this._tileZoom).floor(),b=c.getSize().divideBy(2*v);return new en(w.subtract(b),w.add(b))},_update:function(o){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(void 0===o&&(o=c.getCenter()),void 0!==this._tileZoom){var v=this._getTiledPixelBounds(o),w=this._pxBoundsToTileRange(v),b=w.getCenter(),P=[],B=this.options.keepBuffer,W=new en(w.getBottomLeft().subtract([B,-B]),w.getTopRight().add([B,-B]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Q in this._tiles){var pe=this._tiles[Q].coords;(pe.z!==this._tileZoom||!W.contains(new Be(pe.x,pe.y)))&&(this._tiles[Q].current=!1)}if(Math.abs(p-this._tileZoom)>1)return void this._setView(o,p);for(var nt=w.min.y;nt<=w.max.y;nt++)for(var Ie=w.min.x;Ie<=w.max.x;Ie++){var je=new Be(Ie,nt);if(je.z=this._tileZoom,this._isValidTile(je)){var Ms=this._tiles[this._tileCoordsToKey(je)];Ms?Ms.current=!0:P.push(je)}}if(P.sort(function(Ut,ku){return Ut.distanceTo(b)-ku.distanceTo(b)}),0!==P.length){this._loading||(this._loading=!0,this.fire("loading"));var bl=document.createDocumentFragment();for(Ie=0;Ie<P.length;Ie++)this._addTile(P[Ie],bl);this._level.el.appendChild(bl)}}}},_isValidTile:function(o){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(o.x<p.min.x||o.x>p.max.x)||!c.wrapLat&&(o.y<p.min.y||o.y>p.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(o);return Oe(this.options.bounds).overlaps(v)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var c=this._map,p=this.getTileSize(),v=o.scaleBy(p),w=v.add(p);return[c.unproject(v,o.z),c.unproject(w,o.z)]},_tileCoordsToBounds:function(o){var c=this._tileCoordsToNwSe(o),p=new tn(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var c=o.split(":"),p=new Be(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(o){var c=this._tiles[o];!c||(Zt(c.el),delete this._tiles[o],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Qe(o,"leaflet-tile");var c=this.getTileSize();o.style.width=c.x+"px",o.style.height=c.y+"px",o.onselectstart=Wt,o.onmousemove=Wt,ve.ielt9&&this.options.opacity<1&&zi(o,this.options.opacity)},_addTile:function(o,c){var p=this._getTilePos(o),v=this._tileCoordsToKey(o),w=this.createTile(this._wrapCoords(o),At(this._tileReady,this,o));this._initTile(w),this.createTile.length<2&&En(At(this._tileReady,this,o,null,w)),ft(w,p),this._tiles[v]={el:w,coords:o,current:!0},c.appendChild(w),this.fire("tileloadstart",{tile:w,coords:o})},_tileReady:function(o,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:o});var v=this._tileCoordsToKey(o);(p=this._tiles[v])&&(p.loaded=+new Date,this._map._fadeAnimated?(zi(p.el,0),Hi(this._fadeFrame),this._fadeFrame=En(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(Qe(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ve.ielt9||!this._map._fadeAnimated?En(this._pruneTiles,this):setTimeout(At(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var c=new Be(this._wrapX?ms(o.x,this._wrapX):o.x,this._wrapY?ms(o.y,this._wrapY):o.y);return c.z=o.z,c},_pxBoundsToTileRange:function(o){var c=this.getTileSize();return new en(o.min.unscaleBy(c).floor(),o.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});var Zn=Go.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,c){this._url=o,(c=Vt(this,c)).detectRetina&&ve.retina&&c.maxZoom>0&&(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom++):(c.zoomOffset++,c.maxZoom--),c.minZoom=Math.max(0,c.minZoom)),"string"==typeof c.subdomains&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,c){return this._url===o&&void 0===c&&(c=!0),this._url=o,c||this.redraw(),this},createTile:function(o,c){var p=document.createElement("img");return tt(p,"load",At(this._tileOnLoad,this,c,p)),tt(p,"error",At(this._tileOnError,this,c,p)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(p.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.setAttribute("role","presentation"),p.src=this.getTileUrl(o),p},getTileUrl:function(o){var c={r:ve.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-o.y;this.options.tms&&(c.y=p),c["-y"]=p}return ti(this._url,I(c,this.options))},_tileOnLoad:function(o,c){ve.ielt9?setTimeout(At(o,this,null,c),0):o(null,c)},_tileOnError:function(o,c,p){var v=this.options.errorTileUrl;v&&c.getAttribute("src")!==v&&(c.src=v),o(p,c)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom;return this.options.zoomReverse&&(o=this.options.maxZoom-o),o+this.options.zoomOffset},_getSubdomain:function(o){var c=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var o,c;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&((c=this._tiles[o].el).onload=Wt,c.onerror=Wt,!c.complete)){c.src=Ei;var p=this._tiles[o].coords;Zt(c),delete this._tiles[o],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(o){var c=this._tiles[o];if(c)return c.el.setAttribute("src",Ei),Go.prototype._removeTile.call(this,o)},_tileReady:function(o,c,p){if(this._map&&(!p||p.getAttribute("src")!==Ei))return Go.prototype._tileReady.call(this,o,c,p)}});function vl(o,c){return new Zn(o,c)}var Bh=Zn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,c){this._url=o;var p=I({},this.defaultWmsParams);for(var v in c)v in this.options||(p[v]=c[v]);var w=(c=Vt(this,c)).detectRetina&&ve.retina?2:1,b=this.getTileSize();p.width=b.x*w,p.height=b.y*w,this.wmsParams=p},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,Zn.prototype.onAdd.call(this,o)},getTileUrl:function(o){var c=this._tileCoordsToNwSe(o),p=this._crs,v=ui(p.project(c[0]),p.project(c[1])),w=v.min,b=v.max,P=(this._wmsVersion>=1.3&&this._crs===Kt?[w.y,w.x,b.y,b.x]:[w.x,w.y,b.x,b.y]).join(","),B=Zn.prototype.getTileUrl.call(this,o);return B+Ys(this.wmsParams,B,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+P},setParams:function(o,c){return I(this.wmsParams,o),c||this.redraw(),this}});Zn.WMS=Bh,vl.wms=function Ma(o,c){return new Bh(o,c)};var fr=mn.extend({options:{padding:.1},initialize:function(o){Vt(this,o),qe(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Qe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,c){var p=this._map.getZoomScale(c,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,c),b=v.multiplyBy(-p).add(w).subtract(this._map._getNewPixelOrigin(o,c));ve.any3d?Ae(this._container,b,p):ft(this._container,b)},_reset:function(){for(var o in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-o)).round();this._bounds=new en(p,p.add(c.multiplyBy(1+2*o)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),_l=fr.extend({options:{tolerance:0},getEvents:function(){var o=fr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){fr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");tt(o,"mousemove",this._onMouseMove,this),tt(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),tt(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Hi(this._redrawRequest),delete this._ctx,Zt(this._container),qt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var c in this._redrawBounds=null,this._layers)this._layers[c]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){fr.prototype._update.call(this);var o=this._bounds,c=this._container,p=o.getSize(),v=ve.retina?2:1;ft(c,o.min),c.width=v*p.x,c.height=v*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",ve.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){fr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[qe(o)]=o;var c=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var c=o._order,p=c.next,v=c.prev;p?p.prev=v:this._drawLast=v,v?v.next=p:this._drawFirst=p,delete o._order,delete this._layers[qe(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if("string"==typeof o.options.dashArray){var v,w,c=o.options.dashArray.split(/[, ]+/),p=[];for(w=0;w<c.length;w++){if(v=Number(c[w]),isNaN(v))return;p.push(v)}o.options._dashArray=p}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){!this._map||(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||En(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var c=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new en,this._redrawBounds.extend(o._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(o._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var c=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)o=v.layer,(!c||o._pxBounds&&o._pxBounds.intersects(c))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,c){if(this._drawing){var p,v,w,b,P=o._parts,B=P.length,W=this._ctx;if(B){for(W.beginPath(),p=0;p<B;p++){for(v=0,w=P[p].length;v<w;v++)W[v?"lineTo":"moveTo"]((b=P[p][v]).x,b.y);c&&W.closePath()}this._fillStroke(W,o)}}},_updateCircle:function(o){if(this._drawing&&!o._empty()){var c=o._point,p=this._ctx,v=Math.max(Math.round(o._radius),1),w=(Math.max(Math.round(o._radiusY),1)||v)/v;1!==w&&(p.save(),p.scale(1,w)),p.beginPath(),p.arc(c.x,c.y/w,v,0,2*Math.PI,!1),1!==w&&p.restore(),this._fillStroke(p,o)}},_fillStroke:function(o,c){var p=c.options;p.fill&&(o.globalAlpha=p.fillOpacity,o.fillStyle=p.fillColor||p.color,o.fill(p.fillRule||"evenodd")),p.stroke&&0!==p.weight&&(o.setLineDash&&o.setLineDash(c.options&&c.options._dashArray||[]),o.globalAlpha=p.opacity,o.lineWidth=p.weight,o.strokeStyle=p.color,o.lineCap=p.lineCap,o.lineJoin=p.lineJoin,o.stroke())},_onClick:function(o){for(var p,v,c=this._map.mouseEventToLayerPoint(o),w=this._drawFirst;w;w=w.next)(p=w.layer).options.interactive&&p._containsPoint(c)&&("click"!==o.type&&"preclick"!==o.type||!this._map._draggableMoved(p))&&(v=p);this._fireEvent(!!v&&[v],o)},_onMouseMove:function(o){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var c=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,c)}},_handleMouseOut:function(o){var c=this._hoveredLayer;c&&(Le(this._container,"leaflet-interactive"),this._fireEvent([c],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,c){if(!this._mouseHoverThrottled){for(var p,v,w=this._drawFirst;w;w=w.next)(p=w.layer).options.interactive&&p._containsPoint(c)&&(v=p);v!==this._hoveredLayer&&(this._handleMouseOut(o),v&&(Qe(this._container,"leaflet-interactive"),this._fireEvent([v],o,"mouseover"),this._hoveredLayer=v)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],o),this._mouseHoverThrottled=!0,setTimeout(At(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,c,p){this._map._fireDOMEvent(c,p||c.type,o)},_bringToFront:function(o){var c=o._order;if(c){var p=c.next,v=c.prev;if(!p)return;p.prev=v,v?v.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(o)}},_bringToBack:function(o){var c=o._order;if(c){var p=c.next,v=c.prev;if(!v)return;v.next=p,p?p.prev=v:v&&(this._drawLast=v),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(o)}}});function Nt(o){return ve.canvas?new _l(o):null}var yl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Hh={_initContainer:function(){this._container=Ye("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(fr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var c=o._container=yl("shape");Qe(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",o._path=yl("path"),c.appendChild(o._path),this._updateStyle(o),this._layers[qe(o)]=o},_addPath:function(o){var c=o._container;this._container.appendChild(c),o.options.interactive&&o.addInteractiveTarget(c)},_removePath:function(o){var c=o._container;Zt(c),o.removeInteractiveTarget(c),delete this._layers[qe(o)]},_updateStyle:function(o){var c=o._stroke,p=o._fill,v=o.options,w=o._container;w.stroked=!!v.stroke,w.filled=!!v.fill,v.stroke?(c||(c=o._stroke=yl("stroke")),w.appendChild(c),c.weight=v.weight+"px",c.color=v.color,c.opacity=v.opacity,c.dashStyle=v.dashArray?un(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):"",c.endcap=v.lineCap.replace("butt","flat"),c.joinstyle=v.lineJoin):c&&(w.removeChild(c),o._stroke=null),v.fill?(p||(p=o._fill=yl("fill")),w.appendChild(p),p.color=v.fillColor||v.color,p.opacity=v.fillOpacity):p&&(w.removeChild(p),o._fill=null)},_updateCircle:function(o){var c=o._point.round(),p=Math.round(o._radius),v=Math.round(o._radiusY||p);this._setPath(o,o._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+v+" 0,23592600")},_setPath:function(o,c){o._path.v=c},_bringToFront:function(o){ys(o._container)},_bringToBack:function(o){yt(o._container)}},$o=ve.vml?yl:Oc,Zo=fr.extend({_initContainer:function(){this._container=$o("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$o("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Zt(this._container),qt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){fr.prototype._update.call(this);var o=this._bounds,c=o.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),ft(p,o.min),p.setAttribute("viewBox",[o.min.x,o.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(o){var c=o._path=$o("path");o.options.className&&Qe(c,o.options.className),o.options.interactive&&Qe(c,"leaflet-interactive"),this._updateStyle(o),this._layers[qe(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Zt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[qe(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var c=o._path,p=o.options;!c||(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(o,c){this._setPath(o,lr(o._parts,c))},_updateCircle:function(o){var c=o._point,p=Math.max(Math.round(o._radius),1),w="a"+p+","+(Math.max(Math.round(o._radiusY),1)||p)+" 0 1,0 ",b=o._empty()?"M0 0":"M"+(c.x-p)+","+c.y+w+2*p+",0 "+w+2*-p+",0 ";this._setPath(o,b)},_setPath:function(o,c){o._path.setAttribute("d",c)},_bringToFront:function(o){ys(o._path)},_bringToBack:function(o){yt(o._path)}});function wl(o){return ve.svg||ve.vml?new Zo(o):null}ve.vml&&Zo.include(Hh),pt.include({getRenderer:function(o){var c=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(o){if("overlayPane"===o||void 0===o)return!1;var c=this._paneRenderers[o];return void 0===c&&(c=this._createRenderer({pane:o}),this._paneRenderers[o]=c),c},_createRenderer:function(o){return this.options.preferCanvas&&Nt(o)||wl(o)}});var Uh=Wn.extend({initialize:function(o,c){Wn.prototype.initialize.call(this,this._boundsToLatLngs(o),c)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return[(o=Oe(o)).getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});Zo.create=$o,Zo.pointsToPath=lr,Pi.geometryToLayer=Or,Pi.coordsToLatLng=gt,Pi.coordsToLatLngs=oo,Pi.latLngToCoords=xu,Pi.latLngsToCoords=ao,Pi.getFeature=bs,Pi.asFeature=ki,pt.mergeOptions({boxZoom:!0});var Ts=cr.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){qt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Zt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||1!==o.which&&1!==o.button)return!1;this._clearDeferredResetState(),this._resetState(),Uo(),ll(),this._startPoint=this._map.mouseEventToContainerPoint(o),tt(document,{contextmenu:es,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Ye("div","leaflet-zoom-box",this._container),Qe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var c=new en(this._point,this._startPoint),p=c.getSize();ft(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(Zt(this._box),Le(this._container,"leaflet-crosshair")),al(),Cs(),qt(document,{contextmenu:es,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if((1===o.which||1===o.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(At(this._resetState,this),0);var c=new tn(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(o){27===o.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});pt.addInitHook("addHandler","boxZoom",Ts),pt.mergeOptions({doubleClickZoom:!0});var pr=cr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var c=this._map,p=c.getZoom(),v=c.options.zoomDelta,w=o.originalEvent.shiftKey?p-v:p+v;"center"===c.options.doubleClickZoom?c.setZoom(w):c.setZoomAround(o.containerPoint,w)}});pt.addInitHook("addHandler","doubleClickZoom",pr),pt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Cl=cr.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Ss(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Qe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Le(this._map._container,"leaflet-grab"),Le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Oe(this._map.options.maxBounds);this._offsetLimit=ui(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,c){return o-(o-c)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var o=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;o.x<c.min.x&&(o.x=this._viscousLimit(o.x,c.min.x)),o.y<c.min.y&&(o.y=this._viscousLimit(o.y,c.min.y)),o.x>c.max.x&&(o.x=this._viscousLimit(o.x,c.max.x)),o.y>c.max.y&&(o.y=this._viscousLimit(o.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,c=Math.round(o/2),p=this._initialWorldOffset,v=this._draggable._newPos.x,w=(v-c+p)%o+c-p,b=(v+c+p)%o-c-p,P=Math.abs(w+p)<Math.abs(b+p)?w:b;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=P},_onDragEnd:function(o){var c=this._map,p=c.options,v=!p.inertia||o.noInertia||this._times.length<2;if(c.fire("dragend",o),v)c.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),P=p.easeLinearity,B=w.multiplyBy(P/((this._lastTime-this._times[0])/1e3)),W=B.distanceTo([0,0]),Q=Math.min(p.inertiaMaxSpeed,W),pe=B.multiplyBy(Q/W),nt=Q/(p.inertiaDeceleration*P),Ie=pe.multiplyBy(-nt/2).round();Ie.x||Ie.y?(Ie=c._limitOffset(Ie,c.options.maxBounds),En(function(){c.panBy(Ie,{duration:nt,easeLinearity:P,noMoveStart:!0,animate:!0})})):c.fire("moveend")}}});pt.addInitHook("addHandler","dragging",Cl),pt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _n=cr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),tt(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),qt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,c=document.documentElement,p=o.scrollTop||c.scrollTop,v=o.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(v,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var v,w,c=this._panKeys={},p=this.keyCodes;for(v=0,w=p.left.length;v<w;v++)c[p.left[v]]=[-1*o,0];for(v=0,w=p.right.length;v<w;v++)c[p.right[v]]=[o,0];for(v=0,w=p.down.length;v<w;v++)c[p.down[v]]=[0,o];for(v=0,w=p.up.length;v<w;v++)c[p.up[v]]=[0,-1*o]},_setZoomDelta:function(o){var v,w,c=this._zoomKeys={},p=this.keyCodes;for(v=0,w=p.zoomIn.length;v<w;v++)c[p.zoomIn[v]]=o;for(v=0,w=p.zoomOut.length;v<w;v++)c[p.zoomOut[v]]=-o},_addHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){qt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var v,c=o.keyCode,p=this._map;if(c in this._panKeys)(!p._panAnim||!p._panAnim._inProgress)&&(v=this._panKeys[c],o.shiftKey&&(v=$e(v).multiplyBy(3)),p.panBy(v),p.options.maxBounds&&p.panInsideBounds(p.options.maxBounds));else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[c]);else{if(27!==c||!p._popup||!p._popup.options.closeOnEscapeKey)return;p.closePopup()}es(o)}}});pt.addInitHook("addHandler","keyboard",_n),pt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Dl=cr.extend({addHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){qt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var c=Gt(o),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var v=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(At(this._performZoom,this),v),es(o)},_performZoom:function(){var o=this._map,c=o.getZoom(),p=this._map.options.zoomSnap||0;o._stop();var w=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,b=p?Math.ceil(w/p)*p:w,P=o._limitZoom(c+(this._delta>0?b:-b))-c;this._delta=0,this._startTime=null,P&&("center"===o.options.scrollWheelZoom?o.setZoom(c+P):o.setZoomAround(this._lastMousePos,c+P))}});pt.addInitHook("addHandler","scrollWheelZoom",Dl);pt.mergeOptions({tapHold:ve.touchNative&&ve.safari&&ve.mobile,tapTolerance:15});var Ia=cr.extend({addHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){qt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),1===o.touches.length){var c=o.touches[0];this._startPos=this._newPos=new Be(c.clientX,c.clientY),this._holdTimeout=setTimeout(At(function(){this._cancel(),this._isTapValid()&&(tt(document,"touchend",Je),tt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),600),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){qt(document,"touchend",Je),qt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),qt(document,"touchend touchcancel contextmenu",this._cancel,this),qt(document,"touchmove",this._onMove,this)},_onMove:function(o){var c=o.touches[0];this._newPos=new Be(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,c){var p=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});pt.addInitHook("addHandler","tapHold",Ia),pt.mergeOptions({touchZoom:ve.touch,bounceAtZoomLimits:!0});var Sl=cr.extend({addHooks:function(){Qe(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),qt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var c=this._map;if(o.touches&&2===o.touches.length&&!c._animatingZoom&&!this._zooming){var p=c.mouseEventToContainerPoint(o.touches[0]),v=c.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),"center"!==c.options.touchZoom&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(v)._divideBy(2))),this._startDist=p.distanceTo(v),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),Je(o)}},_onTouchMove:function(o){if(o.touches&&2===o.touches.length&&this._zooming){var c=this._map,p=c.mouseEventToContainerPoint(o.touches[0]),v=c.mouseEventToContainerPoint(o.touches[1]),w=p.distanceTo(v)/this._startDist;if(this._zoom=c.getScaleZoom(w,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&w<1||this._zoom>c.getMaxZoom()&&w>1)&&(this._zoom=c._limitZoom(this._zoom)),"center"===c.options.touchZoom){if(this._center=this._startLatLng,1===w)return}else{var b=p._add(v)._divideBy(2)._subtract(this._centerPoint);if(1===w&&0===b.x&&0===b.y)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(b),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),Hi(this._animRequest);var P=At(c._move,c,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=En(P,this,!0),Je(o)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Hi(this._animRequest),qt(document,"touchmove",this._onTouchMove,this),qt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});pt.addInitHook("addHandler","touchZoom",Sl),pt.BoxZoom=Ts,pt.DoubleClickZoom=pr,pt.Drag=Cl,pt.Keyboard=_n,pt.ScrollWheelZoom=Dl,pt.TapHold=Ia,pt.TouchZoom=Sl,ne.Bounds=en,ne.Browser=ve,ne.CRS=bt,ne.Canvas=_l,ne.Circle=Ke,ne.CircleMarker=ts,ne.Class=Kr,ne.Control=Te,ne.DivIcon=In,ne.DivOverlay=j,ne.DomEvent=hl,ne.DomUtil=Xc,ne.Draggable=Ss,ne.Evented=Za,ne.FeatureGroup=Bn,ne.GeoJSON=Pi,ne.GridLayer=Go,ne.Handler=cr,ne.Icon=Ue,ne.ImageOverlay=ml,ne.LatLng=Bt,ne.LatLngBounds=tn,ne.Layer=mn,ne.LayerGroup=ci,ne.LineUtil=nd,ne.Map=pt,ne.Marker=rn,ne.Mixin=td,ne.Path=Lt,ne.Point=Be,ne.PolyUtil=id,ne.Polygon=Wn,ne.Polyline=di,ne.Popup=H,ne.PosAnimation=fl,ne.Projection=so,ne.Rectangle=Uh,ne.Renderer=fr,ne.SVG=Zo,ne.SVGOverlay=Es,ne.TileLayer=Zn,ne.Tooltip=Ne,ne.Transformation=Xr,ne.Util=hu,ne.VideoOverlay=qi,ne.bind=At,ne.bounds=ui,ne.canvas=Nt,ne.circle=function gl(o,c,p){return new Ke(o,c,p)},ne.circleMarker=function Wo(o,c){return new ts(o,c)},ne.control=to,ne.divIcon=function $t(o){return new In(o)},ne.extend=I,ne.featureGroup=function(o,c){return new Bn(o,c)},ne.geoJSON=ns,ne.geoJson=$n,ne.gridLayer=function Cg(o){return new Go(o)},ne.icon=function Jt(o){return new Ue(o)},ne.imageOverlay=function(o,c,p){return new ml(o,c,p)},ne.latLng=nn,ne.latLngBounds=Oe,ne.layerGroup=function(o,c){return new ci(o,c)},ne.map=function Fh(o,c){return new pt(o,c)},ne.marker=function hr(o,c){return new rn(o,c)},ne.point=$e,ne.polygon=function hi(o,c){return new Wn(o,c)},ne.polyline=function Au(o,c){return new di(o,c)},ne.popup=function(o,c){return new H(o,c)},ne.rectangle=function Ru(o,c){return new Uh(o,c)},ne.setOptions=Vt,ne.stamp=qe,ne.svg=wl,ne.svgOverlay=function N(o,c,p){return new Es(o,c,p)},ne.tileLayer=vl,ne.tooltip=function(o,c){return new Ne(o,c)},ne.transformation=qa,ne.version="1.8.0",ne.videoOverlay=function Pu(o,c,p){return new qi(o,c,p)};var qo=window.L;ne.noConflict=function(){return window.L=qo,this},window.L=ne}(Lo)},489:function(gs,Lo,ne){var at;gs=ne.nmd(gs),function(){var I,qe="Expected a function",ms="__lodash_hash_undefined__",zn="__lodash_placeholder__",_t=1/0,$e=9007199254740991,tn=4294967295,nn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],bt="[object Arguments]",Mt="[object Array]",lt="[object Boolean]",Xr="[object Date]",Qr="[object Error]",Ya="[object Function]",Oc="[object GeneratorFunction]",lr="[object Map]",Fo="[object Number]",vs="[object Object]",Ka="[object Promise]",Xs="[object RegExp]",Ui="[object Set]",Xa="[object String]",pu="[object Symbol]",ji="[object WeakMap]",Qa="[object ArrayBuffer]",Qs="[object DataView]",gu="[object Float32Array]",mu="[object Float64Array]",vu="[object Int8Array]",Ja="[object Int16Array]",_u="[object Int32Array]",Vc="[object Uint8Array]",Vo="[object Uint8ClampedArray]",Da="[object Uint16Array]",el="[object Uint32Array]",yu=/\b__p \+= '';/g,wu=/\b(__p \+=) '' \+/g,Cu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Bc=/&(?:amp|lt|gt|quot|#39);/g,Du=/[&<>"']/g,Hc=RegExp(Bc.source),Uc=RegExp(Du.source),jc=/<%-([\s\S]+?)%>/g,Ti=/<%([\s\S]+?)%>/g,tl=/<%=([\s\S]+?)%>/g,Ah=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xh=/^\w*$/,xr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ve=/[\\^$.*+?()[\]{}|]/g,zc=RegExp(ve.source),nl=/^\s+/,Pr=/\s/,Wc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rr=/\{\n\/\* \[wrapped with (.+)\] \*/,Su=/,? & /,Jr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ph=/[()=,{}\[\]\/\s]/,Rh=/\\(\\)?/g,Gc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,il=/\w*$/,$c=/^[-+]0x[0-9a-f]+$/i,Bo=/^0b[01]+$/i,kh=/^\[object .+?Constructor\]$/,Sa=/^0o[0-7]+$/i,Zc=/^(?:0|[1-9]\d*)$/,Oh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rl=/($^)/,Lh=/['\n\r\u2028\u2029\\]/g,sl="\\ud800-\\udfff",_s="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Nn="\\u2700-\\u27bf",Ye="a-z\\xdf-\\xf6\\xf8-\\xff",Ho="A-Z\\xc0-\\xd6\\xd8-\\xde",Qe="\\ufe0e\\ufe0f",Le="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ea="["+sl+"]",zi="["+Le+"]",ue="["+_s+"]",Js="\\d+",Ae="["+Nn+"]",ft="["+Ye+"]",ws="[^"+sl+Le+Js+Nn+Ye+Ho+"]",Uo="\\ud83c[\\udffb-\\udfff]",eo="[^"+sl+"]",Mn="(?:\\ud83c[\\udde6-\\uddff]){2}",ll="[\\ud800-\\udbff][\\udc00-\\udfff]",Cs="["+Ho+"]",Wi="(?:"+ft+"|"+ws+")",Yc="(?:"+Cs+"|"+ws+")",cl="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Kc="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",bu="(?:"+ue+"|"+Uo+")?",Xc="["+Qe+"]?",ni=Xc+bu+"(?:\\u200d(?:"+[eo,Mn,ll].join("|")+")"+Xc+bu+")*",zt="(?:"+[Ae,Mn,ll].join("|")+")"+ni,Qc="(?:"+[eo+ue+"?",ue,Mn,ll,Ea].join("|")+")",Jc=RegExp("['\u2019]","g"),jo=RegExp(ue,"g"),oe=RegExp(Uo+"(?="+Uo+")|"+Qc+ni,"g"),dl=RegExp([Cs+"?"+ft+"+"+cl+"(?="+[zi,Cs,"$"].join("|")+")",Yc+"+"+Kc+"(?="+[zi,Cs+Wi,"$"].join("|")+")",Cs+"?"+Wi+"+"+cl,Cs+"+"+Kc,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Js,zt].join("|"),"g"),Je=RegExp("[\\u200d"+sl+_s+Qe+"]"),es=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Eu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Nh=-1,Gt={};Gt[gu]=Gt[mu]=Gt[vu]=Gt[Ja]=Gt[_u]=Gt[Vc]=Gt[Vo]=Gt[Da]=Gt[el]=!0,Gt[bt]=Gt[Mt]=Gt[Qa]=Gt[lt]=Gt[Qs]=Gt[Xr]=Gt[Qr]=Gt[Ya]=Gt[lr]=Gt[Fo]=Gt[vs]=Gt[Xs]=Gt[Ui]=Gt[Xa]=Gt[ji]=!1;var kt={};kt[bt]=kt[Mt]=kt[Qa]=kt[Qs]=kt[lt]=kt[Xr]=kt[gu]=kt[mu]=kt[vu]=kt[Ja]=kt[_u]=kt[lr]=kt[Fo]=kt[vs]=kt[Xs]=kt[Ui]=kt[Xa]=kt[pu]=kt[Vc]=kt[Vo]=kt[Da]=kt[el]=!0,kt[Qr]=kt[Ya]=kt[ji]=!1;var Fh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Te=parseFloat,to=parseInt,Tu="object"==typeof global&&global&&global.Object===Object&&global,Ds="object"==typeof self&&self&&self.Object===Object&&self,gn=Tu||Ds||Function("return this")(),Vh=Lo&&!Lo.nodeType&&Lo,Mi=Vh&&gs&&!gs.nodeType&&gs,Gi=Mi&&Mi.exports===Vh,ed=Gi&&Tu.process,Ii=function(){try{return Mi&&Mi.require&&Mi.require("util").types||ed&&ed.binding&&ed.binding("util")}catch{}}(),$i=Ii&&Ii.isArrayBuffer,cr=Ii&&Ii.isDate,td=Ii&&Ii.isMap,Mu=Ii&&Ii.isRegExp,Ss=Ii&&Ii.isSet,Pt=Ii&&Ii.isTypedArray;function Ai(N,j,H){switch(H.length){case 0:return N.call(j);case 1:return N.call(j,H[0]);case 2:return N.call(j,H[0],H[1]);case 3:return N.call(j,H[0],H[1],H[2])}return N.apply(j,H)}function wg(N,j,H,he){for(var Ne=-1,It=null==N?0:N.length;++Ne<It;){var In=N[Ne];j(he,In,H(In),N)}return he}function Fn(N,j){for(var H=-1,he=null==N?0:N.length;++H<he&&!1!==j(N[H],H,N););return N}function Ot(N,j){for(var H=null==N?0:N.length;H--&&!1!==j(N[H],H,N););return N}function Ta(N,j){for(var H=-1,he=null==N?0:N.length;++H<he;)if(!j(N[H],H,N))return!1;return!0}function dr(N,j){for(var H=-1,he=null==N?0:N.length,Ne=0,It=[];++H<he;){var In=N[H];j(In,H,N)&&(It[Ne++]=In)}return It}function no(N,j){return!(null==N||!N.length)&&so(N,j,0)>-1}function io(N,j,H){for(var he=-1,Ne=null==N?0:N.length;++he<Ne;)if(H(j,N[he]))return!0;return!1}function ot(N,j){for(var H=-1,he=null==N?0:N.length,Ne=Array(he);++H<he;)Ne[H]=j(N[H],H,N);return Ne}function Zi(N,j){for(var H=-1,he=j.length,Ne=N.length;++H<he;)N[Ne+H]=j[H];return N}function ro(N,j,H,he){var Ne=-1,It=null==N?0:N.length;for(he&&It&&(H=N[++Ne]);++Ne<It;)H=j(H,N[Ne],Ne,N);return H}function Yt(N,j,H,he){var Ne=null==N?0:N.length;for(he&&Ne&&(H=N[--Ne]);Ne--;)H=j(H,N[Ne],Ne,N);return H}function pl(N,j){for(var H=-1,he=null==N?0:N.length;++H<he;)if(j(N[H],H,N))return!0;return!1}var nd=mn("length");function Ht(N,j,H){var he;return H(N,function(Ne,It,In){if(j(Ne,It,In))return he=It,!1}),he}function zo(N,j,H,he){for(var Ne=N.length,It=H+(he?1:-1);he?It--:++It<Ne;)if(j(N[It],It,N))return It;return-1}function so(N,j,H){return j==j?function ao(N,j,H){for(var he=H-1,Ne=N.length;++he<Ne;)if(N[he]===j)return he;return-1}(N,j,H):zo(N,Kt,H)}function we(N,j,H,he){for(var Ne=H-1,It=N.length;++Ne<It;)if(he(N[Ne],j))return Ne;return-1}function Kt(N){return N!=N}function Vn(N,j){var H=null==N?0:N.length;return H?se(N,j)/H:NaN}function mn(N){return function(j){return null==j?I:j[N]}}function ci(N){return function(j){return null==N?I:N[j]}}function xi(N,j,H,he,Ne){return Ne(N,function(It,In,$t){H=he?(he=!1,It):j(H,It,In,$t)}),H}function se(N,j){for(var H,he=-1,Ne=N.length;++he<Ne;){var It=j(N[he]);It!==I&&(H=H===I?It:H+It)}return H}function Ue(N,j){for(var H=-1,he=Array(N);++H<N;)he[H]=j(H);return he}function Rn(N){return N&&N.slice(0,ns(N)+1).replace(nl,"")}function vn(N){return function(j){return N(j)}}function rn(N,j){return ot(j,function(H){return N[H]})}function hr(N,j){return N.has(j)}function Lt(N,j){for(var H=-1,he=N.length;++H<he&&so(j,N[H],0)>-1;);return H}function ts(N,j){for(var H=N.length;H--&&so(j,N[H],0)>-1;);return H}function Wo(N,j){for(var H=N.length,he=0;H--;)N[H]===j&&++he;return he}var Ke=ci({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),gl=ci({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function di(N){return"\\"+Fh[N]}function Wn(N){return Je.test(N)}function Or(N){var j=-1,H=Array(N.size);return N.forEach(function(he,Ne){H[++j]=[Ne,he]}),H}function Ri(N,j){return function(H){return N(j(H))}}function gt(N,j){for(var H=-1,he=N.length,Ne=0,It=[];++H<he;){var In=N[H];(In===j||In===zn)&&(N[H]=zn,It[Ne++]=H)}return It}function oo(N){var j=-1,H=Array(N.size);return N.forEach(function(he){H[++j]=he}),H}function ki(N){return Wn(N)?function ml(N){for(var j=oe.lastIndex=0;oe.test(N);)++j;return j}(N):nd(N)}function Gn(N){return Wn(N)?function Lr(N){return N.match(oe)||[]}(N):function Iu(N){return N.split("")}(N)}function ns(N){for(var j=N.length;j--&&Pr.test(N.charAt(j)););return j}var $n=ci({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Es=function N(j){var l,H=(j=null==j?gn:Es.defaults(gn.Object(),j,Es.pick(gn,Eu))).Array,he=j.Date,Ne=j.Error,It=j.Function,In=j.Math,$t=j.Object,Go=j.RegExp,Cg=j.String,Zn=j.TypeError,vl=H.prototype,Ma=$t.prototype,fr=j["__core-js_shared__"],_l=It.prototype.toString,Nt=Ma.hasOwnProperty,yl=0,Hh=(l=/[^.]+$/.exec(fr&&fr.keys&&fr.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",$o=Ma.toString,Zo=_l.call($t),wl=gn._,Uh=Go("^"+_l.call(Nt).replace(ve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ru=Gi?j.Buffer:I,Ts=j.Symbol,pr=j.Uint8Array,Cl=Ru?Ru.allocUnsafe:I,_n=Ri($t.getPrototypeOf,$t),Dl=$t.create,rd=Ma.propertyIsEnumerable,Ia=vl.splice,Sl=Ts?Ts.isConcatSpreadable:I,qo=Ts?Ts.iterator:I,o=Ts?Ts.toStringTag:I,c=function(){try{var l=ia($t,"defineProperty");return l({},"",{}),l}catch{}}(),p=j.clearTimeout!==gn.clearTimeout&&j.clearTimeout,v=he&&he.now!==gn.Date.now&&he.now,w=j.setTimeout!==gn.setTimeout&&j.setTimeout,b=In.ceil,P=In.floor,B=$t.getOwnPropertySymbols,W=Ru?Ru.isBuffer:I,Q=j.isFinite,pe=vl.join,nt=Ri($t.keys,$t),Ie=In.max,je=In.min,Ms=he.now,bl=j.parseInt,Ut=In.random,ku=vl.reverse,sd=ia(j,"DataView"),Is=ia(j,"Map"),fi=ia(j,"Promise"),lo=ia(j,"Set"),uo=ia(j,"WeakMap"),gr=ia($t,"create"),mt=uo&&new uo,Nr={},Ou=sa(sd),jh=sa(Is),As=sa(fi),El=sa(lo),Tl=sa(uo),Pe=Ts?Ts.prototype:I,od=Pe?Pe.valueOf:I,Dg=Pe?Pe.toString:I;function E(l){if(hn(l)&&!et(l)&&!(l instanceof wt)){if(l instanceof Fr)return l;if(Nt.call(l,"__wrapped__"))return Ul(l)}return new Fr(l)}var Ml=function(){function l(){}return function(d){if(!J(d))return{};if(Dl)return Dl(d);l.prototype=d;var g=new l;return l.prototype=I,g}}();function Lu(){}function Fr(l,d){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=I}function wt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=tn,this.__views__=[]}function sn(l){var d=-1,g=null==l?0:l.length;for(this.clear();++d<g;){var _=l[d];this.set(_[0],_[1])}}function Yo(l){var d=-1,g=null==l?0:l.length;for(this.clear();++d<g;){var _=l[d];this.set(_[0],_[1])}}function Ps(l){var d=-1,g=null==l?0:l.length;for(this.clear();++d<g;){var _=l[d];this.set(_[0],_[1])}}function Aa(l){var d=-1,g=null==l?0:l.length;for(this.__data__=new Ps;++d<g;)this.add(l[d])}function Vr(l){var d=this.__data__=new Yo(l);this.size=d.size}function qh(l,d){var g=et(l),_=!g&&aa(l),D=!g&&!_&&la(l),M=!g&&!_&&!D&&yo(l),A=g||_||D||M,k=A?Ue(l.length,Cg):[],V=k.length;for(var $ in l)(d||Nt.call(l,$))&&(!A||!("length"==$||D&&("offset"==$||"parent"==$)||M&&("buffer"==$||"byteLength"==$||"byteOffset"==$)||as($,V)))&&k.push($);return k}function Yh(l){var d=l.length;return d?l[Wu(0,d-1)]:I}function Mg(l,d){return yf(Xi(l),xa(d,0,l.length))}function cd(l){return yf(Xi(l))}function Kh(l,d,g){(g!==I&&!yr(l[d],g)||g===I&&!(d in l))&&fo(l,d,g)}function Fu(l,d,g){var _=l[d];(!Nt.call(l,d)||!yr(_,g)||g===I&&!(d in l))&&fo(l,d,g)}function qn(l,d){for(var g=l.length;g--;)if(yr(l[g][0],d))return g;return-1}function Ko(l,d,g,_){return Rs(l,function(D,M,A){d(_,D,g(D),A)}),_}function dn(l,d){return l&&Ns(d,Un(d),l)}function fo(l,d,g){"__proto__"==d&&c?c(l,d,{configurable:!0,enumerable:!0,value:g,writable:!0}):l[d]=g}function Xh(l,d){for(var g=-1,_=d.length,D=H(_),M=null==l;++g<_;)D[g]=M?I:$d(l,d[g]);return D}function xa(l,d,g){return l==l&&(g!==I&&(l=l<=g?l:g),d!==I&&(l=l>=d?l:d)),l}function Br(l,d,g,_,D,M){var A,k=1&d,V=2&d,$=4&d;if(g&&(A=D?g(l,_,D,M):g(l)),A!==I)return A;if(!J(l))return l;var Z=et(l);if(Z){if(A=function Hl(l){var d=l.length,g=new l.constructor(d);return d&&"string"==typeof l[0]&&Nt.call(l,"index")&&(g.index=l.index,g.input=l.input),g}(l),!k)return Xi(l,A)}else{var X=gi(l),ae=X==Ya||X==Oc;if(la(l))return Ug(l,k);if(X==vs||X==bt||ae&&!D){if(A=V||ae?{}:Qg(l),!k)return V?function Sy(l,d){return Ns(l,Xg(l),d)}(l,function hy(l,d){return l&&Ns(d,Ji(d),l)}(A,l)):function Dy(l,d){return Ns(l,Kg(l),d)}(l,dn(A,l))}else{if(!kt[X])return D?l:{};A=function Ay(l,d,g){var _=l.constructor;switch(d){case Qa:return ff(l);case lt:case Xr:return new _(+l);case Qs:return function CS(l,d){var g=d?ff(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}(l,g);case gu:case mu:case vu:case Ja:case _u:case Vc:case Vo:case Da:case el:return Ki(l,g);case lr:return new _;case Fo:case Xa:return new _(l);case Xs:return function DS(l){var d=new l.constructor(l.source,il.exec(l));return d.lastIndex=l.lastIndex,d}(l);case Ui:return new _;case pu:return function jg(l){return od?$t(od.call(l)):{}}(l)}}(l,X,k)}}M||(M=new Vr);var ye=M.get(l);if(ye)return ye;M.set(l,A),Zf(l)?l.forEach(function(ke){A.add(Br(ke,d,g,ke,l,M))}):Gf(l)&&l.forEach(function(ke,vt){A.set(vt,Br(ke,d,g,vt,l,M))});var ut=Z?I:($?V?Id:Bl:V?Ji:Un)(l);return Fn(ut||l,function(ke,vt){ut&&(ke=l[vt=ke]),Fu(A,vt,Br(ke,d,g,vt,l,M))}),A}function Vu(l,d,g){var _=g.length;if(null==l)return!_;for(l=$t(l);_--;){var D=g[_],A=l[D];if(A===I&&!(D in l)||!(0,d[D])(A))return!1}return!0}function Bu(l,d,g){if("function"!=typeof l)throw new Zn(qe);return Qu(function(){l.apply(I,g)},d)}function Xo(l,d,g,_){var D=-1,M=no,A=!0,k=l.length,V=[],$=d.length;if(!k)return V;g&&(d=ot(d,vn(g))),_?(M=io,A=!1):d.length>=200&&(M=hr,A=!1,d=new Aa(d));e:for(;++D<k;){var Z=l[D],X=null==g?Z:g(Z);if(Z=_||0!==Z?Z:0,A&&X==X){for(var ae=$;ae--;)if(d[ae]===X)continue e;V.push(Z)}else M(d,X,_)||V.push(Z)}return V}E.templateSettings={escape:jc,evaluate:Ti,interpolate:tl,variable:"",imports:{_:E}},(E.prototype=Lu.prototype).constructor=E,(Fr.prototype=Ml(Lu.prototype)).constructor=Fr,(wt.prototype=Ml(Lu.prototype)).constructor=wt,sn.prototype.clear=function Sg(){this.__data__=gr?gr(null):{},this.size=0},sn.prototype.delete=function Nu(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d},sn.prototype.get=function xs(l){var d=this.__data__;if(gr){var g=d[l];return g===ms?I:g}return Nt.call(d,l)?d[l]:I},sn.prototype.has=function zh(l){var d=this.__data__;return gr?d[l]!==I:Nt.call(d,l)},sn.prototype.set=function Wh(l,d){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=gr&&d===I?ms:d,this},Yo.prototype.clear=function ly(){this.__data__=[],this.size=0},Yo.prototype.delete=function ad(l){var d=this.__data__,g=qn(d,l);return!(g<0||(g==d.length-1?d.pop():Ia.call(d,g,1),--this.size,0))},Yo.prototype.get=function ld(l){var d=this.__data__,g=qn(d,l);return g<0?I:d[g][1]},Yo.prototype.has=function Oi(l){return qn(this.__data__,l)>-1},Yo.prototype.set=function co(l,d){var g=this.__data__,_=qn(g,l);return _<0?(++this.size,g.push([l,d])):g[_][1]=d,this},Ps.prototype.clear=function Il(){this.size=0,this.__data__={hash:new sn,map:new(Is||Yo),string:new sn}},Ps.prototype.delete=function ho(l){var d=xd(this,l).delete(l);return this.size-=d?1:0,d},Ps.prototype.get=function uy(l){return xd(this,l).get(l)},Ps.prototype.has=function bg(l){return xd(this,l).has(l)},Ps.prototype.set=function cy(l,d){var g=xd(this,l),_=g.size;return g.set(l,d),this.size+=g.size==_?0:1,this},Aa.prototype.add=Aa.prototype.push=function Gh(l){return this.__data__.set(l,ms),this},Aa.prototype.has=function $h(l){return this.__data__.has(l)},Vr.prototype.clear=function Zh(){this.__data__=new Yo,this.size=0},Vr.prototype.delete=function dy(l){var d=this.__data__,g=d.delete(l);return this.size=d.size,g},Vr.prototype.get=function Eg(l){return this.__data__.get(l)},Vr.prototype.has=function ud(l){return this.__data__.has(l)},Vr.prototype.set=function Tg(l,d){var g=this.__data__;if(g instanceof Yo){var _=g.__data__;if(!Is||_.length<199)return _.push([l,d]),this.size=++g.size,this;g=this.__data__=new Ps(_)}return g.set(l,d),this.size=g.size,this};var Rs=Sd(ks),Qh=Sd(Jh,!0);function py(l,d){var g=!0;return Rs(l,function(_,D,M){return g=!!d(_,D,M)}),g}function is(l,d,g){for(var _=-1,D=l.length;++_<D;){var M=l[_],A=d(M);if(null!=A&&(k===I?A==A&&!_i(A):g(A,k)))var k=A,V=M}return V}function Ig(l,d){var g=[];return Rs(l,function(_,D,M){d(_,D,M)&&g.push(_)}),g}function ii(l,d,g,_,D){var M=-1,A=l.length;for(g||(g=kd),D||(D=[]);++M<A;){var k=l[M];d>0&&g(k)?d>1?ii(k,d-1,g,_,D):Zi(D,k):_||(D[D.length]=k)}return D}var Pa=Gu(),dd=Gu(!0);function ks(l,d){return l&&Pa(l,d,Un)}function Jh(l,d){return l&&dd(l,d,Un)}function ef(l,d){return dr(d,function(g){return vo(l[g])})}function Al(l,d){for(var g=0,_=(d=po(d,l)).length;null!=l&&g<_;)l=l[mr(d[g++])];return g&&g==_?l:I}function Uu(l,d,g){var _=d(l);return et(l)?_:Zi(_,g(l))}function pi(l){return null==l?l===I?"[object Undefined]":"[object Null]":o&&o in $t(l)?function My(l){var d=Nt.call(l,o),g=l[o];try{l[o]=I;var _=!0}catch{}var D=$o.call(l);return _&&(d?l[o]=g:delete l[o]),D}(l):function ES(l){return $o.call(l)}(l)}function ju(l,d){return l>d}function hd(l,d){return null!=l&&Nt.call(l,d)}function Ag(l,d){return null!=l&&d in $t(l)}function Qo(l,d,g){for(var _=g?io:no,D=l[0].length,M=l.length,A=M,k=H(M),V=1/0,$=[];A--;){var Z=l[A];A&&d&&(Z=ot(Z,vn(d))),V=je(Z.length,V),k[A]=!g&&(d||D>=120&&Z.length>=120)?new Aa(A&&Z):I}Z=l[0];var X=-1,ae=k[0];e:for(;++X<D&&$.length<V;){var ye=Z[X],Re=d?d(ye):ye;if(ye=g||0!==ye?ye:0,!(ae?hr(ae,Re):_($,Re,g))){for(A=M;--A;){var ut=k[A];if(!(ut?hr(ut,Re):_(l[A],Re,g)))continue e}ae&&ae.push(Re),$.push(ye)}}return $}function Os(l,d,g){var _=null==(l=Oy(l,d=po(d,l)))?l:l[mr(vr(d))];return null==_?I:Ai(_,l,g)}function fd(l){return hn(l)&&pi(l)==bt}function xl(l,d,g,_,D){return l===d||(null==l||null==d||!hn(l)&&!hn(d)?l!=l&&d!=d:function Pg(l,d,g,_,D,M){var A=et(l),k=et(d),V=A?Mt:gi(l),$=k?Mt:gi(d),Z=(V=V==bt?vs:V)==vs,X=($=$==bt?vs:$)==vs,ae=V==$;if(ae&&la(l)){if(!la(d))return!1;A=!0,Z=!1}if(ae&&!Z)return M||(M=new Vr),A||yo(l)?Yu(l,d,g,_,D,M):function Ty(l,d,g,_,D,M,A){switch(g){case Qs:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case Qa:return!(l.byteLength!=d.byteLength||!M(new pr(l),new pr(d)));case lt:case Xr:case Fo:return yr(+l,+d);case Qr:return l.name==d.name&&l.message==d.message;case Xs:case Xa:return l==d+"";case lr:var k=Or;case Ui:if(k||(k=oo),l.size!=d.size&&!(1&_))return!1;var $=A.get(l);if($)return $==d;_|=2,A.set(l,d);var Z=Yu(k(l),k(d),_,D,M,A);return A.delete(l),Z;case pu:if(od)return od.call(l)==od.call(d)}return!1}(l,d,V,g,_,D,M);if(!(1&g)){var ye=Z&&Nt.call(l,"__wrapped__"),Re=X&&Nt.call(d,"__wrapped__");if(ye||Re){var ut=ye?l.value():l,ke=Re?d.value():d;return M||(M=new Vr),D(ut,ke,g,_,M)}}return!!ae&&(M||(M=new Vr),function qg(l,d,g,_,D,M){var A=1&g,k=Bl(l),V=k.length;if(V!=Bl(d).length&&!A)return!1;for(var X=V;X--;){var ae=k[X];if(!(A?ae in d:Nt.call(d,ae)))return!1}var ye=M.get(l),Re=M.get(d);if(ye&&Re)return ye==d&&Re==l;var ut=!0;M.set(l,d),M.set(d,l);for(var ke=A;++X<V;){var vt=l[ae=k[X]],Ct=d[ae];if(_)var Wr=A?_(Ct,vt,ae,d,l,M):_(vt,Ct,ae,l,d,M);if(!(Wr===I?vt===Ct||D(vt,Ct,g,_,M):Wr)){ut=!1;break}ke||(ke="constructor"==ae)}if(ut&&!ke){var er=l.constructor,Ni=d.constructor;er!=Ni&&"constructor"in l&&"constructor"in d&&!("function"==typeof er&&er instanceof er&&"function"==typeof Ni&&Ni instanceof Ni)&&(ut=!1)}return M.delete(l),M.delete(d),ut}(l,d,g,_,D,M))}(l,d,g,_,xl,D))}function tf(l,d,g,_){var D=g.length,M=D,A=!_;if(null==l)return!M;for(l=$t(l);D--;){var k=g[D];if(A&&k[2]?k[1]!==l[k[0]]:!(k[0]in l))return!1}for(;++D<M;){var V=(k=g[D])[0],$=l[V],Z=k[1];if(A&&k[2]){if($===I&&!(V in l))return!1}else{var X=new Vr;if(_)var ae=_($,Z,V,l,d,X);if(!(ae===I?xl(Z,$,3,_,X):ae))return!1}}return!0}function Pl(l){return!(!J(l)||function xy(l){return!!Hh&&Hh in l}(l))&&(vo(l)?Uh:kh).test(sa(l))}function zu(l){return"function"==typeof l?l:null==l?ri:"object"==typeof l?et(l)?kg(l[0],l[1]):lf(l):gp(l)}function sf(l){if(!Ku(l))return nt(l);var d=[];for(var g in $t(l))Nt.call(l,g)&&"constructor"!=g&&d.push(g);return d}function md(l,d){return l<d}function af(l,d){var g=-1,_=Qi(l)?H(l.length):[];return Rs(l,function(D,M,A){_[++g]=d(D,M,A)}),_}function lf(l){var d=Yg(l);return 1==d.length&&d[0][2]?tm(d[0][0],d[0][1]):function(g){return g===l||tf(g,l,d)}}function kg(l,d){return Od(l)&&em(d)?tm(mr(l),d):function(g){var _=$d(g,l);return _===I&&_===d?Zd(g,l):xl(d,_,3)}}function vd(l,d,g,_,D){l!==d&&Pa(d,function(M,A){if(D||(D=new Vr),J(M))!function _d(l,d,g,_,D,M,A){var k=nm(l,g),V=nm(d,g),$=A.get(V);if($)Kh(l,g,$);else{var Z=M?M(k,V,g+"",l,d,A):I,X=Z===I;if(X){var ae=et(V),ye=!ae&&la(V),Re=!ae&&!ye&&yo(V);Z=V,ae||ye||Re?et(k)?Z=k:An(k)?Z=Xi(k):ye?(X=!1,Z=Ug(V,!0)):Re?(X=!1,Z=Ki(V,!0)):Z=[]:Wl(V)||aa(V)?(Z=k,aa(k)?Z=jm(k):(!J(k)||vo(k))&&(Z=Qg(V))):X=!1}X&&(A.set(V,Z),D(Z,V,_,M,A),A.delete(V)),Kh(l,g,Z)}}(l,d,A,g,vd,_,D);else{var k=_?_(nm(l,A),M,A+"",l,d,D):I;k===I&&(k=M),Kh(l,A,k)}},Ji)}function Rl(l,d){var g=l.length;if(g)return as(d+=d<0?g:0,g)?l[d]:I}function Og(l,d,g){d=d.length?ot(d,function(M){return et(M)?function(A){return Al(A,1===M.length?M[0]:M)}:M}):[ri];var _=-1;return d=ot(d,vn(Me())),function Bn(N,j){var H=N.length;for(N.sort(j);H--;)N[H]=N[H].value;return N}(af(l,function(M,A,k){return{criteria:ot(d,function($){return $(M)}),index:++_,value:M}}),function(M,A){return function Fl(l,d,g){for(var _=-1,D=l.criteria,M=d.criteria,A=D.length,k=g.length;++_<A;){var V=Cd(D[_],M[_]);if(V)return _>=k?V:V*("desc"==g[_]?-1:1)}return l.index-d.index}(M,A,g)})}function uf(l,d,g){for(var _=-1,D=d.length,M={};++_<D;){var A=d[_],k=Al(l,A);g(k,A)&&Ls(M,po(A,l),k)}return M}function Hn(l,d,g,_){var D=_?we:so,M=-1,A=d.length,k=l;for(l===d&&(d=Xi(d)),g&&(k=ot(l,vn(g)));++M<A;)for(var V=0,$=d[M],Z=g?g($):$;(V=D(k,Z,V,_))>-1;)k!==l&&Ia.call(k,V,1),Ia.call(l,V,1);return l}function yd(l,d){for(var g=l?d.length:0,_=g-1;g--;){var D=d[g];if(g==_||D!==M){var M=D;as(D)?Ia.call(l,D,1):Vg(l,D)}}return l}function Wu(l,d){return l+P(Ut()*(d-l+1))}function Jo(l,d){var g="";if(!l||d<1||d>$e)return g;do{d%2&&(g+=l),(d=P(d/2))&&(l+=l)}while(d);return g}function Xe(l,d){return _f(ky(l,d,ri),l+"")}function Ng(l){return Yh(Co(l))}function cf(l,d){var g=Co(l);return yf(g,xa(d,0,g.length))}function Ls(l,d,g,_){if(!J(l))return l;for(var D=-1,M=(d=po(d,l)).length,A=M-1,k=l;null!=k&&++D<M;){var V=mr(d[D]),$=g;if("__proto__"===V||"constructor"===V||"prototype"===V)return l;if(D!=A){var Z=k[V];($=_?_(Z,V,k):I)===I&&($=J(Z)?Z:as(d[D+1])?[]:{})}Fu(k,V,$),k=k[V]}return l}var vy=mt?function(l,d){return mt.set(l,d),l}:ri,_y=c?function(l,d){return c(l,"toString",{configurable:!0,enumerable:!1,value:cp(d),writable:!0})}:ri;function rt(l){return yf(Co(l))}function rs(l,d,g){var _=-1,D=l.length;d<0&&(d=-d>D?0:D+d),(g=g>D?D:g)<0&&(g+=D),D=d>g?0:g-d>>>0,d>>>=0;for(var M=H(D);++_<D;)M[_]=l[_+d];return M}function wS(l,d){var g;return Rs(l,function(_,D,M){return!(g=d(_,D,M))}),!!g}function df(l,d,g){var _=0,D=null==l?_:l.length;if("number"==typeof d&&d==d&&D<=2147483647){for(;_<D;){var M=_+D>>>1,A=l[M];null!==A&&!_i(A)&&(g?A<=d:A<d)?_=M+1:D=M}return D}return Fg(l,d,ri,g)}function Fg(l,d,g,_){var D=0,M=null==l?0:l.length;if(0===M)return 0;for(var A=(d=g(d))!=d,k=null===d,V=_i(d),$=d===I;D<M;){var Z=P((D+M)/2),X=g(l[Z]),ae=X!==I,ye=null===X,Re=X==X,ut=_i(X);if(A)var ke=_||Re;else ke=$?Re&&(_||ae):k?Re&&ae&&(_||!ye):V?Re&&ae&&!ye&&(_||!ut):!ye&&!ut&&(_?X<=d:X<d);ke?D=Z+1:M=Z}return je(M,4294967294)}function yy(l,d){for(var g=-1,_=l.length,D=0,M=[];++g<_;){var A=l[g],k=d?d(A):A;if(!g||!yr(k,V)){var V=k;M[D++]=0===A?0:A}}return M}function wy(l){return"number"==typeof l?l:_i(l)?NaN:+l}function Hr(l){if("string"==typeof l)return l;if(et(l))return ot(l,Hr)+"";if(_i(l))return Dg?Dg.call(l):"";var d=l+"";return"0"==d&&1/l==-_t?"-0":d}function Ur(l,d,g){var _=-1,D=no,M=l.length,A=!0,k=[],V=k;if(g)A=!1,D=io;else if(M>=200){var $=d?null:Ey(l);if($)return oo($);A=!1,D=hr,V=new Aa}else V=d?[]:k;e:for(;++_<M;){var Z=l[_],X=d?d(Z):Z;if(Z=g||0!==Z?Z:0,A&&X==X){for(var ae=V.length;ae--;)if(V[ae]===X)continue e;d&&V.push(X),k.push(Z)}else D(V,X,g)||(V!==k&&V.push(X),k.push(Z))}return k}function Vg(l,d){return null==(l=Oy(l,d=po(d,l)))||delete l[mr(vr(d))]}function kn(l,d,g,_){return Ls(l,d,g(Al(l,d)),_)}function Ll(l,d,g,_){for(var D=l.length,M=_?D:-1;(_?M--:++M<D)&&d(l[M],M,l););return g?rs(l,_?0:M,_?M+1:D):rs(l,_?M+1:0,_?D:M)}function Nl(l,d){var g=l;return g instanceof wt&&(g=g.value()),ro(d,function(_,D){return D.func.apply(D.thisArg,Zi([_],D.args))},g)}function Bg(l,d,g){var _=l.length;if(_<2)return _?Ur(l[0]):[];for(var D=-1,M=H(_);++D<_;)for(var A=l[D],k=-1;++k<_;)k!=D&&(M[D]=Xo(M[D]||A,l[k],d,g));return Ur(ii(M,1),d,g)}function Hg(l,d,g){for(var _=-1,D=l.length,M=d.length,A={};++_<D;)g(A,l[_],_<M?d[_]:I);return A}function Yi(l){return An(l)?l:[]}function jr(l){return"function"==typeof l?l:ri}function po(l,d){return et(l)?l:Od(l,d)?[l]:sm(Ft(l))}var wd=Xe;function zr(l,d,g){var _=l.length;return g=g===I?_:g,!d&&g>=_?l:rs(l,d,g)}var hf=p||function(l){return gn.clearTimeout(l)};function Ug(l,d){if(d)return l.slice();var g=l.length,_=Cl?Cl(g):new l.constructor(g);return l.copy(_),_}function ff(l){var d=new l.constructor(l.byteLength);return new pr(d).set(new pr(l)),d}function Ki(l,d){var g=d?ff(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function Cd(l,d){if(l!==d){var g=l!==I,_=null===l,D=l==l,M=_i(l),A=d!==I,k=null===d,V=d==d,$=_i(d);if(!k&&!$&&!M&&l>d||M&&A&&V&&!k&&!$||_&&A&&V||!g&&V||!D)return 1;if(!_&&!M&&!$&&l<d||$&&g&&D&&!_&&!M||k&&g&&D||!A&&D||!V)return-1}return 0}function Cy(l,d,g,_){for(var D=-1,M=l.length,A=g.length,k=-1,V=d.length,$=Ie(M-A,0),Z=H(V+$),X=!_;++k<V;)Z[k]=d[k];for(;++D<A;)(X||D<M)&&(Z[g[D]]=l[D]);for(;$--;)Z[k++]=l[D++];return Z}function pf(l,d,g,_){for(var D=-1,M=l.length,A=-1,k=g.length,V=-1,$=d.length,Z=Ie(M-k,0),X=H(Z+$),ae=!_;++D<Z;)X[D]=l[D];for(var ye=D;++V<$;)X[ye+V]=d[V];for(;++A<k;)(ae||D<M)&&(X[ye+g[A]]=l[D++]);return X}function Xi(l,d){var g=-1,_=l.length;for(d||(d=H(_));++g<_;)d[g]=l[g];return d}function Ns(l,d,g,_){var D=!g;g||(g={});for(var M=-1,A=d.length;++M<A;){var k=d[M],V=_?_(g[k],l[k],k,g,l):I;V===I&&(V=l[k]),D?fo(g,k,V):Fu(g,k,V)}return g}function Dd(l,d){return function(g,_){var D=et(g)?wg:Ko,M=d?d():{};return D(g,l,Me(_,2),M)}}function Ra(l){return Xe(function(d,g){var _=-1,D=g.length,M=D>1?g[D-1]:I,A=D>2?g[2]:I;for(M=l.length>3&&"function"==typeof M?(D--,M):I,A&&mi(g[0],g[1],A)&&(M=D<3?I:M,D=1),d=$t(d);++_<D;){var k=g[_];k&&l(d,k,_,M)}return d})}function Sd(l,d){return function(g,_){if(null==g)return g;if(!Qi(g))return l(g,_);for(var D=g.length,M=d?D:-1,A=$t(g);(d?M--:++M<D)&&!1!==_(A[M],M,A););return g}}function Gu(l){return function(d,g,_){for(var D=-1,M=$t(d),A=_(d),k=A.length;k--;){var V=A[l?k:++D];if(!1===g(M[V],V,M))break}return d}}function Vl(l){return function(d){var g=Wn(d=Ft(d))?Gn(d):I,_=g?g[0]:d.charAt(0),D=g?zr(g,1).join(""):d.slice(1);return _[l]()+D}}function ea(l){return function(d){return ro(ov(op(d).replace(Jc,"")),l,"")}}function ta(l){return function(){var d=arguments;switch(d.length){case 0:return new l;case 1:return new l(d[0]);case 2:return new l(d[0],d[1]);case 3:return new l(d[0],d[1],d[2]);case 4:return new l(d[0],d[1],d[2],d[3]);case 5:return new l(d[0],d[1],d[2],d[3],d[4]);case 6:return new l(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new l(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var g=Ml(l.prototype),_=l.apply(g,d);return J(_)?_:g}}function zg(l){return function(d,g,_){var D=$t(d);if(!Qi(d)){var M=Me(g,3);d=Un(d),g=function(k){return M(D[k],k,D)}}var A=l(d,g,_);return A>-1?D[M?d[A]:A]:I}}function Wg(l){return ss(function(d){var g=d.length,_=g,D=Fr.prototype.thru;for(l&&d.reverse();_--;){var M=d[_];if("function"!=typeof M)throw new Zn(qe);if(D&&!A&&"wrapper"==Ad(M))var A=new Fr([],!0)}for(_=A?_:g;++_<g;){var k=Ad(M=d[_]),V="wrapper"==k?mf(M):I;A=V&&Ld(V[0])&&424==V[1]&&!V[4].length&&1==V[9]?A[Ad(V[0])].apply(A,V[3]):1==M.length&&Ld(M)?A[k]():A.thru(M)}return function(){var $=arguments,Z=$[0];if(A&&1==$.length&&et(Z))return A.plant(Z).value();for(var X=0,ae=g?d[X].apply(this,$):Z;++X<g;)ae=d[X].call(this,ae);return ae}})}function $u(l,d,g,_,D,M,A,k,V,$){var Z=128&d,X=1&d,ae=2&d,ye=24&d,Re=512&d,ut=ae?I:ta(l);return function ke(){for(var vt=arguments.length,Ct=H(vt),Wr=vt;Wr--;)Ct[Wr]=arguments[Wr];if(ye)var er=os(ke),Ni=Wo(Ct,er);if(_&&(Ct=Cy(Ct,_,D,ye)),M&&(Ct=pf(Ct,M,A,ye)),vt-=Ni,ye&&vt<$){var xn=gt(Ct,er);return Td(l,d,$u,ke.placeholder,g,Ct,xn,k,V,$-vt)}var Gr=X?g:this,Hs=ae?Gr[l]:l;return vt=Ct.length,k?Ct=TS(Ct,k):Re&&vt>1&&Ct.reverse(),Z&&V<vt&&(Ct.length=V),this&&this!==gn&&this instanceof ke&&(Hs=ut||ta(Hs)),Hs.apply(Gr,Ct)}}function Gg(l,d){return function(g,_){return function gy(l,d,g,_){return ks(l,function(D,M,A){d(_,g(D),M,A)}),_}(g,l,d(_),{})}}function na(l,d){return function(g,_){var D;if(g===I&&_===I)return d;if(g!==I&&(D=g),_!==I){if(D===I)return _;"string"==typeof g||"string"==typeof _?(g=Hr(g),_=Hr(_)):(g=wy(g),_=wy(_)),D=l(g,_)}return D}}function bd(l){return ss(function(d){return d=ot(d,vn(Me())),Xe(function(g){var _=this;return l(d,function(D){return Ai(D,_,g)})})})}function Ed(l,d){var g=(d=d===I?" ":Hr(d)).length;if(g<2)return g?Jo(d,l):d;var _=Jo(d,b(l/ki(d)));return Wn(d)?zr(Gn(_),0,l).join(""):_.slice(0,l)}function gf(l){return function(d,g,_){return _&&"number"!=typeof _&&mi(d,g,_)&&(g=_=I),d=wo(d),g===I?(g=d,d=0):g=wo(g),function Ol(l,d,g,_){for(var D=-1,M=Ie(b((d-l)/(g||1)),0),A=H(M);M--;)A[_?M:++D]=l,l+=g;return A}(d,g,_=_===I?d<g?1:-1:wo(_),l)}}function Zu(l){return function(d,g){return"string"==typeof d&&"string"==typeof g||(d=cs(d),g=cs(g)),l(d,g)}}function Td(l,d,g,_,D,M,A,k,V,$){var Z=8&d;d|=Z?32:64,4&(d&=~(Z?64:32))||(d&=-4);var ut=[l,d,D,Z?M:I,Z?A:I,Z?I:M,Z?I:A,k,V,$],ke=g.apply(I,ut);return Ld(l)&&vf(ke,ut),ke.placeholder=_,im(ke,l,d)}function ka(l){var d=In[l];return function(g,_){if(g=cs(g),(_=null==_?0:je(st(_),292))&&Q(g)){var D=(Ft(g)+"e").split("e");return+((D=(Ft(d(D[0]+"e"+(+D[1]+_)))+"e").split("e"))[0]+"e"+(+D[1]-_))}return d(g)}}var Ey=lo&&1/oo(new lo([,-0]))[1]==_t?function(l){return new lo(l)}:cc;function $g(l){return function(d){var g=gi(d);return g==lr?Or(d):g==Ui?function xu(N){var j=-1,H=Array(N.size);return N.forEach(function(he){H[++j]=[he,he]}),H}(d):function Jt(N,j){return ot(j,function(H){return[H,N[H]]})}(d,l(d))}}function go(l,d,g,_,D,M,A,k){var V=2&d;if(!V&&"function"!=typeof l)throw new Zn(qe);var $=_?_.length:0;if($||(d&=-97,_=D=I),A=A===I?A:Ie(st(A),0),k=k===I?k:st(k),$-=D?D.length:0,64&d){var Z=_,X=D;_=D=I}var ae=V?I:mf(l),ye=[l,d,g,_,D,Z,X,M,A,k];if(ae&&function Xu(l,d){var g=l[1],_=d[1],D=g|_;if(!(D<131||(128==_&&8==g||128==_&&256==g&&l[7].length<=d[8]||384==_&&d[7].length<=d[8]&&8==g)))return l;1&_&&(l[2]=d[2],D|=1&g?0:4);var k=d[3];if(k){var V=l[3];l[3]=V?Cy(V,k,d[4]):k,l[4]=V?gt(l[3],zn):d[4]}(k=d[5])&&(l[5]=(V=l[5])?pf(V,k,d[6]):k,l[6]=V?gt(l[5],zn):d[6]),(k=d[7])&&(l[7]=k),128&_&&(l[8]=null==l[8]?d[8]:je(l[8],d[8])),null==l[9]&&(l[9]=d[9]),l[0]=d[0],l[1]=D}(ye,ae),l=ye[0],d=ye[1],g=ye[2],_=ye[3],D=ye[4],!(k=ye[9]=ye[9]===I?V?0:l.length:Ie(ye[9]-$,0))&&24&d&&(d&=-25),d&&1!=d)Re=8==d||16==d?function by(l,d,g){var _=ta(l);return function D(){for(var M=arguments.length,A=H(M),k=M,V=os(D);k--;)A[k]=arguments[k];var $=M<3&&A[0]!==V&&A[M-1]!==V?[]:gt(A,V);return(M-=$.length)<g?Td(l,d,$u,D.placeholder,I,A,$,I,I,g-M):Ai(this&&this!==gn&&this instanceof D?_:l,this,A)}}(l,d,k):32!=d&&33!=d||D.length?$u.apply(I,ye):function z(l,d,g,_){var D=1&d,M=ta(l);return function A(){for(var k=-1,V=arguments.length,$=-1,Z=_.length,X=H(Z+V),ae=this&&this!==gn&&this instanceof A?M:l;++$<Z;)X[$]=_[$];for(;V--;)X[$++]=arguments[++k];return Ai(ae,D?g:this,X)}}(l,d,g,_);else var Re=function SS(l,d,g){var _=1&d,D=ta(l);return function M(){return(this&&this!==gn&&this instanceof M?D:l).apply(_?g:this,arguments)}}(l,d,g);return im((ae?vy:vf)(Re,ye),l,d)}function Md(l,d,g,_){return l===I||yr(l,Ma[g])&&!Nt.call(_,g)?d:l}function qu(l,d,g,_,D,M){return J(l)&&J(d)&&(M.set(d,l),vd(l,d,I,qu,M),M.delete(d)),l}function Zg(l){return Wl(l)?I:l}function Yu(l,d,g,_,D,M){var A=1&g,k=l.length,V=d.length;if(k!=V&&!(A&&V>k))return!1;var $=M.get(l),Z=M.get(d);if($&&Z)return $==d&&Z==l;var X=-1,ae=!0,ye=2&g?new Aa:I;for(M.set(l,d),M.set(d,l);++X<k;){var Re=l[X],ut=d[X];if(_)var ke=A?_(ut,Re,X,d,l,M):_(Re,ut,X,l,d,M);if(ke!==I){if(ke)continue;ae=!1;break}if(ye){if(!pl(d,function(vt,Ct){if(!hr(ye,Ct)&&(Re===vt||D(Re,vt,g,_,M)))return ye.push(Ct)})){ae=!1;break}}else if(Re!==ut&&!D(Re,ut,g,_,M)){ae=!1;break}}return M.delete(l),M.delete(d),ae}function ss(l){return _f(ky(l,I,cm),l+"")}function Bl(l){return Uu(l,Un,Kg)}function Id(l){return Uu(l,Ji,Xg)}var mf=mt?function(l){return mt.get(l)}:cc;function Ad(l){for(var d=l.name+"",g=Nr[d],_=Nt.call(Nr,d)?g.length:0;_--;){var D=g[_],M=D.func;if(null==M||M==l)return D.name}return d}function os(l){return(Nt.call(E,"placeholder")?E:l).placeholder}function Me(){var l=E.iteratee||uc;return l=l===uc?zu:l,arguments.length?l(arguments[0],arguments[1]):l}function xd(l,d){var g=l.__data__;return function Jg(l){var d=typeof l;return"string"==d||"number"==d||"symbol"==d||"boolean"==d?"__proto__"!==l:null===l}(d)?g["string"==typeof d?"string":"hash"]:g.map}function Yg(l){for(var d=Un(l),g=d.length;g--;){var _=d[g],D=l[_];d[g]=[_,D,em(D)]}return d}function ia(l,d){var g=function Au(N,j){return null==N?I:N[j]}(l,d);return Pl(g)?g:I}var Kg=B?function(l){return null==l?[]:(l=$t(l),dr(B(l),function(d){return rd.call(l,d)}))}:Yl,Xg=B?function(l){for(var d=[];l;)Zi(d,Kg(l)),l=_n(l);return d}:Yl,gi=pi;function Rd(l,d,g){for(var _=-1,D=(d=po(d,l)).length,M=!1;++_<D;){var A=mr(d[_]);if(!(M=null!=l&&g(l,A)))break;l=l[A]}return M||++_!=D?M:!!(D=null==l?0:l.length)&&ze(D)&&as(A,D)&&(et(l)||aa(l))}function Qg(l){return"function"!=typeof l.constructor||Ku(l)?{}:Ml(_n(l))}function kd(l){return et(l)||aa(l)||!!(Sl&&l&&l[Sl])}function as(l,d){var g=typeof l;return!!(d=d??$e)&&("number"==g||"symbol"!=g&&Zc.test(l))&&l>-1&&l%1==0&&l<d}function mi(l,d,g){if(!J(g))return!1;var _=typeof d;return!!("number"==_?Qi(g)&&as(d,g.length):"string"==_&&d in g)&&yr(g[d],l)}function Od(l,d){if(et(l))return!1;var g=typeof l;return!("number"!=g&&"symbol"!=g&&"boolean"!=g&&null!=l&&!_i(l))||xh.test(l)||!Ah.test(l)||null!=d&&l in $t(d)}function Ld(l){var d=Ad(l),g=E[d];if("function"!=typeof g||!(d in wt.prototype))return!1;if(l===g)return!0;var _=mf(g);return!!_&&l===_[0]}(sd&&gi(new sd(new ArrayBuffer(1)))!=Qs||Is&&gi(new Is)!=lr||fi&&gi(fi.resolve())!=Ka||lo&&gi(new lo)!=Ui||uo&&gi(new uo)!=ji)&&(gi=function(l){var d=pi(l),g=d==vs?l.constructor:I,_=g?sa(g):"";if(_)switch(_){case Ou:return Qs;case jh:return lr;case As:return Ka;case El:return Ui;case Tl:return ji}return d});var Py=fr?vo:mp;function Ku(l){var d=l&&l.constructor;return l===("function"==typeof d&&d.prototype||Ma)}function em(l){return l==l&&!J(l)}function tm(l,d){return function(g){return null!=g&&g[l]===d&&(d!==I||l in $t(g))}}function ky(l,d,g){return d=Ie(d===I?l.length-1:d,0),function(){for(var _=arguments,D=-1,M=Ie(_.length-d,0),A=H(M);++D<M;)A[D]=_[d+D];D=-1;for(var k=H(d+1);++D<d;)k[D]=_[D];return k[d]=g(A),Ai(l,this,k)}}function Oy(l,d){return d.length<2?l:Al(l,rs(d,0,-1))}function TS(l,d){for(var g=l.length,_=je(d.length,g),D=Xi(l);_--;){var M=d[_];l[_]=as(M,g)?D[M]:I}return l}function nm(l,d){if(("constructor"!==d||"function"!=typeof l[d])&&"__proto__"!=d)return l[d]}var vf=rm(vy),Qu=w||function(l,d){return gn.setTimeout(l,d)},_f=rm(_y);function im(l,d,g){var _=d+"";return _f(l,function bS(l,d){var g=d.length;if(!g)return l;var _=g-1;return d[_]=(g>1?"& ":"")+d[_],d=d.join(g>2?", ":" "),l.replace(Wc,"{\n/* [wrapped with "+d+"] */\n")}(_,function Fs(l,d){return Fn(nn,function(g){var _="_."+g[0];d&g[1]&&!no(l,_)&&l.push(_)}),l.sort()}(function Pd(l){var d=l.match(Rr);return d?d[1].split(Su):[]}(_),g)))}function rm(l){var d=0,g=0;return function(){var _=Ms(),D=16-(_-g);if(g=_,D>0){if(++d>=800)return arguments[0]}else d=0;return l.apply(I,arguments)}}function yf(l,d){var g=-1,_=l.length,D=_-1;for(d=d===I?_:d;++g<d;){var M=Wu(g,D),A=l[M];l[M]=l[g],l[g]=A}return l.length=d,l}var sm=function ra(l){var d=Hd(l,function(_){return 500===g.size&&g.clear(),_}),g=d.cache;return d}(function(l){var d=[];return 46===l.charCodeAt(0)&&d.push(""),l.replace(xr,function(g,_,D,M){d.push(D?M.replace(Rh,"$1"):_||g)}),d});function mr(l){if("string"==typeof l||_i(l))return l;var d=l+"";return"0"==d&&1/l==-_t?"-0":d}function sa(l){if(null!=l){try{return _l.call(l)}catch{}try{return l+""}catch{}}return""}function Ul(l){if(l instanceof wt)return l.clone();var d=new Fr(l.__wrapped__,l.__chain__);return d.__actions__=Xi(l.__actions__),d.__index__=l.__index__,d.__values__=l.__values__,d}var MS=Xe(function(l,d){return An(l)?Xo(l,ii(d,1,An,!0)):[]}),IS=Xe(function(l,d){var g=vr(d);return An(g)&&(g=I),An(l)?Xo(l,ii(d,1,An,!0),Me(g,2)):[]}),AS=Xe(function(l,d){var g=vr(d);return An(g)&&(g=I),An(l)?Xo(l,ii(d,1,An,!0),I,g):[]});function Sf(l,d,g){var _=null==l?0:l.length;if(!_)return-1;var D=null==g?0:st(g);return D<0&&(D=Ie(_+D,0)),zo(l,Me(d,3),D)}function um(l,d,g){var _=null==l?0:l.length;if(!_)return-1;var D=_-1;return g!==I&&(D=st(g),D=g<0?Ie(_+D,0):je(D,_-1)),zo(l,Me(d,3),D,!0)}function cm(l){return null!=l&&l.length?ii(l,1):[]}function Ju(l){return l&&l.length?l[0]:I}var Vy=Xe(function(l){var d=ot(l,Yi);return d.length&&d[0]===l[0]?Qo(d):[]}),On=Xe(function(l){var d=vr(l),g=ot(l,Yi);return d===vr(g)?d=I:g.pop(),g.length&&g[0]===l[0]?Qo(g,Me(d,2)):[]}),Nd=Xe(function(l){var d=vr(l),g=ot(l,Yi);return(d="function"==typeof d?d:I)&&g.pop(),g.length&&g[0]===l[0]?Qo(g,I,d):[]});function vr(l){var d=null==l?0:l.length;return d?l[d-1]:I}var Uy=Xe(fm);function fm(l,d){return l&&l.length&&d&&d.length?Hn(l,d):l}var RS=ss(function(l,d){var g=null==l?0:l.length,_=Xh(l,d);return yd(l,ot(d,function(D){return as(D,g)?+D:D}).sort(Cd)),_});function Oa(l){return null==l?l:ku.call(l)}var qy=Xe(function(l){return Ur(ii(l,1,An,!0))}),Yy=Xe(function(l){var d=vr(l);return An(d)&&(d=I),Ur(ii(l,1,An,!0),Me(d,2))}),Mf=Xe(function(l){var d=vr(l);return d="function"==typeof d?d:I,Ur(ii(l,1,An,!0),I,d)});function Af(l){if(!l||!l.length)return[];var d=0;return l=dr(l,function(g){if(An(g))return d=Ie(g.length,d),!0}),Ue(d,function(g){return ot(l,mn(g))})}function ym(l,d){if(!l||!l.length)return[];var g=Af(l);return null==d?g:ot(g,function(_){return Ai(d,I,_)})}var tc=Xe(function(l,d){return An(l)?Xo(l,d):[]}),Qy=Xe(function(l){return Bg(dr(l,An))}),Jy=Xe(function(l){var d=vr(l);return An(d)&&(d=I),Bg(dr(l,An),Me(d,2))}),ew=Xe(function(l){var d=vr(l);return d="function"==typeof d?d:I,Bg(dr(l,An),I,d)}),tw=Xe(Af),iw=Xe(function(l){var d=l.length,g=d>1?l[d-1]:I;return g="function"==typeof g?(l.pop(),g):I,ym(l,g)});function Cm(l){var d=E(l);return d.__chain__=!0,d}function Fd(l,d){return d(l)}var sw=ss(function(l){var d=l.length,g=d?l[0]:0,_=this.__wrapped__,D=function(M){return Xh(M,l)};return!(d>1||this.__actions__.length)&&_ instanceof wt&&as(g)?((_=_.slice(g,+g+(d?1:0))).__actions__.push({func:Fd,args:[D],thisArg:I}),new Fr(_,this.__chain__).thru(function(M){return d&&!M.length&&M.push(I),M})):this.thru(D)}),Dm=Dd(function(l,d,g){Nt.call(l,g)?++l[g]:fo(l,g,1)}),xf=zg(Sf),Pf=zg(um);function Rf(l,d){return(et(l)?Fn:Rs)(l,Me(d,3))}function kf(l,d){return(et(l)?Ot:Qh)(l,Me(d,3))}var Of=Dd(function(l,d,g){Nt.call(l,g)?l[g].push(d):fo(l,g,[d])}),bm=Xe(function(l,d,g){var _=-1,D="function"==typeof d,M=Qi(l)?H(l.length):[];return Rs(l,function(A){M[++_]=D?Ai(d,A,g):Os(A,d,g)}),M}),FS=Dd(function(l,d,g){fo(l,g,d)});function mo(l,d){return(et(l)?ot:af)(l,Me(d,3))}var Em=Dd(function(l,d,g){l[g?0:1].push(d)},function(){return[[],[]]}),Tm=Xe(function(l,d){if(null==l)return[];var g=d.length;return g>1&&mi(l,d[0],d[1])?d=[]:g>2&&mi(d[0],d[1],d[2])&&(d=[d[0]]),Og(l,ii(d,1),[])}),zl=v||function(){return gn.Date.now()};function Vd(l,d,g){return d=g?I:d,go(l,128,I,I,I,I,d=l&&null==d?l.length:d)}function Im(l,d){var g;if("function"!=typeof d)throw new Zn(qe);return l=st(l),function(){return--l>0&&(g=d.apply(this,arguments)),l<=1&&(d=I),g}}var Vf=Xe(function(l,d,g){var _=1;if(g.length){var D=gt(g,os(Vf));_|=32}return go(l,_,d,g,D)}),Bf=Xe(function(l,d,g){var _=3;if(g.length){var D=gt(g,os(Bf));_|=32}return go(d,_,l,g,D)});function Uf(l,d,g){var _,D,M,A,k,V,$=0,Z=!1,X=!1,ae=!0;if("function"!=typeof l)throw new Zn(qe);function ye(xn){var Gr=_,Hs=D;return _=D=I,$=xn,A=l.apply(Hs,Gr)}function Re(xn){return $=xn,k=Qu(vt,d),Z?ye(xn):A}function ke(xn){var Gr=xn-V;return V===I||Gr>=d||Gr<0||X&&xn-$>=M}function vt(){var xn=zl();if(ke(xn))return Ct(xn);k=Qu(vt,function ut(xn){var oC=d-(xn-V);return X?je(oC,M-(xn-$)):oC}(xn))}function Ct(xn){return k=I,ae&&_?ye(xn):(_=D=I,A)}function Ni(){var xn=zl(),Gr=ke(xn);if(_=arguments,D=this,V=xn,Gr){if(k===I)return Re(V);if(X)return hf(k),k=Qu(vt,d),ye(V)}return k===I&&(k=Qu(vt,d)),A}return d=cs(d)||0,J(g)&&(Z=!!g.leading,M=(X="maxWait"in g)?Ie(cs(g.maxWait)||0,d):M,ae="trailing"in g?!!g.trailing:ae),Ni.cancel=function Wr(){k!==I&&hf(k),$=0,_=V=D=k=I},Ni.flush=function er(){return k===I?A:Ct(zl())},Ni}var Am=Xe(function(l,d){return Bu(l,1,d)}),vw=Xe(function(l,d,g){return Bu(l,cs(d)||0,g)});function Hd(l,d){if("function"!=typeof l||null!=d&&"function"!=typeof d)throw new Zn(qe);var g=function(){var _=arguments,D=d?d.apply(this,_):_[0],M=g.cache;if(M.has(D))return M.get(D);var A=l.apply(this,_);return g.cache=M.set(D,A)||M,A};return g.cache=new(Hd.Cache||Ps),g}function ic(l){if("function"!=typeof l)throw new Zn(qe);return function(){var d=arguments;switch(d.length){case 0:return!l.call(this);case 1:return!l.call(this,d[0]);case 2:return!l.call(this,d[0],d[1]);case 3:return!l.call(this,d[0],d[1],d[2])}return!l.apply(this,d)}}Hd.Cache=Ps;var Pm=wd(function(l,d){var g=(d=1==d.length&&et(d[0])?ot(d[0],vn(Me())):ot(ii(d,1),vn(Me()))).length;return Xe(function(_){for(var D=-1,M=je(_.length,g);++D<M;)_[D]=d[D].call(this,_[D]);return Ai(l,this,_)})}),rc=Xe(function(l,d){var g=gt(d,os(rc));return go(l,32,I,d,g)}),jf=Xe(function(l,d){var g=gt(d,os(jf));return go(l,64,I,d,g)}),Ud=ss(function(l,d){return go(l,256,I,I,I,d)});function yr(l,d){return l===d||l!=l&&d!=d}var Nm=Zu(ju),VS=Zu(function(l,d){return l>=d}),aa=fd(function(){return arguments}())?fd:function(l){return hn(l)&&Nt.call(l,"callee")&&!rd.call(l,"callee")},et=H.isArray,Fm=$i?vn($i):function pd(l){return hn(l)&&pi(l)==Qa};function Qi(l){return null!=l&&ze(l.length)&&!vo(l)}function An(l){return hn(l)&&Qi(l)}var la=W||mp,Vm=cr?vn(cr):function yS(l){return hn(l)&&pi(l)==Xr};function zd(l){if(!hn(l))return!1;var d=pi(l);return d==Qr||"[object DOMException]"==d||"string"==typeof l.message&&"string"==typeof l.name&&!Wl(l)}function vo(l){if(!J(l))return!1;var d=pi(l);return d==Ya||d==Oc||"[object AsyncFunction]"==d||"[object Proxy]"==d}function Bm(l){return"number"==typeof l&&l==st(l)}function ze(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=$e}function J(l){var d=typeof l;return null!=l&&("object"==d||"function"==d)}function hn(l){return null!=l&&"object"==typeof l}var Gf=td?vn(td):function my(l){return hn(l)&&gi(l)==lr};function Gd(l){return"number"==typeof l||hn(l)&&pi(l)==Fo}function Wl(l){if(!hn(l)||pi(l)!=vs)return!1;var d=_n(l);if(null===d)return!0;var g=Nt.call(d,"constructor")&&d.constructor;return"function"==typeof g&&g instanceof g&&_l.call(g)==Zo}var oc=Mu?vn(Mu):function nf(l){return hn(l)&&pi(l)==Xs},Zf=Ss?vn(Ss):function rf(l){return hn(l)&&gi(l)==Ui};function qf(l){return"string"==typeof l||!et(l)&&hn(l)&&pi(l)==Xa}function _i(l){return"symbol"==typeof l||hn(l)&&pi(l)==pu}var yo=Pt?vn(Pt):function gd(l){return hn(l)&&ze(l.length)&&!!Gt[pi(l)]},HS=Zu(md),Mw=Zu(function(l,d){return l<=d});function Um(l){if(!l)return[];if(Qi(l))return qf(l)?Gn(l):Xi(l);if(qo&&l[qo])return function Pi(N){for(var j,H=[];!(j=N.next()).done;)H.push(j.value);return H}(l[qo]());var d=gi(l);return(d==lr?Or:d==Ui?oo:Co)(l)}function wo(l){return l?(l=cs(l))===_t||l===-_t?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}function st(l){var d=wo(l),g=d%1;return d==d?g?d-g:d:0}function Qf(l){return l?xa(st(l),0,tn):0}function cs(l){if("number"==typeof l)return l;if(_i(l))return NaN;if(J(l)){var d="function"==typeof l.valueOf?l.valueOf():l;l=J(d)?d+"":d}if("string"!=typeof l)return 0===l?l:+l;l=Rn(l);var g=Bo.test(l);return g||Sa.test(l)?to(l.slice(2),g?2:8):$c.test(l)?NaN:+l}function jm(l){return Ns(l,Ji(l))}function Ft(l){return null==l?"":Hr(l)}var zm=Ra(function(l,d){if(Ku(d)||Qi(d))Ns(d,Un(d),l);else for(var g in d)Nt.call(d,g)&&Fu(l,g,d[g])}),Wm=Ra(function(l,d){Ns(d,Ji(d),l)}),Gl=Ra(function(l,d,g,_){Ns(d,Ji(d),l,_)}),jS=Ra(function(l,d,g,_){Ns(d,Un(d),l,_)}),zS=ss(Xh),GS=Xe(function(l,d){l=$t(l);var g=-1,_=d.length,D=_>2?d[2]:I;for(D&&mi(d[0],d[1],D)&&(_=1);++g<_;)for(var M=d[g],A=Ji(M),k=-1,V=A.length;++k<V;){var $=A[k],Z=l[$];(Z===I||yr(Z,Ma[$])&&!Nt.call(l,$))&&(l[$]=M[$])}return l}),$S=Xe(function(l){return l.push(I,qu),Ai($m,I,l)});function $d(l,d,g){var _=null==l?I:Al(l,d);return _===I?g:_}function Zd(l,d){return null!=l&&Rd(l,d,Ag)}var tp=Gg(function(l,d,g){null!=d&&"function"!=typeof d.toString&&(d=$o.call(d)),l[d]=g},cp(ri)),Aw=Gg(function(l,d,g){null!=d&&"function"!=typeof d.toString&&(d=$o.call(d)),Nt.call(l,d)?l[d].push(g):l[d]=[g]},Me),ca=Xe(Os);function Un(l){return Qi(l)?qh(l):sf(l)}function Ji(l){return Qi(l)?qh(l,!0):function Rg(l){if(!J(l))return function Ry(l){var d=[];if(null!=l)for(var g in $t(l))d.push(g);return d}(l);var d=Ku(l),g=[];for(var _ in l)"constructor"==_&&(d||!Nt.call(l,_))||g.push(_);return g}(l)}var Gm=Ra(function(l,d,g){vd(l,d,g)}),$m=Ra(function(l,d,g,_){vd(l,d,g,_)}),Pw=ss(function(l,d){var g={};if(null==l)return g;var _=!1;d=ot(d,function(M){return M=po(M,l),_||(_=M.length>1),M}),Ns(l,Id(l),g),_&&(g=Br(g,7,Zg));for(var D=d.length;D--;)Vg(g,d[D]);return g}),$l=ss(function(l,d){return null==l?{}:function Lg(l,d){return uf(l,d,function(g,_){return Zd(l,_)})}(l,d)});function qd(l,d){if(null==l)return{};var g=ot(Id(l),function(_){return[_]});return d=Me(d),uf(l,g,function(_,D){return d(_,D[0])})}var Zm=$g(Un),ip=$g(Ji);function Co(l){return null==l?[]:rn(l,Un(l))}var Qm=ea(function(l,d,g){return d=d.toLowerCase(),l+(g?Jm(d):d)});function Jm(l){return up(Ft(l).toLowerCase())}function op(l){return(l=Ft(l))&&l.replace(Oh,Ke).replace(jo,"")}var Lw=ea(function(l,d,g){return l+(g?"-":"")+d.toLowerCase()}),Nw=ea(function(l,d,g){return l+(g?" ":"")+d.toLowerCase()}),JS=Vl("toLowerCase"),Vw=ea(function(l,d,g){return l+(g?"_":"")+d.toLowerCase()}),Hw=ea(function(l,d,g){return l+(g?" ":"")+up(d)}),lp=ea(function(l,d,g){return l+(g?" ":"")+d.toUpperCase()}),up=Vl("toUpperCase");function ov(l,d,g){return l=Ft(l),(d=g?I:d)===I?function hi(N){return es.test(N)}(l)?function qi(N){return N.match(dl)||[]}(l):function id(N){return N.match(Jr)||[]}(l):l.match(d)||[]}var Gw=Xe(function(l,d){try{return Ai(l,I,d)}catch(g){return zd(g)?g:new Ne(g)}}),av=ss(function(l,d){return Fn(d,function(g){g=mr(g),fo(l,g,Vf(l[g],l))}),l});function cp(l){return function(){return l}}var qw=Wg(),Yw=Wg(!0);function ri(l){return l}function uc(l){return zu("function"==typeof l?l:Br(l,1))}var fp=Xe(function(l,d){return function(g){return Os(g,l,d)}}),lv=Xe(function(l,d){return function(g){return Os(l,g,d)}});function pp(l,d,g){var _=Un(d),D=ef(d,_);null==g&&(!J(d)||!D.length&&_.length)&&(g=d,d=l,l=this,D=ef(d,Un(d)));var M=!(J(g)&&"chain"in g&&!g.chain),A=vo(l);return Fn(D,function(k){var V=d[k];l[k]=V,A&&(l.prototype[k]=function(){var $=this.__chain__;if(M||$){var Z=l(this.__wrapped__),X=Z.__actions__=Xi(this.__actions__);return X.push({func:V,args:arguments,thisArg:l}),Z.__chain__=$,Z}return V.apply(l,Zi([this.value()],arguments))})}),l}function cc(){}var Qw=bd(ot),uv=bd(Ta),cv=bd(pl);function gp(l){return Od(l)?mn(mr(l)):function kl(l){return function(d){return Al(d,l)}}(l)}var hv=gf(),Do=gf(!0);function Yl(){return[]}function mp(){return!1}var eC=na(function(l,d){return l+d},0),yp=ka("ceil"),pv=na(function(l,d){return l/d},1),gv=ka("floor"),Kl=na(function(l,d){return l*d},1),_v=ka("round"),rC=na(function(l,d){return l-d},0);return E.after=function Mm(l,d){if("function"!=typeof d)throw new Zn(qe);return l=st(l),function(){if(--l<1)return d.apply(this,arguments)}},E.ary=Vd,E.assign=zm,E.assignIn=Wm,E.assignInWith=Gl,E.assignWith=jS,E.at=zS,E.before=Im,E.bind=Vf,E.bindAll=av,E.bindKey=Bf,E.castArray=function sc(){if(!arguments.length)return[];var l=arguments[0];return et(l)?l:[l]},E.chain=Cm,E.chunk=function om(l,d,g){d=(g?mi(l,d,g):d===I)?1:Ie(st(d),0);var _=null==l?0:l.length;if(!_||d<1)return[];for(var D=0,M=0,A=H(b(_/d));D<_;)A[M++]=rs(l,D,D+=d);return A},E.compact=function am(l){for(var d=-1,g=null==l?0:l.length,_=0,D=[];++d<g;){var M=l[d];M&&(D[_++]=M)}return D},E.concat=function lm(){var l=arguments.length;if(!l)return[];for(var d=H(l-1),g=arguments[0],_=l;_--;)d[_-1]=arguments[_];return Zi(et(g)?Xi(g):[g],ii(d,1))},E.cond=function $w(l){var d=null==l?0:l.length,g=Me();return l=d?ot(l,function(_){if("function"!=typeof _[1])throw new Zn(qe);return[g(_[0]),_[1]]}):[],Xe(function(_){for(var D=-1;++D<d;){var M=l[D];if(Ai(M[0],this,_))return Ai(M[1],this,_)}})},E.conforms=function Zw(l){return function fy(l){var d=Un(l);return function(g){return Vu(g,l,d)}}(Br(l,1))},E.constant=cp,E.countBy=Dm,E.create=function WS(l,d){var g=Ml(l);return null==d?g:dn(g,d)},E.curry=function Hf(l,d,g){var _=go(l,8,I,I,I,I,I,d=g?I:d);return _.placeholder=Hf.placeholder,_},E.curryRight=function oa(l,d,g){var _=go(l,16,I,I,I,I,I,d=g?I:d);return _.placeholder=oa.placeholder,_},E.debounce=Uf,E.defaults=GS,E.defaultsDeep=$S,E.defer=Am,E.delay=vw,E.difference=MS,E.differenceBy=IS,E.differenceWith=AS,E.drop=function wf(l,d,g){var _=null==l?0:l.length;return _?rs(l,(d=g||d===I?1:st(d))<0?0:d,_):[]},E.dropRight=function Cf(l,d,g){var _=null==l?0:l.length;return _?rs(l,0,(d=_-(d=g||d===I?1:st(d)))<0?0:d):[]},E.dropRightWhile=function Df(l,d){return l&&l.length?Ll(l,Me(d,3),!0,!0):[]},E.dropWhile=function xS(l,d){return l&&l.length?Ll(l,Me(d,3),!0):[]},E.fill=function PS(l,d,g,_){var D=null==l?0:l.length;return D?(g&&"number"!=typeof g&&mi(l,d,g)&&(g=0,_=D),function Hu(l,d,g,_){var D=l.length;for((g=st(g))<0&&(g=-g>D?0:D+g),(_=_===I||_>D?D:st(_))<0&&(_+=D),_=g>_?0:Qf(_);g<_;)l[g++]=d;return l}(l,d,g,_)):[]},E.filter=function _r(l,d){return(et(l)?dr:Ig)(l,Me(d,3))},E.flatMap=function uw(l,d){return ii(mo(l,d),1)},E.flatMapDeep=function Sm(l,d){return ii(mo(l,d),_t)},E.flatMapDepth=function nc(l,d,g){return g=g===I?1:st(g),ii(mo(l,d),g)},E.flatten=cm,E.flattenDeep=function Ly(l){return null!=l&&l.length?ii(l,_t):[]},E.flattenDepth=function Ny(l,d){return null!=l&&l.length?ii(l,d=d===I?1:st(d)):[]},E.flip=function Bd(l){return go(l,512)},E.flow=qw,E.flowRight=Yw,E.fromPairs=function dm(l){for(var d=-1,g=null==l?0:l.length,_={};++d<g;){var D=l[d];_[D[0]]=D[1]}return _},E.functions=function Jf(l){return null==l?[]:ef(l,Un(l))},E.functionsIn=function Iw(l){return null==l?[]:ef(l,Ji(l))},E.groupBy=Of,E.initial=function bf(l){return null!=l&&l.length?rs(l,0,-1):[]},E.intersection=Vy,E.intersectionBy=On,E.intersectionWith=Nd,E.invert=tp,E.invertBy=Aw,E.invokeMap=bm,E.iteratee=uc,E.keyBy=FS,E.keys=Un,E.keysIn=Ji,E.map=mo,E.mapKeys=function np(l,d){var g={};return d=Me(d,3),ks(l,function(_,D,M){fo(g,d(_,D,M),_)}),g},E.mapValues=function xw(l,d){var g={};return d=Me(d,3),ks(l,function(_,D,M){fo(g,D,d(_,D,M))}),g},E.matches=function Kw(l){return lf(Br(l,1))},E.matchesProperty=function hp(l,d){return kg(l,Br(d,1))},E.memoize=Hd,E.merge=Gm,E.mergeWith=$m,E.method=fp,E.methodOf=lv,E.mixin=pp,E.negate=ic,E.nthArg=function nb(l){return l=st(l),Xe(function(d){return Rl(d,l)})},E.omit=Pw,E.omitBy=function ac(l,d){return qd(l,ic(Me(d)))},E.once=function xm(l){return Im(2,l)},E.orderBy=function Nf(l,d,g,_){return null==l?[]:(et(d)||(d=null==d?[]:[d]),et(g=_?I:g)||(g=null==g?[]:[g]),Og(l,d,g))},E.over=Qw,E.overArgs=Pm,E.overEvery=uv,E.overSome=cv,E.partial=rc,E.partialRight=jf,E.partition=Em,E.pick=$l,E.pickBy=qd,E.property=gp,E.propertyOf=function dv(l){return function(d){return null==l?I:Al(l,d)}},E.pull=Uy,E.pullAll=fm,E.pullAllBy=function jy(l,d,g){return l&&l.length&&d&&d.length?Hn(l,d,Me(g,2)):l},E.pullAllWith=function zy(l,d,g){return l&&l.length&&d&&d.length?Hn(l,d,I,g):l},E.pullAt=RS,E.range=hv,E.rangeRight=Do,E.rearg=Ud,E.reject=function dw(l,d){return(et(l)?dr:Ig)(l,ic(Me(d,3)))},E.remove=function kS(l,d){var g=[];if(!l||!l.length)return g;var _=-1,D=[],M=l.length;for(d=Me(d,3);++_<M;){var A=l[_];d(A,_,l)&&(g.push(A),D.push(_))}return yd(l,D),g},E.rest=function jd(l,d){if("function"!=typeof l)throw new Zn(qe);return Xe(l,d=d===I?d:st(d))},E.reverse=Oa,E.sampleSize=function fw(l,d,g){return d=(g?mi(l,d,g):d===I)?1:st(d),(et(l)?Mg:cf)(l,d)},E.set=function lc(l,d,g){return null==l?l:Ls(l,d,g)},E.setWith=function ql(l,d,g,_){return _="function"==typeof _?_:I,null==l?l:Ls(l,d,g,_)},E.shuffle=function pw(l){return(et(l)?cd:rt)(l)},E.slice=function Li(l,d,g){var _=null==l?0:l.length;return _?(g&&"number"!=typeof g&&mi(l,d,g)?(d=0,g=_):(d=null==d?0:st(d),g=g===I?_:st(g)),rs(l,d,g)):[]},E.sortBy=Tm,E.sortedUniq=function Wy(l){return l&&l.length?yy(l):[]},E.sortedUniqBy=function Gy(l,d){return l&&l.length?yy(l,Me(d,2)):[]},E.split=function Bw(l,d,g){return g&&"number"!=typeof g&&mi(l,d,g)&&(d=g=I),(g=g===I?tn:g>>>0)?(l=Ft(l))&&("string"==typeof d||null!=d&&!oc(d))&&!(d=Hr(d))&&Wn(l)?zr(Gn(l),0,g):l.split(d,g):[]},E.spread=function Rm(l,d){if("function"!=typeof l)throw new Zn(qe);return d=null==d?0:Ie(st(d),0),Xe(function(g){var _=g[d],D=zr(g,0,d);return _&&Zi(D,_),Ai(l,this,D)})},E.tail=function mm(l){var d=null==l?0:l.length;return d?rs(l,1,d):[]},E.take=function $y(l,d,g){return l&&l.length?rs(l,0,(d=g||d===I?1:st(d))<0?0:d):[]},E.takeRight=function vm(l,d,g){var _=null==l?0:l.length;return _?rs(l,(d=_-(d=g||d===I?1:st(d)))<0?0:d,_):[]},E.takeRightWhile=function Zy(l,d){return l&&l.length?Ll(l,Me(d,3),!1,!0):[]},E.takeWhile=function _m(l,d){return l&&l.length?Ll(l,Me(d,3)):[]},E.tap=function rw(l,d){return d(l),l},E.throttle=function zf(l,d,g){var _=!0,D=!0;if("function"!=typeof l)throw new Zn(qe);return J(g)&&(_="leading"in g?!!g.leading:_,D="trailing"in g?!!g.trailing:D),Uf(l,d,{leading:_,maxWait:d,trailing:D})},E.thru=Fd,E.toArray=Um,E.toPairs=Zm,E.toPairsIn=ip,E.toPath=function _p(l){return et(l)?ot(l,mr):_i(l)?[l]:Xi(sm(Ft(l)))},E.toPlainObject=jm,E.transform=function qm(l,d,g){var _=et(l),D=_||la(l)||yo(l);if(d=Me(d,4),null==g){var M=l&&l.constructor;g=D?_?new M:[]:J(l)&&vo(M)?Ml(_n(l)):{}}return(D?Fn:ks)(l,function(A,k,V){return d(g,A,k,V)}),g},E.unary=function km(l){return Vd(l,1)},E.union=qy,E.unionBy=Yy,E.unionWith=Mf,E.uniq=function Ky(l){return l&&l.length?Ur(l):[]},E.uniqBy=function Xy(l,d){return l&&l.length?Ur(l,Me(d,2)):[]},E.uniqWith=function If(l,d){return d="function"==typeof d?d:I,l&&l.length?Ur(l,I,d):[]},E.unset=function rp(l,d){return null==l||Vg(l,d)},E.unzip=Af,E.unzipWith=ym,E.update=function sp(l,d,g){return null==l?l:kn(l,d,jr(g))},E.updateWith=function Ym(l,d,g,_){return _="function"==typeof _?_:I,null==l?l:kn(l,d,jr(g),_)},E.values=Co,E.valuesIn=function Rw(l){return null==l?[]:rn(l,Ji(l))},E.without=tc,E.words=ov,E.wrap=function Wf(l,d){return rc(jr(d),l)},E.xor=Qy,E.xorBy=Jy,E.xorWith=ew,E.zip=tw,E.zipObject=function nw(l,d){return Hg(l||[],d||[],Fu)},E.zipObjectDeep=function wm(l,d){return Hg(l||[],d||[],Ls)},E.zipWith=iw,E.entries=Zm,E.entriesIn=ip,E.extend=Wm,E.extendWith=Gl,pp(E,E),E.add=eC,E.attempt=Gw,E.camelCase=Qm,E.capitalize=Jm,E.ceil=yp,E.clamp=function Km(l,d,g){return g===I&&(g=d,d=I),g!==I&&(g=(g=cs(g))==g?g:0),d!==I&&(d=(d=cs(d))==d?d:0),xa(cs(l),d,g)},E.clone=function _w(l){return Br(l,4)},E.cloneDeep=function yw(l){return Br(l,5)},E.cloneDeepWith=function ww(l,d){return Br(l,5,d="function"==typeof d?d:I)},E.cloneWith=function Om(l,d){return Br(l,4,d="function"==typeof d?d:I)},E.conformsTo=function Lm(l,d){return null==d||Vu(l,d,Un(d))},E.deburr=op,E.defaultTo=function dp(l,d){return null==l||l!=l?d:l},E.divide=pv,E.endsWith=function kw(l,d,g){l=Ft(l),d=Hr(d);var _=l.length,D=g=g===I?_:xa(st(g),0,_);return(g-=d.length)>=0&&l.slice(g,D)==d},E.eq=yr,E.escape=function Ow(l){return(l=Ft(l))&&Uc.test(l)?l.replace(Du,gl):l},E.escapeRegExp=function wr(l){return(l=Ft(l))&&zc.test(l)?l.replace(ve,"\\$&"):l},E.every=function NS(l,d,g){var _=et(l)?Ta:py;return g&&mi(l,d,g)&&(d=I),_(l,Me(d,3))},E.find=xf,E.findIndex=Sf,E.findKey=function ZS(l,d){return Ht(l,Me(d,3),ks)},E.findLast=Pf,E.findLastIndex=um,E.findLastKey=function qS(l,d){return Ht(l,Me(d,3),Jh)},E.floor=gv,E.forEach=Rf,E.forEachRight=kf,E.forIn=function YS(l,d){return null==l?l:Pa(l,Me(d,3),Ji)},E.forInRight=function KS(l,d){return null==l?l:dd(l,Me(d,3),Ji)},E.forOwn=function XS(l,d){return l&&ks(l,Me(d,3))},E.forOwnRight=function ua(l,d){return l&&Jh(l,Me(d,3))},E.get=$d,E.gt=Nm,E.gte=VS,E.has=function ep(l,d){return null!=l&&Rd(l,d,hd)},E.hasIn=Zd,E.head=Ju,E.identity=ri,E.includes=function Lf(l,d,g,_){l=Qi(l)?l:Co(l),g=g&&!_?st(g):0;var D=l.length;return g<0&&(g=Ie(D+g,0)),qf(l)?g<=D&&l.indexOf(d,g)>-1:!!D&&so(l,d,g)>-1},E.indexOf=function Fy(l,d,g){var _=null==l?0:l.length;if(!_)return-1;var D=null==g?0:st(g);return D<0&&(D=Ie(_+D,0)),so(l,d,D)},E.inRange=function QS(l,d,g){return d=wo(d),g===I?(g=d,d=0):g=wo(g),function xg(l,d,g){return l>=je(d,g)&&l<Ie(d,g)}(l=cs(l),d,g)},E.invoke=ca,E.isArguments=aa,E.isArray=et,E.isArrayBuffer=Fm,E.isArrayLike=Qi,E.isArrayLikeObject=An,E.isBoolean=function ls(l){return!0===l||!1===l||hn(l)&&pi(l)==lt},E.isBuffer=la,E.isDate=Vm,E.isElement=function Cw(l){return hn(l)&&1===l.nodeType&&!Wl(l)},E.isEmpty=function Dw(l){if(null==l)return!0;if(Qi(l)&&(et(l)||"string"==typeof l||"function"==typeof l.splice||la(l)||yo(l)||aa(l)))return!l.length;var d=gi(l);if(d==lr||d==Ui)return!l.size;if(Ku(l))return!sf(l).length;for(var g in l)if(Nt.call(l,g))return!1;return!0},E.isEqual=function Sw(l,d){return xl(l,d)},E.isEqualWith=function bw(l,d,g){var _=(g="function"==typeof g?g:I)?g(l,d):I;return _===I?xl(l,d,I,g):!!_},E.isError=zd,E.isFinite=function Ew(l){return"number"==typeof l&&Q(l)},E.isFunction=vo,E.isInteger=Bm,E.isLength=ze,E.isMap=Gf,E.isMatch=function Wd(l,d){return l===d||tf(l,d,Yg(d))},E.isMatchWith=function us(l,d,g){return g="function"==typeof g?g:I,tf(l,d,Yg(d),g)},E.isNaN=function Hm(l){return Gd(l)&&l!=+l},E.isNative=function Tw(l){if(Py(l))throw new Ne("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pl(l)},E.isNil=function _o(l){return null==l},E.isNull=function $f(l){return null===l},E.isNumber=Gd,E.isObject=J,E.isObjectLike=hn,E.isPlainObject=Wl,E.isRegExp=oc,E.isSafeInteger=function BS(l){return Bm(l)&&l>=-$e&&l<=$e},E.isSet=Zf,E.isString=qf,E.isSymbol=_i,E.isTypedArray=yo,E.isUndefined=function Yf(l){return l===I},E.isWeakMap=function Kf(l){return hn(l)&&gi(l)==ji},E.isWeakSet=function Xf(l){return hn(l)&&"[object WeakSet]"==pi(l)},E.join=function By(l,d){return null==l?"":pe.call(l,d)},E.kebabCase=Lw,E.last=vr,E.lastIndexOf=function hm(l,d,g){var _=null==l?0:l.length;if(!_)return-1;var D=_;return g!==I&&(D=(D=st(g))<0?Ie(_+D,0):je(D,_-1)),d==d?function bs(N,j,H){for(var he=H+1;he--;)if(N[he]===j)return he;return he}(l,d,D):zo(l,Kt,D,!0)},E.lowerCase=Nw,E.lowerFirst=JS,E.lt=HS,E.lte=Mw,E.max=function mv(l){return l&&l.length?is(l,ri,ju):I},E.maxBy=function tC(l,d){return l&&l.length?is(l,Me(d,2),ju):I},E.mean=function wp(l){return Vn(l,ri)},E.meanBy=function nC(l,d){return Vn(l,Me(d,2))},E.min=function iC(l){return l&&l.length?is(l,ri,md):I},E.minBy=function vv(l,d){return l&&l.length?is(l,Me(d,2),md):I},E.stubArray=Yl,E.stubFalse=mp,E.stubObject=function Jw(){return{}},E.stubString=function ib(){return""},E.stubTrue=function vp(){return!0},E.multiply=Kl,E.nth=function Hy(l,d){return l&&l.length?Rl(l,st(d)):I},E.noConflict=function Xw(){return gn._===this&&(gn._=wl),this},E.noop=cc,E.now=zl,E.pad=function eb(l,d,g){l=Ft(l);var _=(d=st(d))?ki(l):0;if(!d||_>=d)return l;var D=(d-_)/2;return Ed(P(D),g)+l+Ed(b(D),g)},E.padEnd=function ev(l,d,g){l=Ft(l);var _=(d=st(d))?ki(l):0;return d&&_<d?l+Ed(d-_,g):l},E.padStart=function tb(l,d,g){l=Ft(l);var _=(d=st(d))?ki(l):0;return d&&_<d?Ed(d-_,g)+l:l},E.parseInt=function Fw(l,d,g){return g||null==d?d=0:d&&(d=+d),bl(Ft(l).replace(nl,""),d||0)},E.random=function Xm(l,d,g){if(g&&"boolean"!=typeof g&&mi(l,d,g)&&(d=g=I),g===I&&("boolean"==typeof d?(g=d,d=I):"boolean"==typeof l&&(g=l,l=I)),l===I&&d===I?(l=0,d=1):(l=wo(l),d===I?(d=l,l=0):d=wo(d)),l>d){var _=l;l=d,d=_}if(g||l%1||d%1){var D=Ut();return je(l+D*(d-l+Te("1e-"+((D+"").length-1))),d)}return Wu(l,d)},E.reduce=function cw(l,d,g){var _=et(l)?ro:xi,D=arguments.length<3;return _(l,Me(d,4),g,D,Rs)},E.reduceRight=function Ff(l,d,g){var _=et(l)?Yt:xi,D=arguments.length<3;return _(l,Me(d,4),g,D,Qh)},E.repeat=function ap(l,d,g){return d=(g?mi(l,d,g):d===I)?1:st(d),Jo(Ft(l),d)},E.replace=function tv(){var l=arguments,d=Ft(l[0]);return l.length<3?d:d.replace(l[1],l[2])},E.result=function Zl(l,d,g){var _=-1,D=(d=po(d,l)).length;for(D||(D=1,l=I);++_<D;){var M=null==l?I:l[mr(d[_])];M===I&&(_=D,M=g),l=vo(M)?M.call(l):M}return l},E.round=_v,E.runInContext=N,E.sample=function hw(l){return(et(l)?Yh:Ng)(l)},E.size=function gw(l){if(null==l)return 0;if(Qi(l))return qf(l)?ki(l):l.length;var d=gi(l);return d==lr||d==Ui?l.size:sf(l).length},E.snakeCase=Vw,E.some=function mw(l,d,g){var _=et(l)?pl:wS;return g&&mi(l,d,g)&&(d=I),_(l,Me(d,3))},E.sortedIndex=function Ef(l,d){return df(l,d)},E.sortedIndexBy=function pm(l,d,g){return Fg(l,d,Me(g,2))},E.sortedIndexOf=function gm(l,d){var g=null==l?0:l.length;if(g){var _=df(l,d);if(_<g&&yr(l[_],d))return _}return-1},E.sortedLastIndex=function vi(l,d){return df(l,d,!0)},E.sortedLastIndexBy=function ec(l,d,g){return Fg(l,d,Me(g,2),!0)},E.sortedLastIndexOf=function Tf(l,d){if(null!=l&&l.length){var _=df(l,d,!0)-1;if(yr(l[_],d))return _}return-1},E.startCase=Hw,E.startsWith=function nv(l,d,g){return l=Ft(l),g=null==g?0:xa(st(g),0,l.length),d=Hr(d),l.slice(g,g+d.length)==d},E.subtract=rC,E.sum=function sC(l){return l&&l.length?se(l,ri):0},E.sumBy=function Xl(l,d){return l&&l.length?se(l,Me(d,2)):0},E.template=function Uw(l,d,g){var _=E.templateSettings;g&&mi(l,d,g)&&(d=I),l=Ft(l),d=Gl({},d,_,Md);var k,V,D=Gl({},d.imports,_.imports,Md),M=Un(D),A=rn(D,M),$=0,Z=d.interpolate||rl,X="__p += '",ae=Go((d.escape||rl).source+"|"+Z.source+"|"+(Z===tl?Gc:rl).source+"|"+(d.evaluate||rl).source+"|$","g"),ye="//# sourceURL="+(Nt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Nh+"]")+"\n";l.replace(ae,function(ke,vt,Ct,Wr,er,Ni){return Ct||(Ct=Wr),X+=l.slice($,Ni).replace(Lh,di),vt&&(k=!0,X+="' +\n__e("+vt+") +\n'"),er&&(V=!0,X+="';\n"+er+";\n__p += '"),Ct&&(X+="' +\n((__t = ("+Ct+")) == null ? '' : __t) +\n'"),$=Ni+ke.length,ke}),X+="';\n";var Re=Nt.call(d,"variable")&&d.variable;if(Re){if(Ph.test(Re))throw new Ne("Invalid `variable` option passed into `_.template`")}else X="with (obj) {\n"+X+"\n}\n";X=(V?X.replace(yu,""):X).replace(wu,"$1").replace(Cu,"$1;"),X="function("+(Re||"obj")+") {\n"+(Re?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(k?", __e = _.escape":"")+(V?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+X+"return __p\n}";var ut=Gw(function(){return It(M,ye+"return "+X).apply(I,A)});if(ut.source=X,zd(ut))throw ut;return ut},E.times=function fv(l,d){if((l=st(l))<1||l>$e)return[];var g=tn,_=je(l,tn);d=Me(d),l-=tn;for(var D=Ue(_,d);++g<l;)d(g);return D},E.toFinite=wo,E.toInteger=st,E.toLength=Qf,E.toLower=function iv(l){return Ft(l).toLowerCase()},E.toNumber=cs,E.toSafeInteger=function US(l){return l?xa(st(l),-$e,$e):0===l?l:0},E.toString=Ft,E.toUpper=function jw(l){return Ft(l).toUpperCase()},E.trim=function zw(l,d,g){if((l=Ft(l))&&(g||d===I))return Rn(l);if(!l||!(d=Hr(d)))return l;var _=Gn(l),D=Gn(d);return zr(_,Lt(_,D),ts(_,D)+1).join("")},E.trimEnd=function rv(l,d,g){if((l=Ft(l))&&(g||d===I))return l.slice(0,ns(l)+1);if(!l||!(d=Hr(d)))return l;var _=Gn(l);return zr(_,0,ts(_,Gn(d))+1).join("")},E.trimStart=function sv(l,d,g){if((l=Ft(l))&&(g||d===I))return l.replace(nl,"");if(!l||!(d=Hr(d)))return l;var _=Gn(l);return zr(_,Lt(_,Gn(d))).join("")},E.truncate=function Ww(l,d){var g=30,_="...";if(J(d)){var D="separator"in d?d.separator:D;g="length"in d?st(d.length):g,_="omission"in d?Hr(d.omission):_}var M=(l=Ft(l)).length;if(Wn(l)){var A=Gn(l);M=A.length}if(g>=M)return l;var k=g-ki(_);if(k<1)return _;var V=A?zr(A,0,k).join(""):l.slice(0,k);if(D===I)return V+_;if(A&&(k+=V.length-k),oc(D)){if(l.slice(k).search(D)){var $,Z=V;for(D.global||(D=Go(D.source,Ft(il.exec(D))+"g")),D.lastIndex=0;$=D.exec(Z);)var X=$.index;V=V.slice(0,X===I?k:X)}}else if(l.indexOf(Hr(D),k)!=k){var ae=V.lastIndexOf(D);ae>-1&&(V=V.slice(0,ae))}return V+_},E.unescape=function Bs(l){return(l=Ft(l))&&Hc.test(l)?l.replace(Bc,$n):l},E.uniqueId=function dc(l){var d=++yl;return Ft(l)+d},E.upperCase=lp,E.upperFirst=up,E.each=Rf,E.eachRight=kf,E.first=Ju,pp(E,function(){var l={};return ks(E,function(d,g){Nt.call(E.prototype,g)||(l[g]=d)}),l}(),{chain:!1}),E.VERSION="4.17.21",Fn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){E[l].placeholder=E}),Fn(["drop","take"],function(l,d){wt.prototype[l]=function(g){g=g===I?1:Ie(st(g),0);var _=this.__filtered__&&!d?new wt(this):this.clone();return _.__filtered__?_.__takeCount__=je(g,_.__takeCount__):_.__views__.push({size:je(g,tn),type:l+(_.__dir__<0?"Right":"")}),_},wt.prototype[l+"Right"]=function(g){return this.reverse()[l](g).reverse()}}),Fn(["filter","map","takeWhile"],function(l,d){var g=d+1,_=1==g||3==g;wt.prototype[l]=function(D){var M=this.clone();return M.__iteratees__.push({iteratee:Me(D,3),type:g}),M.__filtered__=M.__filtered__||_,M}}),Fn(["head","last"],function(l,d){var g="take"+(d?"Right":"");wt.prototype[l]=function(){return this[g](1).value()[0]}}),Fn(["initial","tail"],function(l,d){var g="drop"+(d?"":"Right");wt.prototype[l]=function(){return this.__filtered__?new wt(this):this[g](1)}}),wt.prototype.compact=function(){return this.filter(ri)},wt.prototype.find=function(l){return this.filter(l).head()},wt.prototype.findLast=function(l){return this.reverse().find(l)},wt.prototype.invokeMap=Xe(function(l,d){return"function"==typeof l?new wt(this):this.map(function(g){return Os(g,l,d)})}),wt.prototype.reject=function(l){return this.filter(ic(Me(l)))},wt.prototype.slice=function(l,d){l=st(l);var g=this;return g.__filtered__&&(l>0||d<0)?new wt(g):(l<0?g=g.takeRight(-l):l&&(g=g.drop(l)),d!==I&&(g=(d=st(d))<0?g.dropRight(-d):g.take(d-l)),g)},wt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},wt.prototype.toArray=function(){return this.take(tn)},ks(wt.prototype,function(l,d){var g=/^(?:filter|find|map|reject)|While$/.test(d),_=/^(?:head|last)$/.test(d),D=E[_?"take"+("last"==d?"Right":""):d],M=_||/^find/.test(d);!D||(E.prototype[d]=function(){var A=this.__wrapped__,k=_?[1]:arguments,V=A instanceof wt,$=k[0],Z=V||et(A),X=function(vt){var Ct=D.apply(E,Zi([vt],k));return _&&ae?Ct[0]:Ct};Z&&g&&"function"==typeof $&&1!=$.length&&(V=Z=!1);var ae=this.__chain__,ye=!!this.__actions__.length,Re=M&&!ae,ut=V&&!ye;if(!M&&Z){A=ut?A:new wt(this);var ke=l.apply(A,k);return ke.__actions__.push({func:Fd,args:[X],thisArg:I}),new Fr(ke,ae)}return Re&&ut?l.apply(this,k):(ke=this.thru(X),Re?_?ke.value()[0]:ke.value():ke)})}),Fn(["pop","push","shift","sort","splice","unshift"],function(l){var d=vl[l],g=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",_=/^(?:pop|shift)$/.test(l);E.prototype[l]=function(){var D=arguments;if(_&&!this.__chain__){var M=this.value();return d.apply(et(M)?M:[],D)}return this[g](function(A){return d.apply(et(A)?A:[],D)})}}),ks(wt.prototype,function(l,d){var g=E[d];if(g){var _=g.name+"";Nt.call(Nr,_)||(Nr[_]=[]),Nr[_].push({name:d,func:g})}}),Nr[$u(I,2).name]=[{name:"wrapper",func:I}],wt.prototype.clone=function K(){var l=new wt(this.__wrapped__);return l.__actions__=Xi(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Xi(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Xi(this.__views__),l},wt.prototype.reverse=function Et(){if(this.__filtered__){var l=new wt(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},wt.prototype.value=function _e(){var l=this.__wrapped__.value(),d=this.__dir__,g=et(l),_=d<0,D=g?l.length:0,M=function Iy(l,d,g){for(var _=-1,D=g.length;++_<D;){var M=g[_],A=M.size;switch(M.type){case"drop":l+=A;break;case"dropRight":d-=A;break;case"take":d=je(d,l+A);break;case"takeRight":l=Ie(l,d-A)}}return{start:l,end:d}}(0,D,this.__views__),A=M.start,k=M.end,V=k-A,$=_?k:A-1,Z=this.__iteratees__,X=Z.length,ae=0,ye=je(V,this.__takeCount__);if(!g||!_&&D==V&&ye==V)return Nl(l,this.__actions__);var Re=[];e:for(;V--&&ae<ye;){for(var ut=-1,ke=l[$+=d];++ut<X;){var vt=Z[ut],Wr=vt.type,er=(0,vt.iteratee)(ke);if(2==Wr)ke=er;else if(!er){if(1==Wr)continue e;break e}}Re[ae++]=ke}return Re},E.prototype.at=sw,E.prototype.chain=function ow(){return Cm(this)},E.prototype.commit=function aw(){return new Fr(this.value(),this.__chain__)},E.prototype.next=function lw(){this.__values__===I&&(this.__values__=Um(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?I:this.__values__[this.__index__++]}},E.prototype.plant=function Vs(l){for(var d,g=this;g instanceof Lu;){var _=Ul(g);_.__index__=0,_.__values__=I,d?D.__wrapped__=_:d=_;var D=_;g=g.__wrapped__}return D.__wrapped__=l,d},E.prototype.reverse=function OS(){var l=this.__wrapped__;if(l instanceof wt){var d=l;return this.__actions__.length&&(d=new wt(this)),(d=d.reverse()).__actions__.push({func:Fd,args:[Oa],thisArg:I}),new Fr(d,this.__chain__)}return this.thru(Oa)},E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=function LS(){return Nl(this.__wrapped__,this.__actions__)},E.prototype.first=E.prototype.head,qo&&(E.prototype[qo]=function jl(){return this}),E}();gn._=Es,(at=function(){return Es}.call(Lo,ne,Lo,gs))!==I&&(gs.exports=at)}.call(this)}},gs=>{gs(gs.s=242)}]);