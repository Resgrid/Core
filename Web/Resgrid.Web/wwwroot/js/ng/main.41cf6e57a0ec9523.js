(self.webpackChunkApps=self.webpackChunkApps||[]).push([[179],{682:(wc,Cc,B)=>{"use strict";function Re(n){return"function"==typeof n}function Xe(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Or=Xe(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Qe(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Nt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Re(i))try{i()}catch(s){t=s instanceof Or?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{Nr(s)}catch(a){t=t??[],a instanceof Or?t=[...t,...a.errors]:t.push(a)}}if(t)throw new Or(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Nr(t);else{if(t instanceof Nt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Qe(e,t)}remove(t){const{_finalizers:e}=this;e&&Qe(e,t),t instanceof Nt&&t._removeParent(this)}}Nt.EMPTY=(()=>{const n=new Nt;return n.closed=!0,n})();const Ue=Nt.EMPTY;function Da(n){return n instanceof Nt||n&&"closed"in n&&Re(n.remove)&&Re(n.add)&&Re(n.unsubscribe)}function Nr(n){Re(n)?n():n.unsubscribe()}const ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Mn={setTimeout(n,t,...e){const{delegate:i}=Mn;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Mn;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function qs(n){Mn.setTimeout(()=>{const{onUnhandledError:t}=ct;if(!t)throw n;t(n)})}function Bi(){}const wt=Ys("C",void 0,void 0);function Ys(n,t,e){return{kind:n,value:t,error:e}}let rn=null;function Fr(n){if(ct.useDeprecatedSynchronousErrorHandling){const t=!rn;if(t&&(rn={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=rn;if(rn=null,e)throw i}}else n()}class ps extends Nt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Da(t)&&t.add(this)):this.destination=Si}static create(t,e,i){return new Lr(t,e,i)}next(t){this.isStopped?ba(function Dh(n){return Ys("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ba(function Dc(n){return Ys("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ba(wt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Sc=Function.prototype.bind;function Xs(n,t){return Sc.call(n,t)}class Sa{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){$t(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){$t(i)}else $t(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){$t(e)}}}class Lr extends ps{constructor(t,e,i){let r;if(super(),Re(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&ct.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Xs(t.next,s),error:t.error&&Xs(t.error,s),complete:t.complete&&Xs(t.complete,s)}):r=t}this.destination=new Sa(r)}}function $t(n){ct.useDeprecatedSynchronousErrorHandling?function Ks(n){ct.useDeprecatedSynchronousErrorHandling&&rn&&(rn.errorThrown=!0,rn.error=n)}(n):qs(n)}function ba(n,t){const{onStoppedNotification:e}=ct;e&&Mn.setTimeout(()=>e(n,t))}const Si={closed:!0,next:Bi,error:function Hn(n){throw n},complete:Bi},Ea="function"==typeof Symbol&&Symbol.observable||"@@observable";function Vt(n){return n}let nt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function qn(n){return n&&n instanceof ps||function Ct(n){return n&&Re(n.next)&&Re(n.error)&&Re(n.complete)}(n)&&Da(n)}(e)?e:new Lr(e,i,r);return Fr(()=>{const{operator:a,source:l}=this;s.add(a?a.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=xe(i))((r,s)=>{const a=new Lr({next:l=>{try{e(l)}catch(u){s(u),a.unsubscribe()}},error:s,complete:r});this.subscribe(a)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Ea](){return this}pipe(...e){return function me(n){return 0===n.length?Vt:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=xe(e))((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return n.create=t=>new n(t),n})();function xe(n){var t;return null!==(t=n??ct.Promise)&&void 0!==t?t:Promise}const wn=Xe(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ve=(()=>{class n extends nt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Je(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new wn}next(e){Fr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Fr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Fr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Ue:(this.currentObservers=null,s.push(e),new Nt(()=>{this.currentObservers=null,Qe(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new nt;return e.source=this,e}}return n.create=(t,e)=>new Je(t,e),n})();class Je extends ve{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Ue}}function ut(n){return t=>{if(function Dt(n){return Re(null==n?void 0:n.lift)}(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function it(n,t,e,i,r){return new bc(n,t,e,i,r)}class bc extends ps{constructor(t,e,i,r,s,a){super(t),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=e?function(l){try{e(l)}catch(u){t.error(u)}}:super._next,this._error=r?function(l){try{r(l)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function He(n,t){return ut((e,i)=>{let r=0;e.subscribe(it(i,s=>{i.next(n.call(t,s,r++))}))})}var Vr=function(){return Vr=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},Vr.apply(this,arguments)};function Hi(n){return this instanceof Hi?(this.v=n,this):new Hi(n)}function Ac(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(v){i[v]&&(r[v]=function(_){return new Promise(function(w,C){s.push([v,_,w,C])>1||l(v,_)})})}function l(v,_){try{!function u(v){v.value instanceof Hi?Promise.resolve(v.value.v).then(d,f):g(s[0][2],v)}(i[v](_))}catch(w){g(s[0][3],w)}}function d(v){l("next",v)}function f(v){l("throw",v)}function g(v,_){v(_),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Pc(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Ma(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(a){return new Promise(function(l,u){!function r(s,a,l,u){Promise.resolve(u).then(function(d){s({value:d,done:l})},a)}(l,u,(a=n[s](a)).done,a.value)})}}}const Ia=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function xc(n){return Re(null==n?void 0:n.then)}function Aa(n){return Re(n[Ea])}function Pa(n){return Symbol.asyncIterator&&Re(null==n?void 0:n[Symbol.asyncIterator])}function ka(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Rc=function Ph(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Oc(n){return Re(null==n?void 0:n[Rc])}function Nc(n){return Ac(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Hi(e.read());if(r)return yield Hi(void 0);yield yield Hi(i)}}finally{e.releaseLock()}})}function Fc(n){return Re(null==n?void 0:n.getReader)}function In(n){if(n instanceof nt)return n;if(null!=n){if(Aa(n))return function xa(n){return new nt(t=>{const e=n[Ea]();if(Re(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Ia(n))return function kh(n){return new nt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(xc(n))return function xh(n){return new nt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,qs)})}(n);if(Pa(n))return ne(n);if(Oc(n))return function li(n){return new nt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Fc(n))return function Lc(n){return ne(Nc(n))}(n)}throw ka(n)}function ne(n){return new nt(t=>{(function Vc(n,t){var e,i,r,s;return function eo(n,t,e,i){return new(e||(e=Promise))(function(s,a){function l(f){try{d(i.next(f))}catch(g){a(g)}}function u(f){try{d(i.throw(f))}catch(g){a(g)}}function d(f){f.done?s(f.value):function r(s){return s instanceof e?s:new e(function(a){a(s)})}(f.value).then(l,u)}d((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Pc(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function ci(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function ui(n,t,e=1/0){return Re(t)?ui((i,r)=>He((s,a)=>t(i,s,r,a))(In(n(i,r))),e):("number"==typeof t&&(e=t),ut((i,r)=>function Bc(n,t,e,i,r,s,a,l){const u=[];let d=0,f=0,g=!1;const v=()=>{g&&!u.length&&!d&&t.complete()},_=C=>d<i?w(C):u.push(C),w=C=>{s&&t.next(C),d++;let S=!1;In(e(C,f++)).subscribe(it(t,E=>{null==r||r(E),s?_(E):t.next(E)},()=>{S=!0},void 0,()=>{if(S)try{for(d--;u.length&&d<i;){const E=u.shift();a?ci(t,a,()=>w(E)):w(E)}v()}catch(E){t.error(E)}}))};return n.subscribe(it(t,_,()=>{g=!0,v()})),()=>{null==l||l()}}(i,r,n,e)))}function Ra(n=1/0){return ui(Vt,n)}const bi=new nt(n=>n.complete());function Hc(n){return n&&Re(n.schedule)}function Oa(n){return n[n.length-1]}function jc(n){return Re(Oa(n))?n.pop():void 0}function Br(n){return Hc(Oa(n))?n.pop():void 0}function ms(n,t=0){return ut((e,i)=>{e.subscribe(it(i,r=>ci(i,n,()=>i.next(r),t),()=>ci(i,n,()=>i.complete(),t),r=>ci(i,n,()=>i.error(r),t)))})}function Uc(n,t=0){return ut((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function no(n,t){if(!n)throw new Error("Iterable cannot be null");return new nt(e=>{ci(e,t,()=>{const i=n[Symbol.asyncIterator]();ci(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function pr(n,t){return t?function zc(n,t){if(null!=n){if(Aa(n))return function Fh(n,t){return In(n).pipe(Uc(t),ms(t))}(n,t);if(Ia(n))return function Vh(n,t){return new nt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(xc(n))return function Lh(n,t){return In(n).pipe(Uc(t),ms(t))}(n,t);if(Pa(n))return no(n,t);if(Oc(n))return function Bh(n,t){return new nt(e=>{let i;return ci(e,t,()=>{i=n[Rc](),ci(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(a){return void e.error(a)}s?e.complete():e.next(r)},0,!0)}),()=>Re(null==i?void 0:i.return)&&i.return()})}(n,t);if(Fc(n))return function vs(n,t){return no(Nc(n),t)}(n,t)}throw ka(n)}(n,t):In(n)}function sn(...n){const t=Br(n),e=function Nh(n,t){return"number"==typeof Oa(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?In(i[0]):Ra(e)(pr(i,t)):bi}function Se(n={}){const{connector:t=(()=>new ve),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let a,l,u,d=0,f=!1,g=!1;const v=()=>{null==l||l.unsubscribe(),l=void 0},_=()=>{v(),a=u=void 0,f=g=!1},w=()=>{const C=a;_(),null==C||C.unsubscribe()};return ut((C,S)=>{d++,!g&&!f&&v();const E=u=u??t();S.add(()=>{d--,0===d&&!g&&!f&&(l=dt(w,r))}),E.subscribe(S),!a&&d>0&&(a=new Lr({next:b=>E.next(b),error:b=>{g=!0,v(),l=dt(_,e,b),E.error(b)},complete:()=>{f=!0,v(),l=dt(_,i),E.complete()}}),In(C).subscribe(a))})(s)}}function dt(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Lr({next:()=>{i.unsubscribe(),n()}});return t(...e).subscribe(i)}function $e(n){for(let t in n)if(n[t]===$e)return t;throw Error("Could not find renamed property on target object.")}function ji(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Le(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Le).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function _s(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Ee=$e({__forward_ref__:$e});function fe(n){return n.__forward_ref__=fe,n.toString=function(){return Le(this())},n}function _e(n){return ys(n)?n():n}function ys(n){return"function"==typeof n&&n.hasOwnProperty(Ee)&&n.__forward_ref__===fe}class $ extends Error{constructor(t,e){super(function Hr(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function le(n){return"string"==typeof n?n:null==n?"":String(n)}function Ve(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():le(n)}function jr(n,t){const e=t?` in ${t}`:"";throw new $(-201,`No provider for ${Ve(n)} found${e}`)}function Cn(n,t){null==n&&function rt(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function be(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ei(n){return Va(n,ao)||Va(n,Oe)}function Va(n,t){return n.hasOwnProperty(t)?n[t]:null}function oo(n){return n&&(n.hasOwnProperty(lo)||n.hasOwnProperty(zh))?n[lo]:null}const ao=$e({\u0275prov:$e}),lo=$e({\u0275inj:$e}),Oe=$e({ngInjectableDef:$e}),zh=$e({ngInjectorDef:$e});var oe=(()=>((oe=oe||{})[oe.Default=0]="Default",oe[oe.Host=1]="Host",oe[oe.Self=2]="Self",oe[oe.SkipSelf=4]="SkipSelf",oe[oe.Optional=8]="Optional",oe))();let mr;function Ui(n){const t=mr;return mr=n,t}function co(n,t,e){const i=Ei(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&oe.Optional?null:void 0!==t?t:void jr(Le(n),"Injector")}function Ti(n){return{toString:n}.toString()}var Xn=(()=>((Xn=Xn||{})[Xn.OnPush=0]="OnPush",Xn[Xn.Default=1]="Default",Xn))(),Qn=(()=>{return(n=Qn||(Qn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Qn;var n})();const hi=typeof globalThis<"u"&&globalThis,Wh=typeof window<"u"&&window,Qc=typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self,Ye=hi||typeof global<"u"&&global||Wh||Qc,zr={},Ke=[],uo=$e({\u0275cmp:$e}),ho=$e({\u0275dir:$e}),fo=$e({\u0275pipe:$e}),ws=$e({\u0275mod:$e}),gn=$e({\u0275fac:$e}),Cs=$e({__NG_ELEMENT_ID__:$e});let Ds=0;function ft(n){return Ti(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Xn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ke,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Qn.Emulated,id:"c",styles:n.styles||Ke,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,a=n.pipes;return i.id+=Ds++,i.inputs=nu(n.inputs,e),i.outputs=nu(n.outputs),s&&s.forEach(l=>l(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(eu):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Ba):null,i})}function eu(n){return on(n)||function Bt(n){return n[ho]||null}(n)}function Ba(n){return function jn(n){return n[fo]||null}(n)}const tu={};function st(n){return Ti(()=>{const t={type:n.type,bootstrap:n.bootstrap||Ke,declarations:n.declarations||Ke,imports:n.imports||Ke,exports:n.exports||Ke,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(tu[n.id]=n.type),t})}function nu(n,t){if(null==n)return zr;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const ie=ft;function vt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function on(n){return n[uo]||null}function Un(n,t){const e=n[ws]||null;if(!e&&!0===t)throw new Error(`Type ${Le(n)} does not have '\u0275mod' property.`);return e}function fi(n){return Array.isArray(n)&&"object"==typeof n[1]}function Wn(n){return Array.isArray(n)&&!0===n[1]}function za(n){return 0!=(8&n.flags)}function Ss(n){return 2==(2&n.flags)}function vo(n){return 1==(1&n.flags)}function xt(n){return null!==n.template}function _o(n){return 0!=(512&n[2])}function Ki(n,t){return n.hasOwnProperty(gn)?n[gn]:null}class Ga{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Kt(){return $a}function $a(n){return n.type.prototype.ngOnChanges&&(n.setInput=iu),ef}function ef(){const n=ru(this),t=n?.current;if(t){const e=n.previous;if(e===zr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function iu(n,t,e,i){const r=ru(n)||function o(n,t){return n[Za]=t}(n,{previous:zr,current:null}),s=r.current||(r.current={}),a=r.previous,l=this.declaredInputs[e],u=a[l];s[l]=new Ga(u&&u.currentValue,t,a===zr),n[i]=t}Kt.ngInherit=!0;const Za="__ngSimpleChanges__";function ru(n){return n[Za]||null}const D="math";let O;function Me(){return void 0!==O?O:typeof document<"u"?document:void 0}function Ze(n){return!!n.listen}const Xi={createRenderer:(n,t)=>Me()};function ot(n){for(;Array.isArray(n);)n=n[0];return n}function bo(n,t){return ot(t[n])}function Gn(n,t){return ot(t[n.index])}function Ya(n,t){return n.data[t]}function wr(n,t){return n[t]}function ze(n,t){const e=t[n];return fi(e)?e:e[0]}function Es(n){return 4==(4&n[2])}function Ka(n){return 128==(128&n[2])}function Qi(n,t){return null==t?null:n[t]}function Eo(n){n[18]=0}function To(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const pe={lFrame:t_(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qv(){return pe.bindingsEnabled}function R(){return pe.lFrame.lView}function We(){return pe.lFrame.tView}function Q(n){return pe.lFrame.contextLView=n,n[8]}function Xt(){let n=Yv();for(;null!==n&&64===n.type;)n=n.parent;return n}function Yv(){return pe.lFrame.currentTNode}function Ji(n,t){const e=pe.lFrame;e.currentTNode=n,e.isParent=t}function nf(){return pe.lFrame.isParent}function ou(){return pe.isInCheckNoChangesMode}function au(n){pe.isInCheckNoChangesMode=n}function Pn(){const n=pe.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Mo(){return pe.lFrame.bindingIndex++}function XT(n,t){const e=pe.lFrame;e.bindingIndex=e.bindingRootIndex=n,sf(t)}function sf(n){pe.lFrame.currentDirectiveIndex=n}function Qv(){return pe.lFrame.currentQueryIndex}function lf(n){pe.lFrame.currentQueryIndex=n}function JT(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Jv(n,t,e){if(e&oe.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&oe.Host||(r=JT(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=pe.lFrame=e_();return i.currentTNode=t,i.lView=n,!0}function lu(n){const t=e_(),e=n[1];pe.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function e_(){const n=pe.lFrame,t=null===n?null:n.child;return null===t?t_(n):t}function t_(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function n_(){const n=pe.lFrame;return pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const i_=n_;function cu(){const n=n_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function kn(){return pe.lFrame.selectedIndex}function Zr(n){pe.lFrame.selectedIndex=n}function Rt(){const n=pe.lFrame;return Ya(n.tView,n.selectedIndex)}function uu(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=s;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),l&&((n.contentHooks||(n.contentHooks=[])).push(e,l),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,l)),u&&(n.viewHooks||(n.viewHooks=[])).push(-e,u),d&&((n.viewHooks||(n.viewHooks=[])).push(e,d),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,d)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function du(n,t,e){r_(n,t,3,e)}function hu(n,t,e,i){(3&n[2])===e&&r_(n,t,e,i)}function cf(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function r_(n,t,e,i){const s=i??-1,a=t.length-1;let l=0;for(let u=void 0!==i?65535&n[18]:0;u<a;u++)if("number"==typeof t[u+1]){if(l=t[u],null!=i&&l>=i)break}else t[u]<0&&(n[18]+=65536),(l<s||-1==s)&&(lM(n,e,t,u),n[18]=(4294901760&n[18])+u+2),u++}function lM(n,t,e,i){const r=e[i]<0,s=e[i+1],l=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class Qa{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function fu(n,t,e){const i=Ze(n);let r=0;for(;r<e.length;){const s=e[r];if("number"==typeof s){if(0!==s)break;r++;const a=e[r++],l=e[r++],u=e[r++];i?n.setAttribute(t,l,u,a):t.setAttributeNS(a,l,u)}else{const a=s,l=e[++r];df(a)?i&&n.setProperty(t,a,l):i?n.setAttribute(t,a,l):t.setAttribute(a,l),r++}}return r}function s_(n){return 3===n||4===n||6===n}function df(n){return 64===n.charCodeAt(0)}function pu(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||o_(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function o_(n,t,e,i,r){let s=0,a=n.length;if(-1===t)a=-1;else for(;s<n.length;){const l=n[s++];if("number"==typeof l){if(l===t){a=-1;break}if(l>t){a=s-1;break}}}for(;s<n.length;){const l=n[s];if("number"==typeof l)break;if(l===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(n.splice(a,0,t),s=a+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function a_(n){return-1!==n}function Io(n){return 32767&n}function Ao(n,t){let e=function fM(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let hf=!0;function gu(n){const t=hf;return hf=n,t}let pM=0;function el(n,t){const e=pf(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,ff(i.data,n),ff(t,null),ff(i.blueprint,null));const r=mu(n,t),s=n.injectorIndex;if(a_(r)){const a=Io(r),l=Ao(r,t),u=l[1].data;for(let d=0;d<8;d++)t[s+d]=l[a+d]|u[a+d]}return t[s+8]=r,s}function ff(n,t){n.push(0,0,0,0,0,0,0,0,t)}function pf(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function mu(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const s=r[1],a=s.type;if(i=2===a?s.declTNode:1===a?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function vu(n,t,e){!function gM(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Cs)&&(i=e[Cs]),null==i&&(i=e[Cs]=pM++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function u_(n,t,e){if(e&oe.Optional)return n;jr(t,"NodeInjector")}function d_(n,t,e,i){if(e&oe.Optional&&void 0===i&&(i=null),0==(e&(oe.Self|oe.Host))){const r=n[9],s=Ui(void 0);try{return r?r.get(t,i,e&oe.Optional):co(t,i,e&oe.Optional)}finally{Ui(s)}}return u_(i,t,e)}function h_(n,t,e,i=oe.Default,r){if(null!==n){const s=function yM(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Cs)?n[Cs]:void 0;return"number"==typeof t?t>=0?255&t:vM:t}(e);if("function"==typeof s){if(!Jv(t,n,i))return i&oe.Host?u_(r,e,i):d_(t,e,i,r);try{const a=s(i);if(null!=a||i&oe.Optional)return a;jr(e)}finally{i_()}}else if("number"==typeof s){let a=null,l=pf(n,t),u=-1,d=i&oe.Host?t[16][6]:null;for((-1===l||i&oe.SkipSelf)&&(u=-1===l?mu(n,t):t[l+8],-1!==u&&g_(i,!1)?(a=t[1],l=Io(u),t=Ao(u,t)):l=-1);-1!==l;){const f=t[1];if(p_(s,l,f.data)){const g=_M(l,t,e,a,i,d);if(g!==f_)return g}u=t[l+8],-1!==u&&g_(i,t[1].data[l+8]===d)&&p_(s,l,t)?(a=f,l=Io(u),t=Ao(u,t)):l=-1}}}return d_(t,e,i,r)}const f_={};function vM(){return new Po(Xt(),R())}function _M(n,t,e,i,r,s){const a=t[1],l=a.data[n+8],f=_u(l,a,e,null==i?Ss(l)&&hf:i!=a&&0!=(3&l.type),r&oe.Host&&s===l);return null!==f?tl(t,a,f,l):f_}function _u(n,t,e,i,r){const s=n.providerIndexes,a=t.data,l=1048575&s,u=n.directiveStart,f=s>>20,v=r?l+f:n.directiveEnd;for(let _=i?l:l+f;_<v;_++){const w=a[_];if(_<u&&e===w||_>=u&&w.type===e)return _}if(r){const _=a[u];if(_&&xt(_)&&_.type===e)return u}return null}function tl(n,t,e,i){let r=n[e];const s=t.data;if(function cM(n){return n instanceof Qa}(r)){const a=r;a.resolving&&function gr(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new $(-200,`Circular dependency in DI detected for ${n}${e}`)}(Ve(s[e]));const l=gu(a.canSeeViewProviders);a.resolving=!0;const u=a.injectImpl?Ui(a.injectImpl):null;Jv(n,i,oe.Default);try{r=n[e]=a.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function aM(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const a=$a(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==u&&Ui(u),gu(l),a.resolving=!1,i_()}}return r}function p_(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function g_(n,t){return!(n&oe.Self||n&oe.Host&&t)}class Po{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return h_(this._tNode,this._lView,t,i,e)}}function mn(n){return Ti(()=>{const t=n.prototype.constructor,e=t[gn]||gf(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[gn]||gf(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function gf(n){return ys(n)?()=>{const t=gf(_e(n));return t&&t()}:Ki(n)}const xo="__parameters__";function Oo(n,t,e){return Ti(()=>{const i=function vf(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const a=new r(...s);return l.annotation=a,l;function l(u,d,f){const g=u.hasOwnProperty(xo)?u[xo]:Object.defineProperty(u,xo,{value:[]})[xo];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(a),u}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class Ie{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=q({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function pi(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),pi(i,t)):t!==n&&t.push(i)}return t}function er(n,t){n.forEach(e=>Array.isArray(e)?er(e,t):t(e))}function v_(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function yu(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function ei(n,t,e){let i=No(n,t);return i>=0?n[1|i]=e:(i=~i,function SM(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function yf(n,t){const e=No(n,t);if(e>=0)return n[1|e]}function No(n,t){return function w_(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),a=n[s<<e];if(t===a)return s<<e;a>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const sl={},Cf="__NG_DI_FLAG__",Cu="ngTempTokenPath",PM=/\n/gm,D_="__source",xM=$e({provide:String,useValue:$e});let ol;function S_(n){const t=ol;return ol=n,t}function RM(n,t=oe.Default){if(void 0===ol)throw new $(203,"");return null===ol?co(n,void 0,t):ol.get(n,t&oe.Optional?null:void 0,t)}function P(n,t=oe.Default){return(function Kc(){return mr}()||RM)(_e(n),t)}const E_=P;function Df(n){const t=[];for(let e=0;e<n.length;e++){const i=_e(n[e]);if(Array.isArray(i)){if(0===i.length)throw new $(900,"");let r,s=oe.Default;for(let a=0;a<i.length;a++){const l=i[a],u=OM(l);"number"==typeof u?-1===u?r=l.token:s|=u:r=l}t.push(P(r,s))}else t.push(P(i))}return t}function al(n,t){return n[Cf]=t,n.prototype[Cf]=t,n}function OM(n){return n[Cf]}const Du=al(Oo("Optional"),8),Su=al(Oo("SkipSelf"),4);let Eu,Tu;function Lo(n){return function Ef(){if(void 0===Eu&&(Eu=null,Ye.trustedTypes))try{Eu=Ye.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Eu}()?.createHTML(n)||n}function P_(n){return function Tf(){if(void 0===Tu&&(Tu=null,Ye.trustedTypes))try{Tu=Ye.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Tu}()?.createHTML(n)||n}class R_{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Yr(n){return n instanceof R_?n.changingThisBreaksApplicationSecurity:n}class JM{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Lo(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class eI{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Lo(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Lo(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const a=e.item(r).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&t.removeAttribute(a)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const nI=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,iI=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Mu(n){return(n=String(n)).match(nI)||n.match(iI)?n:"unsafe:"+n}function N_(n){return(n=String(n)).split(",").map(t=>Mu(t.trim())).join(", ")}function tr(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function ul(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const F_=tr("area,br,col,hr,img,wbr"),L_=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),V_=tr("rp,rt"),Mf=ul(F_,ul(L_,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ul(V_,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ul(V_,L_)),If=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Af=tr("srcset"),B_=ul(If,Af,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rI=tr("script,style,template");class sI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Mf.hasOwnProperty(e))return this.sanitizedSomething=!0,!rI.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),a=s.name,l=a.toLowerCase();if(!B_.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let u=s.value;If[l]&&(u=Mu(u)),Af[l]&&(u=N_(u)),this.buf.push(" ",a,'="',H_(u),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Mf.hasOwnProperty(e)&&!F_.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(H_(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const oI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aI=/([^\#-~ |!])/g;function H_(n){return n.replace(/&/g,"&amp;").replace(oI,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(aI,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Iu;function Pf(n){return"content"in n&&function cI(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ht=(()=>((Ht=Ht||{})[Ht.NONE=0]="NONE",Ht[Ht.HTML=1]="HTML",Ht[Ht.STYLE=2]="STYLE",Ht[Ht.SCRIPT=3]="SCRIPT",Ht[Ht.URL=4]="URL",Ht[Ht.RESOURCE_URL=5]="RESOURCE_URL",Ht))();function Au(n){const t=function dl(){const n=R();return n&&n[12]}();return t?P_(t.sanitize(Ht.HTML,n)||""):function cl(n,t){const e=function QM(n){return n instanceof R_&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}(n,"HTML")?P_(Yr(n)):function lI(n,t){let e=null;try{Iu=Iu||function O_(n){const t=new eI(n);return function tI(){try{return!!(new window.DOMParser).parseFromString(Lo(""),"text/html")}catch{return!1}}()?new JM(t):t}(n);let i=t?String(t):"";e=Iu.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Iu.getInertBodyElement(i)}while(i!==s);return Lo((new sI).sanitizeChildren(Pf(e)||e))}finally{if(e){const i=Pf(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(Me(),le(n))}const W_="__ngContext__";function bn(n,t){n[W_]=t}function xf(n){const t=function hl(n){return n[W_]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Of(n){return n.ngOriginalError}function EI(n,...t){n.error(...t)}class fl{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function bI(n){return n&&n.ngErrorLogger||EI}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Of(t);for(;e&&Of(e);)e=Of(e);return e||null}}const NI=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ye))();function nr(n){return n instanceof Function?n():n}var ti=(()=>((ti=ti||{})[ti.Important=1]="Important",ti[ti.DashCase=2]="DashCase",ti))();function Ff(n,t){return undefined(n,t)}function pl(n){const t=n[3];return Wn(t)?t[3]:t}function Lf(n){return J_(n[13])}function Vf(n){return J_(n[4])}function J_(n){for(;null!==n&&!Wn(n);)n=n[4];return n}function Bo(n,t,e,i,r){if(null!=i){let s,a=!1;Wn(i)?s=i:fi(i)&&(a=!0,i=i[0]);const l=ot(i);0===n&&null!==e?null==r?sy(t,e,l):Ts(t,e,l,r||null,!0):1===n&&null!==e?Ts(t,e,l,r||null,!0):2===n?function hy(n,t,e){const i=Pu(n,t);i&&function YI(n,t,e,i){Ze(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,l,a):3===n&&t.destroyNode(l),null!=s&&function QI(n,t,e,i,r){const s=e[7];s!==ot(e)&&Bo(t,n,i,s,r);for(let l=10;l<e.length;l++){const u=e[l];gl(u[1],u,n,t,i,s)}}(t,n,s,e,r)}}function Hf(n,t,e){if(Ze(n))return n.createElement(t,e);{const i=null!==e?function I(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":t===D?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function ty(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,To(r,-1)),e.splice(i,1)}function jf(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&ty(r,i),t>0&&(n[e-1][4]=i[4]);const s=yu(n,10+t);!function jI(n,t){gl(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function ny(n,t){if(!(256&t[2])){const e=t[11];Ze(e)&&e.destroyNode&&gl(n,t,e,3,null,null),function WI(n){let t=n[13];if(!t)return Uf(n[1],n);for(;t;){let e=null;if(fi(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)fi(t)&&Uf(t[1],t),t=t[3];null===t&&(t=n),fi(t)&&Uf(t[1],t),e=t&&t[4]}t=e}}(t)}}function Uf(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function qI(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Qa)){const s=e[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const l=r[s[a]],u=s[a+1];try{u.call(l)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function ZI(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const a=e[s+1],l="function"==typeof a?a(t):ot(t[a]),u=i[r=e[s+2]],d=e[s+3];"boolean"==typeof d?l.removeEventListener(e[s],u,d):d>=0?i[r=d]():i[r=-d].unsubscribe(),s+=2}else{const a=i[r=e[s+1]];e[s].call(a)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();t[7]=null}}(n,t),1===t[1].type&&Ze(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Wn(t[3])){e!==t[3]&&ty(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function iy(n,t,e){return function ry(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Qn.None||r===Qn.Emulated)return null}return Gn(i,e)}(n,t.parent,e)}function Ts(n,t,e,i,r){Ze(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function sy(n,t,e){Ze(n)?n.appendChild(t,e):t.appendChild(e)}function oy(n,t,e,i,r){null!==i?Ts(n,t,e,i,r):sy(n,t,e)}function Pu(n,t){return Ze(n)?n.parentNode(t):t.parentNode}let cy=function ly(n,t,e){return 40&n.type?Gn(n,e):null};function ku(n,t,e,i){const r=iy(n,i,t),s=t[11],l=function ay(n,t,e){return cy(n,t,e)}(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let u=0;u<e.length;u++)oy(s,r,e[u],l,!1);else oy(s,r,e,l,!1)}function xu(n,t){if(null!==t){const e=t.type;if(3&e)return Gn(t,n);if(4&e)return Wf(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return xu(n,i);{const r=n[t.index];return Wn(r)?Wf(-1,r):ot(r)}}if(32&e)return Ff(t,n)()||ot(n[t.index]);{const i=dy(n,t);return null!==i?Array.isArray(i)?i[0]:xu(pl(n[16]),i):xu(n,t.next)}}return null}function dy(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Wf(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return xu(i,r)}return t[7]}function Gf(n,t,e,i,r,s,a){for(;null!=e;){const l=i[e.index],u=e.type;if(a&&0===t&&(l&&bn(ot(l),i),e.flags|=4),64!=(64&e.flags))if(8&u)Gf(n,t,e.child,i,r,s,!1),Bo(t,n,r,l,s);else if(32&u){const d=Ff(e,i);let f;for(;f=d();)Bo(t,n,r,f,s);Bo(t,n,r,l,s)}else 16&u?fy(n,t,i,e,r,s):Bo(t,n,r,l,s);e=a?e.projectionNext:e.next}}function gl(n,t,e,i,r,s){Gf(e,i,n.firstChild,t,r,s,!1)}function fy(n,t,e,i,r,s){const a=e[16],u=a[6].projection[i.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++)Bo(t,n,r,u[d],s);else Gf(n,t,u,a[3],r,s,!0)}function py(n,t,e){Ze(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function $f(n,t,e){Ze(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function gy(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const my="ng-template";function eA(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==gy(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function vy(n){return 4===n.type&&n.value!==my}function tA(n,t,e){return t===(4!==n.type||e?n.value:my)}function nA(n,t,e){let i=4;const r=n.attrs||[],s=function sA(n){for(let t=0;t<n.length;t++)if(s_(n[t]))return t;return n.length}(r);let a=!1;for(let l=0;l<t.length;l++){const u=t[l];if("number"!=typeof u){if(!a)if(4&i){if(i=2|1&i,""!==u&&!tA(n,u,e)||""===u&&1===t.length){if(Mi(i))return!1;a=!0}}else{const d=8&i?u:t[++l];if(8&i&&null!==n.attrs){if(!eA(n.attrs,d,e)){if(Mi(i))return!1;a=!0}continue}const g=iA(8&i?"class":u,r,vy(n),e);if(-1===g){if(Mi(i))return!1;a=!0;continue}if(""!==d){let v;v=g>s?"":r[g+1].toLowerCase();const _=8&i?v:null;if(_&&-1!==gy(_,d,0)||2&i&&d!==v){if(Mi(i))return!1;a=!0}}}}else{if(!a&&!Mi(i)&&!Mi(u))return!1;if(a&&Mi(u))continue;a=!1,i=u|1&i}}return Mi(i)||a}function Mi(n){return 0==(1&n)}function iA(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const a=t[r];if(a===n)return r;if(3===a||6===a)s=!0;else{if(1===a||2===a){let l=t[++r];for(;"string"==typeof l;)l=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=s?1:2}return-1}return function oA(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function _y(n,t,e=!1){for(let i=0;i<t.length;i++)if(nA(n,t[i],e))return!0;return!1}function yy(n,t){return n?":not("+t.trim()+")":t}function lA(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&i){const l=n[++e];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!Mi(a)&&(t+=yy(s,r),r=""),i=a,s=s||!Mi(i);e++}return""!==r&&(t+=yy(s,r)),t}const Ce={};function j(n){wy(We(),R(),kn()+n,ou())}function wy(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&du(t,s,e)}else{const s=n.preOrderHooks;null!==s&&hu(t,s,0,e)}Zr(e)}function Ru(n,t){return n<<17|t<<2}function Ii(n){return n>>17&32767}function Zf(n){return 2|n}function Sr(n){return(131068&n)>>2}function qf(n,t){return-131069&n|t<<2}function Yf(n){return 1|n}function ky(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const a=n.data[s];lf(r),a.contentQueries(2,t[s],s)}}}function ml(n,t,e,i,r,s,a,l,u,d){const f=t.blueprint.slice();return f[0]=r,f[2]=140|i,Eo(f),f[3]=f[15]=n,f[8]=e,f[10]=a||n&&n[10],f[11]=l||n&&n[11],f[12]=u||n&&n[12]||null,f[9]=d||n&&n[9]||null,f[6]=s,f[16]=2==t.type?n[16]:f,f}function Ho(n,t,e,i,r){let s=n.data[t];if(null===s)s=function rp(n,t,e,i,r){const s=Yv(),a=nf(),u=n.data[t]=function TA(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=u),null!==s&&(a?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,t,e,i,r),function KT(){return pe.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const a=function Xa(){const n=pe.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Ji(s,!0),s}function jo(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function vl(n,t,e){lu(t);try{const i=n.viewQuery;null!==i&&fp(1,i,e);const r=n.template;null!==r&&xy(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ky(n,t),n.staticViewQueries&&fp(2,n.viewQuery,e);const s=n.components;null!==s&&function SA(n,t){for(let e=0;e<t.length;e++)WA(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,cu()}}function Uo(n,t,e,i){const r=t[2];if(256==(256&r))return;lu(t);const s=ou();try{Eo(t),function Kv(n){return pe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&xy(n,t,e,2,i);const a=3==(3&r);if(!s)if(a){const d=n.preOrderCheckHooks;null!==d&&du(t,d,null)}else{const d=n.preOrderHooks;null!==d&&hu(t,d,0,null),cf(t,0)}if(function UA(n){for(let t=Lf(n);null!==t;t=Vf(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(1024&r[2])&&To(s,1),r[2]|=1024}}}(t),function jA(n){for(let t=Lf(n);null!==t;t=Vf(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Ka(i)&&Uo(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&ky(n,t),!s)if(a){const d=n.contentCheckHooks;null!==d&&du(t,d)}else{const d=n.contentHooks;null!==d&&hu(t,d,1),cf(t,1)}!function CA(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Zr(~r);else{const s=r,a=e[++i],l=e[++i];XT(a,s),l(2,t[s])}}}finally{Zr(-1)}}(n,t);const l=n.components;null!==l&&function DA(n,t){for(let e=0;e<t.length;e++)zA(n,t[e])}(t,l);const u=n.viewQuery;if(null!==u&&fp(2,u,i),!s)if(a){const d=n.viewCheckHooks;null!==d&&du(t,d)}else{const d=n.viewHooks;null!==d&&hu(t,d,2),cf(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,To(t[3],-1))}finally{cu()}}function bA(n,t,e,i){const r=t[10],s=!ou(),a=Es(t);try{s&&!a&&r.begin&&r.begin(),a&&vl(n,t,i),Uo(n,t,e,i)}finally{s&&!a&&r.end&&r.end()}}function xy(n,t,e,i,r){const s=kn(),a=2&i;try{Zr(-1),a&&t.length>20&&wy(n,t,20,ou()),e(i,r)}finally{Zr(s)}}function sp(n,t,e){!qv()||(function RA(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||el(e,t),bn(i,t);const a=e.initialInputs;for(let l=r;l<s;l++){const u=n.data[l],d=xt(u);d&&VA(t,e,u);const f=tl(t,n,l,e);bn(f,t),null!==a&&BA(0,l-r,f,u,0,a),d&&(ze(e.index,t)[8]=f)}}(n,t,e,Gn(e,t)),128==(128&e.flags)&&function OA(n,t,e){const i=e.directiveStart,r=e.directiveEnd,a=e.index,l=function QT(){return pe.lFrame.currentDirectiveIndex}();try{Zr(a);for(let u=i;u<r;u++){const d=n.data[u],f=t[u];sf(u),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&jy(d,f)}}finally{Zr(-1),sf(l)}}(n,t,e))}function op(n,t,e=Gn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],l=-1===a?e(t,n):n[a];n[r++]=l}}}function Oy(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Fu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Fu(n,t,e,i,r,s,a,l,u,d){const f=20+i,g=f+r,v=function EA(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Ce);return e}(f,g),_="function"==typeof d?d():d;return v[1]={type:n,blueprint:v,template:e,queries:null,viewQuery:l,declTNode:t,data:v.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:_,incompleteFirstPass:!1}}function Ly(n,t,e,i){const r=Zy(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&qy(n).push(i,r.length-1))}function Vy(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function ap(n,t,e,i){let r=!1;if(qv()){const s=function NA(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const a=i[s];_y(e,a.selectors,!1)&&(r||(r=[]),vu(el(e,t),n,a.type),xt(a)?(Uy(n,e),r.unshift(a)):r.push(a))}return r}(n,t,e),a=null===i?null:{"":-1};if(null!==s){r=!0,zy(e,n.data.length,s.length);for(let f=0;f<s.length;f++){const g=s[f];g.providersResolver&&g.providersResolver(g)}let l=!1,u=!1,d=jo(n,t,s.length,null);for(let f=0;f<s.length;f++){const g=s[f];e.mergedAttrs=pu(e.mergedAttrs,g.hostAttrs),Wy(n,e,t,d,g),LA(d,g,a),null!==g.contentQueries&&(e.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(e.flags|=128);const v=g.type.prototype;!l&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),l=!0),!u&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),u=!0),d++}!function MA(n,t){const i=t.directiveEnd,r=n.data,s=t.attrs,a=[];let l=null,u=null;for(let d=t.directiveStart;d<i;d++){const f=r[d],g=f.inputs,v=null===s||vy(t)?null:HA(g,s);a.push(v),l=Vy(g,d,l),u=Vy(f.outputs,d,u)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=16),l.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=l,t.outputs=u}(n,e)}a&&function FA(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new $(-301,!1);i.push(t[r],s)}}}(e,i,a)}return e.mergedAttrs=pu(e.mergedAttrs,e.attrs),r}function Hy(n,t,e,i,r,s){const a=s.hostBindings;if(a){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const u=~t.index;(function xA(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(l)!=u&&l.push(u),l.push(i,r,a)}}function jy(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Uy(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function LA(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;xt(t)&&(e[""]=n)}}function zy(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Wy(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=Ki(r.type)),a=new Qa(s,xt(r),null);n.blueprint[i]=a,e[i]=a,Hy(n,t,0,i,jo(n,e,r.hostVars,Ce),r)}function VA(n,t,e){const i=Gn(t,n),r=Oy(e),s=n[10],a=Lu(n,ml(n,r,null,e.onPush?64:16,i,t,s,s.createRenderer(i,e),null,null));n[t.index]=a}function ir(n,t,e,i,r,s){const a=Gn(n,t);!function lp(n,t,e,i,r,s,a){if(null==s)Ze(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const l=null==a?le(s):a(s,i||"",r);Ze(n)?n.setAttribute(t,r,l,e):e?t.setAttributeNS(e,r,l):t.setAttribute(r,l)}}(t[11],a,s,n.value,e,i,r)}function BA(n,t,e,i,r,s){const a=s[t];if(null!==a){const l=i.setInput;for(let u=0;u<a.length;){const d=a[u++],f=a[u++],g=a[u++];null!==l?i.setInput(e,g,d,f):e[f]=g}}}function HA(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Gy(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function zA(n,t){const e=ze(t,n);if(Ka(e)){const i=e[1];80&e[2]?Uo(i,e,i.template,e[8]):e[5]>0&&cp(e)}}function cp(n){for(let i=Lf(n);null!==i;i=Vf(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const a=s[1];Uo(a,s,a.template,s[8])}else s[5]>0&&cp(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=ze(e[i],n);Ka(r)&&r[5]>0&&cp(r)}}function WA(n,t){const e=ze(t,n),i=e[1];(function GA(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),vl(i,e,e[8])}function Lu(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function up(n){for(;n;){n[2]|=64;const t=pl(n);if(_o(n)&&!t)return n;n=t}return null}function hp(n,t,e){const i=t[10];i.begin&&i.begin();try{Uo(n,t,n.template,e)}catch(r){throw Ky(t,r),r}finally{i.end&&i.end()}}function $y(n){!function dp(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=xf(e),r=i[1];bA(r,i,r.template,e)}}(n[8])}function fp(n,t,e){lf(0),t(n,e)}const YA=(()=>Promise.resolve(null))();function Zy(n){return n[7]||(n[7]=[])}function qy(n){return n.cleanup||(n.cleanup=[])}function Ky(n,t){const e=n[9],i=e?e.get(fl,null):null;i&&i.handleError(t)}function Xy(n,t,e,i,r){for(let s=0;s<e.length;){const a=e[s++],l=e[s++],u=t[a],d=n.data[a];null!==d.setInput?d.setInput(u,r,i,l):u[l]=r}}function br(n,t,e){const i=bo(t,n);!function ey(n,t,e){Ze(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Vu(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const l=t[a];"number"==typeof l?s=l:1==s?r=_s(r,l):2==s&&(i=_s(i,l+": "+t[++a]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const pp=new Ie("INJECTOR",-1);class Qy{get(t,e=sl){if(e===sl){const i=new Error(`NullInjectorError: No provider for ${Le(t)}!`);throw i.name="NullInjectorError",i}return e}}const gp=new Ie("Set Injector scope."),_l={},QA={};let mp;function Jy(){return void 0===mp&&(mp=new Qy),mp}function ew(n,t=null,e=null,i){const r=tw(n,t,e,i);return r._resolveInjectorDefTypes(),r}function tw(n,t=null,e=null,i){return new JA(n,e,t||Jy(),i)}class JA{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&er(e,l=>this.processProvider(l,t,e)),er([t],l=>this.processInjectorType(l,[],s)),this.records.set(pp,zo(void 0,this));const a=this.records.get(gp);this.scope=null!=a?a.value:null,this.source=r||("object"==typeof t?null:Le(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=sl,i=oe.Default){this.assertNotDestroyed();const r=S_(this),s=Ui(void 0);try{if(!(i&oe.SkipSelf)){let l=this.records.get(t);if(void 0===l){const u=function aP(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ie}(t)&&Ei(t);l=u&&this.injectableDefInScope(u)?zo(vp(t),_l):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&oe.Self?Jy():this.parent).get(t,e=i&oe.Optional&&e===sl?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Cu]=a[Cu]||[]).unshift(Le(t)),r)throw a;return function NM(n,t,e,i){const r=n[Cu];throw t[D_]&&r.unshift(t[D_]),n.message=function FM(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Le(t);if(Array.isArray(t))r=t.map(Le).join(" -> ");else if("object"==typeof t){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let l=t[a];s.push(a+":"+("string"==typeof l?JSON.stringify(l):Le(l)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(PM,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Cu]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Ui(s),S_(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(Le(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processInjectorType(t,e,i){if(!(t=_e(t)))return!1;let r=oo(t);const s=null==r&&t.ngModule||void 0,a=void 0===s?t:s,l=-1!==i.indexOf(a);if(void 0!==s&&(r=oo(s)),null==r)return!1;if(null!=r.imports&&!l){let f;i.push(a);try{er(r.imports,g=>{this.processInjectorType(g,e,i)&&(void 0===f&&(f=[]),f.push(g))})}finally{}if(void 0!==f)for(let g=0;g<f.length;g++){const{ngModule:v,providers:_}=f[g];er(_,w=>this.processProvider(w,v,_||Ke))}}this.injectorDefTypes.add(a);const u=Ki(a)||(()=>new a);this.records.set(a,zo(u,_l));const d=r.providers;if(null!=d&&!l){const f=t;er(d,g=>this.processProvider(g,f,d))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,i){let r=Wo(t=_e(t))?t:_e(t&&t.provide);const s=function tP(n,t,e){return iw(n)?zo(void 0,n.useValue):zo(nw(n),_l)}(t);if(Wo(t)||!0!==t.multi)this.records.get(r);else{let a=this.records.get(r);a||(a=zo(void 0,_l,!0),a.factory=()=>Df(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,s)}hydrate(t,e){return e.value===_l&&(e.value=QA,e.value=e.factory()),"object"==typeof e.value&&e.value&&function oP(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=_e(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function vp(n){const t=Ei(n),e=null!==t?t.factory:Ki(n);if(null!==e)return e;if(n instanceof Ie)throw new $(204,!1);if(n instanceof Function)return function eP(n){const t=n.length;if(t>0)throw function rl(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?"),new $(204,!1);const e=function Uh(n){const t=n&&(n[ao]||n[Oe]);if(t){const e=function Yc(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new $(204,!1)}function nw(n,t,e){let i;if(Wo(n)){const r=_e(n);return Ki(r)||vp(r)}if(iw(n))i=()=>_e(n.useValue);else if(function iP(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Df(n.deps||[]));else if(function nP(n){return!(!n||!n.useExisting)}(n))i=()=>P(_e(n.useExisting));else{const r=_e(n&&(n.useClass||n.provide));if(!function sP(n){return!!n.deps}(n))return Ki(r)||vp(r);i=()=>new r(...Df(n.deps))}return i}function zo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function iw(n){return null!==n&&"object"==typeof n&&xM in n}function Wo(n){return"function"==typeof n}let ln=(()=>{class n{static create(e,i){if(Array.isArray(e))return ew({name:""},i,e,"");{const r=e.name??"";return ew({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=sl,n.NULL=new Qy,n.\u0275prov=q({token:n,providedIn:"any",factory:()=>P(pp)}),n.__NG_ELEMENT_ID__=-1,n})();function gP(n,t){uu(xf(n)[1],Xt())}function at(n){let t=function gw(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(xt(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new $(903,"");r=t.\u0275dir}if(r){if(e){i.push(r);const a=n;a.inputs=wp(n.inputs),a.declaredInputs=wp(n.declaredInputs),a.outputs=wp(n.outputs);const l=r.hostBindings;l&&yP(n,l);const u=r.viewQuery,d=r.contentQueries;if(u&&vP(n,u),d&&_P(n,d),ji(n.inputs,r.inputs),ji(n.declaredInputs,r.declaredInputs),ji(n.outputs,r.outputs),xt(r)&&r.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let a=0;a<s.length;a++){const l=s[a];l&&l.ngInherit&&l(n),l===at&&(e=!1)}}t=Object.getPrototypeOf(t)}!function mP(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=pu(r.hostAttrs,e=pu(e,r.hostAttrs))}}(i)}function wp(n){return n===zr?{}:n===Ke?[]:n}function vP(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function _P(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function yP(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let Bu=null;function Go(){if(!Bu){const n=Ye.Symbol;if(n&&n.iterator)Bu=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Bu=i)}}}return Bu}function yl(n){return!!Cp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Go()in n)}function Cp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function rr(n,t,e){return n[t]=e}function wl(n,t){return n[t]}function En(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Ms(n,t,e,i){const r=En(n,t,e);return En(n,t+1,i)||r}function Hu(n,t,e,i,r){const s=Ms(n,t,e,i);return En(n,t+2,r)||s}function gi(n,t,e,i,r,s){const a=Ms(n,t,e,i);return Ms(n,t+2,r,s)||a}function Jt(n,t,e,i){const r=R();return En(r,Mo(),t)&&(We(),ir(Rt(),r,n,t,e,i)),Jt}function se(n,t,e,i,r,s,a,l){const u=R(),d=We(),f=n+20,g=d.firstCreatePass?function TP(n,t,e,i,r,s,a,l,u){const d=t.consts,f=Ho(t,n,4,a||null,Qi(d,l));ap(t,e,f,Qi(d,u)),uu(t,f);const g=f.tViews=Fu(2,f,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d);return null!==t.queries&&(t.queries.template(t,f),g.queries=t.queries.embeddedTView(f)),f}(f,d,u,t,e,i,r,s,a):d.data[f];Ji(g,!1);const v=u[11].createComment("");ku(d,u,v,g),bn(v,u),Lu(u,u[f]=Gy(v,u,v,g)),vo(g)&&sp(d,u,g),null!=a&&op(u,g,l)}function Ft(n){return wr(function YT(){return pe.lFrame.contextLView}(),20+n)}function M(n,t=oe.Default){const e=R();return null===e?P(n,t):h_(Xt(),e,_e(n),t)}function F(n,t,e){const i=R();return En(i,Mo(),t)&&function ni(n,t,e,i,r,s,a,l){const u=Gn(t,e);let f,d=t.inputs;!l&&null!=d&&(f=d[i])?(Xy(n,e,f,i,r),Ss(t)&&function AA(n,t){const e=ze(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function IA(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,t.value||"",i):r,Ze(s)?s.setProperty(u,i,r):df(i)||(u.setProperty?u.setProperty(i,r):u[i]=r))}(We(),Rt(),i,n,t,i[11],e,!1),F}function Tp(n,t,e,i,r){const a=r?"class":"style";Xy(n,e,t.inputs[a],a,i)}function Z(n,t,e,i){const r=R(),s=We(),a=20+n,l=r[11],u=r[a]=Hf(l,t,function oM(){return pe.lFrame.currentNamespace}()),d=s.firstCreatePass?function qP(n,t,e,i,r,s,a){const l=t.consts,d=Ho(t,n,2,r,Qi(l,s));return ap(t,e,d,Qi(l,a)),null!==d.attrs&&Vu(d,d.attrs,!1),null!==d.mergedAttrs&&Vu(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(a,s,r,0,t,e,i):s.data[a];Ji(d,!0);const f=d.mergedAttrs;null!==f&&fu(l,u,f);const g=d.classes;null!==g&&$f(l,u,g);const v=d.styles;return null!==v&&py(l,u,v),64!=(64&d.flags)&&ku(s,r,u,d),0===function WT(){return pe.lFrame.elementDepthCount}()&&bn(u,r),function GT(){pe.lFrame.elementDepthCount++}(),vo(d)&&(sp(s,r,d),function Ry(n,t,e){if(za(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}}(s,d,r)),null!==i&&op(r,d),Z}function Y(){let n=Xt();nf()?function rf(){pe.lFrame.isParent=!1}():(n=n.parent,Ji(n,!1));const t=n;!function $T(){pe.lFrame.elementDepthCount--}();const e=We();return e.firstCreatePass&&(uu(e,n),za(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function dM(n){return 0!=(16&n.flags)}(t)&&Tp(e,t,R(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function hM(n){return 0!=(32&n.flags)}(t)&&Tp(e,t,R(),t.stylesWithoutHost,!1),Y}function St(n,t,e,i){return Z(n,t,e,i),Y(),St}function jt(){return R()}function Uu(n){return!!n&&"function"==typeof n.then}function Fw(n){return!!n&&"function"==typeof n.subscribe}const Lw=Fw;function de(n,t,e,i){const r=R(),s=We(),a=Xt();return function Bw(n,t,e,i,r,s,a,l){const u=vo(i),f=n.firstCreatePass&&qy(n),g=t[8],v=Zy(t);let _=!0;if(3&i.type||l){const S=Gn(i,t),E=l?l(S):S,b=v.length,A=l?x=>l(ot(x[i.index])):i.index;if(Ze(e)){let x=null;if(!l&&u&&(x=function KP(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const a=r[s];if(a===e&&r[s+1]===i){const l=t[7],u=r[s+2];return l.length>u?l[u]:null}"string"==typeof a&&(s+=2)}return null}(n,t,r,i.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,_=!1;else{s=Ap(i,t,g,s,!1);const H=e.listen(E,r,s);v.push(s,H),f&&f.push(r,A,b,b+1)}}else s=Ap(i,t,g,s,!0),E.addEventListener(r,s,a),v.push(s),f&&f.push(r,A,b,a)}else s=Ap(i,t,g,s,!1);const w=i.outputs;let C;if(_&&null!==w&&(C=w[r])){const S=C.length;if(S)for(let E=0;E<S;E+=2){const J=t[C[E]][C[E+1]].subscribe(s),ge=v.length;v.push(s,J),f&&f.push(r,i.index,ge,-(ge+1))}}}(s,r,r[11],a,n,t,!!e,i),de}function Hw(n,t,e,i){try{return!1!==e(i)}catch(r){return Ky(n,r),!1}}function Ap(n,t,e,i,r){return function s(a){if(a===Function)return i;const l=2&n.flags?ze(n.index,t):t;0==(32&t[2])&&up(l);let u=Hw(t,0,i,a),d=s.__ngNextListenerFn__;for(;d;)u=Hw(t,0,d,a)&&u,d=d.__ngNextListenerFn__;return r&&!1===u&&(a.preventDefault(),a.returnValue=!1),u}}function N(n=1){return function eM(n){return(pe.lFrame.contextLView=function tM(n,t){for(;n>0;)t=t[15],n--;return t}(n,pe.lFrame.contextLView))[8]}(n)}function Kw(n,t,e,i,r){const s=n[e+1],a=null===t;let l=i?Ii(s):Sr(s),u=!1;for(;0!==l&&(!1===u||a);){const f=n[l+1];nk(n[l],t)&&(u=!0,n[l+1]=i?Yf(f):Zf(f)),l=i?Ii(f):Sr(f)}u&&(n[e+1]=i?Zf(s):Yf(s))}function nk(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&No(n,t)>=0}function Er(n,t,e){return Pi(n,t,e,!1),Er}function cn(n,t){return Pi(n,t,null,!0),cn}function Pi(n,t,e,i){const r=R(),s=We(),a=function Dr(n){const t=pe.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);s.firstUpdatePass&&function rC(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[kn()],a=function iC(n,t){return t>=n.expandoStartIndex}(n,e);(function lC(n,t){return 0!=(n.flags&(t?16:32))})(s,i)&&null===t&&!a&&(t=!1),t=function dk(n,t,e,i){const r=function af(n){const t=pe.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Cl(e=kp(null,n,t,e,i),t.attrs,i),s=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==r)if(e=kp(r,n,t,e,i),null===s){let u=function hk(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Sr(i))return n[Ii(i)]}(n,t,i);void 0!==u&&Array.isArray(u)&&(u=kp(null,n,t,u[1],i),u=Cl(u,t.attrs,i),function fk(n,t,e,i){n[Ii(e?t.classBindings:t.styleBindings)]=i}(n,t,i,u))}else s=function pk(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Cl(i,n[s].hostAttrs,e);return Cl(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function ek(n,t,e,i,r,s){let a=s?t.classBindings:t.styleBindings,l=Ii(a),u=Sr(a);n[i]=e;let f,d=!1;if(Array.isArray(e)){const g=e;f=g[1],(null===f||No(g,f)>0)&&(d=!0)}else f=e;if(r)if(0!==u){const v=Ii(n[l+1]);n[i+1]=Ru(v,l),0!==v&&(n[v+1]=qf(n[v+1],i)),n[l+1]=function dA(n,t){return 131071&n|t<<17}(n[l+1],i)}else n[i+1]=Ru(l,0),0!==l&&(n[l+1]=qf(n[l+1],i)),l=i;else n[i+1]=Ru(u,0),0===l?l=i:n[u+1]=qf(n[u+1],i),u=i;d&&(n[i+1]=Zf(n[i+1])),Kw(n,f,i,!0),Kw(n,f,i,!1),function tk(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&No(s,t)>=0&&(e[i+1]=Yf(e[i+1]))}(t,f,n,i,s),a=Ru(l,u),s?t.classBindings=a:t.styleBindings=a}(r,s,t,e,a,i)}}(s,n,a,i),t!==Ce&&En(r,a,t)&&function oC(n,t,e,i,r,s,a,l){if(!(3&t.type))return;const u=n.data,d=u[l+1];zu(function Sy(n){return 1==(1&n)}(d)?aC(u,t,e,r,Sr(d),a):void 0)||(zu(s)||function Dy(n){return 2==(2&n)}(d)&&(s=aC(u,null,e,r,l,a)),function JI(n,t,e,i,r){const s=Ze(n);if(t)r?s?n.addClass(e,i):e.classList.add(i):s?n.removeClass(e,i):e.classList.remove(i);else{let a=-1===i.indexOf("-")?void 0:ti.DashCase;if(null==r)s?n.removeStyle(e,i,a):e.style.removeProperty(i);else{const l="string"==typeof r&&r.endsWith("!important");l&&(r=r.slice(0,-10),a|=ti.Important),s?n.setStyle(e,i,r,a):e.style.setProperty(i,r,l?"important":"")}}}(i,a,bo(kn(),e),r,s))}(s,s.data[kn()],r,r[11],n,r[a+1]=function vk(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Le(Yr(n)))),n}(t,e),i,a)}function kp(n,t,e,i,r){let s=null;const a=e.directiveEnd;let l=e.directiveStylingLast;for(-1===l?l=e.directiveStart:l++;l<a&&(s=t[l],i=Cl(i,s.hostAttrs,r),s!==n);)l++;return null!==n&&(e.directiveStylingLast=l),i}function Cl(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ei(n,a,!!e||t[++s]))}return void 0===n?null:n}function aC(n,t,e,i,r,s){const a=null===t;let l;for(;r>0;){const u=n[r],d=Array.isArray(u),f=d?u[1]:u,g=null===f;let v=e[r+1];v===Ce&&(v=g?Ke:void 0);let _=g?yf(v,i):f===i?v:void 0;if(d&&!zu(_)&&(_=yf(u,i)),zu(_)&&(l=_,a))return l;const w=n[r+1];r=a?Ii(w):Sr(w)}if(null!==t){let u=s?t.residualClasses:t.residualStyles;null!=u&&(l=yf(u,i))}return l}function zu(n){return void 0!==n}function bt(n,t=""){const e=R(),i=We(),r=n+20,s=i.firstCreatePass?Ho(i,r,1,t,null):i.data[r],a=e[r]=function Bf(n,t){return Ze(n)?n.createText(t):n.createTextNode(t)}(e[11],t);ku(i,e,a,s),Ji(s,!1)}function Is(n){return Dl("",n,""),Is}function Dl(n,t,e){const i=R(),r=function Zo(n,t,e,i){return En(n,Mo(),e)?t+le(e)+i:Ce}(i,n,t,e);return r!==Ce&&br(i,kn(),r),Dl}const As=void 0;var Lk=["en",[["a","p"],["AM","PM"],As],[["AM","PM"],As,As],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],As,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],As,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",As,"{1} 'at' {0}",As],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Fk(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let ia={};function Rn(n){const t=function Vk(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=AC(t);if(e)return e;const i=t.split("-")[0];if(e=AC(i),e)return e;if("en"===i)return Lk;throw new Error(`Missing locale data for the locale "${n}".`)}function AC(n){return n in ia||(ia[n]=Ye.ng&&Ye.ng.common&&Ye.ng.common.locales&&Ye.ng.common.locales[n]),ia[n]}var W=(()=>((W=W||{})[W.LocaleId=0]="LocaleId",W[W.DayPeriodsFormat=1]="DayPeriodsFormat",W[W.DayPeriodsStandalone=2]="DayPeriodsStandalone",W[W.DaysFormat=3]="DaysFormat",W[W.DaysStandalone=4]="DaysStandalone",W[W.MonthsFormat=5]="MonthsFormat",W[W.MonthsStandalone=6]="MonthsStandalone",W[W.Eras=7]="Eras",W[W.FirstDayOfWeek=8]="FirstDayOfWeek",W[W.WeekendRange=9]="WeekendRange",W[W.DateFormat=10]="DateFormat",W[W.TimeFormat=11]="TimeFormat",W[W.DateTimeFormat=12]="DateTimeFormat",W[W.NumberSymbols=13]="NumberSymbols",W[W.NumberFormats=14]="NumberFormats",W[W.CurrencyCode=15]="CurrencyCode",W[W.CurrencySymbol=16]="CurrencySymbol",W[W.CurrencyName=17]="CurrencyName",W[W.Currencies=18]="Currencies",W[W.Directionality=19]="Directionality",W[W.PluralCase=20]="PluralCase",W[W.ExtraData=21]="ExtraData",W))();const Wu="en-US";let PC=Wu;function Op(n,t,e,i,r){if(n=_e(n),Array.isArray(n))for(let s=0;s<n.length;s++)Op(n[s],t,e,i,r);else{const s=We(),a=R();let l=Wo(n)?n:_e(n.provide),u=nw(n);const d=Xt(),f=1048575&d.providerIndexes,g=d.directiveStart,v=d.providerIndexes>>20;if(Wo(n)||!n.multi){const _=new Qa(u,r,M),w=Fp(l,t,r?f:f+v,g);-1===w?(vu(el(d,a),s,l),Np(s,n,t.length),t.push(l),d.directiveStart++,d.directiveEnd++,r&&(d.providerIndexes+=1048576),e.push(_),a.push(_)):(e[w]=_,a[w]=_)}else{const _=Fp(l,t,f+v,g),w=Fp(l,t,f,f+v),C=_>=0&&e[_],S=w>=0&&e[w];if(r&&!S||!r&&!C){vu(el(d,a),s,l);const E=function Fx(n,t,e,i,r){const s=new Qa(n,e,M);return s.multi=[],s.index=t,s.componentProviders=0,eD(s,r,i&&!e),s}(r?Nx:Ox,e.length,r,i,u);!r&&S&&(e[w].providerFactory=E),Np(s,n,t.length,0),t.push(l),d.directiveStart++,d.directiveEnd++,r&&(d.providerIndexes+=1048576),e.push(E),a.push(E)}else Np(s,n,_>-1?_:w,eD(e[r?w:_],u,!r&&i));!r&&i&&S&&e[w].componentProviders++}}}function Np(n,t,e,i){const r=Wo(t),s=function rP(n){return!!n.useClass}(t);if(r||s){const u=(s?_e(t.useClass):t).prototype.ngOnDestroy;if(u){const d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const f=d.indexOf(e);-1===f?d.push(e,[i,u]):d[f+1].push(i,u)}else d.push(e,u)}}}function eD(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Fp(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function Ox(n,t,e,i){return Lp(this.multi,[])}function Nx(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=tl(e,e[1],this.providerFactory.index,i);s=l.slice(0,a),Lp(r,s);for(let u=a;u<l.length;u++)s.push(l[u])}else s=[],Lp(r,s);return s}function Lp(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Et(n,t=[]){return e=>{e.providersResolver=(i,r)=>function Rx(n,t,e){const i=We();if(i.firstCreatePass){const r=xt(n);Op(e,i.data,i.blueprint,r,!0),Op(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class tD{}class Bx{resolveComponentFactory(t){throw function Vx(n){const t=Error(`No component factory found for ${Le(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Qr=(()=>{class n{}return n.NULL=new Bx,n})();function Hx(){return sa(Xt(),R())}function sa(n,t){return new Tt(Gn(n,t))}let Tt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=Hx,n})();function jx(n){return n instanceof Tt?n.nativeElement:n}class Ml{}let $n=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function zx(){const n=R(),e=ze(Xt().index,n);return function Ux(n){return n[11]}(fi(e)?e:n)}(),n})(),Wx=(()=>{class n{}return n.\u0275prov=q({token:n,providedIn:"root",factory:()=>null}),n})();class Il{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Gx=new Il("13.3.0"),Vp={};function Yu(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(ot(s)),Wn(s))for(let l=10;l<s.length;l++){const u=s[l],d=u[1].firstChild;null!==d&&Yu(u[1],u,d,i)}const a=e.type;if(8&a)Yu(n,t,e.child,i);else if(32&a){const l=Ff(e,t);let u;for(;u=l();)i.push(u)}else if(16&a){const l=dy(t,e);if(Array.isArray(l))i.push(...l);else{const u=pl(t[16]);Yu(u[1],u,l,i,!0)}}e=r?e.projectionNext:e.next}return i}class Al{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Yu(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Wn(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(jf(t,i),yu(e,i))}this._attachedToViewContainer=!1}ny(this._lView[1],this._lView)}onDestroy(t){Ly(this._lView[1],this._lView,null,t)}markForCheck(){up(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){hp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function ZA(n,t,e){au(!0);try{hp(n,t,e)}finally{au(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new $(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zI(n,t){gl(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new $(902,"");this._appRef=t}}class $x extends Al{constructor(t){super(t),this._view=t}detectChanges(){$y(this._view)}checkNoChanges(){!function qA(n){au(!0);try{$y(n)}finally{au(!1)}}(this._view)}get context(){return null}}class iD extends Qr{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=on(t);return new Bp(e,this.ngModule)}}function rD(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class Bp extends tD{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function cA(n){return n.map(lA).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return rD(this.componentDef.inputs)}get outputs(){return rD(this.componentDef.outputs)}create(t,e,i,r){const s=(r=r||this.ngModule)?function qx(n,t){return{get:(e,i,r)=>{const s=n.get(e,Vp,r);return s!==Vp||i===Vp?s:t.get(e,i,r)}}}(t,r.injector):t,a=s.get(Ml,Xi),l=s.get(Wx,null),u=a.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",f=i?function Fy(n,t,e){if(Ze(n))return n.selectRootElement(t,e===Qn.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(u,i,this.componentDef.encapsulation):Hf(a.createRenderer(null,this.componentDef),d,function Zx(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?D:null}(d)),g=this.componentDef.onPush?576:528,v=function pw(n,t){return{components:[],scheduler:n||NI,clean:YA,playerHandler:t||null,flags:0}}(),_=Fu(0,null,null,1,0,null,null,null,null,null),w=ml(null,_,v,g,null,null,a,u,l,s);let C,S;lu(w);try{const E=function hw(n,t,e,i,r,s){const a=e[1];e[20]=n;const u=Ho(a,20,2,"#host",null),d=u.mergedAttrs=t.hostAttrs;null!==d&&(Vu(u,d,!0),null!==n&&(fu(r,n,d),null!==u.classes&&$f(r,n,u.classes),null!==u.styles&&py(r,n,u.styles)));const f=i.createRenderer(n,t),g=ml(e,Oy(t),null,t.onPush?64:16,e[20],u,i,f,s||null,null);return a.firstCreatePass&&(vu(el(u,e),a,t.type),Uy(a,u),zy(u,e.length,1)),Lu(e,g),e[20]=g}(f,this.componentDef,w,a,u);if(f)if(i)fu(u,f,["ng-version",Gx.full]);else{const{attrs:b,classes:A}=function uA(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!Mi(r))break;r=s}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);b&&fu(u,f,b),A&&A.length>0&&$f(u,f,A.join(" "))}if(S=Ya(_,20),void 0!==e){const b=S.projection=[];for(let A=0;A<this.ngContentSelectors.length;A++){const x=e[A];b.push(null!=x?Array.from(x):null)}}C=function fw(n,t,e,i,r){const s=e[1],a=function kA(n,t,e){const i=Xt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Wy(n,i,t,jo(n,t,1,null),e));const r=tl(t,n,i.directiveStart,i);bn(r,t);const s=Gn(i,t);return s&&bn(s,t),r}(s,e,t);if(i.components.push(a),n[8]=a,r&&r.forEach(u=>u(a,t)),t.contentQueries){const u=Xt();t.contentQueries(1,a,u.directiveStart)}const l=Xt();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Zr(l.index),Hy(e[1],l,0,l.directiveStart,l.directiveEnd,t),jy(t,a)),a}(E,this.componentDef,w,v,[gP]),vl(_,w,null)}finally{cu()}return new Kx(this.componentType,C,sa(S,w),w,S)}}class Kx extends class Lx{}{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new $x(r),this.componentType=t}get injector(){return new Po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class oa{}const aa=new Map;class aD extends oa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new iD(this);const i=Un(t);this._bootstrapComponents=nr(i.bootstrap),this._r3Injector=tw(t,e,[{provide:oa,useValue:this},{provide:Qr,useValue:this.componentFactoryResolver}],Le(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ln.THROW_IF_NOT_FOUND,i=oe.Default){return t===ln||t===oa||t===pp?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Hp extends class Qx{}{constructor(t){super(),this.moduleType=t,null!==Un(t)&&function Jx(n){const t=new Set;!function e(i){const r=Un(i,!0),s=r.id;null!==s&&(function sD(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Le(t)} vs ${Le(t.name)}`)}(s,aa.get(s),i),aa.set(s,i));const a=nr(r.imports);for(const l of a)t.has(l)||(t.add(l),e(l))}(n)}(t)}create(t){return new aD(this.moduleType,t)}}function On(n,t,e){const i=Pn()+n,r=R();return r[i]===Ce?rr(r,i,e?t.call(e):t()):wl(r,i)}function Ps(n,t,e,i){return dD(R(),Pn(),n,t,e,i)}function un(n,t,e,i,r){return hD(R(),Pn(),n,t,e,i,r)}function jp(n,t,e,i,r,s){return fD(R(),Pn(),n,t,e,i,r,s)}function lD(n,t,e,i,r,s,a){return function pD(n,t,e,i,r,s,a,l,u){const d=t+e;return gi(n,d,r,s,a,l)?rr(n,d+4,u?i.call(u,r,s,a,l):i(r,s,a,l)):Pl(n,d+4)}(R(),Pn(),n,t,e,i,r,s,a)}function Up(n,t,e,i,r,s,a,l){const u=Pn()+n,d=R(),f=gi(d,u,e,i,r,s);return En(d,u+4,a)||f?rr(d,u+5,l?t.call(l,e,i,r,s,a):t(e,i,r,s,a)):wl(d,u+5)}function zp(n,t,e,i){return function gD(n,t,e,i,r,s){let a=t+e,l=!1;for(let u=0;u<r.length;u++)En(n,a++,r[u])&&(l=!0);return l?rr(n,a,i.apply(s,r)):Pl(n,a)}(R(),Pn(),n,t,e,i)}function Pl(n,t){const e=n[t];return e===Ce?void 0:e}function dD(n,t,e,i,r,s){const a=t+e;return En(n,a,r)?rr(n,a+1,s?i.call(s,r):i(r)):Pl(n,a+1)}function hD(n,t,e,i,r,s,a){const l=t+e;return Ms(n,l,r,s)?rr(n,l+2,a?i.call(a,r,s):i(r,s)):Pl(n,l+2)}function fD(n,t,e,i,r,s,a,l){const u=t+e;return Hu(n,u,r,s,a)?rr(n,u+3,l?i.call(l,r,s,a):i(r,s,a)):Pl(n,u+3)}function Mt(n,t){const e=We();let i;const r=n+20;e.firstCreatePass?(i=function t1(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=Ki(i.type)),a=Ui(M);try{const l=gu(!1),u=s();return gu(l),function MP(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,R(),r,u),u}finally{Ui(a)}}function Ku(n,t,e){const i=n+20,r=R(),s=wr(r,i);return kl(r,i)?dD(r,Pn(),t,s.transform,e,s):s.transform(e)}function xi(n,t,e,i){const r=n+20,s=R(),a=wr(s,r);return kl(s,r)?hD(s,Pn(),t,a.transform,e,i,a):a.transform(e,i)}function Ri(n,t,e,i,r){const s=n+20,a=R(),l=wr(a,s);return kl(a,s)?fD(a,Pn(),t,l.transform,e,i,r,l):l.transform(e,i,r)}function kl(n,t){return n[1].data[t].pure}function Wp(n){return t=>{setTimeout(n,void 0,t)}}const K=class s1 extends ve{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),a=i;if(t&&"object"==typeof t){const u=t;r=u.next?.bind(u),s=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(s=Wp(s),r&&(r=Wp(r)),a&&(a=Wp(a)));const l=super.subscribe({next:r,error:s,complete:a});return t instanceof Nt&&t.add(l),l}};function o1(){return this._results[Go()]()}class Gp{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Go(),i=Gp.prototype;i[e]||(i[e]=o1)}get changes(){return this._changes||(this._changes=new K)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=pi(t);(this._changesDetected=!function CM(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ar=(()=>{class n{}return n.__NG_ELEMENT_ID__=c1,n})();const a1=ar,l1=class extends a1{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=ml(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(e)),vl(e,i,t),new Al(i)}};function c1(){return Xu(Xt(),R())}function Xu(n,t){return 4&n.type?new l1(t,n,sa(n,t)):null}let ii=(()=>{class n{}return n.__NG_ELEMENT_ID__=u1,n})();function u1(){return _D(Xt(),R())}const d1=ii,mD=class extends d1{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return sa(this._hostTNode,this._hostLView)}get injector(){return new Po(this._hostTNode,this._hostLView)}get parentInjector(){const t=mu(this._hostTNode,this._hostLView);if(a_(t)){const e=Ao(t,this._hostLView),i=Io(t);return new Po(e[1].data[i+8],e)}return new Po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=vD(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,s){const a=t&&!function il(n){return"function"==typeof n}(t);let l;if(a)l=e;else{const g=e||{};l=g.index,i=g.injector,r=g.projectableNodes,s=g.ngModuleRef}const u=a?t:new Bp(on(t)),d=i||this.parentInjector;if(!s&&null==u.ngModule){const v=(a?d:this.parentInjector).get(oa,null);v&&(s=v)}const f=u.create(d,r,void 0,s);return this.insert(f.hostView,l),f}insert(t,e){const i=t._lView,r=i[1];if(function tf(n){return Wn(n[3])}(i)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const g=i[3],v=new mD(g,g[6],g[3]);v.detach(v.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;!function GI(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],v_(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function $I(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(a,t);const l=t[19];null!==l&&l.insertView(n),t[2]|=128}(r,i,a,s);const l=Wf(s,a),u=i[11],d=Pu(u,a[7]);return null!==d&&function UI(n,t,e,i,r,s){i[0]=r,i[6]=t,gl(n,i,e,1,r,s)}(r,a[6],u,i,d,l),t.attachToViewContainerRef(),v_($p(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=vD(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=jf(this._lContainer,e);i&&(yu($p(this._lContainer),e),ny(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=jf(this._lContainer,e);return i&&null!=yu($p(this._lContainer),e)?new Al(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function vD(n){return n[8]}function $p(n){return n[8]||(n[8]=[])}function _D(n,t){let e;const i=t[n.index];if(Wn(i))e=i;else{let r;if(8&n.type)r=ot(i);else{const s=t[11];r=s.createComment("");const a=Gn(n,t);Ts(s,Pu(s,a),r,function KI(n,t){return Ze(n)?n.nextSibling(t):t.nextSibling}(s,a),!1)}t[n.index]=e=Gy(i,t,r,n),Lu(t,e)}return new mD(e,n,t)}class Zp{constructor(t){this.queryList=t,this.matches=null}clone(){return new Zp(this.queryList)}setDirty(){this.queryList.setDirty()}}class qp{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const a=e.getByIndex(s);r.push(this.queries[a.indexInDeclarationView].clone())}return new qp(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==SD(t,e).matches&&this.queries[e].setDirty()}}class yD{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Yp{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new Yp(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Kp{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Kp(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,p1(e,s)),this.matchTNodeWithReadOption(t,e,_u(e,t,s,!1,!1))}else i===ar?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,_u(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Tt||r===ii||r===ar&&4&e.type)this.addMatch(e.index,-2);else{const s=_u(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function p1(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function m1(n,t,e,i){return-1===e?function g1(n,t){return 11&n.type?sa(n,t):4&n.type?Xu(n,t):null}(t,n):-2===e?function v1(n,t,e){return e===Tt?sa(t,n):e===ar?Xu(t,n):e===ii?_D(t,n):void 0}(n,t,i):tl(n,n[1],e,t)}function wD(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,a=e.matches,l=[];for(let u=0;u<a.length;u+=2){const d=a[u];l.push(d<0?null:m1(t,s[d],a[u+1],e.metadata.read))}r.matches=l}return r.matches}function Xp(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const a=wD(n,t,r,e);for(let l=0;l<s.length;l+=2){const u=s[l];if(u>0)i.push(a[l/2]);else{const d=s[l+1],f=t[-u];for(let g=10;g<f.length;g++){const v=f[g];v[17]===v[3]&&Xp(v[1],v,d,i)}if(null!==f[9]){const g=f[9];for(let v=0;v<g.length;v++){const _=g[v];Xp(_[1],_,d,i)}}}}}return i}function Qp(n){const t=R(),e=We(),i=Qv();lf(i+1);const r=SD(e,i);if(n.dirty&&Es(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?Xp(e,t,i,[]):wD(e,t,r,i);n.reset(s,jx),n.notifyOnChanges()}return!0}return!1}function Jp(n,t,e){const i=We();i.firstCreatePass&&(function DD(n,t,e){null===n.queries&&(n.queries=new Yp),n.queries.track(new Kp(t,e))}(i,new yD(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),function CD(n,t,e){const i=new Gp(4==(4&e));Ly(n,t,i,i.destroy),null===t[19]&&(t[19]=new qp),t[19].queries.push(new Zp(i))}(i,R(),t)}function eg(){return function y1(n,t){return n[19].queries[t].queryList}(R(),Qv())}function SD(n,t){return n.queries.getByIndex(t)}function ri(n,t){return Xu(n,t)}function ed(...n){}const HD=new Ie("Application Initializer");let og=(()=>{class n{constructor(e){this.appInits=e,this.resolve=ed,this.reject=ed,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Uu(s))e.push(s);else if(Lw(s)){const a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});e.push(a)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(P(HD,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rl=new Ie("AppId",{providedIn:"root",factory:function jD(){return`${ag()}${ag()}${ag()}`}});function ag(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const UD=new Ie("Platform Initializer"),ca=new Ie("Platform ID"),L1=new Ie("appBootstrapListener");let V1=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const mi=new Ie("LocaleId",{providedIn:"root",factory:()=>E_(mi,oe.Optional|oe.SkipSelf)||function B1(){return typeof $localize<"u"&&$localize.locale||Wu}()}),z1=(()=>Promise.resolve(0))();function lg(n){typeof Zone>"u"?z1.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class lt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new K(!1),this.onMicrotaskEmpty=new K(!1),this.onStable=new K(!1),this.onError=new K(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function W1(){let n=Ye.requestAnimationFrame,t=Ye.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Z1(n){const t=()=>{!function $1(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ye,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ug(n),n.isCheckStableRunning=!0,cg(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ug(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,a,l)=>{try{return zD(n),e.invokeTask(r,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),WD(n)}},onInvoke:(e,i,r,s,a,l,u)=>{try{return zD(n),e.invoke(r,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),WD(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,ug(n),cg(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(lt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+r,t,G1,ed,ed);try{return s.runTask(a,e,i)}finally{s.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const G1={};function cg(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ug(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function zD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function WD(n){n._nesting--,cg(n)}class q1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new K,this.onMicrotaskEmpty=new K,this.onStable=new K,this.onError=new K}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let dg=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lt.assertNotInAngularZone(),lg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lg(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(P(lt))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),GD=(()=>{class n{constructor(){this._applications=new Map,hg.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return hg.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class Y1{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Oi,hg=new Y1;const $D=new Ie("AllowMultipleToken");function ZD(n,t,e=[]){const i=`Platform: ${t}`,r=new Ie(i);return(s=[])=>{let a=qD();if(!a||a.injector.get($D,!1))if(n)n(e.concat(s).concat({provide:r,useValue:!0}));else{const l=e.concat(s).concat({provide:r,useValue:!0},{provide:gp,useValue:"platform"});!function J1(n){if(Oi&&!Oi.destroyed&&!Oi.injector.get($D,!1))throw new $(400,"");Oi=n.get(YD);const t=n.get(UD,null);t&&t.forEach(e=>e())}(ln.create({providers:l,name:i}))}return function eR(n){const t=qD();if(!t)throw new $(401,"");return t}()}}function qD(){return Oi&&!Oi.destroyed?Oi:null}let YD=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const l=function tR(n,t){let e;return e="noop"===n?new q1:("zone.js"===n?void 0:n)||new lt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!t?.ngZoneEventCoalescing,shouldCoalesceRunChangeDetection:!!t?.ngZoneRunCoalescing}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),u=[{provide:lt,useValue:l}];return l.run(()=>{const d=ln.create({providers:u,parent:this.injector,name:e.moduleType.name}),f=e.create(d),g=f.injector.get(fl,null);if(!g)throw new $(402,"");return l.runOutsideAngular(()=>{const v=l.onError.subscribe({next:_=>{g.handleError(_)}});f.onDestroy(()=>{fg(this._modules,f),v.unsubscribe()})}),function nR(n,t,e){try{const i=e();return Uu(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(g,l,()=>{const v=f.injector.get(og);return v.runInitializers(),v.donePromise.then(()=>(function Uk(n){Cn(n,"Expected localeId to be defined"),"string"==typeof n&&(PC=n.toLowerCase().replace(/_/g,"-"))}(f.injector.get(mi,Wu)||Wu),this._moduleDoBootstrap(f),f))})})}bootstrapModule(e,i=[]){const r=KD({},i);return function X1(n,t,e){const i=new Hp(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(td);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new $(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(P(ln))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();function KD(n,t){return Array.isArray(t)?t.reduce(KD,n):{...n,...t}}let td=(()=>{class n{constructor(e,i,r,s,a){this._zone=e,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new nt(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),u=new nt(d=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{lt.assertNotInAngularZone(),lg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{lt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),g.unsubscribe()}});this.isStable=sn(l,u.pipe(Se()))}bootstrap(e,i){if(!this._initStatus.done)throw new $(405,"");let r;r=e instanceof tD?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(r.componentType);const s=function Q1(n){return n.isBoundToModule}(r)?void 0:this._injector.get(oa),l=r.create(ln.NULL,[],i||r.selector,s),u=l.location.nativeElement,d=l.injector.get(dg,null),f=d&&l.injector.get(GD);return d&&f&&f.registerApplication(u,d),l.onDestroy(()=>{this.detachView(l.hostView),fg(this.components,l),f&&f.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new $(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;fg(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(L1,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(P(lt),P(ln),P(fl),P(Qr),P(og))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fg(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let QD=!0,ua=(()=>{class n{}return n.__NG_ELEMENT_ID__=sR,n})();function sR(n){return function oR(n,t,e){if(Ss(n)&&!e){const i=ze(n.index,t);return new Al(i,i)}return 47&n.type?new Al(t[16],t):null}(Xt(),R(),16==(16&n))}class iS{constructor(){}supports(t){return yl(t)}create(t){return new hR(t)}}const dR=(n,t)=>t;class hR{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||dR}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const a=!i||e&&e.currentIndex<sS(i,r,s)?e:i,l=sS(a,r,s),u=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)r++;else{s||(s=[]);const d=l-r,f=u-r;if(d!=f){for(let v=0;v<d;v++){const _=v<s.length?s[v]:s[v]=0,w=_+v;f<=w&&w<d&&(s[v]=_+1)}s[a.previousIndex]=f-d}}l!==u&&t(a,l,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!yl(t))throw new $(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)s=t[l],a=this._trackByFn(l,s),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,s,a,l)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,a,l),i=!0),e=e._next}else r=0,function EP(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Go()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,l=>{a=this._trackByFn(r,l),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,l,a,r)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,a,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new fR(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new rS),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rS),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class fR{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pR{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class rS{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new pR,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sS(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class oS{constructor(){}supports(t){return t instanceof Map||Cp(t)}create(){return new gR}}class gR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Cp(t)))throw new $(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,a=r._next;return s&&(s._next=a),a&&(a._prev=s),r._next=null,r._prev=null,r}const i=new mR(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class mR{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aS(){return new rd([new iS])}let rd=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||aS()),deps:[[n,new Su,new Du]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new $(901,"")}}return n.\u0275prov=q({token:n,providedIn:"root",factory:aS}),n})();function lS(){return new Ol([new oS])}let Ol=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||lS()),deps:[[n,new Su,new Du]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new $(901,"")}}return n.\u0275prov=q({token:n,providedIn:"root",factory:lS}),n})();const yR=ZD(null,"core",[{provide:ca,useValue:"unknown"},{provide:YD,deps:[ln]},{provide:GD,deps:[]},{provide:V1,deps:[]}]);let wR=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(P(td))},n.\u0275mod=st({type:n}),n.\u0275inj=be({}),n})(),sd=null;function lr(){return sd}const pt=new Ie("DocumentToken");let Nl=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:function(){return function bR(){return P(cS)}()},providedIn:"platform"}),n})(),cS=(()=>{class n extends Nl{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lr().getBaseHref(this._doc)}onPopState(e){const i=lr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=lr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){uS()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){uS()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(P(pt))},n.\u0275prov=q({token:n,factory:function(){return function ER(){return new cS(P(pt))}()},providedIn:"platform"}),n})();function uS(){return!!window.history.pushState}function dS(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function hS(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function xs(n){return n&&"?"!==n[0]?"?"+n:n}let _g=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:function(){return function TR(n){const t=P(pt).location;return new IR(P(Nl),t&&t.origin||"")}()},providedIn:"root"}),n})();const MR=new Ie("appBaseHref");let IR=(()=>{class n extends _g{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return dS(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+xs(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const a=this.prepareExternalUrl(r+xs(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){const a=this.prepareExternalUrl(r+xs(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(P(Nl),P(MR,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),fS=(()=>{class n{constructor(e,i){this._subject=new K,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=hS(pS(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+xs(i))}normalize(e){return n.stripTrailingSlash(function PR(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,pS(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+xs(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+xs(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){this._platformStrategy.historyGo?.(e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=xs,n.joinWithSlash=dS,n.stripTrailingSlash=hS,n.\u0275fac=function(e){return new(e||n)(P(_g),P(Nl))},n.\u0275prov=q({token:n,factory:function(){return function AR(){return new fS(P(_g),P(Nl))}()},providedIn:"root"}),n})();function pS(n){return n.replace(/\/index.html$/,"")}var Ut=(()=>((Ut=Ut||{})[Ut.Zero=0]="Zero",Ut[Ut.One=1]="One",Ut[Ut.Two=2]="Two",Ut[Ut.Few=3]="Few",Ut[Ut.Many=4]="Many",Ut[Ut.Other=5]="Other",Ut))(),Lt=(()=>((Lt=Lt||{})[Lt.Format=0]="Format",Lt[Lt.Standalone=1]="Standalone",Lt))(),Ne=(()=>((Ne=Ne||{})[Ne.Narrow=0]="Narrow",Ne[Ne.Abbreviated=1]="Abbreviated",Ne[Ne.Wide=2]="Wide",Ne[Ne.Short=3]="Short",Ne))(),kt=(()=>((kt=kt||{})[kt.Short=0]="Short",kt[kt.Medium=1]="Medium",kt[kt.Long=2]="Long",kt[kt.Full=3]="Full",kt))(),ce=(()=>((ce=ce||{})[ce.Decimal=0]="Decimal",ce[ce.Group=1]="Group",ce[ce.List=2]="List",ce[ce.PercentSign=3]="PercentSign",ce[ce.PlusSign=4]="PlusSign",ce[ce.MinusSign=5]="MinusSign",ce[ce.Exponential=6]="Exponential",ce[ce.SuperscriptingExponent=7]="SuperscriptingExponent",ce[ce.PerMille=8]="PerMille",ce[ce.Infinity=9]="Infinity",ce[ce.NaN=10]="NaN",ce[ce.TimeSeparator=11]="TimeSeparator",ce[ce.CurrencyDecimal=12]="CurrencyDecimal",ce[ce.CurrencyGroup=13]="CurrencyGroup",ce))();function od(n,t){return _i(Rn(n)[W.DateFormat],t)}function ad(n,t){return _i(Rn(n)[W.TimeFormat],t)}function ld(n,t){return _i(Rn(n)[W.DateTimeFormat],t)}function vi(n,t){const e=Rn(n),i=e[W.NumberSymbols][t];if(typeof i>"u"){if(t===ce.CurrencyDecimal)return e[W.NumberSymbols][ce.Decimal];if(t===ce.CurrencyGroup)return e[W.NumberSymbols][ce.Group]}return i}const LR=function IC(n){return Rn(n)[W.PluralCase]};function mS(n){if(!n[W.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[W.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _i(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function wg(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const zR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Fl={},WR=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tn=(()=>((tn=tn||{})[tn.Short=0]="Short",tn[tn.ShortGMT=1]="ShortGMT",tn[tn.Long=2]="Long",tn[tn.Extended=3]="Extended",tn))(),he=(()=>((he=he||{})[he.FullYear=0]="FullYear",he[he.Month=1]="Month",he[he.Date=2]="Date",he[he.Hours=3]="Hours",he[he.Minutes=4]="Minutes",he[he.Seconds=5]="Seconds",he[he.FractionalSeconds=6]="FractionalSeconds",he[he.Day=7]="Day",he))(),Ae=(()=>((Ae=Ae||{})[Ae.DayPeriods=0]="DayPeriods",Ae[Ae.Days=1]="Days",Ae[Ae.Months=2]="Months",Ae[Ae.Eras=3]="Eras",Ae))();function nn(n,t,e,i){let r=function JR(n){if(yS(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,a=1]=n.split("-").map(l=>+l);return cd(r,s-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(zR))return function eO(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,l=Number(n[5]||0)-i,u=Number(n[6]||0),d=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,a,l,u,d),t}(i)}const t=new Date(n);if(!yS(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Tr(e,t)||t;let l,a=[];for(;t;){if(l=WR.exec(t),!l){a.push(t);break}{a=a.concat(l.slice(1));const f=a.pop();if(!f)break;t=f}}let u=r.getTimezoneOffset();i&&(u=_S(i,u),r=function QR(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function XR(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(_S(t,r)-r))}(r,i,!0));let d="";return a.forEach(f=>{const g=function KR(n){if(Dg[n])return Dg[n];let t;switch(n){case"G":case"GG":case"GGG":t=yt(Ae.Eras,Ne.Abbreviated);break;case"GGGG":t=yt(Ae.Eras,Ne.Wide);break;case"GGGGG":t=yt(Ae.Eras,Ne.Narrow);break;case"y":t=zt(he.FullYear,1,0,!1,!0);break;case"yy":t=zt(he.FullYear,2,0,!0,!0);break;case"yyy":t=zt(he.FullYear,3,0,!1,!0);break;case"yyyy":t=zt(he.FullYear,4,0,!1,!0);break;case"Y":t=fd(1);break;case"YY":t=fd(2,!0);break;case"YYY":t=fd(3);break;case"YYYY":t=fd(4);break;case"M":case"L":t=zt(he.Month,1,1);break;case"MM":case"LL":t=zt(he.Month,2,1);break;case"MMM":t=yt(Ae.Months,Ne.Abbreviated);break;case"MMMM":t=yt(Ae.Months,Ne.Wide);break;case"MMMMM":t=yt(Ae.Months,Ne.Narrow);break;case"LLL":t=yt(Ae.Months,Ne.Abbreviated,Lt.Standalone);break;case"LLLL":t=yt(Ae.Months,Ne.Wide,Lt.Standalone);break;case"LLLLL":t=yt(Ae.Months,Ne.Narrow,Lt.Standalone);break;case"w":t=Cg(1);break;case"ww":t=Cg(2);break;case"W":t=Cg(1,!0);break;case"d":t=zt(he.Date,1);break;case"dd":t=zt(he.Date,2);break;case"c":case"cc":t=zt(he.Day,1);break;case"ccc":t=yt(Ae.Days,Ne.Abbreviated,Lt.Standalone);break;case"cccc":t=yt(Ae.Days,Ne.Wide,Lt.Standalone);break;case"ccccc":t=yt(Ae.Days,Ne.Narrow,Lt.Standalone);break;case"cccccc":t=yt(Ae.Days,Ne.Short,Lt.Standalone);break;case"E":case"EE":case"EEE":t=yt(Ae.Days,Ne.Abbreviated);break;case"EEEE":t=yt(Ae.Days,Ne.Wide);break;case"EEEEE":t=yt(Ae.Days,Ne.Narrow);break;case"EEEEEE":t=yt(Ae.Days,Ne.Short);break;case"a":case"aa":case"aaa":t=yt(Ae.DayPeriods,Ne.Abbreviated);break;case"aaaa":t=yt(Ae.DayPeriods,Ne.Wide);break;case"aaaaa":t=yt(Ae.DayPeriods,Ne.Narrow);break;case"b":case"bb":case"bbb":t=yt(Ae.DayPeriods,Ne.Abbreviated,Lt.Standalone,!0);break;case"bbbb":t=yt(Ae.DayPeriods,Ne.Wide,Lt.Standalone,!0);break;case"bbbbb":t=yt(Ae.DayPeriods,Ne.Narrow,Lt.Standalone,!0);break;case"B":case"BB":case"BBB":t=yt(Ae.DayPeriods,Ne.Abbreviated,Lt.Format,!0);break;case"BBBB":t=yt(Ae.DayPeriods,Ne.Wide,Lt.Format,!0);break;case"BBBBB":t=yt(Ae.DayPeriods,Ne.Narrow,Lt.Format,!0);break;case"h":t=zt(he.Hours,1,-12);break;case"hh":t=zt(he.Hours,2,-12);break;case"H":t=zt(he.Hours,1);break;case"HH":t=zt(he.Hours,2);break;case"m":t=zt(he.Minutes,1);break;case"mm":t=zt(he.Minutes,2);break;case"s":t=zt(he.Seconds,1);break;case"ss":t=zt(he.Seconds,2);break;case"S":t=zt(he.FractionalSeconds,1);break;case"SS":t=zt(he.FractionalSeconds,2);break;case"SSS":t=zt(he.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=dd(tn.Short);break;case"ZZZZZ":t=dd(tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=dd(tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=dd(tn.Long);break;default:return null}return Dg[n]=t,t}(f);d+=g?g(r,e,u):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function cd(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Tr(n,t){const e=function kR(n){return Rn(n)[W.LocaleId]}(n);if(Fl[e]=Fl[e]||{},Fl[e][t])return Fl[e][t];let i="";switch(t){case"shortDate":i=od(n,kt.Short);break;case"mediumDate":i=od(n,kt.Medium);break;case"longDate":i=od(n,kt.Long);break;case"fullDate":i=od(n,kt.Full);break;case"shortTime":i=ad(n,kt.Short);break;case"mediumTime":i=ad(n,kt.Medium);break;case"longTime":i=ad(n,kt.Long);break;case"fullTime":i=ad(n,kt.Full);break;case"short":const r=Tr(n,"shortTime"),s=Tr(n,"shortDate");i=ud(ld(n,kt.Short),[r,s]);break;case"medium":const a=Tr(n,"mediumTime"),l=Tr(n,"mediumDate");i=ud(ld(n,kt.Medium),[a,l]);break;case"long":const u=Tr(n,"longTime"),d=Tr(n,"longDate");i=ud(ld(n,kt.Long),[u,d]);break;case"full":const f=Tr(n,"fullTime"),g=Tr(n,"fullDate");i=ud(ld(n,kt.Full),[f,g])}return i&&(Fl[e][t]=i),i}function ud(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Ni(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.substr(a.length-t)),s+a}function zt(n,t,e=0,i=!1,r=!1){return function(s,a){let l=function $R(n,t){switch(n){case he.FullYear:return t.getFullYear();case he.Month:return t.getMonth();case he.Date:return t.getDate();case he.Hours:return t.getHours();case he.Minutes:return t.getMinutes();case he.Seconds:return t.getSeconds();case he.FractionalSeconds:return t.getMilliseconds();case he.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||l>-e)&&(l+=e),n===he.Hours)0===l&&-12===e&&(l=12);else if(n===he.FractionalSeconds)return function GR(n,t){return Ni(n,3).substr(0,t)}(l,t);const u=vi(a,ce.MinusSign);return Ni(l,t,u,i,r)}}function yt(n,t,e=Lt.Format,i=!1){return function(r,s){return function ZR(n,t,e,i,r,s){switch(e){case Ae.Months:return function OR(n,t,e){const i=Rn(n),s=_i([i[W.MonthsFormat],i[W.MonthsStandalone]],t);return _i(s,e)}(t,r,i)[n.getMonth()];case Ae.Days:return function RR(n,t,e){const i=Rn(n),s=_i([i[W.DaysFormat],i[W.DaysStandalone]],t);return _i(s,e)}(t,r,i)[n.getDay()];case Ae.DayPeriods:const a=n.getHours(),l=n.getMinutes();if(s){const d=function VR(n){const t=Rn(n);return mS(t),(t[W.ExtraData][2]||[]).map(i=>"string"==typeof i?wg(i):[wg(i[0]),wg(i[1])])}(t),f=function BR(n,t,e){const i=Rn(n);mS(i);const s=_i([i[W.ExtraData][0],i[W.ExtraData][1]],t)||[];return _i(s,e)||[]}(t,r,i),g=d.findIndex(v=>{if(Array.isArray(v)){const[_,w]=v,C=a>=_.hours&&l>=_.minutes,S=a<w.hours||a===w.hours&&l<w.minutes;if(_.hours<w.hours){if(C&&S)return!0}else if(C||S)return!0}else if(v.hours===a&&v.minutes===l)return!0;return!1});if(-1!==g)return f[g]}return function xR(n,t,e){const i=Rn(n),s=_i([i[W.DayPeriodsFormat],i[W.DayPeriodsStandalone]],t);return _i(s,e)}(t,r,i)[a<12?0:1];case Ae.Eras:return function NR(n,t){return _i(Rn(n)[W.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function dd(n){return function(t,e,i){const r=-1*i,s=vi(e,ce.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case tn.Short:return(r>=0?"+":"")+Ni(a,2,s)+Ni(Math.abs(r%60),2,s);case tn.ShortGMT:return"GMT"+(r>=0?"+":"")+Ni(a,1,s);case tn.Long:return"GMT"+(r>=0?"+":"")+Ni(a,2,s)+":"+Ni(Math.abs(r%60),2,s);case tn.Extended:return 0===i?"Z":(r>=0?"+":"")+Ni(a,2,s)+":"+Ni(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function vS(n){return cd(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Cg(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+s)/7)}else{const s=vS(e),a=function YR(n){const t=cd(n,0,1).getDay();return cd(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),l=s.getTime()-a.getTime();r=1+Math.round(l/6048e5)}return Ni(r,n,vi(i,ce.MinusSign))}}function fd(n,t=!1){return function(e,i){return Ni(vS(e).getFullYear(),n,vi(i,ce.MinusSign),t)}}const Dg={};function _S(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function yS(n){return n instanceof Date&&!isNaN(n.valueOf())}let Mg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:function(e){let i=null;return e?i=new e:(r=P(mi),i=new dO(r)),i;var r},providedIn:"root"}),n})();let dO=(()=>{class n extends Mg{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(LR(i||this.locale)(e)){case Ut.Zero:return"zero";case Ut.One:return"one";case Ut.Two:return"two";case Ut.Few:return"few";case Ut.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(P(mi))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();function SS(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let cr=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(yl(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Le(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(M(rd),M(Ol),M(Tt),M($n))},n.\u0275dir=ie({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class fO{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jr=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new fO(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,a),bS(l,r)}});for(let r=0,s=i.length;r<s;r++){const l=i.get(r).context;l.index=r,l.count=s,l.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{bS(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(M(ii),M(ar),M(rd))},n.\u0275dir=ie({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function bS(n,t){n.context.$implicit=t.item}let Mr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new pO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ES("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ES("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(M(ii),M(ar))},n.\u0275dir=ie({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class pO{constructor(){this.$implicit=null,this.ngIf=null}}function ES(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Le(t)}'.`)}class Ig{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let gd=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ie({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),TS=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ig(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(M(ii),M(ar),M(gd,9))},n.\u0275dir=ie({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Vl=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(M(Tt),M(Ol),M($n))},n.\u0275dir=ie({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),yi=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(M(ii))},n.\u0275dir=ie({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Kt]}),n})();function Fi(n,t){return new $(2100,"")}class vO{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class _O{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const yO=new _O,wO=new vO;let Ag=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Uu(e))return yO;if(Fw(e))return wO;throw Fi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(M(ua,16))},n.\u0275pipe=vt({name:"async",type:n,pure:!1}),n})();const MO=/#/g;let Pg=(()=>{class n{constructor(e){this._localization=e}transform(e,i,r){if(null==e)return"";if("object"!=typeof i||null===i)throw Fi();return i[function DS(n,t,e,i){let r=`=${n}`;if(t.indexOf(r)>-1||(r=e.getPluralCategory(n,i),t.indexOf(r)>-1))return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}(e,Object.keys(i),this._localization,r)].replace(MO,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(M(Mg,16))},n.\u0275pipe=vt({name:"i18nPlural",type:n,pure:!0}),n})(),AS=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw Fi();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=vt({name:"slice",type:n,pure:!1}),n})(),da=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({}),n})();const PS="browser";function kS(n){return n===PS}class RS{}class Rg extends class BO extends class SR{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function DR(n){sd||(sd=n)}(new Rg)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function HO(){return Bl=Bl||document.querySelector("base"),Bl?Bl.getAttribute("href"):null}();return null==e?null:function jO(n){md=md||document.createElement("a"),md.setAttribute("href",n);const t=md.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Bl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return SS(document.cookie,t)}}let md,Bl=null;const OS=new Ie("TRANSITION_ID"),zO=[{provide:HD,useFactory:function UO(n,t,e){return()=>{e.get(og).donePromise.then(()=>{const i=lr(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[OS,pt,ln],multi:!0}];class Og{static init(){!function K1(n){hg=n}(new Og)}addToWindow(t){Ye.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Ye.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ye.getAllAngularRootElements=()=>t.getAllRootElements(),Ye.frameworkStabilizers||(Ye.frameworkStabilizers=[]),Ye.frameworkStabilizers.push(i=>{const r=Ye.getAllAngularTestabilities();let s=r.length,a=!1;const l=function(u){a=a||u,s--,0==s&&i(a)};r.forEach(function(u){u.whenStable(l)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?lr().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}}let WO=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const vd=new Ie("EventManagerPlugins");let _d=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(P(vd),P(lt))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class NS{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=lr().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let FS=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),Hl=(()=>{class n extends FS{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(LS),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(LS))}}return n.\u0275fac=function(e){return new(e||n)(P(pt))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();function LS(n){lr().remove(n)}const Ng={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fg=/%COMP%/g;function yd(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?yd(n,r,e):(r=r.replace(Fg,n),e.push(r))}return e}function HS(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let wd=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Lg(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Qn.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new KO(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Qn.ShadowDom:return new XO(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=yd(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(P(_d),P(Hl),P(Rl))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class Lg{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ng[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Ng[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ng[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(ti.DashCase|ti.Important)?t.style.setProperty(e,i,r&ti.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&ti.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,HS(i)):this.eventManager.addEventListener(t,e,HS(i))}}class KO extends Lg{constructor(t,e,i,r){super(t),this.component=i;const s=yd(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function ZO(n){return"_ngcontent-%COMP%".replace(Fg,n)}(r+"-"+i.id),this.hostAttr=function qO(n){return"_nghost-%COMP%".replace(Fg,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class XO extends Lg{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=yd(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const l=document.createElement("style");l.textContent=s[a],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let QO=(()=>{class n extends NS{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(P(pt))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const US=["alt","control","meta","shift"],eN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zS={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},tN={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let nN=(()=>{class n extends NS{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lr().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="";if(US.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=a,l}static getEventFullKey(e){let i="",r=function iN(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&zS.hasOwnProperty(t)&&(t=zS[t]))}return eN[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),US.forEach(s=>{s!=r&&tN[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(P(pt))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const aN=ZD(yR,"browser",[{provide:ca,useValue:PS},{provide:UD,useValue:function rN(){Rg.makeCurrent(),Og.init()},multi:!0},{provide:pt,useFactory:function oN(){return function X(n){O=n}(document),document},deps:[]}]),lN=[{provide:gp,useValue:"root"},{provide:fl,useFactory:function sN(){return new fl},deps:[]},{provide:vd,useClass:QO,multi:!0,deps:[pt,lt,ca]},{provide:vd,useClass:nN,multi:!0,deps:[pt]},{provide:wd,useClass:wd,deps:[_d,Hl,Rl]},{provide:Ml,useExisting:wd},{provide:FS,useExisting:Hl},{provide:Hl,useClass:Hl,deps:[pt]},{provide:dg,useClass:dg,deps:[lt]},{provide:_d,useClass:_d,deps:[vd,lt]},{provide:RS,useClass:WO,deps:[]}];let WS=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Rl,useValue:e.appId},{provide:OS,useExisting:Rl},zO]}}}return n.\u0275fac=function(e){return new(e||n)(P(n,12))},n.\u0275mod=st({type:n}),n.\u0275inj=be({providers:lN,imports:[da,wR]}),n})();typeof window<"u"&&window;const Bg={now:()=>(Bg.delegate||Date).now(),delegate:void 0};class ZS extends ve{constructor(t=1/0,e=1/0,i=Bg){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;e||(i.push(t),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!t.closed;a+=i?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=e.now();let l=0;for(let u=1;u<i.length&&i[u]<=a;u+=2)l=u;l&&i.splice(0,l+1)}}}function ts(n,t){return ut((e,i)=>{let r=null,s=0,a=!1;const l=()=>a&&!r&&i.complete();e.subscribe(it(i,u=>{null==r||r.unsubscribe();let d=0;const f=s++;In(n(u,f)).subscribe(r=it(i,g=>i.next(t?t(u,g,f,d++):g),()=>{r=null,l()}))},()=>{a=!0,l()}))})}const Cd={schedule(n,t){const e=setTimeout(n,t);return()=>clearTimeout(e)},scheduleBeforeRender(n){if(typeof window>"u")return Cd.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return Cd.schedule(n,16);const t=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(t)}};let Hg;function MN(n,t,e){let i=e;return function wN(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&t.some((r,s)=>!("*"===r||!function DN(n,t){if(!Hg){const e=Element.prototype;Hg=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&Hg.call(n,t)}(n,r)||(i=s,0))),i}class AN{constructor(t,e){this.componentFactory=e.get(Qr).resolveComponentFactory(t)}create(t){return new PN(this.componentFactory,t)}}class PN{constructor(t,e){this.componentFactory=t,this.injector=e,this.eventEmitters=new ZS(1),this.events=this.eventEmitters.pipe(ts(i=>sn(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(lt),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(t){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(t)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=Cd.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(t){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(t):this.componentRef.instance[t])}setInputValue(t,e){this.runInZone(()=>{null!==this.componentRef?function SN(n,t){return n===t||n!=n&&t!=t}(e,this.getInputValue(t))&&(void 0!==e||!this.unchangedInputs.has(t))||(this.recordInputChange(t,e),this.unchangedInputs.delete(t),this.hasInputChanges=!0,this.componentRef.instance[t]=e,this.scheduleDetectChanges()):this.initialInputValues.set(t,e)})}initializeComponent(t){const e=ln.create({providers:[],parent:this.injector}),i=function TN(n,t){const e=n.childNodes,i=t.map(()=>[]);let r=-1;t.some((s,a)=>"*"===s&&(r=a,!0));for(let s=0,a=e.length;s<a;++s){const l=e[s],u=MN(l,t,r);-1!==u&&i[u].push(l)}return i}(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,i,t),this.viewChangeDetectorRef=this.componentRef.injector.get(ua),this.implementsOnChanges=function CN(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(td).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t})=>{this.initialInputValues.has(t)&&this.setInputValue(t,this.initialInputValues.get(t))}),this.initialInputValues.clear()}initializeOutputs(t){const e=this.componentFactory.outputs.map(({propName:i,templateName:r})=>t.instance[i].pipe(He(a=>({name:r,value:a}))));this.eventEmitters.next(e)}callNgOnChanges(t){if(!this.implementsOnChanges||null===this.inputChanges)return;const e=this.inputChanges;this.inputChanges=null,t.instance.ngOnChanges(e)}markViewForCheck(t){this.hasInputChanges&&(this.hasInputChanges=!1,t.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Cd.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,e){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[t];if(i)return void(i.currentValue=e);const r=this.unchangedInputs.has(t),s=r?void 0:this.getInputValue(t);this.inputChanges[t]=new Ga(s,e,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(t){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t):t()}}class kN extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function qS(n,t){const e=function EN(n,t){return t.get(Qr).resolveComponentFactory(n).inputs}(n,t.injector),i=t.strategyFactory||new AN(n,t.injector),r=function bN(n){const t={};return n.forEach(({propName:e,templateName:i})=>{t[function yN(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}(i)]=e}),t}(e);class s extends kN{constructor(l){super(),this.injector=l}get ngElementStrategy(){if(!this._ngElementStrategy){const l=this._ngElementStrategy=i.create(this.injector||t.injector);e.forEach(({propName:u})=>{if(!this.hasOwnProperty(u))return;const d=this[u];delete this[u],l.setInputValue(u,d)})}return this._ngElementStrategy}attributeChangedCallback(l,u,d,f){this.ngElementStrategy.setInputValue(r[l],d)}connectedCallback(){let l=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),l=!0),this.ngElementStrategy.connect(this),l||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(l=>{const u=new CustomEvent(l.name,{detail:l.value});this.dispatchEvent(u)})}}return s.observedAttributes=Object.keys(r),e.forEach(({propName:a})=>{Object.defineProperty(s.prototype,a,{get(){return this.ngElementStrategy.getInputValue(a)},set(l){this.ngElementStrategy.setInputValue(a,l)},configurable:!0,enumerable:!0})}),s}class YS{}const Ir="*";function KS(n,t=null){return{type:4,styles:t,timings:n}}function XS(n,t=null){return{type:2,steps:n,options:t}}function Dd(n){return{type:6,styles:n,offset:null}}function QS(n,t,e){return{type:0,name:n,styles:t,options:e}}function JS(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function eb(n){Promise.resolve(null).then(n)}class jl{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){eb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class tb{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?eb(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Be=!1;function nb(n){return new $(3e3,Be)}function fF(){return typeof window<"u"&&typeof window.document<"u"}function Ug(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ns(n){switch(n.length){case 0:return new jl;case 1:return n[0];default:return new tb(n)}}function ib(n,t,e,i,r={},s={}){const a=[],l=[];let u=-1,d=null;if(i.forEach(f=>{const g=f.offset,v=g==u,_=v&&d||{};Object.keys(f).forEach(w=>{let C=w,S=f[w];if("offset"!==w)switch(C=t.normalizePropertyName(C,a),S){case"!":S=r[w];break;case Ir:S=s[w];break;default:S=t.normalizeStyleValue(w,C,S,a)}_[C]=S}),v||l.push(_),d=_,u=g}),a.length)throw function nF(n){return new $(3502,Be)}();return l}function zg(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Wg(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Wg(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Wg(e,"destroy",n)))}}function Wg(n,t,e){const s=Gg(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function Gg(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function si(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function rb(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let $g=(n,t)=>!1,sb=(n,t,e)=>[],ob=null;function Zg(n){const t=n.parentNode||n.host;return t===ob?null:t}(Ug()||typeof Element<"u")&&(fF()?(ob=(()=>document.documentElement)(),$g=(n,t)=>{for(;t;){if(t===n)return!0;t=Zg(t)}return!1}):$g=(n,t)=>n.contains(t),sb=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Rs=null,ab=!1;function lb(n){Rs||(Rs=function gF(){return typeof document<"u"?document.body:null}()||{},ab=!!Rs.style&&"WebkitAppearance"in Rs.style);let t=!0;return Rs.style&&!function pF(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Rs.style,!t&&ab&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Rs.style)),t}const cb=$g,ub=sb;let db=(()=>{class n{validateStyleProperty(e){return lb(e)}matchesElement(e,i){return!1}containsElement(e,i){return cb(e,i)}getParentElement(e){return Zg(e)}query(e,i,r){return ub(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,l=[],u){return new jl(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),qg=(()=>{class n{}return n.NOOP=new db,n})();const Yg="ng-enter",bd="ng-leave",Ed="ng-trigger",Td=".ng-trigger",fb="ng-animating",Kg=".ng-animating";function Os(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Xg(parseFloat(t[1]),t[2])}function Xg(n,t){return"s"===t?1e3*n:n}function Md(n,t,e){return n.hasOwnProperty("duration")?n:function _F(n,t,e){let r,s=0,a="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return t.push(nb()),{duration:0,delay:0,easing:""};r=Xg(parseFloat(l[1]),l[2]);const u=l[3];null!=u&&(s=Xg(parseFloat(u),l[4]));const d=l[5];d&&(a=d)}else r=n;if(!e){let l=!1,u=t.length;r<0&&(t.push(function ON(){return new $(3100,Be)}()),l=!0),s<0&&(t.push(function NN(){return new $(3101,Be)}()),l=!0),l&&t.splice(u,0,nb())}return{duration:r,delay:s,easing:a}}(n,t,e)}function ha(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function is(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else ha(n,e);return e}function gb(n,t,e){return e?t+":"+e+";":""}function mb(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=gb(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=gb(0,CF(e),n.style[e]));n.setAttribute("style",t)}function ur(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Jg(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Ug()&&mb(n))}function Ns(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Jg(e);n.style[i]=""}),Ug()&&mb(n))}function Ul(n){return Array.isArray(n)?1==n.length?n[0]:XS(n):n}const Qg=new RegExp("{{\\s*(.+?)\\s*}}","g");function vb(n){let t=[];if("string"==typeof n){let e;for(;e=Qg.exec(n);)t.push(e[1]);Qg.lastIndex=0}return t}function Id(n,t,e){const i=n.toString(),r=i.replace(Qg,(s,a)=>{let l=t[a];return t.hasOwnProperty(a)||(e.push(function LN(n){return new $(3003,Be)}()),l=""),l.toString()});return r==i?n:r}function Ad(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const wF=/-+([a-z0-9])/g;function Jg(n){return n.replace(wF,(...t)=>t[1].toUpperCase())}function CF(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function oi(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function VN(n){return new $(3004,Be)}()}}function _b(n,t){return window.getComputedStyle(n)[t]}function MF(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function IF(n,t,e){if(":"==n[0]){const u=function AF(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function QN(n){return new $(3016,Be)}()),"* => *"}}(n,e);if("function"==typeof u)return void t.push(u);n=u}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function XN(n){return new $(3015,Be)}()),t;const r=i[1],s=i[2],a=i[3];t.push(yb(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&t.push(yb(a,r))}(i,e,t)):e.push(n),e}const Rd=new Set(["true","1"]),Od=new Set(["false","0"]);function yb(n,t){const e=Rd.has(n)||Od.has(n),i=Rd.has(t)||Od.has(t);return(r,s)=>{let a="*"==n||n==r,l="*"==t||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?Rd.has(n):Od.has(n)),!l&&i&&"boolean"==typeof s&&(l=s?Rd.has(t):Od.has(t)),a&&l}}const PF=new RegExp("s*:selfs*,?","g");function em(n,t,e,i){return new kF(n).build(t,e,i)}class kF{constructor(t){this._driver=t}build(t,e,i){const r=new OF(e);this._resetContextStyleTimingState(r);const s=oi(this,Ul(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function HN(){return new $(3006,Be)}()),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),0==l.type){const u=l,d=u.name;d.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,s.push(this.visitState(u,e))}),u.name=d}else if(1==l.type){const u=this.visitTransition(l,e);i+=u.queryCount,r+=u.depCount,a.push(u)}else e.errors.push(function jN(){return new $(3007,Be)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(l=>{if(Nd(l)){const u=l;Object.keys(u).forEach(d=>{vb(u[d]).forEach(f=>{a.hasOwnProperty(f)||s.add(f)})})}}),s.size&&(Ad(s.values()),e.errors.push(function UN(n,t){return new $(3008,Be)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=oi(this,Ul(t.animation),e);return{type:1,matchers:MF(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Fs(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>oi(this,i,e)),options:Fs(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const l=oi(this,a,e);return r=Math.max(r,e.currentTime),l});return e.currentTime=r,{type:3,steps:s,options:Fs(t.options)}}visitAnimate(t,e){const i=function FF(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return tm(Md(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=tm(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||Md(i,t),tm(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Dd({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,l=!1;if(!a){l=!0;const d={};i.easing&&(d.easing=i.easing),a=Dd(d)}e.currentTime+=i.duration+i.delay;const u=this.visitStyle(a,e);u.isEmptyStep=l,r=u}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==Ir?i.push(a):e.errors.push(function zN(n){return new $(3002,Be)}()):i.push(a)}):i.push(t.styles);let r=!1,s=null;return i.forEach(a=>{if(Nd(a)){const l=a,u=l.easing;if(u&&(s=u,delete l.easing),!r)for(let d in l)if(l[d].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(l=>{if(!this._driver.validateStyleProperty(l))return delete a[l],void e.unsupportedCSSPropertiesFound.add(l);const u=e.collectedStyles[e.currentQuerySelector],d=u[l];let f=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(e.errors.push(function WN(n,t,e,i,r){return new $(3010,Be)}()),f=!1),s=d.startTime),f&&(u[l]={startTime:s,endTime:r}),e.options&&function yF(n,t,e){const i=t.params||{},r=vb(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function FN(n){return new $(3001,Be)}())})}(a[l],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function GN(){return new $(3011,Be)}()),i;let s=0;const a=[];let l=!1,u=!1,d=0;const f=t.steps.map(E=>{const b=this._makeStyleAst(E,e);let A=null!=b.offset?b.offset:function NF(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Nd(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Nd(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(b.styles),x=0;return null!=A&&(s++,x=b.offset=A),u=u||x<0||x>1,l=l||x<d,d=x,a.push(x),b});u&&e.errors.push(function $N(){return new $(3012,Be)}()),l&&e.errors.push(function ZN(){return new $(3200,Be)}());const g=t.steps.length;let v=0;s>0&&s<g?e.errors.push(function qN(){return new $(3202,Be)}()):0==s&&(v=1/(g-1));const _=g-1,w=e.currentTime,C=e.currentAnimateTimings,S=C.duration;return f.forEach((E,b)=>{const A=v>0?b==_?1:v*b:a[b],x=A*S;e.currentTime=w+C.delay+x,C.duration=x,this._validateStyleAst(E,e),E.offset=A,i.styles.push(E)}),i}visitReference(t,e){return{type:8,animation:oi(this,Ul(t.animation),e),options:Fs(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Fs(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Fs(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function xF(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(PF,"")),n=n.replace(/@\*/g,Td).replace(/@\w+/g,e=>Td+"-"+e.substr(1)).replace(/:animating/g,Kg),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,si(e.collectedStyles,e.currentQuerySelector,{});const l=oi(this,Ul(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:t.selector,options:Fs(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function YN(){return new $(3013,Be)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Md(t.timings,e.errors,!0);return{type:12,animation:oi(this,Ul(t.animation),e),timings:i,options:null}}}class OF{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Nd(n){return!Array.isArray(n)&&"object"==typeof n}function Fs(n){return n?(n=ha(n)).params&&(n.params=function RF(n){return n?ha(n):null}(n.params)):n={},n}function tm(n,t,e){return{duration:n,delay:t,easing:e}}function nm(n,t,e,i,r,s,a=null,l=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:l}}class Fd{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const BF=new RegExp(":enter","g"),jF=new RegExp(":leave","g");function im(n,t,e,i,r,s={},a={},l,u,d=[]){return(new UF).buildKeyframes(n,t,e,i,r,s,a,l,u,d)}class UF{buildKeyframes(t,e,i,r,s,a,l,u,d,f=[]){d=d||new Fd;const g=new rm(t,e,d,r,s,f,[]);g.options=u,g.currentTimeline.setStyles([a],null,g.errors,u),oi(this,i,g);const v=g.timelines.filter(_=>_.containsAnimation());if(Object.keys(l).length){let _;for(let w=v.length-1;w>=0;w--){const C=v[w];if(C.element===e){_=C;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([l],null,g.errors,u)}return v.length?v.map(_=>_.buildKeyframes()):[nm(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?Os(i.duration):null,l=null!=i.delay?Os(i.delay):null;return 0!==a&&t.forEach(u=>{const d=e.appendInstructionToTimeline(u,a,l);s=Math.max(s,d.duration+d.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),oi(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ld);const a=Os(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>oi(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Os(t.options.delay):0;t.steps.forEach(a=>{const l=e.createSubContext(t.options);s&&l.delayNextStep(s),oi(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Md(e.params?Id(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,l=e.createSubContext().currentTimeline;l.easing=i.easing,t.styles.forEach(u=>{l.forwardTime((u.offset||0)*s),l.setStyles(u.styles,u.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Os(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ld);let a=i;const l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=l.length;let u=null;l.forEach((d,f)=>{e.currentQueryIndex=f;const g=e.createSubContext(t.options,d);s&&g.delayNextStep(s),d===e.element&&(u=g.currentTimeline),oi(this,t.animation,g),g.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,g.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),l=a*(e.currentQueryTotal-1);let u=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=l-u;break;case"full":u=i.currentStaggerTime}const f=e.currentTimeline;u&&f.delayNextStep(u);const g=f.currentTime;oi(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-g+(r.startTime-i.currentTimeline.startTime)}}const Ld={};class rm{constructor(t,e,i,r,s,a,l,u){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ld,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Vd(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Os(i.duration)),null!=i.delay&&(r.delay=Os(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(l=>{(!e||!a.hasOwnProperty(l))&&(a[l]=Id(s[l],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new rm(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Ld,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new zF(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let l=[];if(r&&l.push(this.element),t.length>0){t=(t=t.replace(BF,"."+this._enterClassName)).replace(jF,"."+this._leaveClassName);let d=this._driver.query(this.element,t,1!=i);0!==i&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),l.push(...d)}return!s&&0==l.length&&a.push(function KN(n){return new $(3014,Be)}()),l}}class Vd{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Vd(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ir,this._currentKeyframe[e]=Ir}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},a=function WF(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=Ir})):is(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(l=>{const u=Id(a[l],s,i);this._pendingStyles[l]=u,this._localTimelineStyles.hasOwnProperty(l)||(this._backFill[l]=this._globalTimelineStyles.hasOwnProperty(l)?this._globalTimelineStyles[l]:Ir),this._updateStyle(l,u)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,u)=>{const d=is(l,!0);Object.keys(d).forEach(f=>{const g=d[f];"!"==g?t.add(f):g==Ir&&e.add(f)}),i||(d.offset=u/this.duration),r.push(d)});const s=t.size?Ad(t.values()):[],a=e.size?Ad(e.values()):[];if(i){const l=r[0],u=ha(l);l.offset=0,u.offset=1,r=[l,u]}return nm(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class zF extends Vd{constructor(t,e,i,r,s,a,l=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,l=e/a,u=is(t[0],!1);u.offset=0,s.push(u);const d=is(t[0],!1);d.offset=Db(l),s.push(d);const f=t.length-1;for(let g=1;g<=f;g++){let v=is(t[g],!1);v.offset=Db((e+v.offset*i)/a),s.push(v)}i=a,e=0,r="",t=s}return nm(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Db(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class sm{}class GF extends sm{normalizePropertyName(t,e){return Jg(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if($F[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(function BN(n,t){return new $(3005,Be)}())}return a+s}}const $F=(()=>function ZF(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Sb(n,t,e,i,r,s,a,l,u,d,f,g,v){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:l,queriedElements:u,preStyleProps:d,postStyleProps:f,totalTime:g,errors:v}}const om={};class bb{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function qF(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],a=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):a}build(t,e,i,r,s,a,l,u,d,f){const g=[],v=this.ast.options&&this.ast.options.params||om,w=this.buildStyles(i,l&&l.params||om,g),C=u&&u.params||om,S=this.buildStyles(r,C,g),E=new Set,b=new Map,A=new Map,x="void"===r,H={params:{...v,...C}},J=f?[]:im(t,e,this.ast.animation,s,a,w,S,H,d,g);let ge=0;if(J.forEach(ee=>{ge=Math.max(ee.duration+ee.delay,ge)}),g.length)return Sb(e,this._triggerName,i,r,x,w,S,[],[],b,A,ge,g);J.forEach(ee=>{const re=ee.element,G=si(b,re,{});ee.preStyleProps.forEach(ke=>G[ke]=!0);const V=si(A,re,{});ee.postStyleProps.forEach(ke=>V[ke]=!0),re!==e&&E.add(re)});const ue=Ad(E.values());return Sb(e,this._triggerName,i,r,x,w,S,J,ue,b,A,ge)}}class YF{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=ha(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!=a&&(r[s]=a)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const a=s;Object.keys(a).forEach(l=>{let u=a[l];u.length>1&&(u=Id(u,r,e));const d=this.normalizer.normalizePropertyName(l,e);u=this.normalizer.normalizeStyleValue(l,d,u,e),i[d]=u})}}),i}}class XF{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new YF(r.style,r.options&&r.options.params||{},i)}),Eb(this.states,"true","1"),Eb(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new bb(t,r,this.states))}),this.fallbackTransition=function QF(n,t,e){return new bb(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Eb(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const JF=new Fd;class eL{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=em(this._driver,e,i,[]);if(i.length)throw function iF(n){return new $(3503,Be)}();this._animations[t]=s}_buildPlayer(t,e,i){const r=t.element,s=ib(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let a;const l=new Map;if(s?(a=im(this._driver,e,s,Yg,bd,{},{},i,JF,r),a.forEach(f=>{const g=si(l,f.element,{});f.postStyleProps.forEach(v=>g[v]=null)})):(r.push(function rF(){return new $(3300,Be)}()),a=[]),r.length)throw function sF(n){return new $(3504,Be)}();l.forEach((f,g)=>{Object.keys(f).forEach(v=>{f[v]=this._driver.computeStyle(g,v,Ir)})});const d=ns(a.map(f=>{const g=l.get(f.element);return this._buildPlayer(f,{},g)}));return this._playersById[t]=d,d.onDestroy(()=>this.destroy(t)),this.players.push(d),d}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function oF(n){return new $(3301,Be)}();return e}listen(t,e,i,r){const s=Gg(e,"","","");return zg(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Tb="ng-animate-queued",am="ng-animate-disabled",sL=[],Mb={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wi="__ng_removed";class lm{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function uL(n){return n??null}(i?t.value:t),i){const s=ha(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const zl="void",cm=new lm(zl);class aL{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ci(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function aF(n,t){return new $(3302,Be)}();if(null==i||0==i.length)throw function lF(n){return new $(3303,Be)}();if(!function dL(n){return"start"==n||"done"==n}(i))throw function cF(n,t){return new $(3400,Be)}();const s=si(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const l=si(this._engine.statesByElement,t,{});return l.hasOwnProperty(e)||(Ci(t,Ed),Ci(t,Ed+"-"+e),l[e]=cm),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(a);u>=0&&s.splice(u,1),this._triggers[e]||delete l[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function uF(n){return new $(3401,Be)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new um(this.id,e,t);let l=this._engine.statesByElement.get(t);l||(Ci(t,Ed),Ci(t,Ed+"-"+e),this._engine.statesByElement.set(t,l={}));let u=l[e];const d=new lm(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&u&&d.absorbOptions(u.options),l[e]=d,u||(u=cm),d.value!==zl&&u.value===d.value){if(!function pL(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(u.params,d.params)){const C=[],S=s.matchStyles(u.value,u.params,C),E=s.matchStyles(d.value,d.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{Ns(t,S),ur(t,E)})}return}const v=si(this._engine.playersByElement,t,[]);v.forEach(C=>{C.namespaceId==this.id&&C.triggerName==e&&C.queued&&C.destroy()});let _=s.matchTransition(u.value,d.value,t,d.params),w=!1;if(!_){if(!r)return;_=s.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:_,fromState:u,toState:d,player:a,isFallbackTransition:w}),w||(Ci(t,Tb),a.onStart(()=>{fa(t,Tb)})),a.onDone(()=>{let C=this.players.indexOf(a);C>=0&&this.players.splice(C,1);const S=this._engine.playersByElement.get(t);if(S){let E=S.indexOf(a);E>=0&&S.splice(E,1)}}),this.players.push(a),v.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Td,!0);i.forEach(r=>{if(r[wi])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const l=[];if(Object.keys(s).forEach(u=>{if(a.set(u,s[u].value),this._triggers[u]){const d=this.trigger(t,u,zl,r);d&&l.push(d)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&ns(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const u=this._triggers[a].fallbackTransition,d=i[a]||cm,f=new lm(zl),g=new um(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:u,fromState:d,toState:f,player:g,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[wi];(!s||s===Mb)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ci(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(l=>{if(l.name==i.triggerName){const u=Gg(s,i.triggerName,i.fromState.value,i.toState.value);u._data=t,zg(i.player,l.phase,u,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class lL{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new aL(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let a=!1;if(void 0!==this.driver.getParentElement){let l=this.driver.getParentElement(e);for(;l;){const u=r.get(l);if(u){const d=i.indexOf(u);i.splice(d+1,0,t),a=!0;break}l=this.driver.getParentElement(l)}}else for(let l=s;l>=0;l--)if(this.driver.containsElement(i[l].hostElement,e)){i.splice(l+1,0,t),a=!0;break}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const a=i[r[s]].namespaceId;if(a){const l=this._fetchNamespace(a);l&&e.add(l)}}}return e}trigger(t,e,i,r){if(Bd(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Bd(e))return;const s=e[wi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ci(t,am)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),fa(t,am))}removeNode(t,e,i,r){if(Bd(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[wi]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return Bd(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Td,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Kg,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ns(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[wi];if(e&&e.setForRemoval){if(t[wi]=Mb,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(am)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ci(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ns(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function dF(n){return new $(3402,Be)}()}_flushAnimations(t,e){const i=new Fd,r=[],s=new Map,a=[],l=new Map,u=new Map,d=new Map,f=new Set;this.disabledNodes.forEach(z=>{f.add(z);const te=this.driver.query(z,".ng-animate-queued",!0);for(let ae=0;ae<te.length;ae++)f.add(te[ae])});const g=this.bodyNode,v=Array.from(this.statesByElement.keys()),_=Pb(v,this.collectedEnterElements),w=new Map;let C=0;_.forEach((z,te)=>{const ae=Yg+C++;w.set(te,ae),z.forEach(Fe=>Ci(Fe,ae))});const S=[],E=new Set,b=new Set;for(let z=0;z<this.collectedLeaveElements.length;z++){const te=this.collectedLeaveElements[z],ae=te[wi];ae&&ae.setForRemoval&&(S.push(te),E.add(te),ae.hasAnimation?this.driver.query(te,".ng-star-inserted",!0).forEach(Fe=>E.add(Fe)):b.add(te))}const A=new Map,x=Pb(v,Array.from(E));x.forEach((z,te)=>{const ae=bd+C++;A.set(te,ae),z.forEach(Fe=>Ci(Fe,ae))}),t.push(()=>{_.forEach((z,te)=>{const ae=w.get(te);z.forEach(Fe=>fa(Fe,ae))}),x.forEach((z,te)=>{const ae=A.get(te);z.forEach(Fe=>fa(Fe,ae))}),S.forEach(z=>{this.processLeaveNode(z)})});const H=[],J=[];for(let z=this._namespaceList.length-1;z>=0;z--)this._namespaceList[z].drainQueuedTransitions(e).forEach(ae=>{const Fe=ae.player,Ge=ae.element;if(H.push(Fe),this.collectedEnterElements.length){const Bn=Ge[wi];if(Bn&&Bn.setForMove){if(Bn.previousTriggersValues&&Bn.previousTriggersValues.has(ae.triggerName)){const $s=Bn.previousTriggersValues.get(ae.triggerName),fs=this.statesByElement.get(ae.element);fs&&fs[ae.triggerName]&&(fs[ae.triggerName].value=$s)}return void Fe.destroy()}}const At=!g||!this.driver.containsElement(g,Ge),pn=A.get(Ge),Di=w.get(Ge),mt=this._buildInstruction(ae,i,Di,pn,At);if(mt.errors&&mt.errors.length)return void J.push(mt);if(At)return Fe.onStart(()=>Ns(Ge,mt.fromStyles)),Fe.onDestroy(()=>ur(Ge,mt.toStyles)),void r.push(Fe);if(ae.isFallbackTransition)return Fe.onStart(()=>Ns(Ge,mt.fromStyles)),Fe.onDestroy(()=>ur(Ge,mt.toStyles)),void r.push(Fe);const yc=[];mt.timelines.forEach(Bn=>{Bn.stretchStartingKeyframe=!0,this.disabledNodes.has(Bn.element)||yc.push(Bn)}),mt.timelines=yc,i.append(Ge,mt.timelines),a.push({instruction:mt,player:Fe,element:Ge}),mt.queriedElements.forEach(Bn=>si(l,Bn,[]).push(Fe)),mt.preStyleProps.forEach((Bn,$s)=>{const fs=Object.keys(Bn);if(fs.length){let Zs=u.get($s);Zs||u.set($s,Zs=new Set),fs.forEach(xv=>Zs.add(xv))}}),mt.postStyleProps.forEach((Bn,$s)=>{const fs=Object.keys(Bn);let Zs=d.get($s);Zs||d.set($s,Zs=new Set),fs.forEach(xv=>Zs.add(xv))})});if(J.length){const z=[];J.forEach(te=>{z.push(function hF(n,t){return new $(3505,Be)}())}),H.forEach(te=>te.destroy()),this.reportError(z)}const ge=new Map,ue=new Map;a.forEach(z=>{const te=z.element;i.has(te)&&(ue.set(te,te),this._beforeAnimationBuild(z.player.namespaceId,z.instruction,ge))}),r.forEach(z=>{const te=z.element;this._getPreviousPlayers(te,!1,z.namespaceId,z.triggerName,null).forEach(Fe=>{si(ge,te,[]).push(Fe),Fe.destroy()})});const ee=S.filter(z=>xb(z,u,d)),re=new Map;Ab(re,this.driver,b,d,Ir).forEach(z=>{xb(z,u,d)&&ee.push(z)});const V=new Map;_.forEach((z,te)=>{Ab(V,this.driver,new Set(z),u,"!")}),ee.forEach(z=>{const te=re.get(z),ae=V.get(z);re.set(z,{...te,...ae})});const ke=[],Pe=[],Vn={};a.forEach(z=>{const{element:te,player:ae,instruction:Fe}=z;if(i.has(te)){if(f.has(te))return ae.onDestroy(()=>ur(te,Fe.toStyles)),ae.disabled=!0,ae.overrideTotalTime(Fe.totalTime),void r.push(ae);let Ge=Vn;if(ue.size>1){let pn=te;const Di=[];for(;pn=pn.parentNode;){const mt=ue.get(pn);if(mt){Ge=mt;break}Di.push(pn)}Di.forEach(mt=>ue.set(mt,Ge))}const At=this._buildAnimation(ae.namespaceId,Fe,ge,s,V,re);if(ae.setRealPlayer(At),Ge===Vn)ke.push(ae);else{const pn=this.playersByElement.get(Ge);pn&&pn.length&&(ae.parentPlayer=ns(pn)),r.push(ae)}}else Ns(te,Fe.fromStyles),ae.onDestroy(()=>ur(te,Fe.toStyles)),Pe.push(ae),f.has(te)&&r.push(ae)}),Pe.forEach(z=>{const te=s.get(z.element);if(te&&te.length){const ae=ns(te);z.setRealPlayer(ae)}}),r.forEach(z=>{z.parentPlayer?z.syncPlayerEvents(z.parentPlayer):z.destroy()});for(let z=0;z<S.length;z++){const te=S[z],ae=te[wi];if(fa(te,bd),ae&&ae.hasAnimation)continue;let Fe=[];if(l.size){let At=l.get(te);At&&At.length&&Fe.push(...At);let pn=this.driver.query(te,Kg,!0);for(let Di=0;Di<pn.length;Di++){let mt=l.get(pn[Di]);mt&&mt.length&&Fe.push(...mt)}}const Ge=Fe.filter(At=>!At.destroyed);Ge.length?hL(this,te,Ge):this.processLeaveNode(te)}return S.length=0,ke.forEach(z=>{this.players.push(z),z.onDone(()=>{z.destroy();const te=this.players.indexOf(z);this.players.splice(te,1)}),z.play()}),ke}elementContainsData(t,e){let i=!1;const r=e[wi];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const l=this.playersByQueriedElement.get(t);l&&(a=l)}else{const l=this.playersByElement.get(t);if(l){const u=!s||s==zl;l.forEach(d=>{d.queued||!u&&d.triggerName!=r||a.push(d)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:e.triggerName;for(const u of e.timelines){const d=u.element,f=d!==s,g=si(i,d,[]);this._getPreviousPlayers(d,f,a,l,e.toState).forEach(_=>{const w=_.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),_.destroy(),g.push(_)})}Ns(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const l=e.triggerName,u=e.element,d=[],f=new Set,g=new Set,v=e.timelines.map(w=>{const C=w.element;f.add(C);const S=C[wi];if(S&&S.removedBeforeQueried)return new jl(w.duration,w.delay);const E=C!==u,b=function fL(n){const t=[];return kb(n,t),t}((i.get(C)||sL).map(ge=>ge.getRealPlayer())).filter(ge=>!!ge.element&&ge.element===C),A=s.get(C),x=a.get(C),H=ib(0,this._normalizer,0,w.keyframes,A,x),J=this._buildPlayer(w,H,b);if(w.subTimeline&&r&&g.add(C),E){const ge=new um(t,l,C);ge.setRealPlayer(J),d.push(ge)}return J});d.forEach(w=>{si(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function cL(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,w.element,w))}),f.forEach(w=>Ci(w,fb));const _=ns(v);return _.onDestroy(()=>{f.forEach(w=>fa(w,fb)),ur(u,e.toStyles)}),g.forEach(w=>{si(r,w,[]).push(_)}),_}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new jl(t.duration,t.delay)}}class um{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new jl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>zg(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){si(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Bd(n){return n&&1===n.nodeType}function Ib(n,t){const e=n.style.display;return n.style.display=t??"none",e}function Ab(n,t,e,i,r){const s=[];e.forEach(u=>s.push(Ib(u)));const a=[];i.forEach((u,d)=>{const f={};u.forEach(g=>{const v=f[g]=t.computeStyle(d,g,r);(!v||0==v.length)&&(d[wi]=oL,a.push(d))}),n.set(d,f)});let l=0;return e.forEach(u=>Ib(u,s[l++])),a}function Pb(n,t){const e=new Map;if(n.forEach(l=>e.set(l,[])),0==t.length)return e;const r=new Set(t),s=new Map;function a(l){if(!l)return 1;let u=s.get(l);if(u)return u;const d=l.parentNode;return u=e.has(d)?d:r.has(d)?1:a(d),s.set(l,u),u}return t.forEach(l=>{const u=a(l);1!==u&&e.get(u).push(l)}),e}function Ci(n,t){n.classList?.add(t)}function fa(n,t){n.classList?.remove(t)}function hL(n,t,e){ns(e).onDone(()=>n.processLeaveNode(t))}function kb(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof tb?kb(i.players,t):t.push(i)}}function xb(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Hd{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new lL(t,e,i),this._timelineEngine=new eL(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let l=this._triggerCache[a];if(!l){const u=[],f=em(this._driver,s,u,[]);if(u.length)throw function tF(n,t){return new $(3404,Be)}();l=function KF(n,t,e){return new XF(n,t,e)}(r,f,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(e,r,l)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=rb(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,l]=rb(i);return this._timelineEngine.listen(a,e,l,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let mL=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ur(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ur(this._element,this._initialStyles),this._endStyles&&(ur(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ns(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ns(this._element,this._endStyles),this._endStyles=null),ur(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function dm(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];vL(r)&&(t=t||{},t[r]=n[r])}return t}function vL(n){return"display"===n||"position"===n}class Rb{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:_b(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class _L{validateStyleProperty(t){return lb(t)}matchesElement(t,e){return!1}containsElement(t,e){return cb(t,e)}getParentElement(t){return Zg(t)}query(t,e,i){return ub(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,a=[]){const u={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(u.easing=s);const d={},f=a.filter(v=>v instanceof Rb);(function DF(n,t){return 0===n||0===t})(i,r)&&f.forEach(v=>{let _=v.currentSnapshot;Object.keys(_).forEach(w=>d[w]=_[w])}),e=function SF(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],a=[];if(i.forEach(l=>{s.hasOwnProperty(l)||a.push(l),s[l]=e[l]}),a.length)for(var r=1;r<t.length;r++){let l=t[r];a.forEach(function(u){l[u]=_b(n,u)})}}return t}(t,e=e.map(v=>is(v,!1)),d);const g=function gL(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=dm(t[0]),t.length>1&&(i=dm(t[t.length-1]))):t&&(e=dm(t)),e||i?new mL(n,e,i):null}(t,e);return new Rb(t,e,u,g)}}let yL=(()=>{class n extends YS{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Qn.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?XS(e):e;return Ob(this._renderer,null,i,"register",[r]),new wL(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(P(Ml),P(pt))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class wL extends class xN{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new CL(this._id,t,e||{},this._renderer)}}class CL{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ob(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ob(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const Nb="@.disabled";let DL=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const l=a?.parentNode(s);l&&a.removeChild(l,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let f=this._rendererCache.get(s);return f||(f=new Fb("",s,this.engine),this._rendererCache.set(s,f)),f}const a=i.id,l=i.id+"-"+this._currentId;this._currentId++,this.engine.register(l,e);const u=f=>{Array.isArray(f)?f.forEach(u):this.engine.registerTrigger(a,l,e,f.name,f)};return i.data.animation.forEach(u),new SL(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,l]=s;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(P(Ml),P(Hd),P(lt))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class Fb{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Nb?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class SL extends Fb{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Nb?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function bL(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),a="";return"@"!=s.charAt(0)&&([s,a]=function EL(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,i,l)})}return this.delegate.listen(t,e,i)}}let TL=(()=>{class n extends Hd{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(P(pt),P(qg),P(sm))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const Lb=new Ie("AnimationModuleType"),Vb=[{provide:YS,useClass:yL},{provide:sm,useFactory:function ML(){return new GF}},{provide:Hd,useClass:TL},{provide:Ml,useFactory:function IL(n,t,e){return new DL(n,t,e)},deps:[wd,Hd,lt]}],Bb=[{provide:qg,useFactory:()=>new _L},{provide:Lb,useValue:"BrowserAnimations"},...Vb],AL=[{provide:qg,useClass:db},{provide:Lb,useValue:"NoopAnimations"},...Vb];let PL=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?AL:Bb}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({providers:Bb,imports:[WS]}),n})();function rs(...n){return pr(n,Br(n))}class kL extends Nt{constructor(t,e){super()}schedule(t,e=0){return this}}const Ud={setInterval(n,t,...e){const{delegate:i}=Ud;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Ud;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class hm extends kL{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return Ud.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;Ud.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Qe(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}class Wl{constructor(t,e=Wl.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Wl.now=Bg.now;class fm extends Wl{constructor(t,e=Wl.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const pm=new fm(hm),xL=pm;function zd(n=0,t,e=xL){let i=-1;return null!=t&&(Hc(t)?e=t:i=t),new nt(r=>{let s=function RL(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}class Gl extends ve{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function Hb(n=0,t=pm){return n<0&&(n=0),zd(n,n,t)}function Ar(n){return ut((t,e)=>{In(n).subscribe(it(e,()=>e.complete(),Bi)),!e.closed&&t.subscribe(e)})}function jb(...n){return function OL(){return Ra(1)}()(pr(n,Br(n)))}function Ub(...n){const t=Br(n);return ut((e,i)=>{(t?jb(n,e,t):jb(n,e)).subscribe(i)})}var FL=function(){function n(){}return n.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},n.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},n.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},n.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},n.prototype.position=function(t,e){void 0===e&&(e=!0);var i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i={top:(i=t.getBoundingClientRect()).top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var s=this.offsetParent(t);i=this.offset(t,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},n.prototype.offset=function(t,e){void 0===e&&(e=!0);var i=t.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s},n.prototype.positionElements=function(t,e,i,r){var s=i.split("-"),a=s[0],l=void 0===a?"top":a,u=s[1],d=void 0===u?"center":u,f=r?this.offset(t,!1):this.position(t,!1),g=this.getAllStyles(e),v=parseFloat(g.marginTop),_=parseFloat(g.marginBottom),w=parseFloat(g.marginLeft),C=parseFloat(g.marginRight),S=0,E=0;switch(l){case"top":S=f.top-(e.offsetHeight+v+_);break;case"bottom":S=f.top+f.height;break;case"left":E=f.left-(e.offsetWidth+w+C);break;case"right":E=f.left+f.width}switch(d){case"top":S=f.top;break;case"bottom":S=f.top+f.height-e.offsetHeight;break;case"left":E=f.left;break;case"right":E=f.left+f.width-e.offsetWidth;break;case"center":"top"===l||"bottom"===l?E=f.left+f.width/2-e.offsetWidth/2:S=f.top+f.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(E)+"px, "+Math.round(S)+"px)";var b=e.getBoundingClientRect(),A=document.documentElement,x=window.innerHeight||A.clientHeight,H=window.innerWidth||A.clientWidth;return b.left>=0&&b.top>=0&&b.right<=H&&b.bottom<=x},n}(),LL=/\s+/,zb=new FL,Li=function(){return Li=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Li.apply(this,arguments)},Wb=function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;var i=Array(n),r=0;for(t=0;t<e;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,r++)i[r]=s[a];return i},$l=(()=>{return(n=$l||($l={}))[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",$l;var n})(),BL=[$l.SUNDAY,$l.SATURDAY],ss=86400;function Gb(n,t){var e=t.startDate,r=t.excluded,s=t.precision;if(r.length<1)return 0;for(var l=n.getDay,u=n.addDays,d=(0,n.addSeconds)(e,t.seconds-1),f=l(e),g=l(d),v=0,_=e,w=function(){var C=l(_);r.some(function(S){return S===C})&&(v+=function HL(n,t){var i=t.day,s=t.dayEnd,a=t.startDate,l=t.endDate,u=n.differenceInSeconds,f=n.startOfDay;if("minutes"===t.precision){if(i===t.dayStart)return u((0,n.endOfDay)(a),a)+1;if(i===s)return u(l,f(l))+1}return ss}(n,{dayStart:f,dayEnd:g,day:C,precision:s,startDate:e,endDate:d})),_=u(_,1)};_<d;)w();return v}function Zl(n,t){var i=t.periodStart,r=t.periodEnd;return t.events.filter(function(s){return function zL(n,t){var e=t.event,i=t.periodStart,r=t.periodEnd,s=n.isSameSecond,a=e.start,l=e.end||e.start;return!!(a>i&&a<r||l>i&&l<r||a<i&&l>r||s(a,i)||s(a,r)||s(l,i)||s(l,r))}(n,{event:s,periodStart:i,periodEnd:r})})}function $b(n,t){var e=t.date,i=t.weekendDays,r=void 0===i?BL:i,a=n.isSameDay,l=n.getDay,u=(0,n.startOfDay)(new Date),d=l(e);return{date:e,day:d,isPast:e<u,isToday:a(e,u),isFuture:e>u,isWeekend:r.indexOf(d)>-1}}function vm(n,t){for(var r=t.excluded,s=void 0===r?[]:r,a=t.weekendDays,l=t.viewStart,u=void 0===l?n.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):l,d=t.viewEnd,f=void 0===d?n.addDays(u,7):d,g=n.addDays,v=n.getDay,_=[],w=u;w<f;)s.some(function(C){return v(w)===C})||_.push($b(n,{date:w,weekendDays:a})),w=g(w,1);return _}function GL(n,t){var e=t.events,i=void 0===e?[]:e,r=t.excluded,s=void 0===r?[]:r,a=t.precision,l=void 0===a?"days":a,u=t.absolutePositionedEvents,d=void 0!==u&&u,f=t.viewStart,g=t.viewEnd;f=n.startOfDay(f),g=n.endOfDay(g);var v=n.differenceInSeconds,_=n.differenceInDays,w=function WL(n,t){for(var i=t.date2,r=t.excluded,s=t.date1,a=0;s<i;)-1===r.indexOf(n.getDay(s))&&a++,s=n.addDays(s,1);return a}(n,{date1:f,date2:g,excluded:s}),C=_(g,f)+1,S=i.filter(function(A){return A.allDay}).map(function(A){var x=function UL(n,t){var e=t.event,i=t.startOfWeek,r=t.excluded,s=t.precision,a=n.differenceInDays,l=n.startOfDay,u=n.differenceInSeconds;if(e.start<i)return 0;var d=0;switch(s){case"days":d=a(l(e.start),i)*ss;break;case"minutes":d=u(e.start,i)}return d-=Gb(n,{startDate:i,seconds:d,excluded:r,precision:s}),Math.abs(d/ss)}(n,{event:A,startOfWeek:f,excluded:s,precision:l}),H=function jL(n,t){var e=t.event,i=t.offset,s=t.excluded,a=t.precision,l=t.totalDaysInView,d=n.differenceInSeconds,f=n.addDays,g=n.endOfDay,v=n.differenceInDays,_=ss,w=(0,n.max)([e.start,t.startOfWeekDate]);e.end&&(_="minutes"===a?d(e.end,w):v(f(g(e.end),1),w)*ss);var C=i*ss,E=l*ss;return C+_>E&&(_=E-C),(_-=Gb(n,{startDate:w,seconds:_,excluded:s,precision:a}))/ss}(n,{event:A,offset:x,startOfWeekDate:f,excluded:s,precision:l,totalDaysInView:C});return{event:A,offset:x,span:H}}).filter(function(A){return A.offset<w}).filter(function(A){return A.span>0}).map(function(A){return{event:A.event,offset:A.offset,span:A.span,startsBeforeWeek:A.event.start<f,endsAfterWeek:(A.event.end||A.event.start)>g}}).sort(function(A,x){var H=v(A.event.start,x.event.start);return 0===H?v(x.event.end||x.event.start,A.event.end||A.event.start):H}),E=[],b=[];return S.forEach(function(A,x){if(-1===b.indexOf(A)){b.push(A);var H=A.span+A.offset,J=S.slice(x+1).filter(function(ee){if(ee.offset>=H&&H+ee.span<=C&&-1===b.indexOf(ee)){var re=ee.offset-H;return d||(ee.offset=re),H+=ee.span+re,b.push(ee),!0}}),ge=Wb([A],J),ue=ge.filter(function(ee){return ee.event.id}).map(function(ee){return ee.event.id}).join("-");E.push(Li({row:ge},ue?{id:ue}:{}))}}),E}function $L(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.hourDuration,a=t.dayStart,l=t.dayEnd,u=t.weekStartsOn,d=t.excluded,f=t.weekendDays,g=t.segmentHeight,v=t.viewStart,_=t.viewEnd,w=t.minimumEventHeight,C=function KL(n,t){var e=t.viewDate,i=t.hourSegments,r=t.hourDuration,s=t.dayStart,a=t.dayEnd,l=n.setMinutes,u=n.setHours,d=n.startOfDay,f=n.startOfMinute,g=n.endOfDay,v=n.addMinutes,w=n.addDays,C=[],S=l(u(d(e),$d(s.hour)),Zd(s.minute)),E=l(u(f(g(e)),$d(a.hour)),Zd(a.minute)),b=(r||60)/i,A=d(e),x=g(e),H=function(G){return G};n.getTimezoneOffset(A)!==n.getTimezoneOffset(x)&&(A=w(A,1),S=w(S,1),E=w(E,1),H=function(G){return w(G,-1)});for(var J=r?1440/r:60,ge=0;ge<J;ge++){for(var ue=[],ee=0;ee<i;ee++){var re=v(v(S,ge*(r||60)),ee*b);re>=S&&re<E&&ue.push({date:H(re),displayDate:re,isStart:0===ee})}ue.length>0&&C.push({segments:ue})}return C}(n,{viewDate:i,hourSegments:r,hourDuration:s,dayStart:a,dayEnd:l}),S=vm(n,{viewDate:i,weekStartsOn:u,excluded:d,weekendDays:f,viewStart:v,viewEnd:_}),E=n.setHours,b=n.setMinutes,A=n.getHours,x=n.getMinutes;return S.map(function(H){var J=function YL(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.dayStart,a=t.dayEnd,l=t.eventWidth,u=t.segmentHeight,d=t.hourDuration,f=t.minimumEventHeight,g=n.setMinutes,v=n.setHours,_=n.startOfDay,w=n.startOfMinute,C=n.endOfDay,S=n.differenceInMinutes,E=g(v(_(i),$d(s.hour)),Zd(s.minute)),b=g(v(w(C(i)),$d(a.hour)),Zd(a.minute));b.setSeconds(59,999);var A=[],x=Zl(n,{events:e.filter(function(ue){return!ue.allDay}),periodStart:E,periodEnd:b}),H=x.sort(function(ue,ee){return ue.start.valueOf()-ee.start.valueOf()}).map(function(ue){var ee=ue.start,re=ue.end||ee,G=ee<E,V=re>b,ke=r*u/(d||60),Pe=0;if(ee>E){var Vn=n.getTimezoneOffset(ee),te=n.getTimezoneOffset(E)-Vn;Pe+=S(ee,E)+te}Pe*=ke,Pe=Math.floor(Pe);var ae=G?E:ee,Fe=V?b:re,Ge=n.getTimezoneOffset(ae)-n.getTimezoneOffset(Fe),At=S(Fe,ae)+Ge;ue.end?At*=ke:At=u,f&&At<f&&(At=f),At=Math.floor(At);for(var Di=Gd(A,Pe,Pe+At),mt=0;Di.some(function(kv){return kv.left===mt});)mt+=l;var yc={event:ue,height:At,width:l,top:Pe,left:mt,startsBeforeDay:G,endsAfterDay:V};return A.push(yc),yc}),J=Math.max.apply(Math,H.map(function(ue){return ue.left+ue.width})),ge=Zl(n,{events:e.filter(function(ue){return ue.allDay}),periodStart:_(E),periodEnd:C(b)});return{events:H,width:J,allDayEvents:ge,period:{events:x,start:E,end:b}}}(n,{events:e,viewDate:H.date,hourSegments:r,dayStart:a,dayEnd:l,segmentHeight:g,eventWidth:1,hourDuration:s,minimumEventHeight:w}),ge=C.map(function(re){var G=re.segments.map(function(V){var ke=b(E(H.date,A(V.date)),x(V.date));return Li(Li({},V),{date:ke})});return Li(Li({},re),{segments:G})});function ue(re,G){var V=Math.max.apply(Math,G.map(function(Pe){return Pe.left+1})),ke=re.filter(function(Pe){return Pe.left>=V}).filter(function(Pe){return Gd(G,Pe.top,Pe.top+Pe.height).length>0});return ke.length>0?ue(re,ke):V}var ee=J.events.map(function(re){var V=100/ue(J.events,Gd(J.events,re.top,re.top+re.height));return Li(Li({},re),{left:re.left*V,width:V})});return{hours:ge,date:H.date,events:ee.map(function(re){var G=Gd(ee.filter(function(V){return V.left>re.left}),re.top,re.top+re.height);return G.length>0?Li(Li({},re),{width:Math.min.apply(Math,G.map(function(V){return V.left}))-re.left}):re})}})}function Gd(n,t,e){return n.filter(function(i){var r=i.top,s=i.top+i.height;return t<s&&s<e||t<r&&r<e||r<=t&&e<=s})}function $d(n){return Math.max(Math.min(23,n),0)}function Zd(n){return Math.max(Math.min(59,n),0)}var os=(()=>{return(n=os||(os={})).NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",os;var n})();const{isArray:QL}=Array,{getPrototypeOf:JL,prototype:eV,keys:tV}=Object;function Zb(n){if(1===n.length){const t=n[0];if(QL(t))return{args:t,keys:null};if(function nV(n){return n&&"object"==typeof n&&JL(n)===eV}(t)){const e=tV(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:iV}=Array;function _m(n){return He(t=>function rV(n,t){return iV(t)?n(...t):n(t)}(n,t))}function qb(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Yb(n,t,e){n?ci(e,n,t):t()}const aV=["addListener","removeListener"],lV=["addEventListener","removeEventListener"],cV=["on","off"];function pa(n,t,e,i){if(Re(e)&&(i=e,e=void 0),i)return pa(n,t,e).pipe(_m(i));const[r,s]=function hV(n){return Re(n.addEventListener)&&Re(n.removeEventListener)}(n)?lV.map(a=>l=>n[a](t,l,e)):function uV(n){return Re(n.addListener)&&Re(n.removeListener)}(n)?aV.map(Kb(n,t)):function dV(n){return Re(n.on)&&Re(n.off)}(n)?cV.map(Kb(n,t)):[];if(!r&&Ia(n))return ui(a=>pa(a,t,e))(In(n));if(!r)throw new TypeError("Invalid event target");return new nt(a=>{const l=(...u)=>a.next(1<u.length?u:u[0]);return r(l),()=>s(l)})}function Kb(n,t){return e=>i=>n[e](t,i)}function vn(n,t){return ut((e,i)=>{let r=0;e.subscribe(it(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Pr(n){return n<=0?()=>bi:ut((t,e)=>{let i=0;t.subscribe(it(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function pV(n,t,e,i,r){return(s,a)=>{let l=e,u=t,d=0;s.subscribe(it(a,f=>{const g=d++;u=l?n(u,f,g):(l=!0,f),i&&a.next(u)},r&&(()=>{l&&a.next(u),a.complete()})))}}function ym(){return ut((n,t)=>{let e,i=!1;n.subscribe(it(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function _V(n,t){return n===t}function wm(n,t){return n=function yV(n,t){return typeof n>"u"?typeof t>"u"?n:t:n}(n,t),"function"==typeof n?function(){for(var i=arguments,r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=i[a];return!!n.apply(this,s)}:n?function(){return!0}:function(){return!1}}var Cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},Xb=function(n){return null!=n&&"object"===(typeof n>"u"?"undefined":Cm(n))&&1===n.nodeType&&"object"===Cm(n.style)&&"object"===Cm(n.ownerDocument)};function Qb(n,t){if(t=Sm(t,!0),!Xb(t))return-1;for(var e=0;e<n.length;e++)if(n[e]===t)return e;return-1}function Dm(n,t){return-1!==Qb(n,t)}function wV(n,t){for(var e=0;e<t.length;e++)Dm(n,t[e])||n.push(t[e]);return t}function CV(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return wV(n,e=e.map(Sm))}function DV(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return e.map(Sm).reduce(function(r,s){var a=Qb(n,s);return-1!==a?r.concat(n.splice(a,1)):r},[])}function Sm(n,t){if("string"==typeof n)try{return document.querySelector(n)}catch(e){throw e}if(!Xb(n)&&!t)throw new TypeError(n+" is not a DOM element.");return n}function Jb(n){if(n===window)return function bV(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var t={};return Object.defineProperties(t,n),t}();try{var t=n.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch{throw new TypeError("Can't call getBoundingClientRect on "+n)}}var t,bm=void 0;"function"!=typeof Object.create?(t=function(){},bm=function(e,i){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");t.prototype=e||{};var r=new t;return t.prototype=null,void 0!==i&&Object.defineProperties(r,i),null===e&&(r.__proto__=null),r}):bm=Object.create;var TV=bm,Ls=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Em(n,t){t=t||{};for(var e=TV(n),i=0;i<Ls.length;i++)void 0!==t[Ls[i]]&&(e[Ls[i]]=t[Ls[i]]);return e}function Tm(n,t){console.log("data ",t),n.data=t||{},n.dispatched="mousemove"}var ql=["webkit","moz","ms","o"],Yl=function(){if(typeof window>"u")return function(){};for(var n=0,t=ql.length;n<t&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[ql[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(i){var r=(new Date).getTime(),s=Math.max(0,16-r-e),a=window.setTimeout(function(){return i(r+s)},s);return e=r+s,a}}return window.requestAnimationFrame.bind(window)}(),ga=function(){if(typeof window>"u")return function(){};for(var n=0,t=ql.length;n<t&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[ql[n]+"CancelAnimationFrame"]||window[ql[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function IV(n,t){void 0===t&&(t={});var e=this,i=4,r=!1;if("object"!=typeof t.margin){var s=t.margin||-1;this.margin={left:s,right:s,top:s,bottom:s}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var a={},l=function SV(n,t){var e=wm((t=t||{}).allowUpdate,!0);return function(r){if(r=r||window.event,n.target=r.target||r.srcElement||r.originalTarget,n.element=this,n.type=r.type,e(r)){if(r.targetTouches)n.x=r.targetTouches[0].clientX,n.y=r.targetTouches[0].clientY,n.pageX=r.targetTouches[0].pageX,n.pageY=r.targetTouches[0].pageY,n.screenX=r.targetTouches[0].screenX,n.screenY=r.targetTouches[0].screenY;else{if(null===r.pageX&&null!==r.clientX){var s=r.target&&r.target.ownerDocument||document,a=s.documentElement,l=s.body;n.pageX=r.clientX+(a&&a.scrollLeft||l&&l.scrollLeft||0)-(a&&a.clientLeft||l&&l.clientLeft||0),n.pageY=r.clientY+(a&&a.scrollTop||l&&l.scrollTop||0)-(a&&a.clientTop||l&&l.clientTop||0)}else n.pageX=r.pageX,n.pageY=r.pageY;n.x=r.clientX,n.y=r.clientY,n.screenX=r.screenX,n.screenY=r.screenY}n.clientX=n.x,n.clientY=n.y}}}(a),u=function MV(n){var t={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function e(s){for(var a=0;a<Ls.length;a++)t[Ls[a]]=s[Ls[a]]}return void 0!==n&&n.addEventListener("mousemove",e),{destroy:function r(){n&&n.removeEventListener("mousemove",e,!1),t=null},dispatch:MouseEvent?function(a,l,u){var d=new MouseEvent("mousemove",Em(t,l));return Tm(d,u),a.dispatchEvent(d)}:"function"==typeof document.createEvent?function(a,l,u){var d=Em(t,l),f=document.createEvent("MouseEvents");return f.initMouseEvent("mousemove",!0,!0,window,0,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),Tm(f,u),a.dispatchEvent(f)}:"function"==typeof document.createEventObject?function(a,l,u){var d=document.createEventObject(),f=Em(t,l);for(var g in f)d[g]=f[g];return Tm(d,u),a.dispatchEvent(d)}:void 0}}(),d=!1;window.addEventListener("mousemove",l,!1),window.addEventListener("touchmove",l,!1),isNaN(t.maxSpeed)||(i=t.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=wm(t.autoScroll),this.syncMove=wm(t.syncMove,!1),this.destroy=function(G){window.removeEventListener("mousemove",l,!1),window.removeEventListener("touchmove",l,!1),window.removeEventListener("mousedown",C,!1),window.removeEventListener("touchstart",C,!1),window.removeEventListener("mouseup",S,!1),window.removeEventListener("touchend",S,!1),window.removeEventListener("pointerup",S,!1),window.removeEventListener("mouseleave",b,!1),window.removeEventListener("mousemove",H,!1),window.removeEventListener("touchmove",H,!1),window.removeEventListener("scroll",w,!0),n=[],G&&E()},this.add=function(){for(var G=[],V=arguments.length;V--;)G[V]=arguments[V];return CV.apply(void 0,[n].concat(G)),this},this.remove=function(){for(var G=[],V=arguments.length;V--;)G[V]=arguments[V];return DV.apply(void 0,[n].concat(G))};var g,G,f=null;"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),G=n,n=[],G.forEach(function(V){V===window?f=window:e.add(V)}),Object.defineProperties(this,{down:{get:function(){return d}},maxSpeed:{get:function(){return i}},point:{get:function(){return a}},scrolling:{get:function(){return r}}});var _,v=null;function w(G){for(var V=0;V<n.length;V++)if(n[V]===G.target){r=!0;break}r&&Yl(function(){return r=!1})}function C(){d=!0}function S(){d=!1,E()}function E(){ga(_),ga(g)}function b(){d=!1}function x(){for(var G=null,V=0;V<n.length;V++)e0(a,n[V])&&(G=n[V]);return G}function H(G){if(e.autoScroll()&&!G.dispatched){var V=G.target,ke=document.body;v&&!e0(a,v)&&(e.scrollWhenOutside||(v=null)),V&&V.parentNode===ke?V=x():(V=function A(G){if(!G)return null;if(v===G||Dm(n,G))return G;for(;G=G.parentNode;)if(Dm(n,G))return G;return null}(V),V||(V=x())),V&&V!==v&&(v=V),f&&(ga(g),g=Yl(J)),v&&(ga(_),_=Yl(ge))}}function J(){ue(f),ga(g),g=Yl(J)}function ge(){!v||(ue(v),ga(_),_=Yl(ge))}function ue(G){var ke,Pe,V=Jb(G);ke=a.x<V.left+e.margin.left?Math.floor(Math.max(-1,(a.x-V.left)/e.margin.left-1)*e.maxSpeed.left):a.x>V.right-e.margin.right?Math.ceil(Math.min(1,(a.x-V.right)/e.margin.right+1)*e.maxSpeed.right):0,Pe=a.y<V.top+e.margin.top?Math.floor(Math.max(-1,(a.y-V.top)/e.margin.top-1)*e.maxSpeed.top):a.y>V.bottom-e.margin.bottom?Math.ceil(Math.min(1,(a.y-V.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):0,e.syncMove()&&u.dispatch(G,{pageX:a.pageX+ke,pageY:a.pageY+Pe,clientX:a.x+ke,clientY:a.y+Pe}),setTimeout(function(){Pe&&function ee(G,V){G===window?window.scrollTo(G.pageXOffset,G.pageYOffset+V):G.scrollTop+=V}(G,Pe),ke&&function re(G,V){G===window?window.scrollTo(G.pageXOffset+V,G.pageYOffset):G.scrollLeft+=V}(G,ke)})}window.addEventListener("mousedown",C,!1),window.addEventListener("touchstart",C,!1),window.addEventListener("mouseup",S,!1),window.addEventListener("touchend",S,!1),window.addEventListener("pointerup",S,!1),window.addEventListener("mousemove",H,!1),window.addEventListener("touchmove",H,!1),window.addEventListener("mouseleave",b,!1),window.addEventListener("scroll",w,!0)}function e0(n,t,e){return e?n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right:function EV(n,t){var e=Jb(t);return n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right}(n,t)}function Mm(n,t,e){e&&e.split(" ").forEach(i=>n.addClass(t.nativeElement,i))}function qd(n,t,e){e&&e.split(" ").forEach(i=>n.removeClass(t.nativeElement,i))}let t0=(()=>{class n{constructor(){this.currentDrag=new ve}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n0=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(M(Tt))},n.\u0275dir=ie({type:n,selectors:[["","mwlDraggableScrollContainer",""]]}),n})(),Im=(()=>{class n{constructor(e,i,r,s,a,l,u){this.element=e,this.renderer=i,this.draggableHelper=r,this.zone=s,this.vcr=a,this.scrollContainer=l,this.document=u,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new K,this.dragStart=new K,this.ghostElementCreated=new K,this.dragging=new K,this.dragEnd=new K,this.pointerDown$=new ve,this.pointerMove$=new ve,this.pointerUp$=new ve,this.eventListenerSubscriptions={},this.destroy$=new ve,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe(vn(()=>this.canDrag()),ui(i=>{i.event.stopPropagation&&!this.scrollContainer&&i.event.stopPropagation();const r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(r)});const s=this.getScrollPosition(),a=new nt(_=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",C=>_.next(C))).pipe(Ub(s),He(()=>this.getScrollPosition())),l=new ve,u=new ZS;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const d=sn(this.pointerUp$,this.pointerDown$,u,this.destroy$).pipe(Se()),f=function sV(...n){const t=Br(n),e=jc(n),{args:i,keys:r}=Zb(n);if(0===i.length)return pr([],t);const s=new nt(function oV(n,t,e=Vt){return i=>{Yb(t,()=>{const{length:r}=n,s=new Array(r);let a=r,l=r;for(let u=0;u<r;u++)Yb(t,()=>{const d=pr(n[u],t);let f=!1;d.subscribe(it(i,g=>{s[u]=g,f||(f=!0,l--),l||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>qb(r,a):Vt));return e?s.pipe(_m(e)):s}([this.pointerMove$,a]).pipe(He(([_,w])=>({currentDrag$:l,transformX:_.clientX-i.clientX,transformY:_.clientY-i.clientY,clientX:_.clientX,clientY:_.clientY,scrollLeft:w.left,scrollTop:w.top,target:_.event.target})),He(_=>(this.dragSnapGrid.x&&(_.transformX=Math.round(_.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(_.transformY=Math.round(_.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),_)),He(_=>(this.dragAxis.x||(_.transformX=0),this.dragAxis.y||(_.transformY=0),_)),He(_=>{const w=_.scrollLeft-s.left,C=_.scrollTop-s.top;return Object.assign(Object.assign({},_),{x:_.transformX+w,y:_.transformY+C})}),vn(({x:_,y:w,transformX:C,transformY:S})=>!this.validateDrag||this.validateDrag({x:_,y:w,transform:{x:C,y:S}})),Ar(d),Se()),g=f.pipe(Pr(1),Se()),v=f.pipe(function fV(n){return n<=0?()=>bi:ut((t,e)=>{let i=[];t.subscribe(it(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}(1),Se());return g.subscribe(({clientX:_,clientY:w,x:C,y:S})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:u})}),this.scroller=function AV(n,t){return new IV(n,t)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign(Object.assign({},this.autoScroll),{autoScroll:()=>!0})),Mm(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const E=this.element.nativeElement.getBoundingClientRect(),b=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(b):this.element.nativeElement.parentNode.insertBefore(b,this.element.nativeElement.nextSibling),this.ghostElement=b,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(b,{position:"fixed",top:`${E.top}px`,left:`${E.left}px`,width:`${E.width}px`,height:`${E.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const A=this.vcr.createEmbeddedView(this.ghostElementTemplate);b.innerHTML="",A.rootNodes.filter(x=>x instanceof Node).forEach(x=>{b.appendChild(x)}),v.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(A))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:_-C,clientY:w-S,element:b})}),v.subscribe(()=>{b.parentElement.removeChild(b),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(l)}),v.pipe(ui(_=>{const w=u.pipe(function mV(n){return function gV(n,t){return ut(pV(n,t,arguments.length>=2,!1,!0))}((t,e,i)=>!n||n(e,i)?t+1:t,0)}(),Pr(1),He(C=>Object.assign(Object.assign({},_),{dragCancelled:C>0})));return u.complete(),w})).subscribe(({x:_,y:w,dragCancelled:C})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:_,y:w,dragCancelled:C})}),qd(this.renderer,this.element,this.dragActiveClass),l.complete()}),sn(d,v).pipe(Pr(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),f}),Se());sn(e.pipe(Pr(1),He(i=>[,i])),e.pipe(ym())).pipe(vn(([i,r])=>!i||i.x!==r.x||i.y!==r.y),He(([i,r])=>r)).subscribe(({x:i,y:r,currentDrag$:s,clientX:a,clientY:l,transformX:u,transformY:d,target:f})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:i,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){const g=`translate3d(${u}px, ${d}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:g,"-webkit-transform":g,"-ms-transform":g,"-moz-transform":g,"-o-transform":g})}}),s.next({clientX:a,clientY:l,dropData:this.dropData,target:f})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),i=Object.keys(this.eventListenerSubscriptions).length>0;e&&!i?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&i&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",i=>{this.pointerMove$.next({event:i,clientX:i.clientX,clientY:i.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let i,r,s;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,s=this.hasScrollbar(),i=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const a=pa(this.document,"contextmenu").subscribe(u=>{u.preventDefault()}),l=pa(this.document,"touchmove",{passive:!1}).subscribe(u=>{this.touchStartLongPress&&!r&&s&&(r=this.shouldBeginDrag(e,u,i)),(!this.touchStartLongPress||!s||r)&&(u.preventDefault(),this.pointerMove$.next({event:u,clientX:u.targetTouches[0].clientX,clientY:u.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{a.unsubscribe(),l.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,i){Object.keys(i).forEach(r=>{this.renderer.setStyle(e,r,i[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,i,r){const s=this.getScrollPosition(),a_top=Math.abs(s.top-r.top),a_left=Math.abs(s.left-r.left),l=Math.abs(i.targetTouches[0].clientX-e.touches[0].clientX)-a_left,u=Math.abs(i.targetTouches[0].clientY-e.touches[0].clientY)-a_top,f=this.touchStartLongPress;return(l+u>f.delta||a_top>0||a_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=f.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(M(Tt),M($n),M(t0),M(lt),M(ii),M(n0,8),M(pt))},n.\u0275dir=ie({type:n,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[Kt]}),n})();function r0(n,t,e){return n>=e.left&&n<=e.right&&t>=e.top&&t<=e.bottom}let Am=(()=>{class n{constructor(e,i,r,s,a){this.element=e,this.draggableHelper=i,this.zone=r,this.renderer=s,this.scrollContainer=a,this.dragEnter=new K,this.dragLeave=new K,this.dragOver=new K,this.drop=new K}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{Mm(this.renderer,this.element,this.dragActiveClass);const i={updateCache:!0},r=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{i.updateCache=!0});let s;const a=e.pipe(He(({clientX:d,clientY:f,dropData:g,target:v})=>{s={clientX:d,clientY:f,dropData:g,target:v},i.updateCache&&(i.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(i.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),i.updateCache=!1);const _=r0(d,f,i.rect),w=!this.validateDrop||this.validateDrop({clientX:d,clientY:f,target:v,dropData:g});return i.scrollContainerRect?_&&w&&r0(d,f,i.scrollContainerRect):_&&w})),l=a.pipe(function vV(n,t=Vt){return n=n??_V,ut((e,i)=>{let r,s=!0;e.subscribe(it(i,a=>{const l=t(a);(s||!n(r,l))&&(s=!1,r=l,i.next(a))}))})}());let u;l.pipe(vn(d=>d)).subscribe(()=>{u=!0,Mm(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(s)})}),a.pipe(vn(d=>d)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(s)})}),l.pipe(ym(),vn(([d,f])=>d&&!f)).subscribe(()=>{u=!1,qd(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(s)})}),e.subscribe({complete:()=>{r(),qd(this.renderer,this.element,this.dragActiveClass),u&&(qd(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(s)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(M(Tt),M(t0),M(lt),M($n),M(n0,8))},n.\u0275dir=ie({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),Yd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({}),n})();function s0(n,t,e){const i=Re(n)||t||e?{next:n,error:t,complete:e}:n;return i?ut((r,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let l=!0;r.subscribe(it(s,u=>{var d;null===(d=i.next)||void 0===d||d.call(i,u),s.next(u)},()=>{var u;l=!1,null===(u=i.complete)||void 0===u||u.call(i),s.complete()},u=>{var d;l=!1,null===(d=i.error)||void 0===d||d.call(i,u),s.error(u)},()=>{var u,d;l&&(null===(u=i.unsubscribe)||void 0===u||u.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):Vt}const Vs=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function o0(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const s=e.querySelectorAll(n);for(let a=0;a<r.length;a++)i(r[a],s[a])}}let xV=0;function a0(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${xV++}`)}function l0(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function c0(n,t,e,i){const r={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return t.top&&(r.top+=i),t.bottom&&(r.bottom+=i),t.left&&(r.left+=e),t.right&&(r.right+=e),r.height=r.bottom-r.top,r.width=r.right-r.left,r}const u0=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function d0(n,t){return n.left&&n.top?t.topLeft:n.right&&n.top?t.topRight:n.left&&n.bottom?t.bottomLeft:n.right&&n.bottom?t.bottomRight:n.left||n.right?t.leftOrRight:n.top||n.bottom?t.topOrBottom:""}function Kd({edges:n,initialRectangle:t,newRectangle:e}){const i={};return Object.keys(n).forEach(r=>{i[r]=(e[r]||0)-(t[r]||0)}),i}const h0="resize-active";let f0=(()=>{class n{constructor(e,i,r,s){this.platformId=e,this.renderer=i,this.elm=r,this.zone=s,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=u0,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new K,this.resizing=new K,this.resizeEnd=new K,this.mouseup=new ve,this.mousedown=new ve,this.mousemove=new ve,this.destroy$=new ve,this.pointerEventListeners=ma.getInstance(i,s)}ngOnInit(){const e=sn(this.pointerEventListeners.pointerDown,this.mousedown),i=sn(this.pointerEventListeners.pointerMove,this.mousemove).pipe(s0(({event:d})=>{if(s)try{d.preventDefault()}catch{}}),Se()),r=sn(this.pointerEventListeners.pointerUp,this.mouseup);let s;const a=()=>{s&&s.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},l=()=>Object.assign(Object.assign({},u0),this.resizeCursors);e.pipe(ui(d=>{function f(_){return{clientX:_.clientX-d.clientX,clientY:_.clientY-d.clientY}}const g=()=>{const _={x:1,y:1};return s&&(this.resizeSnapGrid.left&&s.edges.left?_.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&s.edges.right&&(_.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&s.edges.top?_.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&s.edges.bottom&&(_.y=+this.resizeSnapGrid.bottom)),_};function v(_,w){return{x:Math.ceil(_.clientX/w.x),y:Math.ceil(_.clientY/w.y)}}return sn(i.pipe(Pr(1)).pipe(He(_=>[,_])),i.pipe(ym())).pipe(He(([_,w])=>[_&&f(_),f(w)])).pipe(vn(([_,w])=>{if(!_)return!0;const C=g(),S=v(_,C),E=v(w,C);return S.x!==E.x||S.y!==E.y})).pipe(He(([,_])=>{const w=g();return{clientX:Math.round(_.clientX/w.x)*w.x,clientY:Math.round(_.clientY/w.y)*w.y}})).pipe(Ar(sn(r,e)))})).pipe(vn(()=>!!s)).pipe(He(({clientX:d,clientY:f})=>c0(s.startingRect,s.edges,d,f))).pipe(vn(d=>this.allowNegativeResizes||!!(d.height&&d.width&&d.height>0&&d.width>0))).pipe(vn(d=>!this.validateResize||this.validateResize({rectangle:d,edges:Kd({edges:s.edges,initialRectangle:s.startingRect,newRectangle:d})})),Ar(this.destroy$)).subscribe(d=>{s&&s.clonedNode&&(this.renderer.setStyle(s.clonedNode,"height",`${d.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${d.width}px`),this.renderer.setStyle(s.clonedNode,"top",`${d.top}px`),this.renderer.setStyle(s.clonedNode,"left",`${d.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Kd({edges:s.edges,initialRectangle:s.startingRect,newRectangle:d}),rectangle:d})}),s.currentRect=d}),e.pipe(He(({edges:d})=>d||{}),vn(d=>Object.keys(d).length>0),Ar(this.destroy$)).subscribe(d=>{s&&a();const f=function RV(n,t){let e=0,i=0;const r=n.nativeElement.style,a=["transform","-ms-transform","-moz-transform","-o-transform"].map(l=>r[l]).find(l=>!!l);if(a&&a.includes("translate")&&(e=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-i,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-i,left:n.nativeElement.offsetLeft-e,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-e};{const l=n.nativeElement.getBoundingClientRect();return{height:l.height,width:l.width,top:l.top-i,bottom:l.bottom-i,left:l.left-e,right:l.right-e,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);s={edges:d,startingRect:f,currentRect:f};const g=l(),v=d0(s.edges,g);this.renderer.setStyle(document.body,"cursor",v),this.setElementClass(this.elm,h0,!0),this.enableGhostResize&&(s.clonedNode=function kV(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();return t.removeAttribute("id"),e.forEach(r=>{r.removeAttribute("id")}),"canvas"===i?l0(n,t):("input"===i||"select"===i||"textarea"===i)&&a0(n,t),o0("canvas",n,t,l0),o0("input, textarea, select",n,t,a0),t}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(s.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(s.clonedNode,"left",`${s.startingRect.left}px`),this.renderer.setStyle(s.clonedNode,"top",`${s.startingRect.top}px`),this.renderer.setStyle(s.clonedNode,"height",`${s.startingRect.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${s.startingRect.width}px`),this.renderer.setStyle(s.clonedNode,"cursor",d0(s.edges,g)),this.renderer.addClass(s.clonedNode,"resize-ghost-element"),s.clonedNode.scrollTop=s.startingRect.scrollTop,s.clonedNode.scrollLeft=s.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Kd({edges:d,initialRectangle:f,newRectangle:f}),rectangle:c0(f,{},0,0)})})}),r.pipe(Ar(this.destroy$)).subscribe(()=>{s&&(this.renderer.removeClass(this.elm.nativeElement,h0),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Kd({edges:s.edges,initialRectangle:s.startingRect,newRectangle:s.currentRect}),rectangle:s.currentRect})}),a(),s=null)})}ngOnDestroy(){kS(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(e,i,r){r?this.renderer.addClass(e.nativeElement,i):this.renderer.removeClass(e.nativeElement,i)}}return n.\u0275fac=function(e){return new(e||n)(M(ca),M($n),M(Tt),M(lt))},n.\u0275dir=ie({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})();class ma{constructor(t,e){this.pointerDown=new nt(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousedown",a=>{i.next({clientX:a.clientX,clientY:a.clientY,event:a})}),Vs&&(s=t.listen("document","touchstart",a=>{i.next({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,event:a})}))}),()=>{r(),Vs&&s()}}).pipe(Se()),this.pointerMove=new nt(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousemove",a=>{i.next({clientX:a.clientX,clientY:a.clientY,event:a})}),Vs&&(s=t.listen("document","touchmove",a=>{i.next({clientX:a.targetTouches[0].clientX,clientY:a.targetTouches[0].clientY,event:a})}))}),()=>{r(),Vs&&s()}}).pipe(Se()),this.pointerUp=new nt(i=>{let r,s,a;return e.runOutsideAngular(()=>{r=t.listen("document","mouseup",l=>{i.next({clientX:l.clientX,clientY:l.clientY,event:l})}),Vs&&(s=t.listen("document","touchend",l=>{i.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}),a=t.listen("document","touchcancel",l=>{i.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}))}),()=>{r(),Vs&&(s(),a())}}).pipe(Se())}static getInstance(t,e){return ma.instance||(ma.instance=new ma(t,e)),ma.instance}}let FV=(()=>{class n{constructor(e,i,r,s){this.renderer=e,this.element=i,this.zone=r,this.resizableDirective=s,this.resizeEdges={},this.eventListeners={},this.destroy$=new ve}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),Vs&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),sn(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,i,r){e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",s=>{this.onMousemove(s,s.targetTouches[0].clientX,s.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",s=>{this.onMousemove(s,s.clientX,s.clientY)})),this.resizable.mousedown.next({clientX:i,clientY:r,edges:this.resizeEdges})}onMouseup(e,i){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:i,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,i,r){this.resizable.mousemove.next({clientX:i,clientY:r,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return pa(this.element.nativeElement,e).pipe(Ar(this.destroy$))}}return n.\u0275fac=function(e){return new(e||n)(M($n),M(Tt),M(lt),M(f0,8))},n.\u0275dir=ie({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),p0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({}),n})();const LV=function(n){return{action:n}};function VV(n,t){if(1&n){const e=jt();Z(0,"a",5),de("mwlClick",function(r){const a=Q(e).$implicit,l=N(2).event;return a.onClick({event:l,sourceEvent:r})})("mwlKeydownEnter",function(r){const a=Q(e).$implicit,l=N(2).event;return a.onClick({event:l,sourceEvent:r})}),Mt(1,"calendarA11y"),Y()}if(2&n){const e=t.$implicit;F("ngClass",e.cssClass)("innerHtml",e.label,Au),Jt("aria-label",xi(1,3,Ps(6,LV,e),"actionButtonLabel"))}}function BV(n,t){if(1&n&&(Z(0,"span",3),se(1,VV,2,8,"a",4),Y()),2&n){const e=N(),i=e.event,r=e.trackByActionId;j(1),F("ngForOf",i.actions)("ngForTrackBy",r)}}function HV(n,t){1&n&&se(0,BV,2,2,"span",2),2&n&&F("ngIf",t.event.actions)}function jV(n,t){}const UV=function(n,t){return{event:n,trackByActionId:t}},va=function(){return{}};function zV(n,t){if(1&n&&(St(0,"span",2),Mt(1,"calendarEventTitle"),Mt(2,"calendarA11y")),2&n){const e=t.event;F("innerHTML",Ri(1,2,e.title,t.view,e),Au),Jt("aria-hidden",xi(2,6,On(9,va),"hideEventTitle"))}}function WV(n,t){}const GV=function(n,t){return{event:n,view:t}};function $V(n,t){if(1&n&&(Z(0,"div",2),St(1,"div",3)(2,"div",4),Y()),2&n){const e=t.contents;F("ngClass","cal-tooltip-"+t.placement),j(2),F("innerHtml",e,Au)}}function ZV(n,t){}const qV=function(n,t,e){return{contents:n,placement:t,event:e}};function YV(n,t){if(1&n){const e=jt();Z(0,"div",4),de("click",function(r){const a=Q(e).$implicit;return N(2).columnHeaderClicked.emit({isoDayNumber:a.day,sourceEvent:r})}),bt(1),Mt(2,"calendarDate"),Y()}if(2&n){const e=t.$implicit,i=N().locale;cn("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),F("ngClass",e.cssClass),j(1),Dl(" ",Ri(2,10,e.date,"monthViewColumnHeader",i)," ")}}function KV(n,t){if(1&n&&(Z(0,"div",2),se(1,YV,3,14,"div",3),Y()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;j(1),F("ngForOf",e)("ngForTrackBy",i)}}function XV(n,t){}const QV=function(n,t,e){return{days:n,locale:t,trackByWeekDayHeaderDate:e}};function JV(n,t){if(1&n&&(Z(0,"span",7),bt(1),Y()),2&n){const e=N().day;j(1),Is(e.badgeTotal)}}const Pm=function(n){return{backgroundColor:n}},e2=function(n,t){return{event:n,draggedFrom:t}},Kl=function(n,t){return{x:n,y:t}},Xd=function(){return{delay:300,delta:30}};function t2(n,t){if(1&n){const e=jt();Z(0,"div",10),de("mouseenter",function(){const s=Q(e).$implicit;return N(2).highlightDay.emit({event:s})})("mouseleave",function(){const s=Q(e).$implicit;return N(2).unhighlightDay.emit({event:s})})("mwlClick",function(r){const a=Q(e).$implicit;return N(2).eventClicked.emit({event:a,sourceEvent:r})}),Mt(1,"calendarEventTitle"),Mt(2,"calendarA11y"),Y()}if(2&n){const e=t.$implicit,i=N(2),r=i.tooltipPlacement,s=i.tooltipTemplate,a=i.tooltipAppendToBody,l=i.tooltipDelay,u=i.day,d=i.validateDrag;cn("cal-draggable",e.draggable),F("ngStyle",Ps(22,Pm,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",Ri(1,15,e.title,"monthTooltip",e))("tooltipPlacement",r)("tooltipEvent",e)("tooltipTemplate",s)("tooltipAppendToBody",a)("tooltipDelay",l)("dropData",un(24,e2,e,u))("dragAxis",un(27,Kl,e.draggable,e.draggable))("validateDrag",d)("touchStartLongPress",On(30,Xd)),Jt("aria-hidden",xi(2,19,On(31,va),"hideMonthCellEvents"))}}function n2(n,t){if(1&n&&(Z(0,"div",8),se(1,t2,3,32,"div",9),Y()),2&n){const e=N(),i=e.day,r=e.trackByEventId;j(1),F("ngForOf",i.events)("ngForTrackBy",r)}}const r2=function(n,t){return{day:n,locale:t}};function s2(n,t){if(1&n&&(Z(0,"div",2),Mt(1,"calendarA11y"),Z(2,"span",3),se(3,JV,2,1,"span",4),Z(4,"span",5),bt(5),Mt(6,"calendarDate"),Y()()(),se(7,n2,2,2,"div",6)),2&n){const e=t.day,i=t.locale;Jt("aria-label",xi(1,4,un(11,r2,e,i),"monthCell")),j(3),F("ngIf",e.badgeTotal>0),j(2),Is(Ri(6,7,e.date,"monthViewDayNumber",i)),j(2),F("ngIf",e.events.length>0)}}function o2(n,t){}const a2=function(n,t,e,i,r,s,a,l,u,d,f,g){return{day:n,openDay:t,locale:e,tooltipPlacement:i,highlightDay:r,unhighlightDay:s,eventClicked:a,tooltipTemplate:l,tooltipAppendToBody:u,tooltipDelay:d,trackByEventId:f,validateDrag:g}},l2=function(n){return{event:n}},g0=function(n,t){return{event:n,locale:t}};function c2(n,t){if(1&n){const e=jt();Z(0,"div",7),St(1,"span",8),bt(2," "),Z(3,"mwl-calendar-event-title",9),de("mwlClick",function(r){const a=Q(e).$implicit;return N(2).eventClicked.emit({event:a,sourceEvent:r})})("mwlKeydownEnter",function(r){const a=Q(e).$implicit;return N(2).eventClicked.emit({event:a,sourceEvent:r})}),Mt(4,"calendarA11y"),Y(),bt(5," "),St(6,"mwl-calendar-event-actions",10),Y()}if(2&n){const e=t.$implicit,i=N(2).validateDrag,r=N();cn("cal-draggable",e.draggable),F("ngClass",null==e?null:e.cssClass)("dropData",Ps(16,l2,e))("dragAxis",un(18,Kl,e.draggable,e.draggable))("validateDrag",i)("touchStartLongPress",On(21,Xd)),j(1),F("ngStyle",Ps(22,Pm,null==e.color?null:e.color.primary)),j(2),F("event",e)("customTemplate",r.eventTitleTemplate),Jt("aria-label",xi(4,13,un(24,g0,e,r.locale),"eventDescription")),j(3),F("event",e)("customTemplate",r.eventActionsTemplate)}}const m0=function(n,t){return{date:n,locale:t}};function u2(n,t){if(1&n&&(Z(0,"div",3),St(1,"span",4),Mt(2,"calendarA11y"),St(3,"span",5),Mt(4,"calendarA11y"),se(5,c2,7,27,"div",6),Y()),2&n){const e=N(),i=e.events,r=e.trackByEventId,s=N();F("@collapse",void 0),j(1),Jt("aria-label",xi(2,5,un(11,m0,s.date,s.locale),"openDayEventsAlert")),j(2),Jt("aria-label",xi(4,8,un(14,m0,s.date,s.locale),"openDayEventsLandmark")),j(2),F("ngForOf",i)("ngForTrackBy",r)}}function d2(n,t){1&n&&se(0,u2,6,17,"div",2),2&n&&F("ngIf",t.isOpen)}function h2(n,t){}const f2=function(n,t,e,i,r){return{events:n,eventClicked:t,isOpen:e,trackByEventId:i,validateDrag:r}};function p2(n,t){if(1&n){const e=jt();Z(0,"mwl-calendar-month-cell",7),de("mwlClick",function(r){const a=Q(e).$implicit;return N(2).dayClicked.emit({day:a,sourceEvent:r})})("mwlKeydownEnter",function(r){const a=Q(e).$implicit;return N(2).dayClicked.emit({day:a,sourceEvent:r})})("highlightDay",function(r){return Q(e),N(2).toggleDayHighlight(r.event,!0)})("unhighlightDay",function(r){return Q(e),N(2).toggleDayHighlight(r.event,!1)})("drop",function(r){const a=Q(e).$implicit;return N(2).eventDropped(a,r.dropData.event,r.dropData.draggedFrom)})("eventClicked",function(r){return Q(e),N(2).eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent})}),Mt(1,"calendarA11y"),Y()}if(2&n){const e=t.$implicit,i=N(2);F("ngClass",null==e?null:e.cssClass)("day",e)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",Ps(15,Pm,e.backgroundColor))("clickListenerDisabled",0===i.dayClicked.observers.length),Jt("tabindex",xi(1,12,On(17,va),"monthCellTabIndex"))}}function g2(n,t){if(1&n){const e=jt();Z(0,"div")(1,"div",4),se(2,p2,2,18,"mwl-calendar-month-cell",5),Mt(3,"slice"),Y(),Z(4,"mwl-calendar-open-day-events",6),de("eventClicked",function(r){return Q(e),N().eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent})})("drop",function(r){Q(e);const s=N();return s.eventDropped(s.openDay,r.dropData.event,r.dropData.draggedFrom)}),Y()()}if(2&n){const e=t.$implicit,i=N();j(2),F("ngForOf",Ri(3,9,i.view.days,e,e+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),j(2),F("locale",i.locale)("isOpen",i.openRowIndex===e)("events",null==i.openDay?null:i.openDay.events)("date",null==i.openDay?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}function m2(n,t){if(1&n){const e=jt();Z(0,"div",4),de("mwlClick",function(r){const a=Q(e).$implicit;return N().dayHeaderClicked.emit({day:a,sourceEvent:r})})("drop",function(r){const a=Q(e).$implicit;return N().eventDropped.emit({event:r.dropData.event,newStart:a.date})})("dragEnter",function(){const s=Q(e).$implicit;return N().dragEnter.emit({date:s.date})}),Z(1,"b"),bt(2),Mt(3,"calendarDate"),Y(),St(4,"br"),Z(5,"span"),bt(6),Mt(7,"calendarDate"),Y()()}if(2&n){const e=t.$implicit,i=N().locale;cn("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),F("ngClass",e.cssClass),j(2),Is(Ri(3,11,e.date,"weekViewColumnHeader",i)),j(4),Is(Ri(7,15,e.date,"weekViewColumnSubHeader",i))}}function v2(n,t){if(1&n&&(Z(0,"div",2),se(1,m2,8,19,"div",3),Y()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;j(1),F("ngForOf",e)("ngForTrackBy",i)}}function _2(n,t){}const y2=function(n,t,e,i,r,s){return{days:n,locale:t,dayHeaderClicked:e,eventDropped:i,dragEnter:r,trackByWeekDayHeaderDate:s}},w2=function(n,t){return{backgroundColor:n,borderColor:t}};function C2(n,t){if(1&n){const e=jt();Z(0,"div",2),de("mwlClick",function(r){return Q(e).eventClicked.emit({sourceEvent:r})})("mwlKeydownEnter",function(r){return Q(e).eventClicked.emit({sourceEvent:r})}),Mt(1,"calendarEventTitle"),Mt(2,"calendarA11y"),St(3,"mwl-calendar-event-actions",3),bt(4," "),St(5,"mwl-calendar-event-title",4),Y()}if(2&n){const e=t.weekEvent,i=t.tooltipPlacement,r=t.tooltipTemplate,s=t.tooltipAppendToBody,a=t.tooltipDisabled,l=t.tooltipDelay,u=t.daysInWeek,d=N();F("ngStyle",un(20,w2,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",a?"":Ri(1,13,e.event.title,1===u?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",i)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",r)("tooltipAppendToBody",s)("tooltipDelay",l),Jt("aria-label",xi(2,17,un(23,g0,e.tempEvent||e.event,d.locale),"eventDescription")),j(3),F("event",e.tempEvent||e.event)("customTemplate",d.eventActionsTemplate),j(2),F("event",e.tempEvent||e.event)("customTemplate",d.eventTitleTemplate)("view",1===u?"day":"week")}}function D2(n,t){}const S2=function(n,t,e,i,r,s,a,l,u){return{weekEvent:n,tooltipPlacement:t,eventClicked:e,tooltipTemplate:i,tooltipAppendToBody:r,tooltipDisabled:s,tooltipDelay:a,column:l,daysInWeek:u}};function b2(n,t){if(1&n&&(Z(0,"div",4),bt(1),Mt(2,"calendarDate"),Y()),2&n){const e=N(),i=e.segment,r=e.daysInWeek,s=e.locale;j(1),Dl(" ",Ri(2,1,i.displayDate,1===r?"dayViewHour":"weekViewHour",s)," ")}}function E2(n,t){if(1&n&&(Z(0,"div",2),Mt(1,"calendarA11y"),se(2,b2,3,5,"div",3),Y()),2&n){const e=t.segment,r=t.isTimeLabel,s=t.daysInWeek;Er("height",t.segmentHeight,"px"),cn("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),F("ngClass",e.cssClass),Jt("aria-hidden",xi(1,9,On(12,va),1===s?"hideDayHourSegment":"hideWeekHourSegment")),j(2),F("ngIf",r)}}function T2(n,t){}const M2=function(n,t,e,i,r){return{segment:n,locale:t,segmentHeight:e,isTimeLabel:i,daysInWeek:r}};function I2(n,t){1&n&&St(0,"div",3),2&n&&Er("top",N().topPx,"px")}function A2(n,t){1&n&&se(0,I2,1,2,"div",2),2&n&&F("ngIf",t.isVisible)}function P2(n,t){}const k2=function(n,t,e,i,r,s,a){return{columnDate:n,dayStartHour:t,dayStartMinute:e,dayEndHour:i,dayEndMinute:r,isVisible:s,topPx:a}};function x2(n,t){if(1&n){const e=jt();Z(0,"div",13),de("drop",function(r){const a=Q(e).$implicit;return N(2).eventDropped(r,a.date,!0)})("dragEnter",function(){const s=Q(e).$implicit;return N(2).dateDragEnter(s.date)}),Y()}}const R2=function(){return{left:!0}};function O2(n,t){1&n&&St(0,"div",22),2&n&&F("resizeEdges",On(1,R2))}const N2=function(){return{right:!0}};function F2(n,t){1&n&&St(0,"div",23),2&n&&F("resizeEdges",On(1,N2))}const L2=function(n,t){return{left:n,right:t}},v0=function(n,t){return{event:n,calendarId:t}},V2=function(n){return{x:n}};function B2(n,t){if(1&n){const e=jt();Z(0,"div",17,18),de("resizeStart",function(r){const a=Q(e).$implicit;N();const l=Ft(1);return N(2).allDayEventResizeStarted(l,a,r)})("resizing",function(r){const a=Q(e).$implicit,l=N(3);return l.allDayEventResizing(a,r,l.dayColumnWidth)})("resizeEnd",function(){const s=Q(e).$implicit;return N(3).allDayEventResizeEnded(s)})("dragStart",function(){const s=Q(e).$implicit,a=Ft(1);N();const l=Ft(1);return N(2).dragStarted(l,a,s,!1)})("dragging",function(){return Q(e),N(3).allDayEventDragMove()})("dragEnd",function(r){const a=Q(e).$implicit,l=N(3);return l.dragEnded(a,r,l.dayColumnWidth)}),se(2,O2,1,2,"div",19),Z(3,"mwl-calendar-week-view-event",20),de("eventClicked",function(r){const a=Q(e).$implicit;return N(3).eventClicked.emit({event:a.event,sourceEvent:r.sourceEvent})}),Y(),se(4,F2,1,2,"div",21),Y()}if(2&n){const e=t.$implicit,i=N(3);Er("width",100/i.days.length*e.span,"%")("margin-left",i.rtl?null:100/i.days.length*e.offset,"%")("margin-right",i.rtl?100/i.days.length*(i.days.length-e.offset)*-1:null,"%"),cn("cal-draggable",e.event.draggable&&0===i.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),F("ngClass",null==e.event?null:e.event.cssClass)("resizeSnapGrid",un(32,L2,i.dayColumnWidth,i.dayColumnWidth))("validateResize",i.validateResize)("dropData",un(35,v0,e.event,i.calendarId))("dragAxis",un(38,Kl,e.event.draggable&&0===i.allDayEventResizes.size,!i.snapDraggedEvents&&e.event.draggable&&0===i.allDayEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?Ps(41,V2,i.dayColumnWidth):On(43,va))("validateDrag",i.validateDrag)("touchStartLongPress",On(44,Xd)),j(2),F("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),j(1),F("locale",i.locale)("weekEvent",e)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("daysInWeek",i.daysInWeek),j(1),F("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function H2(n,t){if(1&n&&(Z(0,"div",14,15),se(2,B2,5,45,"div",16),Y()),2&n){const e=t.$implicit,i=N(2);j(2),F("ngForOf",e.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function j2(n,t){if(1&n){const e=jt();Z(0,"div",8,9),de("dragEnter",function(){return Q(e),N().dragEnter("allDay")})("dragLeave",function(){return Q(e),N().dragLeave("allDay")}),Z(2,"div",5),St(3,"div",10),se(4,x2,1,0,"div",11),Y(),se(5,H2,3,2,"div",12),Y()}if(2&n){const e=N();j(3),F("ngTemplateOutlet",e.allDayEventsLabelTemplate),j(1),F("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),j(1),F("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function U2(n,t){if(1&n&&St(0,"mwl-calendar-week-view-hour-segment",28),2&n){const e=t.$implicit,i=N(3);Er("height",i.hourSegmentHeight,"px"),F("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",i.daysInWeek)}}function z2(n,t){if(1&n&&(Z(0,"div",26),se(1,U2,1,8,"mwl-calendar-week-view-hour-segment",27),Y()),2&n){const e=t.$implicit,i=t.odd,r=N(2);cn("cal-hour-odd",i),j(1),F("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function W2(n,t){if(1&n&&(Z(0,"div",24),se(1,z2,2,4,"div",25),Y()),2&n){const e=N();j(1),F("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const G2=function(){return{left:!0,top:!0}};function $2(n,t){1&n&&St(0,"div",22),2&n&&F("resizeEdges",On(1,G2))}function Z2(n,t){}function q2(n,t){if(1&n){const e=jt();Z(0,"mwl-calendar-week-view-event",36),de("eventClicked",function(r){Q(e);const s=N().$implicit;return N(2).eventClicked.emit({event:s.event,sourceEvent:r.sourceEvent})}),Y()}if(2&n){const e=N().$implicit,i=N().$implicit,r=N();F("locale",r.locale)("weekEvent",e)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDisabled",r.dragActive||r.timeEventResizes.size>0)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("column",i)("daysInWeek",r.daysInWeek)}}const Y2=function(){return{right:!0,bottom:!0}};function K2(n,t){1&n&&St(0,"div",23),2&n&&F("resizeEdges",On(1,Y2))}const X2=function(n,t,e,i){return{left:n,right:t,top:e,bottom:i}};function Q2(n,t){if(1&n){const e=jt();Z(0,"div",33,18),de("resizeStart",function(r){const a=Q(e).$implicit,l=N(2),u=Ft(6);return l.timeEventResizeStarted(u,a,r)})("resizing",function(r){const a=Q(e).$implicit;return N(2).timeEventResizing(a,r)})("resizeEnd",function(){const s=Q(e).$implicit;return N(2).timeEventResizeEnded(s)})("dragStart",function(){const s=Q(e).$implicit,a=Ft(1),l=N(2),u=Ft(6);return l.dragStarted(u,a,s,!0)})("dragging",function(r){const a=Q(e).$implicit;return N(2).dragMove(a,r)})("dragEnd",function(r){const a=Q(e).$implicit,l=N(2);return l.dragEnded(a,r,l.dayColumnWidth,!0)}),se(2,$2,1,2,"div",19),se(3,Z2,0,0,"ng-template",34),se(4,q2,1,12,"ng-template",null,35,ri),se(6,K2,1,2,"div",21),Y()}if(2&n){const e=t.$implicit,i=Ft(5),r=N(2);Er("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),cn("cal-draggable",e.event.draggable&&0===r.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),F("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeSnapGrid",lD(29,X2,r.dayColumnWidth,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight,r.eventSnapSize||r.hourSegmentHeight))("validateResize",r.validateResize)("allowNegativeResizes",!0)("dropData",un(34,v0,e.event,r.calendarId))("dragAxis",un(37,Kl,e.event.draggable&&0===r.timeEventResizes.size,e.event.draggable&&0===r.timeEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?un(40,Kl,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight):On(43,va))("touchStartLongPress",On(44,Xd))("ghostDragEnabled",!r.snapDraggedEvents)("ghostElementTemplate",i)("validateDrag",r.validateDrag),j(2),F("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),j(1),F("ngTemplateOutlet",i),j(3),F("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function J2(n,t){if(1&n){const e=jt();Z(0,"mwl-calendar-week-view-hour-segment",38),de("mwlClick",function(r){const a=Q(e).$implicit;return N(3).hourSegmentClicked.emit({date:a.date,sourceEvent:r})})("drop",function(r){const a=Q(e).$implicit;return N(3).eventDropped(r,a.date,!1)})("dragEnter",function(){const s=Q(e).$implicit;return N(3).dateDragEnter(s.date)}),Y()}if(2&n){const e=t.$implicit,i=N(3);Er("height",i.hourSegmentHeight,"px"),F("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("daysInWeek",i.daysInWeek)("clickListenerDisabled",0===i.hourSegmentClicked.observers.length)("dragOverClass",i.dragActive&&i.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===i.daysInWeek)}}function eB(n,t){if(1&n&&(Z(0,"div",26),se(1,J2,1,10,"mwl-calendar-week-view-hour-segment",37),Y()),2&n){const e=t.$implicit,i=t.odd,r=N(2);cn("cal-hour-odd",i),j(1),F("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function tB(n,t){if(1&n&&(Z(0,"div",29),St(1,"mwl-calendar-week-view-current-time-marker",30),Z(2,"div",31),se(3,Q2,7,45,"div",32),Y(),se(4,eB,2,4,"div",25),Y()),2&n){const e=t.$implicit,i=N();j(1),F("columnDate",e.date)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("customTemplate",i.currentTimeMarkerTemplate),j(2),F("ngForOf",e.events)("ngForTrackBy",i.trackByWeekTimeEvent),j(1),F("ngForOf",e.hours)("ngForTrackBy",i.trackByHour)}}let Bs=(()=>{class n{constructor(e,i,r){this.renderer=e,this.elm=i,this.document=r,this.clickListenerDisabled=!1,this.click=new K,this.destroy$=new ve}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(Ar(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new nt(e=>this.renderer.listen(this.elm.nativeElement,"click",i=>{e.next(i)}))}}return n.\u0275fac=function(e){return new(e||n)(M($n),M(Tt),M(pt))},n.\u0275dir=ie({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),Qd=(()=>{class n{constructor(e,i,r){this.host=e,this.ngZone=i,this.renderer=r,this.keydown=new K,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(13===e.keyCode||13===e.which||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(e){return new(e||n)(M(Tt),M(lt),M($n))},n.\u0275dir=ie({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),Jd=(()=>{class n{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:i}){return e.badgeTotal>0?`\n        ${nn(e.date,"EEEE MMMM d",i)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${nn(e.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:e,locale:i}){return`\n      Beginning of expanded view for ${nn(e,"EEEE MMMM dd",i)}\n    `}openDayEventsAlert({date:e,locale:i}){return`${nn(e,"EEEE MMMM dd",i)} expanded`}eventDescription({event:e,locale:i}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:i});const r=`\n      ${nn(e.start,"EEEE MMMM dd",i)},\n      ${e.title}, from ${nn(e.start,"hh:mm a",i)}\n    `;return e.end?r+` to ${nn(e.end,"hh:mm a",i)}`:r}allDayEventDescription({event:e,locale:i}){const r=`\n      ${e.title}, event spans multiple days:\n      start time ${nn(e.start,"MMMM dd hh:mm a",i)}\n    `;return e.end?r+`, stop time ${nn(e.end,"MMMM d hh:mm a",i)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(e){return new(e||n)(P(Pg))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),Hs=(()=>{class n{constructor(e,i){this.calendarA11y=e,this.locale=i}transform(e,i){if(e.locale=e.locale||this.locale,typeof this.calendarA11y[i]>"u"){const r=Object.getOwnPropertyNames(Object.getPrototypeOf(Jd.prototype)).filter(s=>"constructor"!==s);throw new Error(`${i} is not a valid a11y method. Can only be one of ${r.join(", ")}`)}return this.calendarA11y[i](e)}}return n.\u0275fac=function(e){return new(e||n)(M(Jd,16),M(mi,16))},n.\u0275pipe=vt({name:"calendarA11y",type:n,pure:!0}),n})(),_0=(()=>{class n{constructor(){this.trackByActionId=(e,i)=>i.id?i.id:i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ft({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,i){if(1&e&&(se(0,HV,1,1,"ng-template",null,0,ri),se(2,jV,0,0,"ng-template",1)),2&e){const r=Ft(1);j(2),F("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",un(2,UV,i.event,i.trackByActionId))}},directives:[Mr,Jr,cr,Bs,Qd,yi],pipes:[Hs],encapsulation:2}),n})();class km{month(t,e){return t.title}monthTooltip(t,e){return t.title}week(t,e){return t.title}weekTooltip(t,e){return t.title}day(t,e){return t.title}dayTooltip(t,e){return t.title}}let xm=(()=>{class n{constructor(e){this.calendarEventTitle=e}transform(e,i,r){return this.calendarEventTitle[i](r,e)}}return n.\u0275fac=function(e){return new(e||n)(M(km,16))},n.\u0275pipe=vt({name:"calendarEventTitle",type:n,pure:!0}),n})(),y0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ft({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,i){if(1&e&&(se(0,zV,3,10,"ng-template",null,0,ri),se(2,WV,0,0,"ng-template",1)),2&e){const r=Ft(1);j(2),F("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",un(2,GV,i.event,i.view))}},directives:[yi],pipes:[xm,Hs],encapsulation:2}),n})(),nB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ft({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,i){if(1&e&&(se(0,$V,3,2,"ng-template",null,0,ri),se(2,ZV,0,0,"ng-template",1)),2&e){const r=Ft(1);j(2),F("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",jp(2,qV,i.contents,i.placement,i.event))}},directives:[cr,yi],encapsulation:2}),n})(),w0=(()=>{class n{constructor(e,i,r,s,a,l){this.elementRef=e,this.injector=i,this.renderer=r,this.viewContainerRef=a,this.document=l,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new ve,this.tooltipFactory=s.resolveComponentFactory(nB)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?rs("now"):zd(this.delay)).pipe(Ar(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function VL(n,t,e,i,r){var s=Array.isArray(e)?e:e.split(LL),a=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],l=t.classList,u=function(S){var E=S.split("-"),b=E[0],A=E[1],x=[];return r&&(x.push(r+"-"+b),A&&x.push(r+"-"+b+"-"+A),x.forEach(function(H){l.add(H)})),x};r&&a.forEach(function(S){l.remove(r+"-"+S)});var d=s.findIndex(function(S){return"auto"===S});d>=0&&a.forEach(function(S){null==s.find(function(E){return-1!==E.search("^"+S)})&&s.splice(d++,1,S)});var f=t.style;f.position="absolute",f.top="0",f.left="0",f["will-change"]="transform";for(var g,v=!1,_=0,w=s;_<w.length;_++){var C=u(g=w[_]);if(zb.positionElements(n,t,g,i)){v=!0;break}r&&C.forEach(function(S){l.remove(S)})}return v||(u(g=s[0]),zb.positionElements(n,t,g,i)),g}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(e){return new(e||n)(M(Tt),M(ln),M($n),M(Qr),M(ii),M(pt))},n.\u0275dir=ie({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,i){1&e&&de("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseOut()})},inputs:{contents:["mwlCalendarTooltip","contents"],placement:["tooltipPlacement","placement"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"],delay:["tooltipDelay","delay"]},features:[Kt]}),n})();var kr=(()=>{return(n=kr||(kr={})).Month="month",n.Week="week",n.Day="day",kr;var n})();const C0=n=>function XL(n,t){var e=!0;function i(r,s){t(r,s),e=!1}return Array.isArray(n)?(n.forEach(function(r){r.start?r.start instanceof Date||i(os.StartPropertyNotDate,r):i(os.StartPropertyMissing,r),r.end&&(r.end instanceof Date||i(os.EndPropertyNotDate,r),r.start>r.end&&i(os.EndsBeforeStart,r))}),e):(t(os.NotArray,n),!1)}(n,(...e)=>console.warn("angular-calendar",...e));function D0(n,t){return Math.floor(n.left)<=Math.ceil(t.left)&&Math.floor(t.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(t.right)&&Math.floor(t.right)<=Math.ceil(n.right)}function S0(n,t){return Math.round(n/t)*t}const b0=(n,t)=>t.id?t.id:t,Rm=(n,t)=>t.date.toISOString(),sB=(n,t)=>t.date.toISOString(),oB=(n,t)=>t.segments[0].date.toISOString(),aB=(n,t)=>t.event.id?t.event.id:t.event,lB=(n,t)=>t.event.id?t.event.id:t.event;function Om(n,t,e,i,r){const s=S0(n,i||e),a=function uB(n,t,e){return(e||60)/(n*t)}(t,e,r);return s*a}function E0(n,t,e){return t.end?t.end:n.addMinutes(t.start,e)}function Vi(n,t,e,i){let r=0,s=0;const a=e<0?n.subDays:n.addDays;let l=t;for(;s<=Math.abs(e);){l=a(t,r);const u=n.getDay(l);-1===i.indexOf(u)&&s++,r++}return l}function Nm(n,t,e,i=[],r){let s=r?n.startOfDay(t):n.startOfWeek(t,{weekStartsOn:e});const a=n.endOfWeek(t,{weekStartsOn:e});for(;i.indexOf(n.getDay(s))>-1&&s<a;)s=n.addDays(s,1);if(r)return{viewStart:s,viewEnd:n.endOfDay(Vi(n,s,r-1,i))};{let l=a;for(;i.indexOf(n.getDay(l))>-1&&l>s;)l=n.subDays(l,1);return{viewStart:s,viewEnd:l}}}function Fm({x:n,y:t}){return Math.abs(n)>1||Math.abs(t)>1}class xr{}let fB=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new K}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===kr.Day?Vi(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===kr.Week&&this.daysInWeek?Vi(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)(M(xr))},n.\u0275dir=ie({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,i){1&e&&de("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),pB=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new K}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===kr.Day?Vi(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===kr.Week&&this.daysInWeek?Vi(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)(M(xr))},n.\u0275dir=ie({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,i){1&e&&de("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),gB=(()=>{class n{constructor(e){this.dateAdapter=e,this.viewDateChange=new K}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return n.\u0275fac=function(e){return new(e||n)(M(xr))},n.\u0275dir=ie({type:n,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,i){1&e&&de("click",function(){return i.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),n})(),mB=(()=>{class n{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:i}){return nn(e,"EEEE",i)}monthViewDayNumber({date:e,locale:i}){return nn(e,"d",i)}monthViewTitle({date:e,locale:i}){return nn(e,"LLLL y",i)}weekViewColumnHeader({date:e,locale:i}){return nn(e,"EEEE",i)}weekViewColumnSubHeader({date:e,locale:i}){return nn(e,"MMM d",i)}weekViewTitle({date:e,locale:i,weekStartsOn:r,excludeDays:s,daysInWeek:a}){const{viewStart:l,viewEnd:u}=Nm(this.dateAdapter,e,r,s,a),d=(f,g)=>nn(f,"MMM d"+(g?", yyyy":""),i);return`${d(l,l.getUTCFullYear()!==u.getUTCFullYear())} - ${d(u,!0)}`}weekViewHour({date:e,locale:i}){return nn(e,"h a",i)}dayViewHour({date:e,locale:i}){return nn(e,"h a",i)}dayViewTitle({date:e,locale:i}){return nn(e,"EEEE, MMMM d, y",i)}}return n.\u0275fac=function(e){return new(e||n)(P(xr))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),eh=(()=>{class n extends mB{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=mn(n)))(i||n)}}(),n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),Xl=(()=>{class n{constructor(e,i){this.dateFormatter=e,this.locale=i}transform(e,i,r=this.locale,s=0,a=[],l){if(typeof this.dateFormatter[i]>"u"){const u=Object.getOwnPropertyNames(Object.getPrototypeOf(eh.prototype)).filter(d=>"constructor"!==d);throw new Error(`${i} is not a valid date formatter. Can only be one of ${u.join(", ")}`)}return this.dateFormatter[i]({date:e,locale:r,weekStartsOn:s,excludeDays:a,daysInWeek:l})}}return n.\u0275fac=function(e){return new(e||n)(M(eh,16),M(mi,16))},n.\u0275pipe=vt({name:"calendarDate",type:n,pure:!0}),n})(),th=(()=>{class n{constructor(e){this.dateAdapter=e}getMonthView(e){return function qL(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,a=t.excluded,l=void 0===a?[]:a,u=t.viewStart,d=void 0===u?n.startOfMonth(r):u,f=t.viewEnd,g=void 0===f?n.endOfMonth(r):f,v=t.weekendDays;i||(i=[]);for(var re,w=n.endOfWeek,C=n.differenceInDays,S=n.startOfDay,E=n.addHours,b=n.endOfDay,A=n.isSameMonth,x=n.getDay,J=(0,n.startOfWeek)(d,{weekStartsOn:s}),ge=w(g,{weekStartsOn:s}),ue=Zl(n,{events:i,periodStart:J,periodEnd:ge}),ee=[],G=function(Fe){var Ge;if(re?(Ge=S(E(re,24)),re.getTime()===Ge.getTime()&&(Ge=S(E(re,25))),re=Ge):Ge=re=J,!l.some(function(Di){return x(Ge)===Di})){var At=$b(n,{date:Ge,weekendDays:v}),pn=Zl(n,{events:ue,periodStart:S(Ge),periodEnd:b(Ge)});At.inMonth=A(Ge,r),At.events=pn,At.badgeTotal=pn.length,ee.push(At)}},V=0;V<C(ge,J)+1;V++)G();var ke=[],Pe=7-l.length;if(Pe<7)for(V=0;V<ee.length;V+=Pe){var Vn=ee.slice(V,V+Pe);Vn.some(function(Ge){return d<=Ge.date&&Ge.date<g})&&(ke=Wb(ke,Vn))}else ke=ee;var te=Math.floor(ke.length/Pe),ae=[];for(V=0;V<te;V++)ae.push(V*Pe);return{rowOffsets:ae,totalDaysVisibleInWeek:Pe,days:ke,period:{start:ke[0].date,end:b(ke[ke.length-1].date),events:ue}}}(this.dateAdapter,e)}getWeekViewHeader(e){return vm(this.dateAdapter,e)}getWeekView(e){return function ZL(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,a=t.excluded,l=void 0===a?[]:a,u=t.precision,d=void 0===u?"days":u,f=t.absolutePositionedEvents,g=void 0!==f&&f,v=t.hourSegments,_=t.hourDuration,w=t.dayStart,C=t.dayEnd,S=t.weekendDays,E=t.segmentHeight,b=t.minimumEventHeight,A=t.viewStart,x=void 0===A?n.startOfWeek(r,{weekStartsOn:s}):A,H=t.viewEnd,J=void 0===H?n.endOfWeek(r,{weekStartsOn:s}):H;i||(i=[]);var ue=n.endOfDay,ee=Zl(n,{events:i,periodStart:x=(0,n.startOfDay)(x),periodEnd:J=ue(J)}),re=vm(n,{viewDate:r,weekStartsOn:s,excluded:l,weekendDays:S,viewStart:x,viewEnd:J});return{allDayEventRows:GL(n,{events:ee,excluded:l,precision:d,absolutePositionedEvents:g,viewStart:x,viewEnd:J}),period:{events:ee,start:re[0].date,end:ue(re[re.length-1].date)},hourColumns:$L(n,{events:i,viewDate:r,hourSegments:v,hourDuration:_,dayStart:w,dayEnd:C,weekStartsOn:s,excluded:l,weekendDays:S,segmentHeight:E,viewStart:x,viewEnd:J,minimumEventHeight:b})}}(this.dateAdapter,e)}}return n.\u0275fac=function(e){return new(e||n)(P(xr))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();new Ie("Moment");var dr=(()=>{return(n=dr||(dr={})).Drag="drag",n.Drop="drop",n.Resize="resize",dr;var n})();let Ql=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||km,i.dateFormatter||eh,i.utils||th,i.a11y||Jd]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({providers:[Pg],imports:[[da]]}),n})(),vB=(()=>{class n{constructor(){this.columnHeaderClicked=new K,this.trackByWeekDayHeaderDate=Rm}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ft({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,i){if(1&e&&(se(0,KV,2,2,"ng-template",null,0,ri),se(2,XV,0,0,"ng-template",1)),2&e){const r=Ft(1);j(2),F("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",jp(2,QV,i.days,i.locale,i.trackByWeekDayHeaderDate))}},directives:[Jr,cr,yi],pipes:[Xl],encapsulation:2}),n})(),_B=(()=>{class n{constructor(){this.highlightDay=new K,this.unhighlightDay=new K,this.eventClicked=new K,this.trackByEventId=b0,this.validateDrag=Fm}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ft({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,i){2&e&&cn("cal-past",i.day.isPast)("cal-today",i.day.isToday)("cal-future",i.day.isFuture)("cal-weekend",i.day.isWeekend)("cal-in-month",i.day.inMonth)("cal-out-month",!i.day.inMonth)("cal-has-events",i.day.events.length>0)("cal-open",i.day===i.openDay)("cal-event-highlight",!!i.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(e,i){if(1&e&&(se(0,s2,8,14,"ng-template",null,0,ri),se(2,o2,0,0,"ng-template",1)),2&e){const r=Ft(1);j(2),F("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",zp(2,a2,[i.day,i.openDay,i.locale,i.tooltipPlacement,i.highlightDay,i.unhighlightDay,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDelay,i.trackByEventId,i.validateDrag]))}},directives:[Mr,Jr,Im,Vl,cr,w0,Bs,yi],pipes:[Hs,Xl,xm],encapsulation:2}),n})();const yB=function RN(n,t){return{type:7,name:n,definitions:t,options:{}}}("collapse",[QS("void",Dd({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),QS("*",Dd({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),JS("* => void",KS("150ms ease-out")),JS("void => *",KS("150ms ease-in"))]);let wB=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new K,this.trackByEventId=b0,this.validateDrag=Fm}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ft({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,i){if(1&e&&(se(0,d2,1,1,"ng-template",null,0,ri),se(2,h2,0,0,"ng-template",1)),2&e){const r=Ft(1);j(2),F("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",Up(2,f2,i.events,i.eventClicked,i.isOpen,i.trackByEventId,i.validateDrag))}},directives:[y0,_0,Mr,Jr,Im,cr,Vl,Bs,Qd,yi],pipes:[Hs],encapsulation:2,data:{animation:[yB]}}),n})(),CB=(()=>{class n{constructor(e,i,r,s){this.cdr=e,this.utils=i,this.dateAdapter=s,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new K,this.dayClicked=new K,this.eventClicked=new K,this.columnHeaderClicked=new K,this.eventTimesChanged=new K,this.trackByRowOffset=(a,l)=>this.view.days.slice(l,this.view.totalDaysVisibleInWeek).map(u=>u.date.toISOString()).join("-"),this.trackByDate=(a,l)=>l.date.toISOString(),this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays,r=e.viewDate||e.events||e.excludeDays||e.weekendDays;i&&this.refreshHeader(),e.events&&C0(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,i){this.view.days.forEach(r=>{i&&r.events.indexOf(e)>-1?r.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete r.backgroundColor})}eventDropped(e,i,r){if(e!==r){const s=this.dateAdapter.getYear(e.date),a=this.dateAdapter.getMonth(e.date),l=this.dateAdapter.getDate(e.date),u=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(i.start,s),a),l);let d;if(i.end){const f=this.dateAdapter.differenceInSeconds(u,i.start);d=this.dateAdapter.addSeconds(i.end,f)}this.eventTimesChanged.emit({event:i,newStart:u,newEnd:d,day:e,type:dr.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(r=>this.dateAdapter.isSameDay(r.date,e));const i=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(i/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(e){return new(e||n)(M(ua),M(th),M(mi),M(xr))},n.\u0275cmp=ft({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[Kt],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,i){1&e&&(Z(0,"div",0)(1,"mwl-calendar-month-view-header",1),de("columnHeaderClicked",function(s){return i.columnHeaderClicked.emit(s)}),Y(),Z(2,"div",2),se(3,g2,5,13,"div",3),Y()()),2&e&&(j(1),F("days",i.columnHeaders)("locale",i.locale)("customTemplate",i.headerTemplate),j(2),F("ngForOf",i.view.rowOffsets)("ngForTrackBy",i.trackByRowOffset))},directives:[vB,_B,wB,Jr,Am,cr,Vl,Bs,Qd],pipes:[Hs,AS],encapsulation:2}),n})(),T0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({imports:[[da,Yd,Ql],Yd]}),n})();class DB{constructor(t,e){this.dragContainerElement=t,this.startPosition=e.getBoundingClientRect()}validateDrag({x:t,y:e,snapDraggedEvents:i,dragAlreadyMoved:r,transform:s}){const a=Fm({x:t,y:e})||r;if(i){const l=Object.assign({},this.startPosition,{left:this.startPosition.left+s.x,right:this.startPosition.right+s.x,top:this.startPosition.top+s.y,bottom:this.startPosition.bottom+s.y});if(a){const u=this.dragContainerElement.getBoundingClientRect(),d=u.top<l.top&&l.top<u.bottom,f=u.top<l.bottom&&l.bottom<u.bottom;return D0(u,l)&&(d||f)}return!1}return a}}class SB{constructor(t,e,i){this.resizeContainerElement=t,this.minWidth=e,this.rtl=i}validateResize({rectangle:t,edges:e}){return this.rtl&&(typeof e.left<"u"?(t.left-=e.left,t.right+=e.left):typeof e.right<"u"&&(t.left+=e.right,t.right-=e.right),t.width=t.right-t.left),!(this.minWidth&&Math.ceil(t.width)<Math.ceil(this.minWidth))&&function rB(n,t){return D0(n,t)&&function iB(n,t){return Math.floor(n.top)<=Math.ceil(t.top)&&Math.floor(t.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(t.bottom)&&Math.floor(t.bottom)<=Math.ceil(n.bottom)}(n,t)}(this.resizeContainerElement.getBoundingClientRect(),t)}}let bB=(()=>{class n{constructor(){this.dayHeaderClicked=new K,this.eventDropped=new K,this.dragEnter=new K,this.trackByWeekDayHeaderDate=Rm}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ft({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,i){if(1&e&&(se(0,v2,2,2,"ng-template",null,0,ri),se(2,_2,0,0,"ng-template",1)),2&e){const r=Ft(1);j(2),F("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",function cD(n,t,e,i,r,s,a,l,u){const d=Pn()+n,f=R(),g=gi(f,d,e,i,r,s);return Ms(f,d+4,a,l)||g?rr(f,d+6,u?t.call(u,e,i,r,s,a,l):t(e,i,r,s,a,l)):wl(f,d+6)}(2,y2,i.days,i.locale,i.dayHeaderClicked,i.eventDropped,i.dragEnter,i.trackByWeekDayHeaderDate))}},directives:[Jr,Am,cr,Bs,yi],pipes:[Xl],encapsulation:2}),n})(),EB=(()=>{class n{constructor(){this.eventClicked=new K}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ft({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,i){if(1&e&&(se(0,C2,6,26,"ng-template",null,0,ri),se(2,D2,0,0,"ng-template",1)),2&e){const r=Ft(1);j(2),F("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",zp(2,S2,[i.weekEvent,i.tooltipPlacement,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDisabled,i.tooltipDelay,i.column,i.daysInWeek]))}},directives:[_0,y0,Vl,w0,Bs,Qd,yi],pipes:[xm,Hs],encapsulation:2}),n})(),TB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ft({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,i){if(1&e&&(se(0,E2,3,13,"ng-template",null,0,ri),se(2,T2,0,0,"ng-template",1)),2&e){const r=Ft(1);j(2),F("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",Up(2,M2,i.segment,i.locale,i.segmentHeight,i.isTimeLabel,i.daysInWeek))}},directives:[cr,Mr,yi],pipes:[Hs,Xl],encapsulation:2}),n})(),MB=(()=>{class n{constructor(e,i){this.dateAdapter=e,this.zone=i,this.columnDate$=new Gl(void 0),this.marker$=this.zone.onStable.pipe(ts(()=>Hb(6e4)),Ub(0),function NL(n,t){return Re(t)?ts(()=>n,t):ts(()=>n)}(this.columnDate$),He(r=>{const s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayStartHour),this.dayStartMinute),a=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayEndHour),this.dayEndMinute),l=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),u=new Date;return{isVisible:this.dateAdapter.isSameDay(r,u)&&u>=s&&u<=a,top:this.dateAdapter.differenceInMinutes(u,s)*l}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}return n.\u0275fac=function(e){return new(e||n)(M(xr),M(lt))},n.\u0275cmp=ft({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[Kt],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,i){if(1&e&&(se(0,A2,1,1,"ng-template",null,0,ri),se(2,P2,0,0,"ng-template",1),Mt(3,"async"),Mt(4,"async")),2&e){const r=Ft(1);let s;j(2),F("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",function uD(n,t,e,i,r,s,a,l,u,d){const f=Pn()+n,g=R();let v=gi(g,f,e,i,r,s);return Hu(g,f+4,a,l,u)||v?rr(g,f+7,d?t.call(d,e,i,r,s,a,l,u):t(e,i,r,s,a,l,u)):wl(g,f+7)}(6,k2,i.columnDate,i.dayStartHour,i.dayStartMinute,i.dayEndHour,i.dayEndMinute,null==(s=Ku(3,2,i.marker$))?null:s.isVisible,null==(s=Ku(4,4,i.marker$))?null:s.top))}},directives:[Mr,yi],pipes:[Ag],encapsulation:2}),n})(),M0=(()=>{class n{constructor(e,i,r,s,a){this.cdr=e,this.utils=i,this.dateAdapter=s,this.element=a,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new K,this.eventClicked=new K,this.eventTimesChanged=new K,this.beforeViewRender=new K,this.hourSegmentClicked=new K,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=Rm,this.trackByHourSegment=sB,this.trackByHour=oB,this.trackByWeekAllDayEvent=aB,this.trackByWeekTimeEvent=lB,this.trackByHourColumn=(l,u)=>u.hours[0]?u.hours[0].segments[0].date.toISOString():u,this.trackById=(l,u)=>u.id,this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,r=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;i&&this.refreshHeader(),e.events&&C0(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(e,i,r){this.timeEventResizes.set(i.event,r),this.resizeStarted(e,i)}timeEventResizing(e,i){this.timeEventResizes.set(e.event,i);const r=new Map,s=[...this.events];this.timeEventResizes.forEach((a,l)=>{const u=this.getTimeEventResizedDates(l,a),d=Object.assign(Object.assign({},l),u);r.set(d,l);const f=s.indexOf(l);s[f]=d}),this.restoreOriginalEvents(s,r,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const i=this.timeEventResizes.get(e.event);if(i){this.timeEventResizes.delete(e.event);const r=this.getTimeEventResizedDates(e.event,i);this.eventTimesChanged.emit({newStart:r.start,newEnd:r.end,event:e.event,type:dr.Resize})}}allDayEventResizeStarted(e,i,r){this.allDayEventResizes.set(i,{originalOffset:i.offset,originalSpan:i.span,edge:typeof r.edges.left<"u"?"left":"right"}),this.resizeStarted(e,i,this.getDayColumnWidth(e))}allDayEventResizing(e,i,r){const s=this.allDayEventResizes.get(e),a=this.rtl?-1:1;if(typeof i.edges.left<"u"){const l=Math.round(+i.edges.left/r)*a;e.offset=s.originalOffset+l,e.span=s.originalSpan-l}else if(typeof i.edges.right<"u"){const l=Math.round(+i.edges.right/r)*a;e.span=s.originalSpan+l}}allDayEventResizeEnded(e){const i=this.allDayEventResizes.get(e);if(i){const r="left"===i.edge;let s;s=r?e.offset-i.originalOffset:e.span-i.originalSpan,e.offset=i.originalOffset,e.span=i.originalSpan;const a=this.getAllDayEventResizedDates(e.event,s,r);this.eventTimesChanged.emit({newStart:a.start,newEnd:a.end,event:e.event,type:dr.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,i,r){(function hB(n,t,e,i){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==i||n.dropData.event.allDay&&!e||!n.dropData.event.allDay&&e)})(e,0,r,this.calendarId)&&this.lastDragEnterDate.getTime()===i.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:dr.Drop,event:e.dropData.event,newStart:i,allDay:r}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,i,r,s){this.dayColumnWidth=this.getDayColumnWidth(e);const a=new DB(e,i);this.validateDrag=({x:l,y:u,transform:d})=>{const f=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&a.validateDrag({x:l,y:u,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:d});if(f&&this.validateEventTimesChanged){const g=this.getDragMovedEventTimes(r,{x:l,y:u},this.dayColumnWidth,s);return this.validateEventTimesChanged({type:dr.Drag,event:r.event,newStart:g.start,newEnd:g.end})}return f},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&s&&this.view.hourColumns.forEach(l=>{const u=l.events.find(d=>d.event===r.event&&d!==r);u&&(u.width=0,u.height=0)}),this.cdr.markForCheck()}dragMove(e,i){const r=this.getDragMovedEventTimes(e,i,this.dayColumnWidth,!0),s=e.event,a=Object.assign(Object.assign({},s),r),l=this.events.map(u=>u===s?a:u);this.restoreOriginalEvents(l,new Map([[a,s]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,i,r,s=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:a,end:l}=this.getDragMovedEventTimes(e,i,r,s);(this.snapDraggedEvents||this.eventDragEnterByType[s?"time":"allDay"]>0)&&function dB(n,t,e){const i=t||n;return e.start<=n&&n<=e.end||e.start<=i&&i<=e.end}(a,l,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:a,newEnd:l,event:e.event,type:dr.Drag,allDay:!s}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},Nm(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(e){return this.utils.getWeekView(Object.assign({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight},Nm(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(e,i,r,s){const a=S0(i.x,r)/r*(this.rtl?-1:1),l=s?Om(i.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,u=this.dateAdapter.addMinutes(Vi(this.dateAdapter,e.event.start,a,this.excludeDays),l);let d;return e.event.end&&(d=this.dateAdapter.addMinutes(Vi(this.dateAdapter,e.event.end,a,this.excludeDays),l)),{start:u,end:d}}restoreOriginalEvents(e,i,r=!0){const s=this.view;r&&(this.view=this.getWeekView(e));const a=e.filter(l=>i.has(l));this.view.hourColumns.forEach((l,u)=>{s.hourColumns[u].hours.forEach((d,f)=>{d.segments.forEach((g,v)=>{l.hours[f].segments[v].cssClass=g.cssClass})}),a.forEach(d=>{const f=i.get(d),g=l.events.find(v=>v.event===(r?d:f));g?(g.event=f,g.tempEvent=d,r||(g.height=0,g.width=0)):l.events.push({event:f,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:d})})}),i.clear()}getTimeEventResizedDates(e,i){const r={start:e.start,end:E0(this.dateAdapter,e,this.minimumEventHeight)},a=function Sh(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}(e,["end"]),l={start:this.dateAdapter.addMinutes(r.end,-1*this.minimumEventHeight),end:E0(this.dateAdapter,a,this.minimumEventHeight)},u=this.rtl?-1:1;if(typeof i.edges.left<"u"){const d=Math.round(+i.edges.left/this.dayColumnWidth)*u,f=Vi(this.dateAdapter,r.start,d,this.excludeDays);r.start=f<l.start?f:l.start}else if(typeof i.edges.right<"u"){const d=Math.round(+i.edges.right/this.dayColumnWidth)*u,f=Vi(this.dateAdapter,r.end,d,this.excludeDays);r.end=f>l.end?f:l.end}if(typeof i.edges.top<"u"){const d=Om(i.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),f=this.dateAdapter.addMinutes(r.start,d);r.start=f<l.start?f:l.start}else if(typeof i.edges.bottom<"u"){const d=Om(i.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),f=this.dateAdapter.addMinutes(r.end,d);r.end=f>l.end?f:l.end}return r}resizeStarted(e,i,r){this.dayColumnWidth=this.getDayColumnWidth(e);const s=new SB(e,r,this.rtl);this.validateResize=({rectangle:a,edges:l})=>{const u=s.validateResize({rectangle:Object.assign({},a),edges:l});if(u&&this.validateEventTimesChanged){let d;if(r){const f=this.rtl?-1:1;if(typeof l.left<"u"){const g=Math.round(+l.left/r)*f;d=this.getAllDayEventResizedDates(i.event,g,!this.rtl)}else{const g=Math.round(+l.right/r)*f;d=this.getAllDayEventResizedDates(i.event,g,this.rtl)}}else d=this.getTimeEventResizedDates(i.event,{rectangle:a,edges:l});return this.validateEventTimesChanged({type:dr.Resize,event:i.event,newStart:d.start,newEnd:d.end})}return u},this.cdr.markForCheck()}getAllDayEventResizedDates(e,i,r){let s=e.start,a=e.end||e.start;return r?s=Vi(this.dateAdapter,s,i,this.excludeDays):a=Vi(this.dateAdapter,a,i,this.excludeDays),{start:s,end:a}}}return n.\u0275fac=function(e){return new(e||n)(M(ua),M(th),M(mi),M(xr),M(Tt))},n.\u0275cmp=ft({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[Kt],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,i){1&e&&(Z(0,"div",0)(1,"mwl-calendar-week-view-header",1),de("dayHeaderClicked",function(s){return i.dayHeaderClicked.emit(s)})("eventDropped",function(s){return i.eventDropped({dropData:s},s.newStart,!0)})("dragEnter",function(s){return i.dateDragEnter(s.date)}),Y(),se(2,j2,6,5,"div",2),Z(3,"div",3),de("dragEnter",function(){return i.dragEnter("time")})("dragLeave",function(){return i.dragLeave("time")}),se(4,W2,2,2,"div",4),Z(5,"div",5,6),se(7,tB,5,13,"div",7),Y()()()),2&e&&(j(1),F("days",i.days)("locale",i.locale)("customTemplate",i.headerTemplate),j(1),F("ngIf",i.view.allDayEventRows.length>0),j(2),F("ngIf",i.view.hourColumns.length>0&&1!==i.daysInWeek),j(1),cn("cal-resize-active",i.timeEventResizes.size>0),j(2),F("ngForOf",i.view.hourColumns)("ngForTrackBy",i.trackByHourColumn))},directives:[bB,EB,TB,MB,Mr,Am,yi,Jr,f0,Im,cr,FV,Bs],encapsulation:2}),n})(),Lm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({imports:[[da,p0,Yd,Ql],p0,Yd]}),n})(),IB=(()=>{class n{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new K,this.hourSegmentClicked=new K,this.eventTimesChanged=new K,this.beforeViewRender=new K}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ft({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:26,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(e,i){1&e&&(Z(0,"mwl-calendar-week-view",0),de("eventClicked",function(s){return i.eventClicked.emit(s)})("hourSegmentClicked",function(s){return i.hourSegmentClicked.emit(s)})("eventTimesChanged",function(s){return i.eventTimesChanged.emit(s)})("beforeViewRender",function(s){return i.beforeViewRender.emit(s)}),Y()),2&e&&F("daysInWeek",1)("viewDate",i.viewDate)("events",i.events)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("minimumEventHeight",i.minimumEventHeight)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("refresh",i.refresh)("locale",i.locale)("eventSnapSize",i.eventSnapSize)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("hourSegmentTemplate",i.hourSegmentTemplate)("eventTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("snapDraggedEvents",i.snapDraggedEvents)("allDayEventsLabelTemplate",i.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",i.currentTimeMarkerTemplate)("validateEventTimesChanged",i.validateEventTimesChanged)},directives:[M0],encapsulation:2}),n})(),I0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({imports:[[da,Ql,Lm]]}),n})(),AB=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||km,i.dateFormatter||eh,i.utils||th,i.a11y||Jd]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({imports:[[Ql,T0,Lm,I0],Ql,T0,Lm,I0]}),n})();function _n(n){if(null===n||!0===n||!1===n)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function De(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function qe(n){De(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||"object"==typeof n&&"[object Date]"===t?new Date(n.getTime()):"number"==typeof n||"[object Number]"===t?new Date(n):(("string"==typeof n||"[object String]"===t)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Vm(n,t){De(2,arguments);var e=qe(n),i=_n(t);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}function Bm(n,t){De(2,arguments);var e=qe(n).getTime(),i=_n(t);return new Date(e+i)}function kB(n,t){De(2,arguments);var e=_n(t);return Bm(n,36e5*e)}function RB(n,t){De(2,arguments);var e=_n(t);return Bm(n,6e4*e)}function OB(n,t){De(2,arguments);var e=_n(t);return Bm(n,1e3*e)}function A0(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function Jl(n){De(1,arguments);var t=qe(n);return t.setHours(0,0,0,0),t}function FB(n,t){De(2,arguments);var e=Jl(n),i=Jl(t),r=e.getTime()-A0(e),s=i.getTime()-A0(i);return Math.round((r-s)/864e5)}function P0(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function LB(n,t){De(2,arguments);var e=qe(n),i=qe(t),r=P0(e,i),s=Math.abs(FB(e,i));e.setDate(e.getDate()-r*s);var a=Number(P0(e,i)===-r),l=r*(s-a);return 0===l?0:l}function x0(n,t){return De(2,arguments),qe(n).getTime()-qe(t).getTime()}Math.pow(10,8);var R0={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(n){return n<0?Math.ceil(n):Math.floor(n)}};function O0(n){return n?R0[n]:R0.trunc}function GB(n,t,e){De(2,arguments);var i=x0(n,t)/6e4;return O0(null==e?void 0:e.roundingMethod)(i)}function $B(n,t,e){De(2,arguments);var i=x0(n,t)/1e3;return O0(null==e?void 0:e.roundingMethod)(i)}function ZB(n){De(1,arguments);var t=qe(n);return t.setHours(23,59,59,999),t}function qB(n){De(1,arguments);var t=qe(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}var N0={};function F0(){return N0}function YB(n,t){var e,i,r,s,a,l,u,d;De(1,arguments);var f=F0(),g=_n(null!==(e=null!==(i=null!==(r=null!==(s=null==t?void 0:t.weekStartsOn)&&void 0!==s?s:null==t||null===(a=t.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:f.weekStartsOn)&&void 0!==i?i:null===(u=f.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==e?e:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=qe(n),_=v.getDay(),w=6+(_<g?-7:0)-(_-g);return v.setDate(v.getDate()+w),v.setHours(23,59,59,999),v}function KB(n){De(1,arguments);var t=qe(n),e=t.getDay();return e}function XB(n){De(1,arguments);var t=qe(n),e=t.getMonth();return e}function L0(n,t){De(2,arguments);var e=Jl(n),i=Jl(t);return e.getTime()===i.getTime()}function V0(n,t){De(2,arguments);var e=qe(n),i=qe(t);return e.getFullYear()===i.getFullYear()&&e.getMonth()===i.getMonth()}function B0(n){De(1,arguments);var t=qe(n);return t.setMilliseconds(0),t}function QB(n,t){De(2,arguments);var e=B0(n),i=B0(t);return e.getTime()===i.getTime()}function JB(n){var t,e;if(De(1,arguments),n&&"function"==typeof n.forEach)t=n;else{if("object"!=typeof n||null===n)return new Date(NaN);t=Array.prototype.slice.call(n)}return t.forEach(function(i){var r=qe(i);(void 0===e||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function eH(n,t){De(2,arguments);var e=qe(n),i=_n(t);return e.setHours(i),e}function tH(n,t){De(2,arguments);var e=qe(n),i=_n(t);return e.setMinutes(i),e}function nH(n){De(1,arguments);var t=qe(n);return t.setSeconds(0,0),t}function iH(n){De(1,arguments);var t=qe(n);return t.setDate(1),t.setHours(0,0,0,0),t}function H0(n,t){var e,i,r,s,a,l,u,d;De(1,arguments);var f=F0(),g=_n(null!==(e=null!==(i=null!==(r=null!==(s=null==t?void 0:t.weekStartsOn)&&void 0!==s?s:null==t||null===(a=t.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:f.weekStartsOn)&&void 0!==i?i:null===(u=f.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==e?e:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=qe(n),_=v.getDay(),w=(_<g?7:0)+_-g;return v.setDate(v.getDate()-w),v.setHours(0,0,0,0),v}function rH(n){De(1,arguments);var t=qe(n),e=t.getHours();return e}function sH(n){De(1,arguments);var t=qe(n),e=t.getMinutes();return e}function oH(n){return new Date(n).getTimezoneOffset()}function j0(n,t){De(2,arguments);var e=_n(t),i=7*e;return Vm(n,i)}function U0(n,t){De(2,arguments);var e=qe(n),i=_n(t);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),s=new Date(e.getTime());s.setMonth(e.getMonth()+i+1,0);var a=s.getDate();return r>=a?s:(e.setFullYear(s.getFullYear(),s.getMonth(),r),e)}function lH(n,t){De(2,arguments);var e=_n(t);return Vm(n,-e)}function cH(n,t){De(2,arguments);var e=_n(t);return j0(n,-e)}function uH(n,t){De(2,arguments);var e=_n(t);return U0(n,-e)}function nh(n){return De(1,arguments),H0(n,{weekStartsOn:1})}function dH(n){De(1,arguments);var t=qe(n),e=t.getFullYear(),i=new Date(0);i.setFullYear(e+1,0,4),i.setHours(0,0,0,0);var r=nh(i),s=new Date(0);s.setFullYear(e,0,4),s.setHours(0,0,0,0);var a=nh(s);return t.getTime()>=r.getTime()?e+1:t.getTime()>=a.getTime()?e:e-1}function hH(n){De(1,arguments);var t=dH(n),e=new Date(0);e.setFullYear(t,0,4),e.setHours(0,0,0,0);var i=nh(e);return i}var fH=6048e5;function pH(n){De(1,arguments);var t=qe(n),e=nh(t).getTime()-hH(t).getTime();return Math.round(e/fH)+1}function gH(n,t){De(2,arguments);var e=qe(n),i=_n(t);return e.setDate(i),e}function mH(n){De(1,arguments);var t=qe(n),e=t.getFullYear(),i=t.getMonth(),r=new Date(0);return r.setFullYear(e,i+1,0),r.setHours(0,0,0,0),r.getDate()}function vH(n,t){De(2,arguments);var e=qe(n),i=_n(t),r=e.getFullYear(),s=e.getDate(),a=new Date(0);a.setFullYear(r,i,15),a.setHours(0,0,0,0);var l=mH(a);return e.setMonth(i,Math.min(s,l)),e}function _H(n,t){De(2,arguments);var e=qe(n),i=_n(t);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(i),e)}function yH(n){De(1,arguments);var t=qe(n),e=t.getDate();return e}function wH(n){return De(1,arguments),qe(n).getFullYear()}function CH(){return Vr(Vr({},function aH(){return{addDays:Vm,addHours:kB,addMinutes:RB,addSeconds:OB,differenceInDays:LB,differenceInMinutes:GB,differenceInSeconds:$B,endOfDay:ZB,endOfMonth:qB,endOfWeek:YB,getDay:KB,getMonth:XB,isSameDay:L0,isSameMonth:V0,isSameSecond:QB,max:JB,setHours:eH,setMinutes:tH,startOfDay:Jl,startOfMinute:nH,startOfMonth:iH,startOfWeek:H0,getHours:rH,getMinutes:sH,getTimezoneOffset:oH}}()),{addWeeks:j0,addMonths:U0,subDays:lH,subWeeks:cH,subMonths:uH,getISOWeek:pH,setDate:gH,setMonth:vH,setYear:_H,getDate:yH,getYear:wH})}class z0{}class W0{}class hr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof hr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new hr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof hr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(l=>-1===s.indexOf(l)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class SH{encodeKey(t){return G0(t)}encodeValue(t){return G0(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const EH=/%(\d[a-f0-9])/gi,TH={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function G0(n){return encodeURIComponent(n).replace(EH,(t,e)=>TH[e]??t)}function $0(n){return`${n}`}class Rr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new SH,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function bH(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,l]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],u=e.get(a)||[];u.push(l),e.set(a,u)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Rr({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push($0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf($0(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class MH{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Z0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function q0(n){return typeof Blob<"u"&&n instanceof Blob}function Y0(n){return typeof FormData<"u"&&n instanceof FormData}class ec{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function IH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new hr),this.context||(this.context=new MH),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+a}}else this.params=new Rr,this.urlWithParams=e}serializeBody(){return null===this.body?null:Z0(this.body)||q0(this.body)||Y0(this.body)||function AH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Y0(this.body)?null:q0(this.body)?this.body.type||null:Z0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,d=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((g,v)=>g.set(v,t.setHeaders[v]),u)),t.setParams&&(d=Object.keys(t.setParams).reduce((g,v)=>g.set(v,t.setParams[v]),d)),new ec(e,i,s,{params:d,headers:u,context:f,reportProgress:l,responseType:r,withCredentials:a})}}var Wt=(()=>((Wt=Wt||{})[Wt.Sent=0]="Sent",Wt[Wt.UploadProgress=1]="UploadProgress",Wt[Wt.ResponseHeader=2]="ResponseHeader",Wt[Wt.DownloadProgress=3]="DownloadProgress",Wt[Wt.Response=4]="Response",Wt[Wt.User=5]="User",Wt))();class Hm{constructor(t,e=200,i="OK"){this.headers=t.headers||new hr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class jm extends Hm{constructor(t={}){super(t),this.type=Wt.ResponseHeader}clone(t={}){return new jm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ih extends Hm{constructor(t={}){super(t),this.type=Wt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ih({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Um extends Hm{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function zm(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let as=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof ec)s=e;else{let u,d;u=r.headers instanceof hr?r.headers:new hr(r.headers),r.params&&(d=r.params instanceof Rr?r.params:new Rr({fromObject:r.params})),s=new ec(e,i,void 0!==r.body?r.body:null,{headers:u,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=rs(s).pipe(function DH(n,t){return Re(t)?ui(n,t,1):ui(n,1)}(u=>this.handler.handle(u)));if(e instanceof ec||"events"===r.observe)return a;const l=a.pipe(vn(u=>u instanceof ih));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(He(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(He(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(He(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return l.pipe(He(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Rr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,zm(r,i))}post(e,i,r={}){return this.request("POST",e,zm(r,i))}put(e,i,r={}){return this.request("PUT",e,zm(r,i))}}return n.\u0275fac=function(e){return new(e||n)(P(z0))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class K0{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Wm=new Ie("HTTP_INTERCEPTORS");let PH=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const kH=/^\)\]\}',?\n/;let X0=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new nt(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((_,w)=>r.setRequestHeader(_,w.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const _=e.detectContentTypeHeader();null!==_&&r.setRequestHeader("Content-Type",_)}if(e.responseType){const _=e.responseType.toLowerCase();r.responseType="json"!==_?_:"text"}const s=e.serializeBody();let a=null;const l=()=>{if(null!==a)return a;const _=r.statusText||"OK",w=new hr(r.getAllResponseHeaders()),C=function xH(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new jm({headers:w,status:r.status,statusText:_,url:C}),a},u=()=>{let{headers:_,status:w,statusText:C,url:S}=l(),E=null;204!==w&&(E=typeof r.response>"u"?r.responseText:r.response),0===w&&(w=E?200:0);let b=w>=200&&w<300;if("json"===e.responseType&&"string"==typeof E){const A=E;E=E.replace(kH,"");try{E=""!==E?JSON.parse(E):null}catch(x){E=A,b&&(b=!1,E={error:x,text:E})}}b?(i.next(new ih({body:E,headers:_,status:w,statusText:C,url:S||void 0})),i.complete()):i.error(new Um({error:E,headers:_,status:w,statusText:C,url:S||void 0}))},d=_=>{const{url:w}=l(),C=new Um({error:_,status:r.status||0,statusText:r.statusText||"Unknown Error",url:w||void 0});i.error(C)};let f=!1;const g=_=>{f||(i.next(l()),f=!0);let w={type:Wt.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),"text"===e.responseType&&!!r.responseText&&(w.partialText=r.responseText),i.next(w)},v=_=>{let w={type:Wt.UploadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),i.next(w)};return r.addEventListener("load",u),r.addEventListener("error",d),r.addEventListener("timeout",d),r.addEventListener("abort",d),e.reportProgress&&(r.addEventListener("progress",g),null!==s&&r.upload&&r.upload.addEventListener("progress",v)),r.send(s),i.next({type:Wt.Sent}),()=>{r.removeEventListener("error",d),r.removeEventListener("abort",d),r.removeEventListener("load",u),r.removeEventListener("timeout",d),e.reportProgress&&(r.removeEventListener("progress",g),null!==s&&r.upload&&r.upload.removeEventListener("progress",v)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(P(RS))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const Gm=new Ie("XSRF_COOKIE_NAME"),$m=new Ie("XSRF_HEADER_NAME");class Q0{}let RH=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=SS(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(P(pt),P(ca),P(Gm))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),Zm=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(P(Q0),P($m))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),OH=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Wm,[]);this.chain=i.reduceRight((r,s)=>new K0(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(P(W0),P(ln))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),NH=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Zm,useClass:PH}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Gm,useValue:e.cookieName}:[],e.headerName?{provide:$m,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({providers:[Zm,{provide:Wm,useExisting:Zm,multi:!0},{provide:Q0,useClass:RH},{provide:Gm,useValue:"XSRF-TOKEN"},{provide:$m,useValue:"X-XSRF-TOKEN"}]}),n})(),FH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({providers:[as,{provide:z0,useClass:OH},X0,{provide:W0,useExisting:X0}],imports:[[NH.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function rh(n,t){const e=Re(n)?n:()=>n,i=r=>r.error(e());return new nt(t?r=>t.schedule(i,0,r):i)}function tc(n){return ut((t,e)=>{let s,i=null,r=!1;i=t.subscribe(it(e,void 0,void 0,a=>{s=In(n(a,tc(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function qm(n){this.message=n}(qm.prototype=new Error).name="InvalidCharacterError";var J0=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(n){var t=String(n).replace(/=+$/,"");if(t.length%4==1)throw new qm("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,i,r=0,s=0,a="";i=t.charAt(s++);~i&&(e=r%4?64*e+i:i,r++%4)?a+=String.fromCharCode(255&e>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return a};function sh(n){this.message=n}(sh.prototype=new Error).name="InvalidTokenError";const eE=function VH(n,t){if("string"!=typeof n)throw new sh("Invalid token specified");var e=!0===(t=t||{}).header?0:1;try{return JSON.parse(function LH(n){var t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(J0(t).replace(/(.)/g,function(i,r){var s=r.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}catch{return J0(t)}}(n.split(".")[e]))}catch(i){throw new sh("Invalid token specified: "+i.message)}};var n,Ym=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),nc=function(n){function t(e,i){var s=this,a=this.constructor.prototype;return(s=n.call(this,e)||this).statusCode=i,s.__proto__=a,s}return Ym(t,n),t}(Error),Km=function(n){function t(e){void 0===e&&(e="A timeout occurred.");var r=this,s=this.constructor.prototype;return(r=n.call(this,e)||this).__proto__=s,r}return Ym(t,n),t}(Error),ic=function(n){function t(e){void 0===e&&(e="An abort occurred.");var r=this,s=this.constructor.prototype;return(r=n.call(this,e)||this).__proto__=s,r}return Ym(t,n),t}(Error),Xm=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},tE=function n(t,e,i){this.statusCode=t,this.statusText=e,this.content=i},Qm=function(){function n(){}return n.prototype.get=function(t,e){return this.send(Xm({},e,{method:"GET",url:t}))},n.prototype.post=function(t,e){return this.send(Xm({},e,{method:"POST",url:t}))},n.prototype.delete=function(t,e){return this.send(Xm({},e,{method:"DELETE",url:t}))},n.prototype.getCookieString=function(t){return""},n}(),k=(()=>(function(n){n[n.Trace=0]="Trace",n[n.Debug=1]="Debug",n[n.Information=2]="Information",n[n.Warning=3]="Warning",n[n.Error=4]="Error",n[n.Critical=5]="Critical",n[n.None=6]="None"}(k||(k={})),k))(),Jm=function(){function n(){}return n.prototype.log=function(t,e){},n.instance=new n,n}(),BH=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},dn=function(){function n(){}return n.isRequired=function(t,e){if(null==t)throw new Error("The '"+e+"' argument is required.")},n.isNotEmpty=function(t,e){if(!t||t.match(/^\s*$/))throw new Error("The '"+e+"' argument should not be empty.")},n.isIn=function(t,e,i){if(!(t in e))throw new Error("Unknown "+i+" value: "+t+".")},n}(),Fn=function(){function n(){}return Object.defineProperty(n,"isBrowser",{get:function(){return"object"==typeof window},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isWebWorker",{get:function(){return"object"==typeof self&&"importScripts"in self},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isNode",{get:function(){return!this.isBrowser&&!this.isWebWorker},enumerable:!0,configurable:!0}),n}();function rc(n,t){var e="";return ev(n)?(e="Binary data of length "+n.byteLength,t&&(e+=". Content: '"+function zH(n){var t=new Uint8Array(n),e="";return t.forEach(function(i){e+="0x"+(i<16?"0":"")+i.toString(16)+" "}),e.substr(0,e.length-1)}(n)+"'")):"string"==typeof n&&(e="String data of length "+n.length,t&&(e+=". Content: '"+n+"'")),e}function ev(n){return n&&typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||n.constructor&&"ArrayBuffer"===n.constructor.name)}function nE(n,t,e,i,r,s,a,l,u){return function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?r(d.value):new e(function(f){f(d.value)}).then(a,l)}u((i=i.apply(n,[])).next())})}(this,0,void 0,function(){var d,f,g,v,C,S;return function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return function u(d){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&d[0]?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===d[0]||2===d[0])){e=0;continue}if(3===d[0]&&(!s||d[1]>s[0]&&d[1]<s[3])){e.label=d[1];break}if(6===d[0]&&e.label<s[1]){e.label=s[1],s=d;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(d);break}s[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(f){d=[6,f],r=0}finally{i=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,f])}}}(this,function(E){switch(E.label){case 0:return f={},r?[4,r()]:[3,2];case 1:(g=E.sent())&&((d={}).Authorization="Bearer "+g,f=d),E.label=2;case 2:return v=_a(),f[v[0]]=v[1],n.log(k.Trace,"("+t+" transport) sending data. "+rc(s,a)+"."),C=ev(s)?"arraybuffer":"text",[4,e.post(i,{content:s,headers:BH({},f,u),responseType:C,withCredentials:l})];case 3:return S=E.sent(),n.log(k.Trace,"("+t+" transport) request complete. Response status: "+S.statusCode+"."),[2]}})})}var GH=function(){function n(t,e){this.subject=t,this.observer=e}return n.prototype.dispose=function(){var t=this.subject.observers.indexOf(this.observer);t>-1&&this.subject.observers.splice(t,1),0===this.subject.observers.length&&this.subject.cancelCallback&&this.subject.cancelCallback().catch(function(e){})},n}(),oh=function(){function n(t){this.minimumLogLevel=t,this.outputConsole=console}return n.prototype.log=function(t,e){if(t>=this.minimumLogLevel)switch(t){case k.Critical:case k.Error:this.outputConsole.error("["+(new Date).toISOString()+"] "+k[t]+": "+e);break;case k.Warning:this.outputConsole.warn("["+(new Date).toISOString()+"] "+k[t]+": "+e);break;case k.Information:this.outputConsole.info("["+(new Date).toISOString()+"] "+k[t]+": "+e);break;default:this.outputConsole.log("["+(new Date).toISOString()+"] "+k[t]+": "+e)}},n}();function _a(){var n="X-SignalR-User-Agent";return Fn.isNode&&(n="User-Agent"),[n,$H("5.0.17",ZH(),Fn.isNode?"NodeJS":"Browser",qH())]}function $H(n,t,e,i){var r="Microsoft SignalR/",s=n.split(".");return r+=s[0]+"."+s[1],r+=" ("+n+"; ",r+=t&&""!==t?t+"; ":"Unknown OS; ",r+=""+e,(r+=i?"; "+i:"; Unknown Runtime Version")+")"}function ZH(){if(!Fn.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function qH(){if(Fn.isNode)return process.versions.node}var KH=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),XH=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},ej=function(n){function t(e){var i=n.call(this)||this;if(i.logger=e,typeof fetch>"u"){var r=require;i.jar=new(r("tough-cookie").CookieJar),i.fetchType=r("node-fetch"),i.fetchType=r("fetch-cookie")(i.fetchType,i.jar),i.abortControllerType=r("abort-controller")}else i.fetchType=fetch.bind(self),i.abortControllerType=AbortController;return i}return KH(t,n),t.prototype.send=function(e){return function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?r(d.value):new e(function(f){f(d.value)}).then(a,l)}u((i=i.apply(n,[])).next())})}(this,0,void 0,function(){var i,r,s,l,u,d,f,g=this;return function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return function u(d){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&d[0]?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===d[0]||2===d[0])){e=0;continue}if(3===d[0]&&(!s||d[1]>s[0]&&d[1]<s[3])){e.label=d[1];break}if(6===d[0]&&e.label<s[1]){e.label=s[1],s=d;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(d);break}s[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(f){d=[6,f],r=0}finally{i=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,f])}}}(this,function(v){switch(v.label){case 0:if(e.abortSignal&&e.abortSignal.aborted)throw new ic;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");i=new this.abortControllerType,e.abortSignal&&(e.abortSignal.onabort=function(){i.abort(),r=new ic}),s=null,e.timeout&&(s=setTimeout(function(){i.abort(),g.logger.log(k.Warning,"Timeout from HTTP request."),r=new Km},e.timeout)),v.label=1;case 1:return v.trys.push([1,3,4,5]),[4,this.fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:XH({"Content-Type":"text/plain;charset=UTF-8","X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,mode:"cors",redirect:"manual",signal:i.signal})];case 2:return l=v.sent(),[3,5];case 3:throw u=v.sent(),r||(this.logger.log(k.Warning,"Error from HTTP request. "+u+"."),u);case 4:return s&&clearTimeout(s),e.abortSignal&&(e.abortSignal.onabort=null),[7];case 5:if(!l.ok)throw new nc(l.statusText,l.status);return d=function tj(n,t){var e;switch(t){case"arraybuffer":e=n.arrayBuffer();break;case"text":default:e=n.text();break;case"blob":case"document":case"json":throw new Error(t+" is not supported.")}return e}(l,e.responseType),[4,d];case 6:return f=v.sent(),[2,new tE(l.status,l.statusText,f)]}})})},t.prototype.getCookieString=function(e){var i="";return Fn.isNode&&this.jar&&this.jar.getCookies(e,function(r,s){return i=s.join("; ")}),i},t}(Qm),nj=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ij=function(n){function t(e){var i=n.call(this)||this;return i.logger=e,i}return nj(t,n),t.prototype.send=function(e){var i=this;return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new ic):e.method?e.url?new Promise(function(r,s){var a=new XMLHttpRequest;a.open(e.method,e.url,!0),a.withCredentials=void 0===e.withCredentials||e.withCredentials,a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var l=e.headers;l&&Object.keys(l).forEach(function(u){a.setRequestHeader(u,l[u])}),e.responseType&&(a.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=function(){a.abort(),s(new ic)}),e.timeout&&(a.timeout=e.timeout),a.onload=function(){e.abortSignal&&(e.abortSignal.onabort=null),a.status>=200&&a.status<300?r(new tE(a.status,a.statusText,a.response||a.responseText)):s(new nc(a.statusText,a.status))},a.onerror=function(){i.logger.log(k.Warning,"Error from HTTP request. "+a.status+": "+a.statusText+"."),s(new nc(a.statusText,a.status))},a.ontimeout=function(){i.logger.log(k.Warning,"Timeout from HTTP request."),s(new Km)},a.send(e.content||"")}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t}(Qm),rj=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sj=function(n){function t(e){var i=n.call(this)||this;if(typeof fetch<"u"||Fn.isNode)i.httpClient=new ej(e);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");i.httpClient=new ij(e)}return i}return rj(t,n),t.prototype.send=function(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new ic):e.method?e.url?this.httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t.prototype.getCookieString=function(e){return this.httpClient.getCookieString(e)},t}(Qm),ya=function(){function n(){}return n.write=function(t){return""+t+n.RecordSeparator},n.parse=function(t){if(t[t.length-1]!==n.RecordSeparator)throw new Error("Message is incomplete.");var e=t.split(n.RecordSeparator);return e.pop(),e},n.RecordSeparatorCode=30,n.RecordSeparator=String.fromCharCode(n.RecordSeparatorCode),n}(),oj=function(){function n(){}return n.prototype.writeHandshakeRequest=function(t){return ya.write(JSON.stringify(t))},n.prototype.parseHandshakeResponse=function(t){var i,r;if(ev(t)||typeof Buffer<"u"&&t instanceof Buffer){var s=new Uint8Array(t);if(-1===(a=s.indexOf(ya.RecordSeparatorCode)))throw new Error("Message is incomplete.");var l=a+1;i=String.fromCharCode.apply(null,s.slice(0,l)),r=s.byteLength>l?s.slice(l).buffer:null}else{var a,u=t;if(-1===(a=u.indexOf(ya.RecordSeparator)))throw new Error("Message is incomplete.");i=u.substring(0,l=a+1),r=u.length>l?u.substring(l):null}var d=ya.parse(i),f=JSON.parse(d[0]);if(f.type)throw new Error("Expected a handshake response from the server.");return[r,f]},n}(),gt=(()=>(function(n){n[n.Invocation=1]="Invocation",n[n.StreamItem=2]="StreamItem",n[n.Completion=3]="Completion",n[n.StreamInvocation=4]="StreamInvocation",n[n.CancelInvocation=5]="CancelInvocation",n[n.Ping=6]="Ping",n[n.Close=7]="Close"}(gt||(gt={})),gt))(),aj=function(){function n(){this.observers=[]}return n.prototype.next=function(t){for(var e=0,i=this.observers;e<i.length;e++)i[e].next(t)},n.prototype.error=function(t){for(var e=0,i=this.observers;e<i.length;e++){var r=i[e];r.error&&r.error(t)}},n.prototype.complete=function(){for(var t=0,e=this.observers;t<e.length;t++){var i=e[t];i.complete&&i.complete()}},n.prototype.subscribe=function(t){return this.observers.push(t),new GH(this,t)},n}(),sc=function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?r(d.value):new e(function(f){f(d.value)}).then(a,l)}u((i=i.apply(n,t||[])).next())})},oc=function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return function u(d){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&d[0]?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===d[0]||2===d[0])){e=0;continue}if(3===d[0]&&(!s||d[1]>s[0]&&d[1]<s[3])){e.label=d[1];break}if(6===d[0]&&e.label<s[1]){e.label=s[1],s=d;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(d);break}s[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(f){d=[6,f],r=0}finally{i=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,f])}}},It=(()=>(function(n){n.Disconnected="Disconnected",n.Connecting="Connecting",n.Connected="Connected",n.Disconnecting="Disconnecting",n.Reconnecting="Reconnecting"}(It||(It={})),It))(),uj=function(){function n(t,e,i,r){var s=this;this.nextKeepAlive=0,dn.isRequired(t,"connection"),dn.isRequired(e,"logger"),dn.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this.logger=e,this.protocol=i,this.connection=t,this.reconnectPolicy=r,this.handshakeProtocol=new oj,this.connection.onreceive=function(a){return s.processIncomingData(a)},this.connection.onclose=function(a){return s.connectionClosed(a)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.reconnectingCallbacks=[],this.reconnectedCallbacks=[],this.invocationId=0,this.receivedHandshakeResponse=!1,this.connectionState=It.Disconnected,this.connectionStarted=!1,this.cachedPingMessage=this.protocol.writeMessage({type:gt.Ping})}return n.create=function(t,e,i,r){return new n(t,e,i,r)},Object.defineProperty(n.prototype,"state",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"connectionId",{get:function(){return this.connection&&this.connection.connectionId||null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"baseUrl",{get:function(){return this.connection.baseUrl||""},set:function(t){if(this.connectionState!==It.Disconnected&&this.connectionState!==It.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t},enumerable:!0,configurable:!0}),n.prototype.start=function(){return this.startPromise=this.startWithStateTransitions(),this.startPromise},n.prototype.startWithStateTransitions=function(){return sc(this,void 0,void 0,function(){var t;return oc(this,function(e){switch(e.label){case 0:if(this.connectionState!==It.Disconnected)return[2,Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."))];this.connectionState=It.Connecting,this.logger.log(k.Debug,"Starting HubConnection."),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.startInternal()];case 2:return e.sent(),this.connectionState=It.Connected,this.connectionStarted=!0,this.logger.log(k.Debug,"HubConnection connected successfully."),[3,4];case 3:return t=e.sent(),this.connectionState=It.Disconnected,this.logger.log(k.Debug,"HubConnection failed to start successfully because of error '"+t+"'."),[2,Promise.reject(t)];case 4:return[2]}})})},n.prototype.startInternal=function(){return sc(this,void 0,void 0,function(){var t,e,i,r=this;return oc(this,function(s){switch(s.label){case 0:return this.stopDuringStartError=void 0,this.receivedHandshakeResponse=!1,t=new Promise(function(a,l){r.handshakeResolver=a,r.handshakeRejecter=l}),[4,this.connection.start(this.protocol.transferFormat)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),e={protocol:this.protocol.name,version:this.protocol.version},this.logger.log(k.Debug,"Sending handshake request."),[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(e))];case 3:return s.sent(),this.logger.log(k.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.resetTimeoutPeriod(),this.resetKeepAliveInterval(),[4,t];case 4:if(s.sent(),this.stopDuringStartError)throw this.stopDuringStartError;return[3,7];case 5:return i=s.sent(),this.logger.log(k.Debug,"Hub handshake failed with error '"+i+"' during start(). Stopping HubConnection."),this.cleanupTimeout(),this.cleanupPingTimer(),[4,this.connection.stop(i)];case 6:throw s.sent(),i;case 7:return[2]}})})},n.prototype.stop=function(){return sc(this,void 0,void 0,function(){var t;return oc(this,function(i){switch(i.label){case 0:return t=this.startPromise,this.stopPromise=this.stopInternal(),[4,this.stopPromise];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t];case 3:case 4:return i.sent(),[3,5];case 5:return[2]}})})},n.prototype.stopInternal=function(t){return this.connectionState===It.Disconnected?(this.logger.log(k.Debug,"Call to HubConnection.stop("+t+") ignored because it is already in the disconnected state."),Promise.resolve()):this.connectionState===It.Disconnecting?(this.logger.log(k.Debug,"Call to HttpConnection.stop("+t+") ignored because the connection is already in the disconnecting state."),this.stopPromise):(this.connectionState=It.Disconnecting,this.logger.log(k.Debug,"Stopping HubConnection."),this.reconnectDelayHandle?(this.logger.log(k.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this.reconnectDelayHandle),this.reconnectDelayHandle=void 0,this.completeClose(),Promise.resolve()):(this.cleanupTimeout(),this.cleanupPingTimer(),this.stopDuringStartError=t||new Error("The connection was stopped before the hub handshake could complete."),this.connection.stop(t)))},n.prototype.stream=function(t){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var d,s=this.replaceStreamingParams(i),a=s[0],l=s[1],u=this.createStreamInvocation(t,i,l),f=new aj;return f.cancelCallback=function(){var g=e.createCancelInvocation(u.invocationId);return delete e.callbacks[u.invocationId],d.then(function(){return e.sendWithProtocol(g)})},this.callbacks[u.invocationId]=function(g,v){v?f.error(v):g&&(g.type===gt.Completion?g.error?f.error(new Error(g.error)):f.complete():f.next(g.item))},d=this.sendWithProtocol(u).catch(function(g){f.error(g),delete e.callbacks[u.invocationId]}),this.launchStreams(a,d),f},n.prototype.sendMessage=function(t){return this.resetKeepAliveInterval(),this.connection.send(t)},n.prototype.sendWithProtocol=function(t){return this.sendMessage(this.protocol.writeMessage(t))},n.prototype.send=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var r=this.replaceStreamingParams(e),s=r[0],a=r[1],l=this.sendWithProtocol(this.createInvocation(t,e,!0,a));return this.launchStreams(s,l),l},n.prototype.invoke=function(t){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var s=this.replaceStreamingParams(i),a=s[0],l=s[1],u=this.createInvocation(t,i,!1,l),d=new Promise(function(f,g){e.callbacks[u.invocationId]=function(_,w){w?g(w):_&&(_.type===gt.Completion?_.error?g(new Error(_.error)):f(_.result):g(new Error("Unexpected message type: "+_.type)))};var v=e.sendWithProtocol(u).catch(function(_){g(_),delete e.callbacks[u.invocationId]});e.launchStreams(a,v)});return d},n.prototype.on=function(t,e){!t||!e||(t=t.toLowerCase(),this.methods[t]||(this.methods[t]=[]),-1===this.methods[t].indexOf(e)&&this.methods[t].push(e))},n.prototype.off=function(t,e){if(t){t=t.toLowerCase();var i=this.methods[t];if(i)if(e){var r=i.indexOf(e);-1!==r&&(i.splice(r,1),0===i.length&&delete this.methods[t])}else delete this.methods[t]}},n.prototype.onclose=function(t){t&&this.closedCallbacks.push(t)},n.prototype.onreconnecting=function(t){t&&this.reconnectingCallbacks.push(t)},n.prototype.onreconnected=function(t){t&&this.reconnectedCallbacks.push(t)},n.prototype.processIncomingData=function(t){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(t=this.processHandshakeResponse(t),this.receivedHandshakeResponse=!0),t)for(var i=0,r=this.protocol.parseMessages(t,this.logger);i<r.length;i++){var s=r[i];switch(s.type){case gt.Invocation:this.invokeClientMethod(s);break;case gt.StreamItem:case gt.Completion:var a=this.callbacks[s.invocationId];a&&(s.type===gt.Completion&&delete this.callbacks[s.invocationId],a(s));break;case gt.Ping:break;case gt.Close:this.logger.log(k.Information,"Close message received from server.");var l=s.error?new Error("Server returned an error on close: "+s.error):void 0;!0===s.allowReconnect?this.connection.stop(l):this.stopPromise=this.stopInternal(l);break;default:this.logger.log(k.Warning,"Invalid message type: "+s.type+".")}}this.resetTimeoutPeriod()},n.prototype.processHandshakeResponse=function(t){var e,i,r,s;try{r=(e=this.handshakeProtocol.parseHandshakeResponse(t))[0],i=e[1]}catch(l){this.logger.log(k.Error,s="Error parsing handshake response: "+l);var a=new Error(s);throw this.handshakeRejecter(a),a}if(i.error)throw this.logger.log(k.Error,s="Server returned handshake error: "+i.error),a=new Error(s),this.handshakeRejecter(a),a;return this.logger.log(k.Debug,"Server handshake complete."),this.handshakeResolver(),r},n.prototype.resetKeepAliveInterval=function(){this.connection.features.inherentKeepAlive||(this.nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this.cleanupPingTimer())},n.prototype.resetTimeoutPeriod=function(){var t=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout(function(){return t.serverTimeout()},this.serverTimeoutInMilliseconds),void 0!==this.pingServerHandle))){var e=this.nextKeepAlive-(new Date).getTime();e<0&&(e=0),this.pingServerHandle=setTimeout(function(){return sc(t,void 0,void 0,function(){return oc(this,function(r){switch(r.label){case 0:if(this.connectionState!==It.Connected)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.sendMessage(this.cachedPingMessage)];case 2:return r.sent(),[3,4];case 3:return r.sent(),this.cleanupPingTimer(),[3,4];case 4:return[2]}})})},e)}},n.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},n.prototype.invokeClientMethod=function(t){var e=this,i=this.methods[t.target.toLowerCase()];if(i){try{i.forEach(function(s){return s.apply(e,t.arguments)})}catch(s){this.logger.log(k.Error,"A callback for the method "+t.target.toLowerCase()+" threw error '"+s+"'.")}if(t.invocationId){var r="Server requested a response, which is not supported in this version of the client.";this.logger.log(k.Error,r),this.stopPromise=this.stopInternal(new Error(r))}}else this.logger.log(k.Warning,"No client method with the name '"+t.target+"' found.")},n.prototype.connectionClosed=function(t){this.logger.log(k.Debug,"HubConnection.connectionClosed("+t+") called while in state "+this.connectionState+"."),this.stopDuringStartError=this.stopDuringStartError||t||new Error("The underlying connection was closed before the hub handshake could complete."),this.handshakeResolver&&this.handshakeResolver(),this.cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this.cleanupTimeout(),this.cleanupPingTimer(),this.connectionState===It.Disconnecting?this.completeClose(t):this.connectionState===It.Connected&&this.reconnectPolicy?this.reconnect(t):this.connectionState===It.Connected&&this.completeClose(t)},n.prototype.completeClose=function(t){var e=this;if(this.connectionStarted){this.connectionState=It.Disconnected,this.connectionStarted=!1;try{this.closedCallbacks.forEach(function(i){return i.apply(e,[t])})}catch(i){this.logger.log(k.Error,"An onclose callback called with error '"+t+"' threw error '"+i+"'.")}}},n.prototype.reconnect=function(t){return sc(this,void 0,void 0,function(){var e,i,r,s,a,l=this;return oc(this,function(u){switch(u.label){case 0:if(e=Date.now(),i=0,r=void 0!==t?t:new Error("Attempting to reconnect due to a unknown error."),null===(s=this.getNextRetryDelay(i++,0,r)))return this.logger.log(k.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this.completeClose(t),[2];if(this.connectionState=It.Reconnecting,this.logger.log(k.Information,t?"Connection reconnecting because of error '"+t+"'.":"Connection reconnecting."),this.onreconnecting){try{this.reconnectingCallbacks.forEach(function(d){return d.apply(l,[t])})}catch(d){this.logger.log(k.Error,"An onreconnecting callback called with error '"+t+"' threw error '"+d+"'.")}if(this.connectionState!==It.Reconnecting)return this.logger.log(k.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting."),[2]}u.label=1;case 1:return null===s?[3,7]:(this.logger.log(k.Information,"Reconnect attempt number "+i+" will start in "+s+" ms."),[4,new Promise(function(d){l.reconnectDelayHandle=setTimeout(d,s)})]);case 2:if(u.sent(),this.reconnectDelayHandle=void 0,this.connectionState!==It.Reconnecting)return this.logger.log(k.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting."),[2];u.label=3;case 3:return u.trys.push([3,5,,6]),[4,this.startInternal()];case 4:if(u.sent(),this.connectionState=It.Connected,this.logger.log(k.Information,"HubConnection reconnected successfully."),this.onreconnected)try{this.reconnectedCallbacks.forEach(function(d){return d.apply(l,[l.connection.connectionId])})}catch(d){this.logger.log(k.Error,"An onreconnected callback called with connectionId '"+this.connection.connectionId+"; threw error '"+d+"'.")}return[2];case 5:return a=u.sent(),this.logger.log(k.Information,"Reconnect attempt failed because of error '"+a+"'."),this.connectionState!==It.Reconnecting?(this.logger.log(k.Debug,"Connection moved to the '"+this.connectionState+"' from the reconnecting state during reconnect attempt. Done reconnecting."),this.connectionState===It.Disconnecting&&this.completeClose(),[2]):(r=a instanceof Error?a:new Error(a.toString()),s=this.getNextRetryDelay(i++,Date.now()-e,r),[3,6]);case 6:return[3,1];case 7:return this.logger.log(k.Information,"Reconnect retries have been exhausted after "+(Date.now()-e)+" ms and "+i+" failed attempts. Connection disconnecting."),this.completeClose(),[2]}})})},n.prototype.getNextRetryDelay=function(t,e,i){try{return this.reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:t,retryReason:i})}catch(r){return this.logger.log(k.Error,"IRetryPolicy.nextRetryDelayInMilliseconds("+t+", "+e+") threw error '"+r+"'."),null}},n.prototype.cancelCallbacksWithError=function(t){var e=this.callbacks;this.callbacks={},Object.keys(e).forEach(function(i){(0,e[i])(null,t)})},n.prototype.cleanupPingTimer=function(){this.pingServerHandle&&(clearTimeout(this.pingServerHandle),this.pingServerHandle=void 0)},n.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},n.prototype.createInvocation=function(t,e,i,r){if(i)return 0!==r.length?{arguments:e,streamIds:r,target:t,type:gt.Invocation}:{arguments:e,target:t,type:gt.Invocation};var s=this.invocationId;return this.invocationId++,0!==r.length?{arguments:e,invocationId:s.toString(),streamIds:r,target:t,type:gt.Invocation}:{arguments:e,invocationId:s.toString(),target:t,type:gt.Invocation}},n.prototype.launchStreams=function(t,e){var i=this;if(0!==t.length){e||(e=Promise.resolve());var r=function(a){t[a].subscribe({complete:function(){e=e.then(function(){return i.sendWithProtocol(i.createCompletionMessage(a))})},error:function(l){var u;u=l instanceof Error?l.message:l&&l.toString?l.toString():"Unknown error",e=e.then(function(){return i.sendWithProtocol(i.createCompletionMessage(a,u))})},next:function(l){e=e.then(function(){return i.sendWithProtocol(i.createStreamItemMessage(a,l))})}})};for(var s in t)r(s)}},n.prototype.replaceStreamingParams=function(t){for(var e=[],i=[],r=0;r<t.length;r++){var s=t[r];if(this.isObservable(s)){var a=this.invocationId;this.invocationId++,e[a]=s,i.push(a.toString()),t.splice(r,1)}}return[e,i]},n.prototype.isObservable=function(t){return t&&t.subscribe&&"function"==typeof t.subscribe},n.prototype.createStreamInvocation=function(t,e,i){var r=this.invocationId;return this.invocationId++,0!==i.length?{arguments:e,invocationId:r.toString(),streamIds:i,target:t,type:gt.StreamInvocation}:{arguments:e,invocationId:r.toString(),target:t,type:gt.StreamInvocation}},n.prototype.createCancelInvocation=function(t){return{invocationId:t,type:gt.CancelInvocation}},n.prototype.createStreamItemMessage=function(t,e){return{invocationId:t,item:e,type:gt.StreamItem}},n.prototype.createCompletionMessage=function(t,e,i){return e?{error:e,invocationId:t,type:gt.Completion}:{invocationId:t,result:i,type:gt.Completion}},n}(),dj=[0,2e3,1e4,3e4,null],iE=function(){function n(t){this.retryDelays=void 0!==t?t.concat([null]):dj}return n.prototype.nextRetryDelayInMilliseconds=function(t){return this.retryDelays[t.previousRetryCount]},n}(),hn=(()=>(function(n){n[n.None=0]="None",n[n.WebSockets=1]="WebSockets",n[n.ServerSentEvents=2]="ServerSentEvents",n[n.LongPolling=4]="LongPolling"}(hn||(hn={})),hn))(),yn=(()=>(function(n){n[n.Text=1]="Text",n[n.Binary=2]="Binary"}(yn||(yn={})),yn))(),hj=function(){function n(){this.isAborted=!1,this.onabort=null}return n.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(n.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),n}(),rE=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},ac=function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?r(d.value):new e(function(f){f(d.value)}).then(a,l)}u((i=i.apply(n,t||[])).next())})},lc=function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return function u(d){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&d[0]?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===d[0]||2===d[0])){e=0;continue}if(3===d[0]&&(!s||d[1]>s[0]&&d[1]<s[3])){e.label=d[1];break}if(6===d[0]&&e.label<s[1]){e.label=s[1],s=d;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(d);break}s[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(f){d=[6,f],r=0}finally{i=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,f])}}},sE=function(){function n(t,e,i,r,s,a){this.httpClient=t,this.accessTokenFactory=e,this.logger=i,this.pollAbort=new hj,this.logMessageContent=r,this.withCredentials=s,this.headers=a,this.running=!1,this.onreceive=null,this.onclose=null}return Object.defineProperty(n.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),n.prototype.connect=function(t,e){return ac(this,void 0,void 0,function(){var i,r,l,u,d,f,g;return lc(this,function(v){switch(v.label){case 0:if(dn.isRequired(t,"url"),dn.isRequired(e,"transferFormat"),dn.isIn(e,yn,"transferFormat"),this.url=t,this.logger.log(k.Trace,"(LongPolling transport) Connecting."),e===yn.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return r=_a(),l=rE(((i={})[r[0]]=r[1],i),this.headers),u={abortSignal:this.pollAbort.signal,headers:l,timeout:1e5,withCredentials:this.withCredentials},e===yn.Binary&&(u.responseType="arraybuffer"),[4,this.getAccessToken()];case 1:return d=v.sent(),this.updateHeaderToken(u,d),f=t+"&_="+Date.now(),this.logger.log(k.Trace,"(LongPolling transport) polling: "+f+"."),[4,this.httpClient.get(f,u)];case 2:return 200!==(g=v.sent()).statusCode?(this.logger.log(k.Error,"(LongPolling transport) Unexpected response code: "+g.statusCode+"."),this.closeError=new nc(g.statusText||"",g.statusCode),this.running=!1):this.running=!0,this.receiving=this.poll(this.url,u),[2]}})})},n.prototype.getAccessToken=function(){return ac(this,void 0,void 0,function(){return lc(this,function(t){switch(t.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:return[2,t.sent()];case 2:return[2,null]}})})},n.prototype.updateHeaderToken=function(t,e){t.headers||(t.headers={}),e?t.headers.Authorization="Bearer "+e:t.headers.Authorization&&delete t.headers.Authorization},n.prototype.poll=function(t,e){return ac(this,void 0,void 0,function(){var i,r,s,a;return lc(this,function(l){switch(l.label){case 0:l.trys.push([0,,8,9]),l.label=1;case 1:return this.running?[4,this.getAccessToken()]:[3,7];case 2:i=l.sent(),this.updateHeaderToken(e,i),l.label=3;case 3:return l.trys.push([3,5,,6]),r=t+"&_="+Date.now(),this.logger.log(k.Trace,"(LongPolling transport) polling: "+r+"."),[4,this.httpClient.get(r,e)];case 4:return 204===(s=l.sent()).statusCode?(this.logger.log(k.Information,"(LongPolling transport) Poll terminated by server."),this.running=!1):200!==s.statusCode?(this.logger.log(k.Error,"(LongPolling transport) Unexpected response code: "+s.statusCode+"."),this.closeError=new nc(s.statusText||"",s.statusCode),this.running=!1):s.content?(this.logger.log(k.Trace,"(LongPolling transport) data received. "+rc(s.content,this.logMessageContent)+"."),this.onreceive&&this.onreceive(s.content)):this.logger.log(k.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return a=l.sent(),this.running?a instanceof Km?this.logger.log(k.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this.closeError=a,this.running=!1):this.logger.log(k.Trace,"(LongPolling transport) Poll errored after shutdown: "+a.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.logger.log(k.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this.raiseOnClose(),[7];case 9:return[2]}})})},n.prototype.send=function(t){return ac(this,void 0,void 0,function(){return lc(this,function(e){return this.running?[2,nE(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent,this.withCredentials,this.headers)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},n.prototype.stop=function(){return ac(this,void 0,void 0,function(){var t,e,s,a;return lc(this,function(l){switch(l.label){case 0:this.logger.log(k.Trace,"(LongPolling transport) Stopping polling."),this.running=!1,this.pollAbort.abort(),l.label=1;case 1:return l.trys.push([1,,5,6]),[4,this.receiving];case 2:return l.sent(),this.logger.log(k.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),t={},e=_a(),t[e[0]]=e[1],s={headers:rE({},t,this.headers),withCredentials:this.withCredentials},[4,this.getAccessToken()];case 3:return a=l.sent(),this.updateHeaderToken(s,a),[4,this.httpClient.delete(this.url,s)];case 4:return l.sent(),this.logger.log(k.Trace,"(LongPolling transport) DELETE request sent."),[3,6];case 5:return this.logger.log(k.Trace,"(LongPolling transport) Stop finished."),this.raiseOnClose(),[7];case 6:return[2]}})})},n.prototype.raiseOnClose=function(){if(this.onclose){var t="(LongPolling transport) Firing onclose event.";this.closeError&&(t+=" Error: "+this.closeError),this.logger.log(k.Trace,t),this.onclose(this.closeError)}},n}(),fj=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},oE=function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?r(d.value):new e(function(f){f(d.value)}).then(a,l)}u((i=i.apply(n,t||[])).next())})},aE=function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return function u(d){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&d[0]?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===d[0]||2===d[0])){e=0;continue}if(3===d[0]&&(!s||d[1]>s[0]&&d[1]<s[3])){e.label=d[1];break}if(6===d[0]&&e.label<s[1]){e.label=s[1],s=d;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(d);break}s[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(f){d=[6,f],r=0}finally{i=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,f])}}},pj=function(){function n(t,e,i,r,s,a,l){this.httpClient=t,this.accessTokenFactory=e,this.logger=i,this.logMessageContent=r,this.withCredentials=a,this.eventSourceConstructor=s,this.headers=l,this.onreceive=null,this.onclose=null}return n.prototype.connect=function(t,e){return oE(this,void 0,void 0,function(){var i,r=this;return aE(this,function(s){switch(s.label){case 0:return dn.isRequired(t,"url"),dn.isRequired(e,"transferFormat"),dn.isIn(e,yn,"transferFormat"),this.logger.log(k.Trace,"(SSE transport) Connecting."),this.url=t,this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(i=s.sent())&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(i)),s.label=2;case 2:return[2,new Promise(function(a,l){var u=!1;if(e===yn.Text){var d;if(Fn.isBrowser||Fn.isWebWorker)d=new r.eventSourceConstructor(t,{withCredentials:r.withCredentials});else{var f=r.httpClient.getCookieString(t),g={};g.Cookie=f;var v=_a();g[v[0]]=v[1],d=new r.eventSourceConstructor(t,{withCredentials:r.withCredentials,headers:fj({},g,r.headers)})}try{d.onmessage=function(C){if(r.onreceive)try{r.logger.log(k.Trace,"(SSE transport) data received. "+rc(C.data,r.logMessageContent)+"."),r.onreceive(C.data)}catch(S){return void r.close(S)}},d.onerror=function(C){var S=new Error(C.data||"Error occurred");u?r.close(S):l(S)},d.onopen=function(){r.logger.log(k.Information,"SSE connected to "+r.url),r.eventSource=d,u=!0,a()}}catch(C){return void l(C)}}else l(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})]}})})},n.prototype.send=function(t){return oE(this,void 0,void 0,function(){return aE(this,function(e){return this.eventSource?[2,nE(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent,this.withCredentials,this.headers)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},n.prototype.stop=function(){return this.close(),Promise.resolve()},n.prototype.close=function(t){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0,this.onclose&&this.onclose(t))},n}(),gj=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},_j=function(){function n(t,e,i,r,s,a){this.logger=i,this.accessTokenFactory=e,this.logMessageContent=r,this.webSocketConstructor=s,this.httpClient=t,this.onreceive=null,this.onclose=null,this.headers=a}return n.prototype.connect=function(t,e){return function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?r(d.value):new e(function(f){f(d.value)}).then(a,l)}u((i=i.apply(n,[])).next())})}(this,0,void 0,function(){var i,r=this;return function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return function u(d){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&d[0]?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===d[0]||2===d[0])){e=0;continue}if(3===d[0]&&(!s||d[1]>s[0]&&d[1]<s[3])){e.label=d[1];break}if(6===d[0]&&e.label<s[1]){e.label=s[1],s=d;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(d);break}s[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(f){d=[6,f],r=0}finally{i=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,f])}}}(this,function(s){switch(s.label){case 0:return dn.isRequired(t,"url"),dn.isRequired(e,"transferFormat"),dn.isIn(e,yn,"transferFormat"),this.logger.log(k.Trace,"(WebSockets transport) Connecting."),this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(i=s.sent())&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(i)),s.label=2;case 2:return[2,new Promise(function(a,l){t=t.replace(/^http/,"ws");var u,d=r.httpClient.getCookieString(t),f=!1;if(Fn.isNode){var g={},v=_a();g[v[0]]=v[1],d&&(g.Cookie=""+d),u=new r.webSocketConstructor(t,void 0,{headers:gj({},g,r.headers)})}u||(u=new r.webSocketConstructor(t)),e===yn.Binary&&(u.binaryType="arraybuffer"),u.onopen=function(C){r.logger.log(k.Information,"WebSocket connected to "+t+"."),r.webSocket=u,f=!0,a()},u.onerror=function(C){var S;S=typeof ErrorEvent<"u"&&C instanceof ErrorEvent?C.error:new Error("There was an error with the transport."),l(S)},u.onmessage=function(C){if(r.logger.log(k.Trace,"(WebSockets transport) data received. "+rc(C.data,r.logMessageContent)+"."),r.onreceive)try{r.onreceive(C.data)}catch(S){return void r.close(S)}},u.onclose=function(C){if(f)r.close(C);else{var S;S=typeof ErrorEvent<"u"&&C instanceof ErrorEvent?C.error:new Error("There was an error with the transport."),l(S)}}})]}})})},n.prototype.send=function(t){return this.webSocket&&this.webSocket.readyState===this.webSocketConstructor.OPEN?(this.logger.log(k.Trace,"(WebSockets transport) sending data. "+rc(t,this.logMessageContent)+"."),this.webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")},n.prototype.stop=function(){return this.webSocket&&this.close(void 0),Promise.resolve()},n.prototype.close=function(t){this.webSocket&&(this.webSocket.onclose=function(){},this.webSocket.onmessage=function(){},this.webSocket.onerror=function(){},this.webSocket.close(),this.webSocket=void 0),this.logger.log(k.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this.isCloseEvent(t)||!1!==t.wasClean&&1e3===t.code?t instanceof Error?this.onclose(t):this.onclose():this.onclose(new Error("WebSocket closed with status code: "+t.code+" ("+t.reason+").")))},n.prototype.isCloseEvent=function(t){return t&&"boolean"==typeof t.wasClean&&"number"==typeof t.code},n}(),yj=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},js=function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(d){try{u(i.next(d))}catch(f){s(f)}}function l(d){try{u(i.throw(d))}catch(f){s(f)}}function u(d){d.done?r(d.value):new e(function(f){f(d.value)}).then(a,l)}u((i=i.apply(n,t||[])).next())})},ls=function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return function u(d){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&d[0]?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===d[0]||2===d[0])){e=0;continue}if(3===d[0]&&(!s||d[1]>s[0]&&d[1]<s[3])){e.label=d[1];break}if(6===d[0]&&e.label<s[1]){e.label=s[1],s=d;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(d);break}s[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(f){d=[6,f],r=0}finally{i=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,f])}}},wj=function(){function n(t,e){if(void 0===e&&(e={}),this.stopPromiseResolver=function(){},this.features={},this.negotiateVersion=1,dn.isRequired(t,"url"),this.logger=function WH(n){return void 0===n?new oh(k.Information):null===n?Jm.instance:n.log?n:new oh(n)}(e.logger),this.baseUrl=this.resolveUrl(t),(e=e||{}).logMessageContent=void 0!==e.logMessageContent&&e.logMessageContent,"boolean"!=typeof e.withCredentials&&void 0!==e.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.withCredentials=void 0===e.withCredentials||e.withCredentials;var i=null,r=null;if(Fn.isNode){var s=require;i=s("ws"),r=s("eventsource")}!Fn.isNode&&typeof WebSocket<"u"&&!e.WebSocket?e.WebSocket=WebSocket:Fn.isNode&&!e.WebSocket&&i&&(e.WebSocket=i),!Fn.isNode&&typeof EventSource<"u"&&!e.EventSource?e.EventSource=EventSource:Fn.isNode&&!e.EventSource&&typeof r<"u"&&(e.EventSource=r),this.httpClient=e.httpClient||new sj(this.logger),this.connectionState="Disconnected",this.connectionStarted=!1,this.options=e,this.onreceive=null,this.onclose=null}return n.prototype.start=function(t){return js(this,void 0,void 0,function(){var e;return ls(this,function(i){switch(i.label){case 0:return dn.isIn(t=t||yn.Binary,yn,"transferFormat"),this.logger.log(k.Debug,"Starting connection with transfer format '"+yn[t]+"'."),"Disconnected"!==this.connectionState?[2,Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."))]:(this.connectionState="Connecting",this.startInternalPromise=this.startInternal(t),[4,this.startInternalPromise]);case 1:return i.sent(),"Disconnecting"!==this.connectionState?[3,3]:(this.logger.log(k.Error,e="Failed to start the HttpConnection before stop() was called."),[4,this.stopPromise]);case 2:return i.sent(),[2,Promise.reject(new Error(e))];case 3:if("Connected"!==this.connectionState)return this.logger.log(k.Error,e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!"),[2,Promise.reject(new Error(e))];i.label=4;case 4:return this.connectionStarted=!0,[2]}})})},n.prototype.send=function(t){return"Connected"!==this.connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this.sendQueue||(this.sendQueue=new Dj(this.transport)),this.sendQueue.send(t))},n.prototype.stop=function(t){return js(this,void 0,void 0,function(){var e=this;return ls(this,function(i){switch(i.label){case 0:return"Disconnected"===this.connectionState?(this.logger.log(k.Debug,"Call to HttpConnection.stop("+t+") ignored because the connection is already in the disconnected state."),[2,Promise.resolve()]):"Disconnecting"===this.connectionState?(this.logger.log(k.Debug,"Call to HttpConnection.stop("+t+") ignored because the connection is already in the disconnecting state."),[2,this.stopPromise]):(this.connectionState="Disconnecting",this.stopPromise=new Promise(function(r){e.stopPromiseResolver=r}),[4,this.stopInternal(t)]);case 1:return i.sent(),[4,this.stopPromise];case 2:return i.sent(),[2]}})})},n.prototype.stopInternal=function(t){return js(this,void 0,void 0,function(){var i;return ls(this,function(r){switch(r.label){case 0:this.stopError=t,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.startInternalPromise];case 2:case 3:return r.sent(),[3,4];case 4:if(!this.transport)return[3,9];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.transport.stop()];case 6:return r.sent(),[3,8];case 7:return i=r.sent(),this.logger.log(k.Error,"HttpConnection.transport.stop() threw error '"+i+"'."),this.stopConnection(),[3,8];case 8:return this.transport=void 0,[3,10];case 9:this.logger.log(k.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed."),r.label=10;case 10:return[2]}})})},n.prototype.startInternal=function(t){return js(this,void 0,void 0,function(){var e,i,r,s,a,l;return ls(this,function(u){switch(u.label){case 0:e=this.baseUrl,this.accessTokenFactory=this.options.accessTokenFactory,u.label=1;case 1:return u.trys.push([1,12,,13]),this.options.skipNegotiation?this.options.transport!==hn.WebSockets?[3,3]:(this.transport=this.constructTransport(hn.WebSockets),[4,this.startTransport(e,t)]):[3,5];case 2:return u.sent(),[3,4];case 3:throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:i=null,r=0,s=function(){var d;return ls(this,function(f){switch(f.label){case 0:return[4,a.getNegotiationResponse(e)];case 1:if(i=f.sent(),"Disconnecting"===a.connectionState||"Disconnected"===a.connectionState)throw new Error("The connection was stopped during negotiation.");if(i.error)throw new Error(i.error);if(i.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");return i.url&&(e=i.url),i.accessToken&&(d=i.accessToken,a.accessTokenFactory=function(){return d}),r++,[2]}})},a=this,u.label=6;case 6:return[5,s()];case 7:u.sent(),u.label=8;case 8:if(i.url&&r<100)return[3,6];u.label=9;case 9:if(100===r&&i.url)throw new Error("Negotiate redirection limit exceeded.");return[4,this.createTransport(e,this.options.transport,i,t)];case 10:u.sent(),u.label=11;case 11:return this.transport instanceof sE&&(this.features.inherentKeepAlive=!0),"Connecting"===this.connectionState&&(this.logger.log(k.Debug,"The HttpConnection connected successfully."),this.connectionState="Connected"),[3,13];case 12:return l=u.sent(),this.logger.log(k.Error,"Failed to start the connection: "+l),this.connectionState="Disconnected",this.transport=void 0,this.stopPromiseResolver(),[2,Promise.reject(l)];case 13:return[2]}})})},n.prototype.getNegotiationResponse=function(t){return js(this,void 0,void 0,function(){var e,i,r,l,u,d,f;return ls(this,function(g){switch(g.label){case 0:return e={},this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(i=g.sent())&&(e.Authorization="Bearer "+i),g.label=2;case 2:r=_a(),e[r[0]]=r[1],l=this.resolveNegotiateUrl(t),this.logger.log(k.Debug,"Sending negotiation request: "+l+"."),g.label=3;case 3:return g.trys.push([3,5,,6]),[4,this.httpClient.post(l,{content:"",headers:yj({},e,this.options.headers),withCredentials:this.options.withCredentials})];case 4:return 200!==(u=g.sent()).statusCode?[2,Promise.reject(new Error("Unexpected status code returned from negotiate '"+u.statusCode+"'"))]:((!(d=JSON.parse(u.content)).negotiateVersion||d.negotiateVersion<1)&&(d.connectionToken=d.connectionId),[2,d]);case 5:return f=g.sent(),this.logger.log(k.Error,"Failed to complete negotiation with the server: "+f),[2,Promise.reject(f)];case 6:return[2]}})})},n.prototype.createConnectUrl=function(t,e){return e?t+(-1===t.indexOf("?")?"?":"&")+"id="+e:t},n.prototype.createTransport=function(t,e,i,r){return js(this,void 0,void 0,function(){var s,a,u,d,f,g,v,_,w;return ls(this,function(S){switch(S.label){case 0:return s=this.createConnectUrl(t,i.connectionToken),this.isITransport(e)?(this.logger.log(k.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=e,[4,this.startTransport(s,r)]):[3,2];case 1:return S.sent(),this.connectionId=i.connectionId,[2];case 2:a=[],u=i,d=0,f=i.availableTransports||[],S.label=3;case 3:return d<f.length?(v=this.resolveTransportOrError(g=f[d],e,r))instanceof Error?(a.push(g.transport+" failed: "+v),[3,12]):[3,4]:[3,13];case 4:if(!this.isITransport(v))return[3,12];if(this.transport=v,u)return[3,9];S.label=5;case 5:return S.trys.push([5,7,,8]),[4,this.getNegotiationResponse(t)];case 6:return u=S.sent(),[3,8];case 7:return _=S.sent(),[2,Promise.reject(_)];case 8:s=this.createConnectUrl(t,u.connectionToken),S.label=9;case 9:return S.trys.push([9,11,,12]),[4,this.startTransport(s,r)];case 10:return S.sent(),this.connectionId=u.connectionId,[2];case 11:return w=S.sent(),this.logger.log(k.Error,"Failed to start the transport '"+g.transport+"': "+w),u=void 0,a.push(g.transport+" failed: "+w),"Connecting"!==this.connectionState?(this.logger.log(k.Debug,"Failed to select transport before stop() was called."),[2,Promise.reject(new Error("Failed to select transport before stop() was called."))]):[3,12];case 12:return d++,[3,3];case 13:return a.length>0?[2,Promise.reject(new Error("Unable to connect to the server with any of the available transports. "+a.join(" ")))]:[2,Promise.reject(new Error("None of the transports supported by the client are supported by the server."))]}})})},n.prototype.constructTransport=function(t){switch(t){case hn.WebSockets:if(!this.options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new _j(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.WebSocket,this.options.headers||{});case hn.ServerSentEvents:if(!this.options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new pj(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.EventSource,this.options.withCredentials,this.options.headers||{});case hn.LongPolling:return new sE(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.withCredentials,this.options.headers||{});default:throw new Error("Unknown transport: "+t+".")}},n.prototype.startTransport=function(t,e){var i=this;return this.transport.onreceive=this.onreceive,this.transport.onclose=function(r){return i.stopConnection(r)},this.transport.connect(t,e)},n.prototype.resolveTransportOrError=function(t,e,i){var r=hn[t.transport];if(null==r)return this.logger.log(k.Debug,"Skipping transport '"+t.transport+"' because it is not supported by this client."),new Error("Skipping transport '"+t.transport+"' because it is not supported by this client.");if(!function Cj(n,t){return!n||0!=(t&n)}(e,r))return this.logger.log(k.Debug,"Skipping transport '"+hn[r]+"' because it was disabled by the client."),new Error("'"+hn[r]+"' is disabled by the client.");if(!(t.transferFormats.map(function(a){return yn[a]}).indexOf(i)>=0))return this.logger.log(k.Debug,"Skipping transport '"+hn[r]+"' because it does not support the requested transfer format '"+yn[i]+"'."),new Error("'"+hn[r]+"' does not support "+yn[i]+".");if(r===hn.WebSockets&&!this.options.WebSocket||r===hn.ServerSentEvents&&!this.options.EventSource)return this.logger.log(k.Debug,"Skipping transport '"+hn[r]+"' because it is not supported in your environment.'"),new Error("'"+hn[r]+"' is not supported in your environment.");this.logger.log(k.Debug,"Selecting transport '"+hn[r]+"'.");try{return this.constructTransport(r)}catch(a){return a}},n.prototype.isITransport=function(t){return t&&"object"==typeof t&&"connect"in t},n.prototype.stopConnection=function(t){var e=this;if(this.logger.log(k.Debug,"HttpConnection.stopConnection("+t+") called while in state "+this.connectionState+"."),this.transport=void 0,t=this.stopError||t,this.stopError=void 0,"Disconnected"!==this.connectionState){if("Connecting"===this.connectionState)throw this.logger.log(k.Warning,"Call to HttpConnection.stopConnection("+t+") was ignored because the connection is still in the connecting state."),new Error("HttpConnection.stopConnection("+t+") was called while the connection is still in the connecting state.");if("Disconnecting"===this.connectionState&&this.stopPromiseResolver(),t?this.logger.log(k.Error,"Connection disconnected with error '"+t+"'."):this.logger.log(k.Information,"Connection disconnected."),this.sendQueue&&(this.sendQueue.stop().catch(function(i){e.logger.log(k.Error,"TransportSendQueue.stop() threw error '"+i+"'.")}),this.sendQueue=void 0),this.connectionId=void 0,this.connectionState="Disconnected",this.connectionStarted){this.connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(i){this.logger.log(k.Error,"HttpConnection.onclose("+t+") threw error '"+i+"'.")}}}else this.logger.log(k.Debug,"Call to HttpConnection.stopConnection("+t+") was ignored because the connection is already in the disconnected state.")},n.prototype.resolveUrl=function(t){if(0===t.lastIndexOf("https://",0)||0===t.lastIndexOf("http://",0))return t;if(!Fn.isBrowser||!window.document)throw new Error("Cannot resolve '"+t+"'.");var e=window.document.createElement("a");return e.href=t,this.logger.log(k.Information,"Normalizing '"+t+"' to '"+e.href+"'."),e.href},n.prototype.resolveNegotiateUrl=function(t){var e=t.indexOf("?"),i=t.substring(0,-1===e?t.length:e);return"/"!==i[i.length-1]&&(i+="/"),i+="negotiate",-1===(i+=-1===e?"":t.substring(e)).indexOf("negotiateVersion")&&(i+=-1===e?"?":"&",i+="negotiateVersion="+this.negotiateVersion),i},n}(),Dj=function(){function n(t){this.transport=t,this.buffer=[],this.executing=!0,this.sendBufferedData=new ah,this.transportResult=new ah,this.sendLoopPromise=this.sendLoop()}return n.prototype.send=function(t){return this.bufferData(t),this.transportResult||(this.transportResult=new ah),this.transportResult.promise},n.prototype.stop=function(){return this.executing=!1,this.sendBufferedData.resolve(),this.sendLoopPromise},n.prototype.bufferData=function(t){if(this.buffer.length&&typeof this.buffer[0]!=typeof t)throw new Error("Expected data to be of type "+typeof this.buffer+" but was of type "+typeof t);this.buffer.push(t),this.sendBufferedData.resolve()},n.prototype.sendLoop=function(){return js(this,void 0,void 0,function(){var t,e,i;return ls(this,function(r){switch(r.label){case 0:return[4,this.sendBufferedData.promise];case 1:if(r.sent(),!this.executing)return this.transportResult&&this.transportResult.reject("Connection stopped."),[3,6];this.sendBufferedData=new ah,t=this.transportResult,this.transportResult=void 0,e="string"==typeof this.buffer[0]?this.buffer.join(""):n.concatBuffers(this.buffer),this.buffer.length=0,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.transport.send(e)];case 3:return r.sent(),t.resolve(),[3,5];case 4:return i=r.sent(),t.reject(i),[3,5];case 5:return[3,0];case 6:return[2]}})})},n.concatBuffers=function(t){for(var e=t.map(function(u){return u.byteLength}).reduce(function(u,d){return u+d}),i=new Uint8Array(e),r=0,s=0,a=t;s<a.length;s++){var l=a[s];i.set(new Uint8Array(l),r),r+=l.byteLength}return i.buffer},n}(),ah=function(){function n(){var t=this;this.promise=new Promise(function(e,i){var r;return t.resolver=(r=[e,i])[0],t.rejecter=r[1],r})}return n.prototype.resolve=function(){this.resolver()},n.prototype.reject=function(t){this.rejecter(t)},n}(),bj=function(){function n(){this.name="json",this.version=1,this.transferFormat=yn.Text}return n.prototype.parseMessages=function(t,e){if("string"!=typeof t)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];null===e&&(e=Jm.instance);for(var r=[],s=0,a=ya.parse(t);s<a.length;s++){var u=JSON.parse(a[s]);if("number"!=typeof u.type)throw new Error("Invalid payload.");switch(u.type){case gt.Invocation:this.isInvocationMessage(u);break;case gt.StreamItem:this.isStreamItemMessage(u);break;case gt.Completion:this.isCompletionMessage(u);break;case gt.Ping:case gt.Close:break;default:e.log(k.Information,"Unknown message type '"+u.type+"' ignored.");continue}r.push(u)}return r},n.prototype.writeMessage=function(t){return ya.write(JSON.stringify(t))},n.prototype.isInvocationMessage=function(t){this.assertNotEmptyString(t.target,"Invalid payload for Invocation message."),void 0!==t.invocationId&&this.assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")},n.prototype.isStreamItemMessage=function(t){if(this.assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),void 0===t.item)throw new Error("Invalid payload for StreamItem message.")},n.prototype.isCompletionMessage=function(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this.assertNotEmptyString(t.error,"Invalid payload for Completion message."),this.assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")},n.prototype.assertNotEmptyString=function(t,e){if("string"!=typeof t||""===t)throw new Error(e)},n}(),cE=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Ej={trace:k.Trace,debug:k.Debug,info:k.Information,information:k.Information,warn:k.Warning,warning:k.Warning,error:k.Error,critical:k.Critical,none:k.None};!function(){function n(){}n.prototype.configureLogging=function(t){if(dn.isRequired(t,"logging"),function Mj(n){return void 0!==n.log}(t))this.logger=t;else if("string"==typeof t){var e=function Tj(n){var t=Ej[n.toLowerCase()];if(typeof t<"u")return t;throw new Error("Unknown log level: "+n)}(t);this.logger=new oh(e)}else this.logger=new oh(t);return this},n.prototype.withUrl=function(t,e){return dn.isRequired(t,"url"),dn.isNotEmpty(t,"url"),this.url=t,this.httpConnectionOptions=cE({},this.httpConnectionOptions,"object"==typeof e?e:{transport:e}),this},n.prototype.withHubProtocol=function(t){return dn.isRequired(t,"protocol"),this.protocol=t,this},n.prototype.withAutomaticReconnect=function(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=t?Array.isArray(t)?new iE(t):t:new iE,this},n.prototype.build=function(){var t=this.httpConnectionOptions||{};if(void 0===t.logger&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var e=new wj(this.url,t);return uj.create(e,this.logger||Jm.instance,this.protocol||new bj,this.reconnectPolicy)}}();class ai{constructor(){this.baseApiUrl=()=>"http://localhost:8080/api/",this.apiVersion="v4",this.channelUrl="",this.channelHubName="",this.clientId="",this.googleApiKey="",this.logLevel=0,this.isMobileApp=!1}get apiUrl(){return`${this.baseApiUrl()}/api/${this.apiVersion}`}}class Rj{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}let cc=(()=>{class n{constructor(e){this.config=e}logError(e,...i){this.config.logLevel>=2&&(i&&i.length?console.error(`[ERROR] - ${e}`,...i):console.error(`[ERROR] - ${e}`))}logWarning(e,...i){this.config.logLevel>=1&&(i&&i.length?console.warn(`[WARN] - ${e}`,...i):console.warn(`[WARN] - ${e}`))}logDebug(e,i,...r){this.config.logLevel>=0&&(r&&r.length?console.log(`[DEBUG] ${e} - ${i}`,...r):console.log(`[DEBUG] ${e} - ${i}`))}}return n.\u0275fac=function(e){return new(e||n)(P(ai))},n.\u0275prov=q({factory:function(){return new n(P(ai))},token:n,providedIn:"root"}),n})(),hE=(()=>{class n{constructor(e,i){this.logger=e,this.config=i}read(e){const i=`${this.config.clientId}.${e}`,r=localStorage.getItem(i);return r?(this.logger.logDebug(this.config.clientId,`readKey ${i} length: ${r.length}`),JSON.parse(r)):(this.logger.logDebug(this.config.clientId,`readKey ${i} empty`),null)}write(e,i){return localStorage.setItem(`${this.config.clientId}.${e}`,JSON.stringify(i)),!0}remove(e){return localStorage.removeItem(`${this.config.clientId}.${e}`),!0}clear(){return localStorage.clear(),!0}}return n.\u0275fac=function(e){return new(e||n)(P(cc),P(ai))},n.\u0275prov=q({factory:function(){return new n(P(cc),P(ai))},token:n,providedIn:"root"}),n})(),Oj=(()=>{class n{constructor(e,i,r,s){this.http=e,this.config=i,this.storageService=r,this.logger=s,this.isRefreshing=!1,this.refreshTokenSubject=new Gl(null),this.initalState={profile:void 0,tokens:void 0,authReady:!1},this.authReady$=new Gl(!1),this.state=new Gl(this.initalState),this.state$=this.state.asObservable(),this.tokens$=this.state.pipe(vn(a=>null!=a.authReady&&0!=a.authReady),He(a=>a.tokens)),this.profile$=this.state.pipe(vn(a=>null!=a.authReady&&0!=a.authReady),He(a=>a.profile)),this.loggedIn$=this.tokens$.pipe(He(a=>!!a))}init(){return this.startupTokenRefresh().pipe(s0(()=>this.scheduleRefresh()))}login(e){return this.getTokens(e,"password")}logout(){this.updateState({profile:void 0,tokens:void 0}),this.refreshSubscription$&&this.refreshSubscription$.unsubscribe(),this.removeToken()}refreshTokens(){this.logger.logDebug(this.config.clientId,"Starting refresh token flow");const e=this.retrieveTokens();return e&&e.refresh_token&&e.refresh_token.length>0?this.isRefreshing?this.refreshTokenSubject.pipe(vn(i=>null!==i),Pr(1),ts(i=>rs(i))):(this.isRefreshing=!0,this.logger.logDebug(this.config.clientId,"Retrived stored tokens"),this.getTokens({username:"",password:"",refresh_token:e.refresh_token},"refresh_token")):(this.logger.logDebug(this.config.clientId,"No stored tokens retrived"),rs(null))}storeToken(e){const i=this.retrieveTokens();null!=i&&null==e.refresh_token&&(e.refresh_token=i.refresh_token),this.storageService.write("auth-tokens",e)}retrieveTokens(){return this.storageService.read("auth-tokens")}removeToken(){this.storageService.remove("auth-tokens")}updateState(e){const i=this.state.getValue();this.state.next(Object.assign({},i,e))}getTokens(e,i){let r=new hr;r=r.set("Content-Type","application/x-www-form-urlencoded");let s=new Rr({encoder:new Rj});return s=s.set("grant_type",i),e.refresh_token&&e.refresh_token.length>0?s=s.append("refresh_token",e.refresh_token):(s=s.append("scope",this.config.isMobileApp?"openid profile offline_access mobile":"openid profile offline_access"),s=s.append("username",e.username),s=s.append("password",e.password)),this.logger.logDebug(this.config.clientId,"performing token connection"),this.http.post(`${this.config.apiUrl}/connect/token`,s,{headers:r}).pipe(He(a=>{const l=new Date;a.expiration_date=new Date(l.getTime()+1e3*a.expires_in).getTime().toString(),this.logger.logDebug(this.config.clientId,`got token expiration: ${a.expiration_date}`);const u=eE(a.id_token);return this.storeToken(a),this.updateState({authReady:!0,tokens:a,profile:u}),this.isRefreshing=!1,this.refreshTokenSubject.next(u),u}),tc(a=>(this.isRefreshing=!1,this.refreshTokenSubject.next(null),rh(a))))}startupTokenRefresh(){return rs(this.retrieveTokens()).pipe(He(e=>{if(!e)return this.updateState({authReady:!0}),rs("No token in Storage");const i=eE(e.id_token);return this.updateState({tokens:e,profile:i}),+e.expiration_date>(new Date).getTime()&&this.updateState({authReady:!0}),this.refreshTokens()}),tc(e=>(this.logout(),this.updateState({authReady:!0}),rs(e))))}scheduleRefresh(){this.refreshSubscription$=this.tokens$.pipe(Pr(1),He(e=>{e&&(this.logger.logDebug(this.config.clientId,"Will refresh auth token in "+.8*e.expires_in*1e3),Hb(.8*e.expires_in*1e3))}),He(()=>this.refreshTokens())).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(P(as),P(ai),P(hE),P(cc))},n.\u0275prov=q({factory:function(){return new n(P(as),P(ai),P(hE),P(cc))},token:n,providedIn:"root"}),n})(),Nj=(()=>{class n{constructor(e,i,r){this.authService=e,this.config=i,this.logger=r,this.isRefreshing=!1,this.refreshTokenSubject=new Gl(null)}intercept(e,i){if(this.shouldAddTokenToRequest(e.url)){const r=this.addAuthHeader(e);return i.handle(r).pipe(tc(s=>s instanceof Um&&401===s.status?this.handle401Error(e,i):rh(s)))}return i.handle(e)}handle401Error(e,i){return this.isRefreshing?this.refreshTokenSubject.pipe(vn(r=>null!==r),Pr(1),ts(r=>i.handle(this.addAuthHeader(e)))):(this.isRefreshing=!0,this.refreshTokenSubject.next(null),this.authService.refreshTokens().pipe(ts(r=>{this.isRefreshing=!1;const s=this.addAuthHeader(e),a=this.authService.retrieveTokens();return this.refreshTokenSubject.next(a.access_token),i.handle(s)}),tc(r=>(this.isRefreshing=!1,this.authService.logout(),rh(r)))))}addAuthHeader(e){const i=this.authService.retrieveTokens();return i?e.clone({headers:e.headers.set("Authorization","Bearer "+i.access_token)}):e}handleResponseError(e,i,r){return 400!==e.status&&401===e.status?(this.logger.logDebug(this.config.clientId,`In handleResponseError got 401 response: ${i.url}`),zd(1e4).pipe(ts(()=>{const s=this.addAuthHeader(i);return r.handle(s)}))):rh(e)}shouldAddTokenToRequest(e){return!(!e.startsWith(this.config.baseApiUrl())||e.includes("/connect/token"))}}return n.\u0275fac=function(e){return new(e||n)(P(Oj),P(ai),P(cc))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),Fj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({providers:[{provide:Wm,useClass:Nj,multi:!0}]}),n})(),Lj=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:ai,useFactory:()=>{let i=new ai;return i.baseApiUrl=e.baseApiUrl,i.apiVersion=e.apiVersion,i.clientId=e.clientId,i.googleApiKey=e.googleApiKey,i.channelUrl=e.channelUrl,i.channelHubName=e.channelHubName,i.logLevel=e.logLevel,i.isMobileApp=e.isMobileApp,i}}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({imports:[[Fj]]}),n})(),Vj=(()=>{class n{constructor(e,i){this.http=e,this.config=i}getMapDataAndMarkers(){return this.http.get(this.config.apiUrl+"/Mapping/GetMapDataAndMarkers")}getMayLayers(e){return this.http.get(this.config.apiUrl+"/Mapping/GetMayLayers?type="+e)}}return n.\u0275fac=function(e){return new(e||n)(P(as),P(ai))},n.\u0275prov=q({factory:function(){return new n(P(as),P(ai))},token:n,providedIn:"root"}),n})(),Bj=(()=>{class n{constructor(e,i){this.http=e,this.config=i}getShifts(){return this.http.get(this.config.apiUrl+"/Shifts/GetShifts")}getShift(e){return this.http.get(this.config.apiUrl+"/Shifts/GetShift?id="+e)}getTodaysShifts(){return this.http.get(this.config.apiUrl+"/Shifts/GetTodaysShifts")}getShiftDay(e){return this.http.get(this.config.apiUrl+"/Shifts/GetShiftDay?id="+e)}signupForShiftDay(e,i){return this.http.post(this.config.apiUrl+"/Shifts/SignupForShiftDay",{ShiftDayId:e,GroupId:i})}}return n.\u0275fac=function(e){return new(e||n)(P(as),P(ai))},n.\u0275prov=q({factory:function(){return new n(P(as),P(ai))},token:n,providedIn:"root"}),n})();Window;const dU=["modalContent"];function hU(n,t){1&n&&(Z(0,"div",2)(1,"div",3),St(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8),Y(),St(7,"br"),bt(8," Loading shift calendar... "),Y())}function fU(n,t){if(1&n){const e=jt();Z(0,"mwl-calendar-month-view",19),de("dayClicked",function(r){return Q(e),N(2).dayClicked(r.day)})("eventClicked",function(r){return Q(e),N(2).handleEvent("Clicked",r.event)}),Y()}if(2&n){const e=N().$implicit,i=N();F("viewDate",i.viewDate)("events",e)("refresh",i.refresh)("activeDayIsOpen",i.activeDayIsOpen)}}function pU(n,t){if(1&n){const e=jt();Z(0,"mwl-calendar-week-view",20),de("eventClicked",function(r){return Q(e),N(2).handleEvent("Clicked",r.event)}),Y()}if(2&n){const e=N().$implicit,i=N();F("viewDate",i.viewDate)("events",e)("refresh",i.refresh)}}function gU(n,t){if(1&n){const e=jt();Z(0,"mwl-calendar-day-view",20),de("eventClicked",function(r){return Q(e),N(2).handleEvent("Clicked",r.event)}),Y()}if(2&n){const e=N().$implicit,i=N();F("viewDate",i.viewDate)("events",e)("refresh",i.refresh)}}function mU(n,t){if(1&n){const e=jt();Z(0,"div")(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12),de("viewDateChange",function(r){return Q(e),N().viewDate=r})("viewDateChange",function(){return Q(e),N().closeOpenMonthViewDay()}),bt(5," Previous "),Y(),Z(6,"div",13),de("viewDateChange",function(r){return Q(e),N().viewDate=r}),bt(7," Today "),Y(),Z(8,"div",14),de("viewDateChange",function(r){return Q(e),N().viewDate=r})("viewDateChange",function(){return Q(e),N().closeOpenMonthViewDay()}),bt(9," Next "),Y()()(),Z(10,"div",10)(11,"h3"),bt(12),Mt(13,"calendarDate"),Y()(),Z(14,"div",10)(15,"div",11)(16,"div",15),de("click",function(){Q(e);const r=N();return r.setView(r.CalendarView.Month)}),bt(17," Month "),Y(),Z(18,"div",15),de("click",function(){Q(e);const r=N();return r.setView(r.CalendarView.Week)}),bt(19," Week "),Y(),Z(20,"div",15),de("click",function(){Q(e);const r=N();return r.setView(r.CalendarView.Day)}),bt(21," Day "),Y()()()(),St(22,"br"),Z(23,"div",16),se(24,fU,1,4,"mwl-calendar-month-view",17),se(25,pU,1,3,"mwl-calendar-week-view",18),se(26,gU,1,3,"mwl-calendar-day-view",18),Y()()}if(2&n){const e=N();j(4),F("view",e.view)("viewDate",e.viewDate),j(2),F("viewDate",e.viewDate),j(2),F("view",e.view)("viewDate",e.viewDate),j(4),Is(Ri(13,16,e.viewDate,e.view+"ViewTitle","en")),j(4),cn("active",e.view===e.CalendarView.Month),j(2),cn("active",e.view===e.CalendarView.Week),j(2),cn("active",e.view===e.CalendarView.Day),j(3),F("ngSwitch",e.view),j(1),F("ngSwitchCase",e.CalendarView.Month),j(1),F("ngSwitchCase",e.CalendarView.Week),j(1),F("ngSwitchCase",e.CalendarView.Day)}}let vU=(()=>{class n{constructor(e,i){this.shiftProvider=e,this.http=i,this.view=kr.Month,this.CalendarView=kr,this.viewDate=new Date,this.refresh=new ve,this.activeDayIsOpen=!0,this.actions=[{label:'<i class="fas fa-fw fa-pencil-alt"></i>',a11yLabel:"Edit",onClick:({event:r})=>{this.handleEvent("Edited",r)}},{label:'<i class="fas fa-fw fa-trash-alt"></i>',a11yLabel:"Delete",onClick:({event:r})=>{this.handleEvent("Deleted",r)}}],this.events$=this.http.get("/User/Shifts/GetShiftCalendarItems").pipe(He(r=>{if(r&&r.length>0)return r.map(s=>{if(s)return{title:s.Title,start:new Date(s.Start),end:new Date(s.End),color:{primary:s.Color,secondary:s.Color},allDay:s.IsAllDay,draggable:!1,resizable:{beforeStart:!1,afterEnd:!1},meta:{shift:s}}})}))}ngOnInit(){}ngAfterContentInit(){}dayClicked({date:e,events:i}){V0(e,this.viewDate)&&(this.activeDayIsOpen=!(L0(this.viewDate,e)&&!0===this.activeDayIsOpen||0===i.length),this.viewDate=e)}handleEvent(e,i){e&&"Clicked"===e&&i&&i.meta&&i.meta.shift&&(i.meta.shift.WorkshiftId?window.open(`/User/Workshifts/ViewDay?dayId=${i.meta.shift.WorkshiftDayId}`,"_self"):0===i.meta.shift.SignupType?window.open(`/User/Shifts/ViewShift?shiftDayId=${i.meta.shift.CalendarItemId}`,"_self"):window.open(`/User/Shifts/Signup?shiftDayId=${i.meta.shift.CalendarItemId}`,"_self"))}setView(e){this.view=e}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}}return n.\u0275fac=function(e){return new(e||n)(M(Bj),M(as))},n.\u0275cmp=ft({type:n,selectors:[["ng-component"]],viewQuery:function(e,i){if(1&e&&Jp(dU,7),2&e){let r;Qp(r=eg())&&(i.modalContent=r.first)}},decls:4,vars:4,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"text-center"],[1,"sk-spinner","sk-spinner-wave"],[1,"sk-rect1"],[1,"sk-rect2",2,"padding-left","4px"],[1,"sk-rect3",2,"padding-left","4px"],[1,"sk-rect4",2,"padding-left","4px"],[1,"sk-rect5",2,"padding-left","4px"],[1,"row","text-center"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],[1,"btn","btn-primary",3,"click"],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked",4,"ngSwitchCase"],[3,"viewDate","events","refresh","eventClicked",4,"ngSwitchCase"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked"],[3,"viewDate","events","refresh","eventClicked"]],template:function(e,i){if(1&e&&(se(0,hU,9,0,"ng-template",null,0,ri),se(2,mU,27,20,"div",1),Mt(3,"async")),2&e){const r=Ft(1);j(2),F("ngIf",Ku(3,2,i.events$))("ngIfElse",r)}},directives:[Mr,fB,gB,pB,gd,TS,CB,M0,IB],pipes:[Ag,Xl],styles:[""],changeDetection:0}),n})();var cs=B(407);function dc(n){return null!=n&&"false"!=`${n}`}function gE(n){return Array.isArray(n)?n:[n]}function Gt(n){return null==n?"":"string"==typeof n?n:`${n}px`}const hc={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=hc;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Nt(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=hc;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=hc;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class CU extends fm{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class wU extends hm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=hc.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(hc.cancelAnimationFrame(e),t._scheduled=void 0)}});let tv,SU=1;const ch={};function mE(n){return n in ch&&(delete ch[n],!0)}const bU={setImmediate(n){const t=SU++;return ch[t]=!0,tv||(tv=Promise.resolve()),tv.then(()=>mE(t)&&n()),t},clearImmediate(n){mE(n)}},{setImmediate:EU,clearImmediate:TU}=bU,uh={setImmediate(...n){const{delegate:t}=uh;return((null==t?void 0:t.setImmediate)||EU)(...n)},clearImmediate(n){const{delegate:t}=uh;return((null==t?void 0:t.clearImmediate)||TU)(n)},delegate:void 0};new class IU extends fm{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class MU extends hm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=uh.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(uh.clearImmediate(e),t._scheduled=void 0)}});function vE(n,t=pm){return function PU(n){return ut((t,e)=>{let i=!1,r=null,s=null,a=!1;const l=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const d=r;r=null,e.next(d)}a&&e.complete()},u=()=>{s=null,a&&e.complete()};t.subscribe(it(e,d=>{i=!0,r=d,s||In(n(d)).subscribe(s=it(e,l,u))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>zd(n,t))}let nv;try{nv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{nv=!1}let Us,fc=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?kS(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!nv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(P(ca))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xU(){if(null==Us){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Us=!1,Us;if("scrollBehavior"in document.documentElement.style)Us=!0;else{const n=Element.prototype.scrollTo;Us=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Us}function yE(n){return n.composedPath?n.composedPath()[0]:n.target}function wE(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const OU=new Ie("cdk-dir-doc",{providedIn:"root",factory:function NU(){return E_(pt)}}),FU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let CE=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new K,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function LU(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?FU.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(P(OU,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({}),n})(),BU=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ve,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new nt(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(vE(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):rs()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(vn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function yU(n){return n instanceof Tt?n.nativeElement:n}(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>pa(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(P(lt),P(fc),P(pt,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DE=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ve,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(vE(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(P(fc),P(lt),P(pt,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({}),n})(),bE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({imports:[[rv,SE],rv,SE]}),n})();class sv{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class jU extends sv{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class EE extends sv{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class UU extends sv{constructor(t){super(),this.element=t instanceof Tt?t.nativeElement:t}}class WU extends class zU{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof jU?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof EE?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof UU?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const l=a.element,u=this._document.createComment("dom-portal");l.parentNode.insertBefore(u,l),this.outletElement.appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(l,u)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||ln.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let GU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({}),n})();const TE=xU();class YU{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Gt(-this._previousScrollPosition.left),t.style.top=Gt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),TE&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),TE&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class KU{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ME{enable(){}disable(){}attach(){}}function ov(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function IE(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class XU{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();ov(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let QU=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new ME,this.close=a=>new KU(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new YU(this._viewportRuler,this._document),this.reposition=a=>new XU(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(P(BU),P(DE),P(lt),P(pt))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AE{constructor(t){if(this.scrollStrategy=new ME,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class JU{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let PE=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(P(pt))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ez=(()=>{class n extends PE{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(P(pt),P(lt,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tz=(()=>{class n extends PE{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=yE(s)},this._clickListener=s=>{const a=yE(s),l="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let d=u.length-1;d>-1;d--){const f=u[d];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(a)||f.overlayElement.contains(l))break;const g=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(s)):g.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(P(pt),P(fc),P(lt,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kE=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||wE()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),wE()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(P(pt),P(fc))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nz{constructor(t,e,i,r,s,a,l,u,d){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=l,this._location=u,this._outsideClickDispatcher=d,this._backdropElement=null,this._backdropClick=new ve,this._attachments=new ve,this._detachments=new ve,this._locationChanges=Nt.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new ve,this._outsidePointerEvents=new ve,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Pr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Gt(this._config.width),t.height=Gt(this._config.height),t.minWidth=Gt(this._config.minWidth),t.minHeight=Gt(this._config.minHeight),t.maxWidth=Gt(this._config.maxWidth),t.maxHeight=Gt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=gE(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ar(sn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const xE="cdk-overlay-connected-position-bounding-box",iz=/([A-Za-z%]+)$/;class rz{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ve,this._resizeSubscription=Nt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(xE),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let l of this._preferredPositions){let u=this._getOriginPoint(t,r,l),d=this._getOverlayPoint(u,e,l),f=this._getOverlayFit(d,e,i,l);if(f.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,u);this._canFitWithFlexibleDimensions(f,d,i)?s.push({position:l,origin:u,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(u,l)}):(!a||a.overlayFit.visibleArea<f.visibleArea)&&(a={overlayFit:f,overlayPoint:d,originPoint:u,position:l,overlayRect:e})}if(s.length){let l=null,u=-1;for(const d of s){const f=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);f>u&&(u=f,l=d)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&zs(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xE),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;r="start"==i.originX?a:l}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=OE(e);let{x:a,y:l}=t,u=this._getOffset(r,"x"),d=this._getOffset(r,"y");u&&(a+=u),d&&(l+=d);let v=0-l,_=l+s.height-i.height,w=this._subtractOverflows(s.width,0-a,a+s.width-i.width),C=this._subtractOverflows(s.height,v,_),S=w*C;return{visibleArea:S,isCompletelyWithinViewport:s.width*s.height===S,fitsInViewportVertically:C===s.height,fitsInViewportHorizontally:w==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,a=RE(this._overlayRef.getConfig().minHeight),l=RE(this._overlayRef.getConfig().minWidth),d=t.fitsInViewportHorizontally||null!=l&&l<=s;return(t.fitsInViewportVertically||null!=a&&a<=r)&&d}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=OE(e),s=this._viewportRect,a=Math.max(t.x+r.width-s.width,0),l=Math.max(t.y+r.height-s.height,0),u=Math.max(s.top-i.top-t.y,0),d=Math.max(s.left-i.left-t.x,0);let f=0,g=0;return f=r.width<=s.width?d||-a:t.x<this._viewportMargin?s.left-i.left-t.x:0,g=r.height<=s.height?u||-l:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:f,y:g},{x:t.x+f,y:t.y+g}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new JU(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,a,l,f,g,v;if("top"===e.overlayY)a=t.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)l=i.height-t.y+2*this._viewportMargin,s=i.height-l+this._viewportMargin;else{const _=Math.min(i.bottom-t.y+i.top,t.y),w=this._lastBoundingBoxSize.height;s=2*_,a=t.y-_,s>w&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-w/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)v=i.width-t.x+this._viewportMargin,f=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)g=t.x,f=i.right-t.x;else{const _=Math.min(i.right-t.x+i.left,t.x),w=this._lastBoundingBoxSize.width;f=2*_,g=t.x-_,f>w&&!this._isInitialRender&&!this._growAfterOpen&&(g=t.x-w/2)}return{top:a,left:g,bottom:l,right:v,width:f,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Gt(i.height),r.top=Gt(i.top),r.bottom=Gt(i.bottom),r.width=Gt(i.width),r.left=Gt(i.left),r.right=Gt(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Gt(s)),a&&(r.maxWidth=Gt(a))}this._lastBoundingBoxSize=i,zs(this._boundingBox.style,r)}_resetBoundingBoxStyles(){zs(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){zs(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const f=this._viewportRuler.getViewportScrollPosition();zs(i,this._getExactOverlayY(e,t,f)),zs(i,this._getExactOverlayX(e,t,f))}else i.position="static";let l="",u=this._getOffset(e,"x"),d=this._getOffset(e,"y");u&&(l+=`translateX(${u}px) `),d&&(l+=`translateY(${d}px)`),i.transform=l.trim(),a.maxHeight&&(r?i.maxHeight=Gt(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Gt(a.maxWidth):s&&(i.maxWidth="")),zs(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Gt(s.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Gt(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:IE(t,i),isOriginOutsideView:ov(t,i),isOverlayClipped:IE(e,i),isOverlayOutsideView:ov(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&gE(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Tt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function zs(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function RE(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(iz);return e&&"px"!==e?null:parseFloat(t)}return n||null}function OE(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const NE="cdk-global-overlay-wrapper";class sz{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(NE),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:l}=i,u=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),d=!("100%"!==s&&"100vh"!==s||l&&"100%"!==l&&"100vh"!==l);t.position=this._cssPosition,t.marginLeft=u?"0":this._leftOffset,t.marginTop=d?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,u?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(NE),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let oz=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new sz}flexibleConnectedTo(e){return new rz(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(P(DE),P(pt),P(fc),P(kE))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),az=0,av=(()=>{class n{constructor(e,i,r,s,a,l,u,d,f,g,v){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=u,this._document=d,this._directionality=f,this._location=g,this._outsideClickDispatcher=v}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new AE(e);return a.direction=a.direction||this._directionality.value,new nz(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+az++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(td)),new WU(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(P(QU),P(kE),P(Qr),P(oz),P(ez),P(ln),P(lt),P(pt),P(CE),P(fS),P(tz))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const lz=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],FE=new Ie("cdk-connected-overlay-scroll-strategy");let LE=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(M(Tt))},n.\u0275dir=ie({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),cz=(()=>{class n{constructor(e,i,r,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Nt.EMPTY,this._attachSubscription=Nt.EMPTY,this._detachSubscription=Nt.EMPTY,this._positionSubscription=Nt.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new K,this.positionChange=new K,this.attach=new K,this.detach=new K,this.overlayKeydown=new K,this.overlayOutsideClick=new K,this._templatePortal=new EE(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=dc(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=dc(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=dc(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=dc(e)}get push(){return this._push}set push(e){this._push=dc(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=lz);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!function qU(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new AE({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof LE?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function $U(n,t=!1){return ut((e,i)=>{let r=0;e.subscribe(it(i,s=>{const a=n(s,r++);(a||t)&&i.next(s),!a&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(M(av),M(ar),M(ii),M(FE),M(CE,8))},n.\u0275dir=ie({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Kt]}),n})();const dz={provide:FE,deps:[av],useFactory:function uz(n){return()=>n.scrollStrategies.reposition()}};let hz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({providers:[av,dz],imports:[[rv,GU,bE],bE]}),n})(),VE=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(M($n),M(Tt))},n.\u0275dir=ie({type:n}),n})(),Ws=(()=>{class n extends VE{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=mn(n)))(i||n)}}(),n.\u0275dir=ie({type:n,features:[at]}),n})();const fr=new Ie("NgValueAccessor"),gz={provide:fr,useExisting:fe(()=>hh),multi:!0},vz=new Ie("CompositionEventMode");let hh=(()=>{class n extends VE{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mz(){const n=lr()?lr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(M($n),M(Tt),M(vz,8))},n.\u0275dir=ie({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&de("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Et([gz]),at]}),n})();const Tn=new Ie("NgValidators"),ds=new Ie("NgAsyncValidators");function YE(n){return null!=n}function KE(n){const t=Uu(n)?pr(n):n;return Lw(t),t}function XE(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function QE(n,t){return t.map(e=>e(n))}function JE(n){return n.map(t=>function yz(n){return!n.validate}(t)?t:e=>t.validate(e))}function lv(n){return null!=n?function eT(n){if(!n)return null;const t=n.filter(YE);return 0==t.length?null:function(e){return XE(QE(e,t))}}(JE(n)):null}function cv(n){return null!=n?function tT(n){if(!n)return null;const t=n.filter(YE);return 0==t.length?null:function(e){return function fz(...n){const t=jc(n),{args:e,keys:i}=Zb(n),r=new nt(s=>{const{length:a}=e;if(!a)return void s.complete();const l=new Array(a);let u=a,d=a;for(let f=0;f<a;f++){let g=!1;In(e[f]).subscribe(it(s,v=>{g||(g=!0,d--),l[f]=v},()=>u--,void 0,()=>{(!u||!g)&&(d||s.next(i?qb(i,l):l),s.complete())}))}});return t?r.pipe(_m(t)):r}(QE(e,t).map(KE)).pipe(He(XE))}}(JE(n)):null}function nT(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function uv(n){return n?Array.isArray(n)?n:[n]:[]}function ph(n,t){return Array.isArray(n)?n.includes(t):n===t}function sT(n,t){const e=uv(t);return uv(n).forEach(r=>{ph(e,r)||e.push(r)}),e}function oT(n,t){return uv(t).filter(e=>!ph(n,e))}class aT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=lv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=cv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ln extends aT{get formDirective(){return null}get path(){return null}}class hs extends aT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let cT=(()=>{class n extends class lT{constructor(t){this._cd=t}is(t){return"submitted"===t?!!this._cd?.submitted:!!this._cd?.control?.[t]}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(M(hs,2))},n.\u0275dir=ie({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&cn("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[at]}),n})();function gc(n,t){(function fv(n,t){const e=function iT(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(nT(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function rT(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(nT(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();_h(t._rawValidators,r),_h(t._rawAsyncValidators,r)})(n,t),t.valueAccessor.writeValue(n.value),function Iz(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&dT(n,t)})}(n,t),function Pz(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Az(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&dT(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Mz(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function _h(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function dT(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function mv(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const mc="VALID",wh="INVALID",Ca="PENDING",vc="DISABLED";function _v(n){return(Ch(n)?n.validators:n)||null}function gT(n){return Array.isArray(n)?lv(n):n||null}function yv(n,t){return(Ch(t)?t.asyncValidators:n)||null}function mT(n){return Array.isArray(n)?cv(n):n||null}function Ch(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const wv=n=>n instanceof Dv;function _T(n){return(n=>n instanceof CT)(n)?n.value:n.getRawValue()}function yT(n,t){const e=wv(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new $(1e3,"");if(!i[t])throw new $(1001,"")}function wT(n,t){wv(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new $(1002,"")})}class Cv{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=gT(this._rawValidators),this._composedAsyncValidatorFn=mT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===mc}get invalid(){return this.status===wh}get pending(){return this.status==Ca}get disabled(){return this.status===vc}get enabled(){return this.status!==vc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=gT(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=mT(t)}addValidators(t){this.setValidators(sT(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(sT(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(oT(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(oT(t,this._rawAsyncValidators))}hasValidator(t){return ph(this._rawValidators,t)}hasAsyncValidator(t){return ph(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ca,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=vc,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=mc,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mc||this.status===Ca)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vc:mc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ca,this._hasOwnPendingAsyncValidator=!0;const e=KE(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function Oz(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=wv(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof Fz)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new K,this.statusChanges=new K}_calculateStatus(){return this._allControlsDisabled()?vc:this.errors?wh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ca)?Ca:this._anyControlsHaveStatus(wh)?wh:mc}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ch(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class CT extends Cv{constructor(t=null,e,i){super(_v(e),yv(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ch(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){mv(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){mv(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Dv extends Cv{constructor(t,e,i){super(_v(e),yv(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){wT(this,t),Object.keys(t).forEach(i=>{yT(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=_T(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Fz extends Cv{constructor(t,e,i){super(_v(e),yv(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){wT(this,t),t.forEach((i,r)=>{yT(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>_T(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Bz={provide:hs,useExisting:fe(()=>bv)},bT=(()=>Promise.resolve(null))();let bv=(()=>{class n extends hs{constructor(e,i,r,s,a){super(),this._changeDetectorRef=a,this.control=new CT,this._registered=!1,this.update=new K,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function gv(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===hh?e=s:function Rz(n){return Object.getPrototypeOf(n.constructor)===Ws}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function pv(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){bT.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;bT.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function mh(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(M(Ln,9),M(Tn,10),M(ds,10),M(fr,10),M(ua,8))},n.\u0275dir=ie({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Et([Bz]),at,Kt]}),n})(),TT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({}),n})(),d3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({imports:[[TT]]}),n})(),h3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=st({type:n}),n.\u0275inj=be({imports:[d3]}),n})();const f3=["map"];function p3(n,t){1&n&&(Z(0,"div",6)(1,"div",7),St(2,"div",8)(3,"div",9)(4,"div",10)(5,"div",11)(6,"div",12),Y(),St(7,"br"),bt(8," Loading map... "),Y())}function g3(n,t){if(1&n){const e=jt();Z(0,"div",13)(1,"div",14)(2,"input",15),de("ngModelChange",function(r){return Q(e),N().filterText=r}),Y(),bt(3,"\xa0\xa0\xa0 Hide Labels: "),Z(4,"input",16),de("change",function(r){return Q(e),N().changeHideLabels(r)}),Y()(),Z(5,"div",17),bt(6," Show Calls: "),Z(7,"input",16),de("change",function(r){return Q(e),N().changeShowCalls(r)}),Y(),bt(8," \xa0\xa0\xa0 Show Stations: "),Z(9,"input",16),de("change",function(r){return Q(e),N().changeShowStations(r)}),Y(),bt(10," \xa0\xa0\xa0 Show Units: "),Z(11,"input",16),de("change",function(r){return Q(e),N().changeShowUnits(r)}),Y(),bt(12," \xa0\xa0\xa0 Show Personnel: "),Z(13,"input",16),de("change",function(r){return Q(e),N().changeShowPeople(r)}),Y()()()}if(2&n){const e=N();j(2),F("ngModel",e.filterText),j(2),F("checked",e.hideLabels),j(3),F("checked",e.showCalls),j(2),F("checked",e.showStations),j(2),F("checked",e.showUnits),j(2),F("checked",e.showPersonnel)}}let m3=(()=>{class n{constructor(e,i){this.mapProvider=e,this.cdRef=i,this.showCalls=!0,this.showStations=!0,this.showUnits=!0,this.showPersonnel=!0,this.hideLabels=!1,this.filterText="",this.markers=[],this.mapData$=this.mapProvider.getMapDataAndMarkers()}ngOnInit(){this.mapProvider.getMapDataAndMarkers().subscribe(e=>{this.processMapData(e.Data)}),typeof this.showbuttons>"u"&&(this.showbuttons=!1),typeof this.mapheight>"u"&&(this.mapheight="600px"),this.cdRef.detectChanges()}ngOnChanges(){typeof this.showbuttons>"u"&&(this.showbuttons=!1),typeof this.mapheight>"u"&&(this.mapheight="600px"),this.cdRef.detectChanges()}changeHideLabels(e){this.hideLabels=e.target.checked,this.mapProvider.getMapDataAndMarkers().subscribe(r=>{this.processMapData(r.Data)})}changeShowCalls(e){this.showCalls=e.target.checked,this.mapProvider.getMapDataAndMarkers().subscribe(r=>{this.processMapData(r.Data)})}changeShowStations(e){this.showStations=e.target.checked,this.mapProvider.getMapDataAndMarkers().subscribe(r=>{this.processMapData(r.Data)})}changeShowUnits(e){this.showUnits=e.target.checked,this.mapProvider.getMapDataAndMarkers().subscribe(r=>{this.processMapData(r.Data)})}changeShowPeople(e){this.showPersonnel=e.target.checked,this.mapProvider.getMapDataAndMarkers().subscribe(r=>{this.processMapData(r.Data)})}getMapLayers(){this.mapProvider.getMayLayers(0).subscribe(e=>{if(e&&e.Data&&e.Data.LayerJson){var i=JSON.parse(e.Data.LayerJson);i&&i.forEach(r=>{cs.geoJSON().addTo(this.map).addData(r)})}})}processMapData(e){if(e){var i=this.getMapCenter(e);if(!this.map){this.map=cs.map(this.mapContainer.nativeElement,{doubleClickZoom:!1,zoomControl:!1});const a=window.rgOsmKey;cs.tileLayer("https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key="+a,{attribution:'&copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'}).addTo(this.map)}if(this.map.setView(i,this.getMapZoomLevel(e)),this.markers&&this.markers.length>=0){for(var r=0;r<this.markers.length;r++)this.markers[r]&&this.map.removeLayer(this.markers[r]);this.markers=new Array}if(e.MapMakerInfos&&e.MapMakerInfos.length>0){e&&e.MapMakerInfos&&e.MapMakerInfos.forEach(a=>{if(""===this.filterText||a.Title.toLowerCase().indexOf(this.filterText.toLowerCase())>=0){let l="",u=null;this.hideLabels||(l=a.Title),(0==a.Type&&this.showCalls||1==a.Type&&this.showUnits||2==a.Type&&this.showStations)&&(u=this.hideLabels?cs.marker([a.Latitude,a.Longitude],{icon:cs.icon({iconUrl:"/images/mapping/"+a.ImagePath+".png",iconSize:[32,37],iconAnchor:[16,37]}),draggable:!1,title:l}).addTo(this.map):cs.marker([a.Latitude,a.Longitude],{icon:cs.icon({iconUrl:"/images/mapping/"+a.ImagePath+".png",iconSize:[32,37],iconAnchor:[16,37]}),draggable:!1,title:l}).bindTooltip(l,{permanent:!0,direction:"bottom"}).addTo(this.map)),this.markers.push(u)}});var s=cs.featureGroup(this.markers);this.map.fitBounds(s.getBounds())}}this.getMapLayers()}getMapCenter(e){return[e.CenterLat,e.CenterLon]}getMapZoomLevel(e){return e.ZoomLevel}}return n.\u0275fac=function(e){return new(e||n)(M(Vj),M(ua))},n.\u0275cmp=ft({type:n,selectors:[["ng-component"]],viewQuery:function(e,i){if(1&e&&Jp(f3,5),2&e){let r;Qp(r=eg())&&(i.mapContainer=r.first)}},inputs:{showbuttons:"showbuttons",mapheight:"mapheight"},features:[Kt],decls:6,vars:5,consts:[["cdkConnectedOverlay","",3,"cdkConnectedOverlayOpen","cdkConnectedOverlayOrigin"],["cdkOverlayOrigin",""],["trigger","cdkOverlayOrigin"],["style","width: 100%; padding-bottom: 4px;",4,"ngIf"],["id","map","name","map",2,"width","100%"],["map",""],[1,"text-center"],[1,"sk-spinner","sk-spinner-wave"],[1,"sk-rect1"],[1,"sk-rect2",2,"padding-left","4px"],[1,"sk-rect3",2,"padding-left","4px"],[1,"sk-rect4",2,"padding-left","4px"],[1,"sk-rect5",2,"padding-left","4px"],[2,"width","100%","padding-bottom","4px"],[2,"width","50%","float","left","text-align","left"],["type","text","placeholder","filter markers text",3,"ngModel","ngModelChange"],["type","checkbox",3,"checked","change"],[2,"width","50%","float","right","text-align","right"]],template:function(e,i){if(1&e&&(se(0,p3,9,0,"ng-template",0),Z(1,"div",1,2),se(3,g3,14,6,"div",3),St(4,"div",4,5),Y()),2&e){const r=Ft(2);F("cdkConnectedOverlayOpen",null===Ft(5))("cdkConnectedOverlayOrigin",r),j(3),F("ngIf",1==i.showbuttons),j(1),Er("height",i.mapheight)}},directives:[cz,LE,Mr,hh,cT,bv],styles:[""],changeDetection:0}),n})();const v3=()=>window.rgApiBaseUrl&&window.rgApiBaseUrl.length>0?window.rgApiBaseUrl.trim().toString():"https://api.resgrid.com";let w3=(()=>{class n{constructor(e){this.injector=e}ngDoBootstrap(){customElements.define("rg-shifts-calendar",qS(vU,{injector:this.injector})),customElements.define("rg-map",qS(m3,{injector:this.injector}))}}return n.\u0275fac=function(e){return new(e||n)(P(ln))},n.\u0275mod=st({type:n}),n.\u0275inj=be({providers:[],imports:[[da,FH,WS,h3,PL,AB.forRoot({provide:xr,useFactory:CH}),hz,Lj.forRoot({baseApiUrl:v3,apiVersion:"v4",clientId:"RgWebApp",googleApiKey:window.rgGoogleMapsKey&&window.rgGoogleMapsKey.length>0?window.rgGoogleMapsKey.trim().toString():"",channelUrl:window.rgChannelUrl&&window.rgChannelUrl.length>0?window.rgChannelUrl.trim().toString():"https://events.resgrid.com",channelHubName:"eventingHub",logLevel:0,isMobileApp:!1})]]}),n})();(function rR(){QD=!1})(),aN().bootstrapModule(w3).catch(n=>console.error(n))},407:function(wc,Cc){!function(B){"use strict";function Xe(o){var c,h,p,m;for(h=1,p=arguments.length;h<p;h++)for(c in m=arguments[h])o[c]=m[c];return o}var Or=Object.create||function(){function o(){}return function(c){return o.prototype=c,new o}}();function Qe(o,c){var h=Array.prototype.slice;if(o.bind)return o.bind.apply(o,h.call(arguments,1));var p=h.call(arguments,2);return function(){return o.apply(c,p.length?p.concat(h.call(arguments)):arguments)}}var Nt=0;function Ue(o){return"_leaflet_id"in o||(o._leaflet_id=++Nt),o._leaflet_id}function Da(o,c,h){var p,m,y,D;return D=function(){p=!1,m&&(y.apply(h,m),m=!1)},y=function(){p?m=arguments:(o.apply(h,arguments),setTimeout(D,c),p=!0)},y}function Nr(o,c,h){var p=c[1],m=c[0],y=p-m;return o===p&&h?o:((o-m)%y+y)%y+m}function ct(){return!1}function Mn(o,c){if(!1===c)return o;var h=Math.pow(10,void 0===c?6:c);return Math.round(o*h)/h}function qs(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function Bi(o){return qs(o).split(/\s+/)}function wt(o,c){for(var h in Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?Or(o.options):{}),c)o.options[h]=c[h];return o.options}function Dc(o,c,h){var p=[];for(var m in o)p.push(encodeURIComponent(h?m.toUpperCase():m)+"="+encodeURIComponent(o[m]));return(c&&-1!==c.indexOf("?")?"&":"?")+p.join("&")}var Dh=/\{ *([\w_ -]+) *\}/g;function Ys(o,c){return o.replace(Dh,function(h,p){var m=c[p];if(void 0===m)throw new Error("No value provided for variable "+h);return"function"==typeof m&&(m=m(c)),m})}var rn=Array.isArray||function(o){return"[object Array]"===Object.prototype.toString.call(o)};function Fr(o,c){for(var h=0;h<o.length;h++)if(o[h]===c)return h;return-1}var Ks="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ps(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var Sc=0;function Xs(o){var c=+new Date,h=Math.max(0,16-(c-Sc));return Sc=c+h,window.setTimeout(o,h)}var Sa=window.requestAnimationFrame||ps("RequestAnimationFrame")||Xs,Lr=window.cancelAnimationFrame||ps("CancelAnimationFrame")||ps("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function $t(o,c,h){if(!h||Sa!==Xs)return Sa.call(window,Qe(o,c));o.call(c)}function Hn(o){o&&Lr.call(window,o)}var ba={__proto__:null,extend:Xe,create:Or,bind:Qe,get lastId(){return Nt},stamp:Ue,throttle:Da,wrapNum:Nr,falseFn:ct,formatNum:Mn,trim:qs,splitWords:Bi,setOptions:wt,getParamString:Dc,template:Ys,isArray:rn,indexOf:Fr,emptyImageUrl:Ks,requestFn:Sa,cancelFn:Lr,requestAnimFrame:$t,cancelAnimFrame:Hn};function Si(){}Si.extend=function(o){var c=function(){wt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=c.__super__=this.prototype,p=Or(h);for(var m in p.constructor=c,c.prototype=p,this)Object.prototype.hasOwnProperty.call(this,m)&&"prototype"!==m&&"__super__"!==m&&(c[m]=this[m]);return o.statics&&Xe(c,o.statics),o.includes&&(function Ea(o){if(!(typeof L>"u")&&L&&L.Mixin){o=rn(o)?o:[o];for(var c=0;c<o.length;c++)o[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(o.includes),Xe.apply(null,[p].concat(o.includes))),Xe(p,o),delete p.statics,delete p.includes,p.options&&(p.options=h.options?Or(h.options):{},Xe(p.options,o.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,D=p._initHooks.length;y<D;y++)p._initHooks[y].call(this)}},c},Si.include=function(o){var c=this.prototype.options;return Xe(this.prototype,o),o.options&&(this.prototype.options=c,this.mergeOptions(o.options)),this},Si.mergeOptions=function(o){return Xe(this.prototype.options,o),this},Si.addInitHook=function(o){var c=Array.prototype.slice.call(arguments,1),h="function"==typeof o?o:function(){this[o].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};var Vt={on:function(o,c,h){if("object"==typeof o)for(var p in o)this._on(p,o[p],c);else for(var m=0,y=(o=Bi(o)).length;m<y;m++)this._on(o[m],c,h);return this},off:function(o,c,h){if(arguments.length)if("object"==typeof o)for(var p in o)this._off(p,o[p],c);else{o=Bi(o);for(var m=1===arguments.length,y=0,D=o.length;y<D;y++)m?this._off(o[y]):this._off(o[y],c,h)}else delete this._events;return this},_on:function(o,c,h){if("function"==typeof c){this._events=this._events||{};var p=this._events[o];p||(this._events[o]=p=[]),h===this&&(h=void 0);for(var m={fn:c,ctx:h},y=p,D=0,T=y.length;D<T;D++)if(y[D].fn===c&&y[D].ctx===h)return;y.push(m)}else console.warn("wrong listener type: "+typeof c)},_off:function(o,c,h){var p,m,y;if(this._events&&(p=this._events[o])){if(1===arguments.length){if(this._firingCount)for(m=0,y=p.length;m<y;m++)p[m].fn=ct;return void delete this._events[o]}if(h===this&&(h=void 0),"function"!=typeof c)return void console.warn("wrong listener type: "+typeof c);for(m=0,y=p.length;m<y;m++){var D=p[m];if(D.ctx===h&&D.fn===c)return this._firingCount&&(D.fn=ct,this._events[o]=p=p.slice()),void p.splice(m,1)}console.warn("listener not found")}},fire:function(o,c,h){if(!this.listens(o,h))return this;var p=Xe({},c,{type:o,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var m=this._events[o];if(m){this._firingCount=this._firingCount+1||1;for(var y=0,D=m.length;y<D;y++){var T=m[y];T.fn.call(T.ctx||this,p)}this._firingCount--}}return h&&this._propagateEvent(p),this},listens:function(o,c){"string"!=typeof o&&console.warn('"string" type argument expected');var h=this._events&&this._events[o];if(h&&h.length)return!0;if(c)for(var p in this._eventParents)if(this._eventParents[p].listens(o,c))return!0;return!1},once:function(o,c,h){if("object"==typeof o){for(var p in o)this.once(p,o[p],c);return this}var m=Qe(function(){this.off(o,c,h).off(o,m,h)},this);return this.on(o,c,h).on(o,m,h)},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[Ue(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[Ue(o)],this},_propagateEvent:function(o){for(var c in this._eventParents)this._eventParents[c].fire(o.type,Xe({layer:o.target,propagatedFrom:o.target},o),!0)}};Vt.addEventListener=Vt.on,Vt.removeEventListener=Vt.clearAllEventListeners=Vt.off,Vt.addOneTimeEventListener=Vt.once,Vt.fireEvent=Vt.fire,Vt.hasEventListeners=Vt.listens;var Qs=Si.extend(Vt);function me(o,c,h){this.x=h?Math.round(o):o,this.y=h?Math.round(c):c}var nt=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};function xe(o,c,h){return o instanceof me?o:rn(o)?new me(o[0],o[1]):null==o?o:"object"==typeof o&&"x"in o&&"y"in o?new me(o.x,o.y):new me(o,c,h)}function Ct(o,c){if(o)for(var h=c?[o,c]:o,p=0,m=h.length;p<m;p++)this.extend(h[p])}function qn(o,c){return!o||o instanceof Ct?o:new Ct(o,c)}function wn(o,c){if(o)for(var h=c?[o,c]:o,p=0,m=h.length;p<m;p++)this.extend(h[p])}function ve(o,c){return o instanceof wn?o:new wn(o,c)}function Je(o,c,h){if(isNaN(o)||isNaN(c))throw new Error("Invalid LatLng object: ("+o+", "+c+")");this.lat=+o,this.lng=+c,void 0!==h&&(this.alt=+h)}function Dt(o,c,h){return o instanceof Je?o:rn(o)&&"object"!=typeof o[0]?3===o.length?new Je(o[0],o[1],o[2]):2===o.length?new Je(o[0],o[1]):null:null==o?o:"object"==typeof o&&"lat"in o?new Je(o.lat,"lng"in o?o.lng:o.lon,o.alt):void 0===c?null:new Je(o,c,h)}me.prototype={clone:function(){return new me(this.x,this.y)},add:function(o){return this.clone()._add(xe(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(xe(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new me(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new me(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=nt(this.x),this.y=nt(this.y),this},distanceTo:function(o){var c=(o=xe(o)).x-this.x,h=o.y-this.y;return Math.sqrt(c*c+h*h)},equals:function(o){return(o=xe(o)).x===this.x&&o.y===this.y},contains:function(o){return o=xe(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+Mn(this.x)+", "+Mn(this.y)+")"}},Ct.prototype={extend:function(o){return o=xe(o),this.min||this.max?(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)):(this.min=o.clone(),this.max=o.clone()),this},getCenter:function(o){return new me((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return new me(this.min.x,this.max.y)},getTopRight:function(){return new me(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var c,h;return(o="number"==typeof o[0]||o instanceof me?xe(o):qn(o))instanceof Ct?(c=o.min,h=o.max):c=h=o,c.x>=this.min.x&&h.x<=this.max.x&&c.y>=this.min.y&&h.y<=this.max.y},intersects:function(o){o=qn(o);var c=this.min,h=this.max,p=o.min,m=o.max;return m.x>=c.x&&p.x<=h.x&&m.y>=c.y&&p.y<=h.y},overlaps:function(o){o=qn(o);var c=this.min,h=this.max,p=o.min,m=o.max;return m.x>c.x&&p.x<h.x&&m.y>c.y&&p.y<h.y},isValid:function(){return!(!this.min||!this.max)}},wn.prototype={extend:function(o){var p,m,c=this._southWest,h=this._northEast;if(o instanceof Je)p=o,m=o;else{if(!(o instanceof wn))return o?this.extend(Dt(o)||ve(o)):this;if(m=o._northEast,!(p=o._southWest)||!m)return this}return c||h?(c.lat=Math.min(p.lat,c.lat),c.lng=Math.min(p.lng,c.lng),h.lat=Math.max(m.lat,h.lat),h.lng=Math.max(m.lng,h.lng)):(this._southWest=new Je(p.lat,p.lng),this._northEast=new Je(m.lat,m.lng)),this},pad:function(o){var c=this._southWest,h=this._northEast,p=Math.abs(c.lat-h.lat)*o,m=Math.abs(c.lng-h.lng)*o;return new wn(new Je(c.lat-p,c.lng-m),new Je(h.lat+p,h.lng+m))},getCenter:function(){return new Je((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Je(this.getNorth(),this.getWest())},getSouthEast:function(){return new Je(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){o="number"==typeof o[0]||o instanceof Je||"lat"in o?Dt(o):ve(o);var p,m,c=this._southWest,h=this._northEast;return o instanceof wn?(p=o.getSouthWest(),m=o.getNorthEast()):p=m=o,p.lat>=c.lat&&m.lat<=h.lat&&p.lng>=c.lng&&m.lng<=h.lng},intersects:function(o){o=ve(o);var c=this._southWest,h=this._northEast,p=o.getSouthWest(),m=o.getNorthEast();return m.lat>=c.lat&&p.lat<=h.lat&&m.lng>=c.lng&&p.lng<=h.lng},overlaps:function(o){o=ve(o);var c=this._southWest,h=this._northEast,p=o.getSouthWest(),m=o.getNorthEast();return m.lat>c.lat&&p.lat<h.lat&&m.lng>c.lng&&p.lng<h.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,c){return!!o&&(o=ve(o),this._southWest.equals(o.getSouthWest(),c)&&this._northEast.equals(o.getNorthEast(),c))},isValid:function(){return!(!this._southWest||!this._northEast)}},Je.prototype={equals:function(o,c){return!!o&&(o=Dt(o),Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng))<=(void 0===c?1e-9:c))},toString:function(o){return"LatLng("+Mn(this.lat,o)+", "+Mn(this.lng,o)+")"},distanceTo:function(o){return it.distance(this,Dt(o))},wrap:function(){return it.wrapLatLng(this)},toBounds:function(o){var c=180*o/40075017,h=c/Math.cos(Math.PI/180*this.lat);return ve([this.lat-c,this.lng-h],[this.lat+c,this.lng+h])},clone:function(){return new Je(this.lat,this.lng,this.alt)}};var o,ut={latLngToPoint:function(o,c){var h=this.projection.project(o),p=this.scale(c);return this.transformation._transform(h,p)},pointToLatLng:function(o,c){var h=this.scale(c),p=this.transformation.untransform(o,h);return this.projection.unproject(p)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var c=this.projection.bounds,h=this.scale(o);return new Ct(this.transformation.transform(c.min,h),this.transformation.transform(c.max,h))},infinite:!1,wrapLatLng:function(o){var c=this.wrapLng?Nr(o.lng,this.wrapLng,!0):o.lng;return new Je(this.wrapLat?Nr(o.lat,this.wrapLat,!0):o.lat,c,o.alt)},wrapLatLngBounds:function(o){var c=o.getCenter(),h=this.wrapLatLng(c),p=c.lat-h.lat,m=c.lng-h.lng;if(0===p&&0===m)return o;var y=o.getSouthWest(),D=o.getNorthEast();return new wn(new Je(y.lat-p,y.lng-m),new Je(D.lat-p,D.lng-m))}},it=Xe({},ut,{wrapLng:[-180,180],R:6371e3,distance:function(o,c){var h=Math.PI/180,p=o.lat*h,m=c.lat*h,y=Math.sin((c.lat-o.lat)*h/2),D=Math.sin((c.lng-o.lng)*h/2),T=y*y+Math.cos(p)*Math.cos(m)*D*D,I=2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T));return this.R*I}}),He={R:6378137,MAX_LATITUDE:85.0511287798,project:function(o){var c=Math.PI/180,h=this.MAX_LATITUDE,p=Math.max(Math.min(h,o.lat),-h),m=Math.sin(p*c);return new me(this.R*o.lng*c,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(o){var c=180/Math.PI;return new Je((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*c,o.x*c/this.R)},bounds:(o=6378137*Math.PI,new Ct([-o,-o],[o,o]))};function gs(o,c,h,p){if(rn(o))return this._a=o[0],this._b=o[1],this._c=o[2],void(this._d=o[3]);this._a=o,this._b=c,this._c=h,this._d=p}function Js(o,c,h,p){return new gs(o,c,h,p)}gs.prototype={transform:function(o,c){return this._transform(o.clone(),c)},_transform:function(o,c){return o.x=(c=c||1)*(this._a*o.x+this._b),o.y=c*(this._c*o.y+this._d),o},untransform:function(o,c){return new me((o.x/(c=c||1)-this._b)/this._a,(o.y/c-this._d)/this._c)}};var Vr=Xe({},it,{code:"EPSG:3857",projection:He,transformation:function(){var o=.5/(Math.PI*He.R);return Js(o,.5,-o,.5)}()}),Sh=Xe({},Vr,{code:"EPSG:900913"});function bh(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Eh(o,c){var p,m,y,D,T,I,h="";for(p=0,y=o.length;p<y;p++){for(m=0,D=(T=o[p]).length;m<D;m++)h+=(m?"L":"M")+(I=T[m]).x+" "+I.y;h+=c?ne.svg?"z":"x":""}return h||"M0 0"}var Ec=document.documentElement.style,eo="ActiveXObject"in window,Rv=eo&&!document.addEventListener,Ta="msLaunchUri"in navigator&&!("documentMode"in document),Tc=li("webkit"),Ma=li("android"),Mc=li("android 2")||li("android 3"),Ov=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Nv=Ma&&li("Google")&&Ov<537&&!("AudioNode"in window),Ic=!!window.opera,Hi=!Ta&&li("chrome"),Ac=li("gecko")&&!Tc&&!Ic&&!eo,Fv=!Hi&&li("safari"),Pc=li("phantom"),Th="OTransition"in Ec,Mh=0===navigator.platform.indexOf("Win"),Ih=eo&&"transition"in Ec,kc="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Mc,Ah="MozPerspective"in Ec,Lv=!window.L_DISABLE_3D&&(Ih||kc||Ah)&&!Th&&!Pc,to=typeof orientation<"u"||li("mobile"),Ia=to&&Tc,xc=to&&kc,Aa=!window.PointerEvent&&window.MSPointerEvent,Pa=!(!window.PointerEvent&&!Aa),ka="ontouchstart"in window||!!window.TouchEvent,Ph=!window.L_NO_TOUCH&&(ka||Pa),Rc=to&&Ic,Oc=to&&Ac,Nc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fc=function(){var o=!1;try{var c=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",ct,c),window.removeEventListener("testPassiveEventSupport",ct,c)}catch{}return o}(),In=!!document.createElement("canvas").getContext,xa=!(!document.createElementNS||!bh("svg").createSVGRect),kh=!!xa&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(o.firstChild&&o.firstChild.namespaceURI)}(),xh=!xa&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var c=o.firstChild;return c.style.behavior="url(#default#VML)",c&&"object"==typeof c.adj}catch{return!1}}();function li(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var ne={ie:eo,ielt9:Rv,edge:Ta,webkit:Tc,android:Ma,android23:Mc,androidStock:Nv,opera:Ic,chrome:Hi,gecko:Ac,safari:Fv,phantom:Pc,opera12:Th,win:Mh,ie3d:Ih,webkit3d:kc,gecko3d:Ah,any3d:Lv,mobile:to,mobileWebkit:Ia,mobileWebkit3d:xc,msPointer:Aa,pointer:Pa,touch:Ph,touchNative:ka,mobileOpera:Rc,mobileGecko:Oc,retina:Nc,passiveEvents:Fc,canvas:In,svg:xa,vml:xh,inlineSvg:kh},Lc=ne.msPointer?"MSPointerDown":"pointerdown",Vc=ne.msPointer?"MSPointerMove":"pointermove",ci=ne.msPointer?"MSPointerUp":"pointerup",Bc=ne.msPointer?"MSPointerCancel":"pointercancel",ui={touchstart:Lc,touchmove:Vc,touchend:ci,touchcancel:Bc},Ra={touchstart:function Uc(o,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&be(c),ms(o,c)},touchmove:ms,touchend:ms,touchcancel:ms},bi={},Rh=!1;function Oh(o,c,h){return"touchstart"===c&&function Nh(){Rh||(document.addEventListener(Lc,Oa,!0),document.addEventListener(Vc,jc,!0),document.addEventListener(ci,Br,!0),document.addEventListener(Bc,Br,!0),Rh=!0)}(),Ra[c]?(h=Ra[c].bind(this,h),o.addEventListener(ui[c],h,!1),h):(console.warn("wrong event specified:",c),L.Util.falseFn)}function Oa(o){bi[o.pointerId]=o}function jc(o){bi[o.pointerId]&&(bi[o.pointerId]=o)}function Br(o){delete bi[o.pointerId]}function ms(o,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){for(var h in c.touches=[],bi)c.touches.push(bi[h]);c.changedTouches=[c],o(c)}}var io,ro,jr,Fa,Kn,no=Hr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),vs=Hr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zc="webkitTransition"===vs||"OTransition"===vs?vs+"End":"transitionend";function pr(o){return"string"==typeof o?document.getElementById(o):o}function sn(o,c){var h=o.style[c]||o.currentStyle&&o.currentStyle[c];if((!h||"auto"===h)&&document.defaultView){var p=document.defaultView.getComputedStyle(o,null);h=p?p[c]:null}return"auto"===h?null:h}function Se(o,c,h){var p=document.createElement(o);return p.className=c||"",h&&h.appendChild(p),p}function dt(o){var c=o.parentNode;c&&c.removeChild(o)}function $e(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function ji(o){var c=o.parentNode;c&&c.lastChild!==o&&c.appendChild(o)}function Le(o){var c=o.parentNode;c&&c.firstChild!==o&&c.insertBefore(o,c.firstChild)}function _s(o,c){if(void 0!==o.classList)return o.classList.contains(c);var h=ys(o);return h.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(h)}function Ee(o,c){if(void 0!==o.classList)for(var h=Bi(c),p=0,m=h.length;p<m;p++)o.classList.add(h[p]);else if(!_s(o,c)){var y=ys(o);_e(o,(y?y+" ":"")+c)}}function fe(o,c){void 0!==o.classList?o.classList.remove(c):_e(o,qs((" "+ys(o)+" ").replace(" "+c+" "," ")))}function _e(o,c){void 0===o.className.baseVal?o.className=c:o.className.baseVal=c}function ys(o){return o.correspondingElement&&(o=o.correspondingElement),void 0===o.className.baseVal?o.className:o.className.baseVal}function Yn(o,c){"opacity"in o.style?o.style.opacity=c:"filter"in o.style&&function $(o,c){var h=!1,p="DXImageTransform.Microsoft.Alpha";try{h=o.filters.item(p)}catch{if(1===c)return}c=Math.round(100*c),h?(h.Enabled=100!==c,h.Opacity=c):o.style.filter+=" progid:"+p+"(opacity="+c+")"}(o,c)}function Hr(o){for(var c=document.documentElement.style,h=0;h<o.length;h++)if(o[h]in c)return o[h];return!1}function le(o,c,h){var p=c||new me(0,0);o.style[no]=(ne.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(h?" scale("+h+")":"")}function Ve(o,c){o._leaflet_pos=c,ne.any3d?le(o,c):(o.style.left=c.x+"px",o.style.top=c.y+"px")}function gr(o){return o._leaflet_pos||new me(0,0)}if("onselectstart"in document)io=function(){Te(window,"selectstart",be)},ro=function(){ht(window,"selectstart",be)};else{var Zt=Hr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);io=function(){if(Zt){var o=document.documentElement.style;jr=o[Zt],o[Zt]="none"}},ro=function(){Zt&&(document.documentElement.style[Zt]=jr,jr=void 0)}}function Wc(){Te(window,"dragstart",be)}function Na(){ht(window,"dragstart",be)}function Gc(o){for(;-1===o.tabIndex;)o=o.parentNode;!o.style||(La(),Fa=o,Kn=o.style.outline,o.style.outline="none",Te(window,"keydown",La))}function La(){!Fa||(Fa.style.outline=Kn,Fa=void 0,Kn=void 0,ht(window,"keydown",La))}function Hh(o){do{o=o.parentNode}while(!(o.offsetWidth&&o.offsetHeight||o===document.body));return o}function $c(o){var c=o.getBoundingClientRect();return{x:c.width/o.offsetWidth||1,y:c.height/o.offsetHeight||1,boundingClientRect:c}}var jh={__proto__:null,TRANSFORM:no,TRANSITION:vs,TRANSITION_END:zc,get:pr,getStyle:sn,create:Se,remove:dt,empty:$e,toFront:ji,toBack:Le,hasClass:_s,addClass:Ee,removeClass:fe,setClass:_e,getClass:ys,setOpacity:Yn,testProp:Hr,setTransform:le,setPosition:Ve,getPosition:gr,get disableTextSelection(){return io},get enableTextSelection(){return ro},disableImageDrag:Wc,enableImageDrag:Na,preventOutline:Gc,restoreOutline:La,getSizedParentNode:Hh,getScale:$c};function Te(o,c,h,p){if(c&&"object"==typeof c)for(var m in c)Zc(o,m,c[m],h);else for(var y=0,D=(c=Bi(c)).length;y<D;y++)Zc(o,c[y],h,p);return this}var di="_leaflet_events";function ht(o,c,h,p){if(1===arguments.length)Cn(o),delete o[di];else if(c&&"object"==typeof c)for(var m in c)qc(o,m,c[m],h);else if(c=Bi(c),2===arguments.length)Cn(o,function(T){return-1!==Fr(c,T)});else for(var y=0,D=c.length;y<D;y++)qc(o,c[y],h,p);return this}function Cn(o,c){for(var h in o[di]){var p=h.split(/\d/)[0];(!c||c(p))&&qc(o,p,null,null,h)}}var rt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Zc(o,c,h,p){var m=c+Ue(h)+(p?"_"+Ue(p):"");if(o[di]&&o[di][m])return this;var y=function(T){return h.call(p||o,T||window.event)},D=y;!ne.touchNative&&ne.pointer&&0===c.indexOf("touch")?y=Oh(o,c,y):ne.touch&&"dblclick"===c?y=function Vh(o,c){o.addEventListener("dblclick",c);var p,h=0;function m(y){if(1===y.detail){if("mouse"!==y.pointerType&&(!y.sourceCapabilities||y.sourceCapabilities.firesTouchEvents)){var D=Date.now();D-h<=200?2==++p&&c(function Fh(o){var h,p,c={};for(p in o)c[p]=(h=o[p])&&h.bind?h.bind(o):h;return o=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}(y)):p=1,h=D}}else p=y.detail}return o.addEventListener("click",m),{dblclick:c,simDblclick:m}}(o,y):"addEventListener"in o?"touchstart"===c||"touchmove"===c||"wheel"===c||"mousewheel"===c?o.addEventListener(rt[c]||c,y,!!ne.passiveEvents&&{passive:!1}):"mouseenter"===c||"mouseleave"===c?o.addEventListener(rt[c],y=function(T){T=T||window.event,oo(o,T)&&D(T)},!1):o.addEventListener(c,D,!1):o.attachEvent("on"+c,y),o[di]=o[di]||{},o[di][m]=y}function qc(o,c,h,p,m){m=m||c+Ue(h)+(p?"_"+Ue(p):"");var y=o[di]&&o[di][m];if(!y)return this;!ne.touchNative&&ne.pointer&&0===c.indexOf("touch")?function Hc(o,c,h){ui[c]?o.removeEventListener(ui[c],h,!1):console.warn("wrong event specified:",c)}(o,c,y):ne.touch&&"dblclick"===c?function Bh(o,c){o.removeEventListener("dblclick",c.dblclick),o.removeEventListener("click",c.simDblclick)}(o,y):"removeEventListener"in o?o.removeEventListener(rt[c]||c,y,!1):o.detachEvent("on"+c,y),o[di][m]=null}function Ur(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function q(o){return Zc(o,"wheel",Ur),this}function so(o){return Te(o,"mousedown touchstart dblclick contextmenu",Ur),o._leaflet_disable_click=!0,this}function be(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Ei(o){return be(o),Ur(o),this}function Va(o,c){if(!c)return new me(o.clientX,o.clientY);var h=$c(c),p=h.boundingClientRect;return new me((o.clientX-p.left)/h.x-c.clientLeft,(o.clientY-p.top)/h.y-c.clientTop)}var Uh=ne.win&&ne.chrome?2*window.devicePixelRatio:ne.gecko?window.devicePixelRatio:1;function Yc(o){return ne.edge?o.wheelDeltaY/2:o.deltaY&&0===o.deltaMode?-o.deltaY/Uh:o.deltaY&&1===o.deltaMode?20*-o.deltaY:o.deltaY&&2===o.deltaMode?60*-o.deltaY:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?20*-o.detail:o.detail?o.detail/-32765*60:0}function oo(o,c){var h=c.relatedTarget;if(!h)return!0;try{for(;h&&h!==o;)h=h.parentNode}catch{return!1}return h!==o}var ao={__proto__:null,on:Te,off:ht,stopPropagation:Ur,disableScrollPropagation:q,disableClickPropagation:so,preventDefault:be,stop:Ei,getMousePosition:Va,getWheelDelta:Yc,isExternalTarget:oo,addListener:Te,removeListener:ht},lo=Qs.extend({run:function(o,c,h,p){this.stop(),this._el=o,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=gr(o),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=$t(this._animate,this),this._step()},_step:function(o){var c=+new Date-this._startTime,h=1e3*this._duration;c<h?this._runFrame(this._easeOut(c/h),o):(this._runFrame(1),this._complete())},_runFrame:function(o,c){var h=this._startPos.add(this._offset.multiplyBy(o));c&&h._round(),Ve(this._el,h),this.fire("step")},_complete:function(){Hn(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Oe=Qs.extend({options:{crs:Vr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,c){c=wt(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=Qe(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),void 0!==c.zoom&&(this._zoom=this._limitZoom(c.zoom)),c.center&&void 0!==c.zoom&&this.setView(Dt(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=vs&&ne.any3d&&!ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,zc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,c,h){return c=void 0===c?this._zoom:this._limitZoom(c),o=this._limitCenter(Dt(o),c,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&!0!==h&&(void 0!==h.animate&&(h.zoom=Xe({animate:h.animate},h.zoom),h.pan=Xe({animate:h.animate,duration:h.duration},h.pan)),this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,c,h.zoom):this._tryAnimatedPan(o,h.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(o,c),this)},setZoom:function(o,c){return this._loaded?this.setView(this.getCenter(),o,{zoom:c}):(this._zoom=o,this)},zoomIn:function(o,c){return this.setZoom(this._zoom+(o=o||(ne.any3d?this.options.zoomDelta:1)),c)},zoomOut:function(o,c){return this.setZoom(this._zoom-(o=o||(ne.any3d?this.options.zoomDelta:1)),c)},setZoomAround:function(o,c,h){var p=this.getZoomScale(c),m=this.getSize().divideBy(2),D=(o instanceof me?o:this.latLngToContainerPoint(o)).subtract(m).multiplyBy(1-1/p),T=this.containerPointToLatLng(m.add(D));return this.setView(T,c,{zoom:h})},_getBoundsCenterZoom:function(o,c){c=c||{},o=o.getBounds?o.getBounds():ve(o);var h=xe(c.paddingTopLeft||c.padding||[0,0]),p=xe(c.paddingBottomRight||c.padding||[0,0]),m=this.getBoundsZoom(o,!1,h.add(p));if((m="number"==typeof c.maxZoom?Math.min(c.maxZoom,m):m)===1/0)return{center:o.getCenter(),zoom:m};var y=p.subtract(h).divideBy(2),D=this.project(o.getSouthWest(),m),T=this.project(o.getNorthEast(),m);return{center:this.unproject(D.add(T).divideBy(2).add(y),m),zoom:m}},fitBounds:function(o,c){if(!(o=ve(o)).isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(o,c);return this.setView(h.center,h.zoom,c)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,c){return this.setView(o,this._zoom,{pan:c})},panBy:function(o,c){if(c=c||{},!(o=xe(o).round()).x&&!o.y)return this.fire("moveend");if(!0!==c.animate&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new lo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),!1!==c.animate){Ee(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,h,c.duration||.25,c.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,c,h){if(!1===(h=h||{}).animate||!ne.any3d)return this.setView(o,c,h);this._stop();var p=this.project(this.getCenter()),m=this.project(o),y=this.getSize(),D=this._zoom;o=Dt(o),c=void 0===c?D:c;var T=Math.max(y.x,y.y),I=T*this.getZoomScale(D,c),O=m.distanceTo(p)||1,X=1.42,Me=X*X;function je(ze){var Eo=(I*I-T*T+(ze?-1:1)*Me*Me*O*O)/(2*(ze?I:T)*Me*O),To=Math.sqrt(Eo*Eo+1)-Eo;return To<1e-9?-18:Math.log(To)}function Ze(ze){return(Math.exp(ze)-Math.exp(-ze))/2}function Xi(ze){return(Math.exp(ze)+Math.exp(-ze))/2}var ot=je(0);function Zv(ze){return T*(Xi(ot)*function So(ze){return Ze(ze)/Xi(ze)}(ot+X*ze)-Ze(ot))/Me}var Gn=Date.now(),su=(je(1)-ot)/X,Ya=h.duration?1e3*h.duration:1e3*su*.8;return this._moveStart(!0,h.noMoveStart),function wr(){var ze=(Date.now()-Gn)/Ya,Es=function bo(ze){return 1-Math.pow(1-ze,1.5)}(ze)*su;ze<=1?(this._flyToFrame=$t(wr,this),this._move(this.unproject(p.add(m.subtract(p).multiplyBy(Zv(Es)/O)),D),this.getScaleZoom(T/function qa(ze){return T*(Xi(ot)/Xi(ot+X*ze))}(Es),D),{flyTo:!0})):this._move(o,c)._moveEnd(!0)}.call(this),this},flyToBounds:function(o,c){var h=this._getBoundsCenterZoom(o,c);return this.flyTo(h.center,h.zoom,c)},setMaxBounds:function(o){return(o=ve(o)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(o){var c=this.options.minZoom;return this.options.minZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var c=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,c){this._enforcingBounds=!0;var h=this.getCenter(),p=this._limitCenter(h,this._zoom,ve(o));return h.equals(p)||this.panTo(p,c),this._enforcingBounds=!1,this},panInside:function(o,c){var h=xe((c=c||{}).paddingTopLeft||c.padding||[0,0]),p=xe(c.paddingBottomRight||c.padding||[0,0]),m=this.project(this.getCenter()),y=this.project(o),D=this.getPixelBounds(),T=qn([D.min.add(h),D.max.subtract(p)]),I=T.getSize();if(!T.contains(y)){this._enforcingBounds=!0;var O=y.subtract(T.getCenter()),X=T.extend(y).getSize().subtract(I);m.x+=O.x<0?-X.x:X.x,m.y+=O.y<0?-X.y:X.y,this.panTo(this.unproject(m),c),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=Xe({animate:!1,pan:!0},!0===o?{animate:!0}:o);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),p=c.divideBy(2).round(),m=h.divideBy(2).round(),y=p.subtract(m);return y.x||y.y?(o.animate&&o.pan?this.panBy(y):(o.pan&&this._rawPanBy(y),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Qe(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:h})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=Xe({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=Qe(this._handleGeolocationResponse,this),h=Qe(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,h,o):navigator.geolocation.getCurrentPosition(c,h,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var c=o.code,h=o.message||(1===c?"permission denied":2===c?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var p=new Je(o.coords.latitude,o.coords.longitude),m=p.toBounds(2*o.coords.accuracy),y=this._locateOptions;if(y.setView){var D=this.getBoundsZoom(m);this.setView(p,y.maxZoom?Math.min(D,y.maxZoom):D)}var T={latlng:p,bounds:m,timestamp:o.timestamp};for(var I in o.coords)"number"==typeof o.coords[I]&&(T[I]=o.coords[I]);this.fire("locationfound",T)}},addHandler:function(o,c){if(!c)return this;var h=this[o]=new c(this);return this._handlers.push(h),this.options[o]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var o;for(o in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Hn(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[o].remove();for(o in this._panes)dt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,c){var p=Se("div","leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),c||this._mapPane);return o&&(this._panes[o]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds();return new wn(this.unproject(o.getBottomLeft()),this.unproject(o.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,c,h){o=ve(o),h=xe(h||[0,0]);var p=this.getZoom()||0,m=this.getMinZoom(),y=this.getMaxZoom(),D=o.getNorthWest(),T=o.getSouthEast(),I=this.getSize().subtract(h),O=qn(this.project(T,p),this.project(D,p)).getSize(),X=ne.any3d?this.options.zoomSnap:1,Me=I.x/O.x,je=I.y/O.y,Ze=c?Math.max(Me,je):Math.min(Me,je);return p=this.getScaleZoom(Ze,p),X&&(p=Math.round(p/(X/100))*(X/100),p=c?Math.ceil(p/X)*X:Math.floor(p/X)*X),Math.max(m,Math.min(y,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new me(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,c){var h=this._getTopLeftPoint(o,c);return new Ct(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(void 0===o?this.getZoom():o)},getPane:function(o){return"string"==typeof o?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,c){var h=this.options.crs;return c=void 0===c?this._zoom:c,h.scale(o)/h.scale(c)},getScaleZoom:function(o,c){var h=this.options.crs,p=h.zoom(o*h.scale(c=void 0===c?this._zoom:c));return isNaN(p)?1/0:p},project:function(o,c){return c=void 0===c?this._zoom:c,this.options.crs.latLngToPoint(Dt(o),c)},unproject:function(o,c){return c=void 0===c?this._zoom:c,this.options.crs.pointToLatLng(xe(o),c)},layerPointToLatLng:function(o){var c=xe(o).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(o){return this.project(Dt(o))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Dt(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(ve(o))},distance:function(o,c){return this.options.crs.distance(Dt(o),Dt(c))},containerPointToLayerPoint:function(o){return xe(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return xe(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var c=this.containerPointToLayerPoint(xe(o));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Dt(o)))},mouseEventToContainerPoint:function(o){return Va(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var c=this._container=pr(o);if(!c)throw new Error("Map container not found.");if(c._leaflet_id)throw new Error("Map container is already initialized.");Te(c,"scroll",this._onScroll,this),this._containerId=Ue(c)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&ne.any3d,Ee(o,"leaflet-container"+(ne.touch?" leaflet-touch":"")+(ne.retina?" leaflet-retina":"")+(ne.ielt9?" leaflet-oldie":"")+(ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=sn(o,"position");"absolute"!==c&&"relative"!==c&&"fixed"!==c&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ve(this._mapPane,new me(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ee(o.markerPane,"leaflet-zoom-hide"),Ee(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,c){Ve(this._mapPane,new me(0,0));var h=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var p=this._zoom!==c;this._moveStart(p,!1)._move(o,c)._moveEnd(p),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(o,c){return o&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(o,c,h,p){void 0===c&&(c=this._zoom);var m=this._zoom!==c;return this._zoom=c,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),p?h&&h.pinch&&this.fire("zoom",h):((m||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Hn(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Ve(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[Ue(this._container)]=this;var c=o?ht:Te;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),ne.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Hn(this._resizeRequest),this._resizeRequest=$t(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,c){for(var p,h=[],m="mouseout"===c||"mouseover"===c,y=o.target||o.srcElement,D=!1;y;){if((p=this._targets[Ue(y)])&&("click"===c||"preclick"===c)&&this._draggableMoved(p)){D=!0;break}if(p&&p.listens(c,!0)&&(m&&!oo(y,o)||(h.push(p),m))||y===this._container)break;y=y.parentNode}return!h.length&&!D&&!m&&this.listens(c,!0)&&(h=[this]),h},_isClickDisabled:function(o){for(;o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var c=o.target||o.srcElement;if(!(!this._loaded||c._leaflet_disable_events||"click"===o.type&&this._isClickDisabled(c))){var h=o.type;"mousedown"===h&&Gc(c),this._fireDOMEvent(o,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,c,h){if("click"===o.type){var p=Xe({},o);p.type="preclick",this._fireDOMEvent(p,p.type,h)}var m=this._findEventTargets(o,c);if(h){for(var y=[],D=0;D<h.length;D++)h[D].listens(c,!0)&&y.push(h[D]);m=y.concat(m)}if(m.length){"contextmenu"===c&&be(o);var T=m[0],I={originalEvent:o};if("keypress"!==o.type&&"keydown"!==o.type&&"keyup"!==o.type){var O=T.getLatLng&&(!T._radius||T._radius<=10);I.containerPoint=O?this.latLngToContainerPoint(T.getLatLng()):this.mouseEventToContainerPoint(o),I.layerPoint=this.containerPointToLayerPoint(I.containerPoint),I.latlng=O?T.getLatLng():this.layerPointToLatLng(I.layerPoint)}for(D=0;D<m.length;D++)if(m[D].fire(c,I,!0),I.originalEvent._stopped||!1===m[D].options.bubblingMouseEvents&&-1!==Fr(this._mouseEvents,c))return}},_draggableMoved:function(o){return(o=o.dragging&&o.dragging.enabled()?o:this).dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,c=this._handlers.length;o<c;o++)this._handlers[o].disable()},whenReady:function(o,c){return this._loaded?o.call(c||this,{target:this}):this.on("load",o,c),this},_getMapPanePos:function(){return gr(this._mapPane)||new me(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,c){return(o&&void 0!==c?this._getNewPixelOrigin(o,c):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,c){var h=this.getSize()._divideBy(2);return this.project(o,c)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,c,h){var p=this._getNewPixelOrigin(h,c);return this.project(o,c)._subtract(p)},_latLngBoundsToNewLayerBounds:function(o,c,h){var p=this._getNewPixelOrigin(h,c);return qn([this.project(o.getSouthWest(),c)._subtract(p),this.project(o.getNorthWest(),c)._subtract(p),this.project(o.getSouthEast(),c)._subtract(p),this.project(o.getNorthEast(),c)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,c,h){if(!h)return o;var p=this.project(o,c),m=this.getSize().divideBy(2),y=new Ct(p.subtract(m),p.add(m)),D=this._getBoundsOffset(y,h,c);return D.round().equals([0,0])?o:this.unproject(p.add(D),c)},_limitOffset:function(o,c){if(!c)return o;var h=this.getPixelBounds(),p=new Ct(h.min.add(o),h.max.add(o));return o.add(this._getBoundsOffset(p,c))},_getBoundsOffset:function(o,c,h){var p=qn(this.project(c.getNorthEast(),h),this.project(c.getSouthWest(),h)),m=p.min.subtract(o.min),y=p.max.subtract(o.max);return new me(this._rebound(m.x,-y.x),this._rebound(m.y,-y.y))},_rebound:function(o,c){return o+c>0?Math.round(o-c)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(c))},_limitZoom:function(o){var c=this.getMinZoom(),h=this.getMaxZoom(),p=ne.any3d?this.options.zoomSnap:1;return p&&(o=Math.round(o/p)*p),Math.max(c,Math.min(h,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,c){var h=this._getCenterOffset(o)._trunc();return!(!0!==(c&&c.animate)&&!this.getSize().contains(h)||(this.panBy(h,c),0))},_createAnimProxy:function(){var o=this._proxy=Se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(c){var h=no,p=this._proxy.style[h];le(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),p===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){dt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),c=this.getZoom();le(this._proxy,this.project(o,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,c,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||!1===h.animate||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(c),m=this._getCenterOffset(o)._divideBy(1-1/p);return!(!0!==h.animate&&!this.getSize().contains(m)||($t(function(){this._moveStart(!0,!1)._animateZoom(o,c,!0)},this),0))},_animateZoom:function(o,c,h,p){!this._mapPane||(h&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=c,Ee(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:c,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(Qe(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var oe=Si.extend({options:{position:"topright"},initialize:function(o){wt(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var c=this._map;return c&&c.removeControl(this),this.options.position=o,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var c=this._container=this.onAdd(o),h=this.getPosition(),p=o._controlCorners[h];return Ee(c,"leaflet-control"),-1!==h.indexOf("bottom")?p.insertBefore(c,p.firstChild):p.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),mr=function(o){return new oe(o)};Oe.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},c="leaflet-",h=this._controlContainer=Se("div",c+"control-container",this._container);function p(m,y){o[m+y]=Se("div",c+m+" "+c+y,h)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)dt(this._controlCorners[o]);dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Kc=oe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,c,h,p){return h<p?-1:p<h?1:0}},initialize:function(o,c,h){for(var p in wt(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,o)this._addLayer(o[p],p);for(p in c)this._addLayer(c[p],p,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return oe.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,c){return this._addLayer(o,c),this._map?this._update():this},addOverlay:function(o,c){return this._addLayer(o,c,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var c=this._getLayer(Ue(o));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Ee(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ee(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):fe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",c=this._container=Se("div",o),h=this.options.collapsed;c.setAttribute("aria-haspopup",!0),so(c),q(c);var p=this._section=Se("section",o+"-list");h&&(this._map.on("click",this.collapse,this),Te(c,{mouseenter:function(){Te(p,"click",be),this.expand(),setTimeout(function(){ht(p,"click",be)})},mouseleave:this.collapse},this));var m=this._layersLink=Se("a",o+"-toggle",c);m.href="#",m.title="Layers",m.setAttribute("role","button"),Te(m,"click",be),Te(m,"focus",this.expand,this),h||this.expand(),this._baseLayersList=Se("div",o+"-base",p),this._separator=Se("div",o+"-separator",p),this._overlaysList=Se("div",o+"-overlays",p),c.appendChild(p)},_getLayer:function(o){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&Ue(this._layers[c].layer)===o)return this._layers[c]},_addLayer:function(o,c,h){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:c,overlay:h}),this.options.sortLayers&&this._layers.sort(Qe(function(p,m){return this.options.sortFunction(p.layer,m.layer,p.name,m.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;$e(this._baseLayersList),$e(this._overlaysList),this._layerControlInputs=[];var o,c,h,p,m=0;for(h=0;h<this._layers.length;h++)this._addItem(p=this._layers[h]),c=c||p.overlay,o=o||!p.overlay,m+=p.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(o=o&&m>1)?"":"none"),this._separator.style.display=c&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var c=this._getLayer(Ue(o.target)),h=c.overlay?"add"===o.type?"overlayadd":"overlayremove":"add"===o.type?"baselayerchange":null;h&&this._map.fire(h,c)},_createRadioElement:function(o,c){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(c?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=h,p.firstChild},_addItem:function(o){var p,c=document.createElement("label"),h=this._map.hasLayer(o.layer);o.overlay?((p=document.createElement("input")).type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=h):p=this._createRadioElement("leaflet-base-layers_"+Ue(this),h),this._layerControlInputs.push(p),p.layerId=Ue(o.layer),Te(p,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+o.name;var y=document.createElement("span");return c.appendChild(y),y.appendChild(p),y.appendChild(m),(o.overlay?this._overlaysList:this._baseLayersList).appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){var c,h,o=this._layerControlInputs,p=[],m=[];this._handlingClick=!0;for(var y=o.length-1;y>=0;y--)h=this._getLayer((c=o[y]).layerId).layer,c.checked?p.push(h):c.checked||m.push(h);for(y=0;y<m.length;y++)this._map.hasLayer(m[y])&&this._map.removeLayer(m[y]);for(y=0;y<p.length;y++)this._map.hasLayer(p[y])||this._map.addLayer(p[y]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var c,h,o=this._layerControlInputs,p=this._map.getZoom(),m=o.length-1;m>=0;m--)h=this._getLayer((c=o[m]).layerId).layer,c.disabled=void 0!==h.options.minZoom&&p<h.options.minZoom||void 0!==h.options.maxZoom&&p>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),co=oe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var c="leaflet-control-zoom",h=Se("div",c+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,c+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,c+"-out",h,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,c,h,p,m){var y=Se("a",h,p);return y.innerHTML=o,y.href="#",y.title=c,y.setAttribute("role","button"),y.setAttribute("aria-label",c),so(y),Te(y,"click",Ei),Te(y,"click",m,this),Te(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var o=this._map,c="leaflet-disabled";fe(this._zoomInButton,c),fe(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Ee(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Ee(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Oe.mergeOptions({zoomControl:!0}),Oe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new co,this.addControl(this.zoomControl))});var Ti=oe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var c="leaflet-control-scale",h=Se("div",c),p=this.options;return this._addScales(p,c+"-line",h),o.on(p.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),h},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,c,h){o.metric&&(this._mScale=Se("div",c,h)),o.imperial&&(this._iScale=Se("div",c,h))},_update:function(){var o=this._map,c=o.getSize().y/2,h=o.distance(o.containerPointToLatLng([0,c]),o.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(h)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var c=this._getRoundNum(o);this._updateScale(this._mScale,c<1e3?c+" m":c/1e3+" km",c/o)},_updateImperial:function(o){var h,p,m,c=3.2808399*o;c>5280?(p=this._getRoundNum(h=c/5280),this._updateScale(this._iScale,p+" mi",p/h)):(m=this._getRoundNum(c),this._updateScale(this._iScale,m+" ft",m/c))},_updateScale:function(o,c,h){o.style.width=Math.round(this.options.maxWidth*h)+"px",o.innerHTML=c},_getRoundNum:function(o){var c=Math.pow(10,(Math.floor(o)+"").length-1),h=o/c;return c*(h>=10?10:h>=5?5:h>=3?3:h>=2?2:1)}}),Xc=oe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ne.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(o){wt(this,o),this._attributions={}},onAdd:function(o){for(var c in o.attributionControl=this,this._container=Se("div","leaflet-control-attribution"),so(this._container),o._layers)o._layers[c].getAttribution&&this.addAttribution(o._layers[c].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var c in this._attributions)this._attributions[c]&&o.push(c);var h=[];this.options.prefix&&h.push(this.options.prefix),o.length&&h.push(o.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Oe.mergeOptions({attributionControl:!0}),Oe.addInitHook(function(){this.options.attributionControl&&(new Xc).addTo(this)});oe.Layers=Kc,oe.Zoom=co,oe.Scale=Ti,oe.Attribution=Xc,mr.layers=function(o,c,h){return new Kc(o,c,h)},mr.zoom=function(o){return new co(o)},mr.scale=function(o){return new Ti(o)},mr.attribution=function(o){return new Xc(o)};var hi=Si.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});hi.addTo=function(o,c){return o.addHandler(c,this),this};var ho,Wh={Events:Vt},Qc=ne.touch?"touchstart mousedown":"mousedown",vr=Qs.extend({options:{clickTolerance:3},initialize:function(o,c,h,p){wt(this,p),this._element=o,this._dragStartTarget=c||o,this._preventOutline=h},enable:function(){this._enabled||(Te(this._dragStartTarget,Qc,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(vr._dragging===this&&this.finishDrag(!0),ht(this._dragStartTarget,Qc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!_s(this._element,"leaflet-zoom-anim"))){if(o.touches&&1!==o.touches.length)return void(vr._dragging===this&&this.finishDrag());if(!(vr._dragging||o.shiftKey||1!==o.which&&1!==o.button&&!o.touches||(vr._dragging=this,this._preventOutline&&Gc(this._element),Wc(),io(),this._moving))){this.fire("down");var c=o.touches?o.touches[0]:o,h=Hh(this._element);this._startPoint=new me(c.clientX,c.clientY),this._startPos=gr(this._element),this._parentScale=$c(h);var p="mousedown"===o.type;Te(document,p?"mousemove":"touchmove",this._onMove,this),Te(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1)return void(this._moved=!0);var c=o.touches&&1===o.touches.length?o.touches[0]:o,h=new me(c.clientX,c.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,be(o),this._moved||(this.fire("dragstart"),this._moved=!0,Ee(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ee(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Ve(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(o){fe(document.body,"leaflet-dragging"),this._lastTarget&&(fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ht(document,"mousemove touchmove",this._onMove,this),ht(document,"mouseup touchend touchcancel",this._onUp,this),Na(),ro(),this._moved&&this._moving&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,vr._dragging=!1}});function Ye(o,c){if(!c||!o.length)return o.slice();var h=c*c;return function zr(o,c){var h=o.length,m=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(h);m[0]=m[h-1]=1,Ke(o,m,c,0,h-1);var y,D=[];for(y=0;y<h;y++)m[y]&&D.push(o[y]);return D}(o=function uo(o,c){for(var h=[o[0]],p=1,m=0,y=o.length;p<y;p++)Cs(o[p],o[m])>c&&(h.push(o[p]),m=p);return m<y-1&&h.push(o[y-1]),h}(o,h),h)}function Gh(o,c,h){return Math.sqrt(Ds(o,c,h,!0))}function Ke(o,c,h,p,m){var D,T,I,y=0;for(T=p+1;T<=m-1;T++)(I=Ds(o[T],o[p],o[m],!0))>y&&(D=T,y=I);y>h&&(c[D]=1,Ke(o,c,h,p,D),Ke(o,c,h,D,m))}function fo(o,c,h,p,m){var T,I,O,y=p?ho:gn(o,h),D=gn(c,h);for(ho=D;;){if(!(y|D))return[o,c];if(y&D)return!1;O=gn(I=ws(o,c,T=y||D,h,m),h),T===y?(o=I,y=O):(c=I,D=O)}}function ws(o,c,h,p,m){var O,X,y=c.x-o.x,D=c.y-o.y,T=p.min,I=p.max;return 8&h?(O=o.x+y*(I.y-o.y)/D,X=I.y):4&h?(O=o.x+y*(T.y-o.y)/D,X=T.y):2&h?(O=I.x,X=o.y+D*(I.x-o.x)/y):1&h&&(O=T.x,X=o.y+D*(T.x-o.x)/y),new me(O,X,m)}function gn(o,c){var h=0;return o.x<c.min.x?h|=1:o.x>c.max.x&&(h|=2),o.y<c.min.y?h|=4:o.y>c.max.y&&(h|=8),h}function Cs(o,c){var h=c.x-o.x,p=c.y-o.y;return h*h+p*p}function Ds(o,c,h,p){var O,m=c.x,y=c.y,D=h.x-m,T=h.y-y,I=D*D+T*T;return I>0&&((O=((o.x-m)*D+(o.y-y)*T)/I)>1?(m=h.x,y=h.y):O>0&&(m+=D*O,y+=T*O)),D=o.x-m,T=o.y-y,p?D*D+T*T:new me(m,y)}function ft(o){return!rn(o[0])||"object"!=typeof o[0][0]&&typeof o[0][0]<"u"}function Jc(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ft(o)}var eu={__proto__:null,simplify:Ye,pointToSegmentDistance:Gh,closestPointOnSegment:function Hv(o,c,h){return Ds(o,c,h)},clipSegment:fo,_getEdgeIntersection:ws,_getBitCode:gn,_sqClosestPointOnSegment:Ds,isFlat:ft,_flat:Jc};function Ba(o,c,h){var p,y,D,T,I,O,X,Me,je,m=[1,4,2,8];for(y=0,X=o.length;y<X;y++)o[y]._code=gn(o[y],c);for(T=0;T<4;T++){for(Me=m[T],p=[],y=0,D=(X=o.length)-1;y<X;D=y++)O=o[D],(I=o[y])._code&Me?O._code&Me||((je=ws(O,I,Me,c,h))._code=gn(je,c),p.push(je)):(O._code&Me&&((je=ws(O,I,Me,c,h))._code=gn(je,c),p.push(je)),p.push(I));o=p}return o}var tu={__proto__:null,clipPolygon:Ba},st={project:function(o){return new me(o.lng,o.lat)},unproject:function(o){return new Je(o.y,o.x)},bounds:new Ct([-180,-90],[180,90])},Ha={R:6378137,R_MINOR:6356752.314245179,bounds:new Ct([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(o){var c=Math.PI/180,h=this.R,p=o.lat*c,m=this.R_MINOR/h,y=Math.sqrt(1-m*m),D=y*Math.sin(p),T=Math.tan(Math.PI/4-p/2)/Math.pow((1-D)/(1+D),y/2);return p=-h*Math.log(Math.max(T,1e-10)),new me(o.lng*c*h,p)},unproject:function(o){for(var O,c=180/Math.PI,h=this.R,p=this.R_MINOR/h,m=Math.sqrt(1-p*p),y=Math.exp(-o.y/h),D=Math.PI/2-2*Math.atan(y),T=0,I=.1;T<15&&Math.abs(I)>1e-7;T++)O=m*Math.sin(D),O=Math.pow((1-O)/(1+O),m/2),D+=I=Math.PI/2-2*Math.atan(y*O)-D;return new Je(D*c,o.x*c/h)}},nu={__proto__:null,LonLat:st,Mercator:Ha,SphericalMercator:He},ie=Xe({},it,{code:"EPSG:3395",projection:Ha,transformation:function(){var o=.5/(Math.PI*Ha.R);return Js(o,.5,-o,.5)}()}),vt=Xe({},it,{code:"EPSG:4326",projection:st,transformation:Js(1/180,1,-1/180,.5)}),on=Xe({},ut,{projection:st,transformation:Js(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,c){var h=c.lng-o.lng,p=c.lat-o.lat;return Math.sqrt(h*h+p*p)},infinite:!0});ut.Earth=it,ut.EPSG3395=ie,ut.EPSG3857=Vr,ut.EPSG900913=Sh,ut.EPSG4326=vt,ut.Simple=on;var Bt=Qs.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[Ue(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[Ue(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var c=o.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var h=this.getEvents();c.on(h,this),this.once("remove",function(){c.off(h,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Oe.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var c=Ue(o);return this._layers[c]||(this._layers[c]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o)),this},removeLayer:function(o){var c=Ue(o);return this._layers[c]?(this._loaded&&o.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return Ue(o)in this._layers},eachLayer:function(o,c){for(var h in this._layers)o.call(c,this._layers[h]);return this},_addLayers:function(o){for(var c=0,h=(o=o?rn(o)?o:[o]:[]).length;c<h;c++)this.addLayer(o[c])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[Ue(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var c=Ue(o);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,c=-1/0,h=this._getZoomSpan();for(var p in this._zoomBoundLayers){var m=this._zoomBoundLayers[p].options;o=void 0===m.minZoom?o:Math.min(o,m.minZoom),c=void 0===m.maxZoom?c:Math.max(c,m.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=o===1/0?void 0:o,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var jn=Bt.extend({initialize:function(o,c){var h,p;if(wt(this,c),this._layers={},o)for(h=0,p=o.length;h<p;h++)this.addLayer(o[h])},addLayer:function(o){var c=this.getLayerId(o);return this._layers[c]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var c=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(o){return("number"==typeof o?o:this.getLayerId(o))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h,p,c=Array.prototype.slice.call(arguments,1);for(h in this._layers)(p=this._layers[h])[o]&&p[o].apply(p,c);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,c){for(var h in this._layers)o.call(c,this._layers[h]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return Ue(o)}}),qt=jn.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),jn.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),jn.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new wn;for(var c in this._layers){var h=this._layers[c];o.extend(h.getBounds?h.getBounds():h.getLatLng())}return o}}),ye=Si.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){wt(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,c){var h=this._getIconUrl(o);if(!h){if("icon"===o)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(h,c&&"IMG"===c.tagName?c:null);return this._setIconStyles(p,o),(this.options.crossOrigin||""===this.options.crossOrigin)&&(p.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),p},_setIconStyles:function(o,c){var h=this.options,p=h[c+"Size"];"number"==typeof p&&(p=[p,p]);var m=xe(p),y=xe("shadow"===c&&h.shadowAnchor||h.iconAnchor||m&&m.divideBy(2,!0));o.className="leaflet-marker-"+c+" "+(h.className||""),y&&(o.style.marginLeft=-y.x+"px",o.style.marginTop=-y.y+"px"),m&&(o.style.width=m.x+"px",o.style.height=m.y+"px")},_createImg:function(o,c){return(c=c||document.createElement("img")).src=o,c},_getIconUrl:function(o){return ne.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});var Yt=ye.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return"string"!=typeof Yt.imagePath&&(Yt.imagePath=this._detectIconPath()),(this.options.imagePath||Yt.imagePath)+ye.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var c=function(h,p,m){var y=p.exec(h);return y&&y[m]};return(o=c(o,/^url\((['"])?(.+)\1\)$/,2))&&c(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Se("div","leaflet-default-icon-path",document.body),c=sn(o,"background-image")||sn(o,"backgroundImage");if(document.body.removeChild(o),c=this._stripUrl(c))return c;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),zi=hi.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new vr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ee(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var c=this._marker,h=c._map,p=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,y=gr(c._icon),D=h.getPixelBounds(),T=h.getPixelOrigin(),I=qn(D.min._subtract(T).add(m),D.max._subtract(T).subtract(m));if(!I.contains(y)){var O=xe((Math.max(I.max.x,y.x)-I.max.x)/(D.max.x-I.max.x)-(Math.min(I.min.x,y.x)-I.min.x)/(D.min.x-I.min.x),(Math.max(I.max.y,y.y)-I.max.y)/(D.max.y-I.max.y)-(Math.min(I.min.y,y.y)-I.min.y)/(D.min.y-I.min.y)).multiplyBy(p);h.panBy(O,{animate:!1}),this._draggable._newPos._add(O),this._draggable._startPos._add(O),Ve(c._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=$t(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Hn(this._panRequest),this._panRequest=$t(this._adjustPan.bind(this,o)))},_onDrag:function(o){var c=this._marker,h=c._shadow,p=gr(c._icon),m=c._map.layerPointToLatLng(p);h&&Ve(h,p),c._latlng=m,o.latlng=m,o.oldLatLng=this._oldLatLng,c.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Hn(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Pt=Bt.extend({options:{icon:new Yt,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,c){wt(this,c),this._latlng=Dt(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var c=this._latlng;return this._latlng=Dt(o),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=o.icon.createIcon(this._icon),p=!1;h!==this._icon&&(this._icon&&this._removeIcon(),p=!0,o.title&&(h.title=o.title),"IMG"===h.tagName&&(h.alt=o.alt||"")),Ee(h,c),o.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(h,"focus",this._panOnFocus,this);var m=o.icon.createShadow(this._shadow),y=!1;m!==this._shadow&&(this._removeShadow(),y=!0),m&&(Ee(m,c),m.alt=""),this._shadow=m,o.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&y&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ht(this._icon,"focus",this._panOnFocus,this),dt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&dt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Ve(this._icon,o),this._shadow&&Ve(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Ee(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),zi)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new zi(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Yn(this._icon,o),this._shadow&&Yn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var c=this.options.icon.options,h=c.iconSize?xe(c.iconSize):xe(0,0),p=c.iconAnchor?xe(c.iconAnchor):xe(0,0);o.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:h.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var et=Bt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return wt(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Wi=et.extend({options:{fill:!0,radius:10},initialize:function(o,c){wt(this,c),this._latlng=Dt(o),this._radius=this.options.radius},setLatLng:function(o){var c=this._latlng;return this._latlng=Dt(o),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var c=o&&o.radius||this._radius;return et.prototype.setStyle.call(this,o),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,c=this._radiusY||o,h=this._clickTolerance(),p=[o+h,c+h];this._pxBounds=new Ct(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var we=Wi.extend({initialize:function(o,c,h){if("number"==typeof c&&(c=Xe({},h,{radius:c})),wt(this,c),this._latlng=Dt(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new wn(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:et.prototype.setStyle,_project:function(){var o=this._latlng.lng,c=this._latlng.lat,h=this._map,p=h.options.crs;if(p.distance===it.distance){var m=Math.PI/180,y=this._mRadius/it.R/m,D=h.project([c+y,o]),T=h.project([c-y,o]),I=D.add(T).divideBy(2),O=h.unproject(I).lat,X=Math.acos((Math.cos(y*m)-Math.sin(c*m)*Math.sin(O*m))/(Math.cos(c*m)*Math.cos(O*m)))/m;(isNaN(X)||0===X)&&(X=y/Math.cos(Math.PI/180*c)),this._point=I.subtract(h.getPixelOrigin()),this._radius=isNaN(X)?0:I.x-h.project([O,o-X]).x,this._radiusY=I.y-D.y}else{var Me=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Me).x}this._updateBounds()}});var Dn=et.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,c){wt(this,c),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var m,y,c=1/0,h=null,p=Ds,D=0,T=this._parts.length;D<T;D++)for(var I=this._parts[D],O=1,X=I.length;O<X;O++){var Me=p(o,m=I[O-1],y=I[O],!0);Me<c&&(c=Me,h=p(o,m,y))}return h&&(h.distance=Math.sqrt(c)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var o,c,h,p,m,y,D,T=this._rings[0],I=T.length;if(!I)return null;for(o=0,c=0;o<I-1;o++)c+=T[o].distanceTo(T[o+1])/2;if(0===c)return this._map.layerPointToLatLng(T[0]);for(o=0,p=0;o<I-1;o++)if((p+=h=(m=T[o]).distanceTo(y=T[o+1]))>c)return this._map.layerPointToLatLng([y.x-(D=(p-c)/h)*(y.x-m.x),y.y-D*(y.y-m.y)])},getBounds:function(){return this._bounds},addLatLng:function(o,c){return c=c||this._defaultShape(),o=Dt(o),c.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new wn,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return ft(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var c=[],h=ft(o),p=0,m=o.length;p<m;p++)h?(c[p]=Dt(o[p]),this._bounds.extend(c[p])):c[p]=this._convertLatLngs(o[p]);return c},_project:function(){var o=new Ct;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),c=new me(o,o);!this._rawPxBounds||(this._pxBounds=new Ct([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(o,c,h){var y,D,m=o.length;if(o[0]instanceof Je){for(D=[],y=0;y<m;y++)D[y]=this._map.latLngToLayerPoint(o[y]),h.extend(D[y]);c.push(D)}else for(y=0;y<m;y++)this._projectLatlngs(o[y],c,h)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);var h,p,m,y,D,T,I,c=this._parts;for(h=0,m=0,y=this._rings.length;h<y;h++)for(p=0,D=(I=this._rings[h]).length;p<D-1;p++)(T=fo(I[p],I[p+1],o,p,!0))&&(c[m]=c[m]||[],c[m].push(T[0]),(T[1]!==I[p+1]||p===D-2)&&(c[m].push(T[1]),m++))}},_simplifyPoints:function(){for(var o=this._parts,c=this.options.smoothFactor,h=0,p=o.length;h<p;h++)o[h]=Ye(o[h],c)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,c){var h,p,m,y,D,T,I=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(h=0,y=this._parts.length;h<y;h++)for(p=0,m=(D=(T=this._parts[h]).length)-1;p<D;m=p++)if((c||0!==p)&&Gh(o,T[m],T[p])<=I)return!0;return!1}});Dn._flat=Jc;var Jn=Dn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var o,c,h,p,m,y,D,T,O=this._rings[0],X=O.length;if(!X)return null;for(y=D=T=0,o=0,c=X-1;o<X;c=o++)D+=((h=O[o]).x+(p=O[c]).x)*(m=h.y*p.x-p.y*h.x),T+=(h.y+p.y)*m,y+=3*m;return this._map.layerPointToLatLng(0===y?O[0]:[D/y,T/y])},_convertLatLngs:function(o){var c=Dn.prototype._convertLatLngs.call(this,o),h=c.length;return h>=2&&c[0]instanceof Je&&c[0].equals(c[h-1])&&c.pop(),c},_setLatLngs:function(o){Dn.prototype._setLatLngs.call(this,o),ft(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ft(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,c=this.options.weight,h=new me(c,c);if(o=new Ct(o.min.subtract(h),o.max.add(h)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);for(var y,p=0,m=this._rings.length;p<m;p++)(y=Ba(this._rings[p],o,!0)).length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h,p,m,y,D,T,I,O,c=!1;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(y=0,I=this._parts.length;y<I;y++)for(D=0,T=(O=(h=this._parts[y]).length)-1;D<O;T=D++)(p=h[D]).y>o.y!=(m=h[T]).y>o.y&&o.x<(m.x-p.x)*(o.y-p.y)/(m.y-p.y)+p.x&&(c=!c);return c||Dn.prototype._containsPoint.call(this,o,!0)}});var An=qt.extend({initialize:function(o,c){wt(this,c),this._layers={},o&&this.addData(o)},addData:function(o){var h,p,m,c=rn(o)?o:o.features;if(c){for(h=0,p=c.length;h<p;h++)((m=c[h]).geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var y=this.options;if(y.filter&&!y.filter(o))return this;var D=Gi(o,y);return D?(D.feature=Zi(o),D.defaultOptions=D.options,this.resetStyle(D),y.onEachFeature&&y.onEachFeature(o,D),this.addLayer(D)):this},resetStyle:function(o){return void 0===o?this.eachLayer(this.resetStyle,this):(o.options=Xe({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(c){this._setLayerStyle(c,o)},this)},_setLayerStyle:function(o,c){o.setStyle&&("function"==typeof c&&(c=c(o.feature)),o.setStyle(c))}});function Gi(o,c){var T,I,O,X,h="Feature"===o.type?o.geometry:o,p=h?h.coordinates:null,m=[],y=c&&c.pointToLayer,D=c&&c.coordsToLatLng||tt;if(!p&&!h)return null;switch(h.type){case"Point":return zn(y,o,T=D(p),c);case"MultiPoint":for(O=0,X=p.length;O<X;O++)T=D(p[O]),m.push(zn(y,o,T,c));return new qt(m);case"LineString":case"MultiLineString":return I=go(p,"LineString"===h.type?0:1,D),new Dn(I,c);case"Polygon":case"MultiPolygon":return I=go(p,"Polygon"===h.type?1:2,D),new Jn(I,c);case"GeometryCollection":for(O=0,X=h.geometries.length;O<X;O++){var Me=Gi({geometry:h.geometries[O],type:"Feature",properties:o.properties},c);Me&&m.push(Me)}return new qt(m);default:throw new Error("Invalid GeoJSON object.")}}function zn(o,c,h,p){return o?o(c,h):new Pt(h,p&&p.markersInheritOptions&&p)}function tt(o){return new Je(o[1],o[0],o[2])}function go(o,c,h){for(var D,p=[],m=0,y=o.length;m<y;m++)D=c?go(o[m],c-1,h):(h||tt)(o[m]),p.push(D);return p}function Ua(o,c){return void 0!==(o=Dt(o)).alt?[Mn(o.lng,c),Mn(o.lat,c),Mn(o.alt,c)]:[Mn(o.lng,c),Mn(o.lat,c)]}function yr(o,c,h,p){for(var m=[],y=0,D=o.length;y<D;y++)m.push(c?yr(o[y],c-1,h,p):Ua(o[y],p));return!c&&h&&m.push(m[0]),m}function $i(o,c){return o.feature?Xe({},o.feature,{geometry:c}):Zi(c)}function Zi(o){return"Feature"===o.type||"FeatureCollection"===o.type?o:{type:"Feature",properties:{},geometry:o}}var Gr={toGeoJSON:function(o){return $i(this,{type:"Point",coordinates:Ua(this.getLatLng(),o)})}};function qi(o,c){return new An(o,c)}Pt.include(Gr),we.include(Gr),Wi.include(Gr),Dn.include({toGeoJSON:function(o){var c=!ft(this._latlngs);return $i(this,{type:(c?"Multi":"")+"LineString",coordinates:yr(this._latlngs,c?1:0,!1,o)})}}),Jn.include({toGeoJSON:function(o){var c=!ft(this._latlngs),h=c&&!ft(this._latlngs[0]),p=yr(this._latlngs,h?2:c?1:0,!0,o);return c||(p=[p]),$i(this,{type:(h?"Multi":"")+"Polygon",coordinates:p})}}),jn.include({toMultiPoint:function(o){var c=[];return this.eachLayer(function(h){c.push(h.toGeoJSON(o).geometry.coordinates)}),$i(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(o){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===c)return this.toMultiPoint(o);var h="GeometryCollection"===c,p=[];return this.eachLayer(function(m){if(m.toGeoJSON){var y=m.toGeoJSON(o);if(h)p.push(y.geometry);else{var D=Zi(y);"FeatureCollection"===D.type?p.push.apply(p,D.features):p.push(D)}}}),h?$i(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});var an=qi,mo=Bt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,c,h){this._url=o,this._bounds=ve(c),wt(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ee(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){dt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&ji(this._image),this},bringToBack:function(){return this._map&&Le(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=ve(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o="IMG"===this._url.tagName,c=this._image=o?this._url:Se("img");Ee(c,"leaflet-image-layer"),this._zoomAnimated&&Ee(c,"leaflet-zoom-animated"),this.options.className&&Ee(c,this.options.className),c.onselectstart=ct,c.onmousemove=ct,c.onload=Qe(this.fire,this,"load"),c.onerror=Qe(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(c.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o?this._url=c.src:(c.src=this._url,c.alt=this.options.alt)},_animateZoom:function(o){var c=this._map.getZoomScale(o.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;le(this._image,h,c)},_reset:function(){var o=this._image,c=new Ct(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=c.getSize();Ve(o,c.min),o.style.width=h.x+"px",o.style.height=h.y+"px"},_updateOpacity:function(){Yn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Wn=mo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o="VIDEO"===this._url.tagName,c=this._image=o?this._url:Se("video");if(Ee(c,"leaflet-image-layer"),this._zoomAnimated&&Ee(c,"leaflet-zoom-animated"),this.options.className&&Ee(c,this.options.className),c.onselectstart=ct,c.onmousemove=ct,c.onloadeddata=Qe(this.fire,this,"load"),o){for(var h=c.getElementsByTagName("source"),p=[],m=0;m<h.length;m++)p.push(h[m].src);this._url=h.length>0?p:[c.src]}else{rn(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var D=Se("source");D.src=this._url[y],c.appendChild(D)}}}});var Ss=mo.extend({_initImage:function(){var o=this._image=this._url;Ee(o,"leaflet-image-layer"),this._zoomAnimated&&Ee(o,"leaflet-zoom-animated"),this.options.className&&Ee(o,this.options.className),o.onselectstart=ct,o.onmousemove=ct}});var xt=Bt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(o,c){wt(this,o),this._source=c},openOn:function(o){return(o=arguments.length?o:this._source._map).hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Yn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Yn(this._container,1),this.bringToFront(),this.options.interactive&&(Ee(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Yn(this._container,0),this._removeTimeout=setTimeout(Qe(dt,void 0,this._container),200)):dt(this._container),this.options.interactive&&(fe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Dt(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ji(this._container),this},bringToBack:function(){return this._map&&Le(this._container),this},_prepareOpen:function(o){var c=this._source;if(!c._map)return!1;if(c instanceof qt){c=null;var h=this._source._layers;for(var p in h)if(h[p]._map){c=h[p];break}if(!c)return!1;this._source=c}if(!o)if(c.getCenter)o=c.getCenter();else if(c.getLatLng)o=c.getLatLng();else{if(!c.getBounds)throw new Error("Unable to get source layer LatLng.");o=c.getBounds().getCenter()}return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,c="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof c)o.innerHTML=c;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),c=xe(this.options.offset),h=this._getAnchor();this._zoomAnimated?Ve(this._container,o.add(h)):c=c.add(o).add(h);var p=this._containerBottom=-c.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=p+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});Oe.include({_initOverlay:function(o,c,h,p){var m=c;return m instanceof o||(m=new o(p).setContent(c)),h&&m.setLatLng(h),m}}),Bt.include({_initOverlay:function(o,c,h,p){var m=h;return m instanceof o?(wt(m,p),m._source=this):(m=c&&!p?c:new o(p,this)).setContent(h),m}});var _o=xt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return!(o=arguments.length?o:this._source._map).hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,xt.prototype.openOn.call(this,o)},onAdd:function(o){xt.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof et||this._source.on("preclick",Ur))},onRemove:function(o){xt.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof et||this._source.off("preclick",Ur))},getEvents:function(){var o=xt.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",c=this._container=Se("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Se("div",o+"-content-wrapper",c);if(this._contentNode=Se("div",o+"-content",h),so(c),q(this._contentNode),Te(c,"contextmenu",Ur),this._tipContainer=Se("div",o+"-tip-container",c),this._tip=Se("div",o+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Se("a",o+"-close-button",c);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Te(p,"click",this.close,this)}},_updateLayout:function(){var o=this._contentNode,c=o.style;c.width="",c.whiteSpace="nowrap";var h=o.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),c.width=h+1+"px",c.whiteSpace="",c.height="";var m=this.options.maxHeight,y="leaflet-popup-scrolled";m&&o.offsetHeight>m?(c.height=m+"px",Ee(o,y)):fe(o,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),h=this._getAnchor();Ve(this._container,c.add(h))},_adjustPan:function(o){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var c=this._map,h=parseInt(sn(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+h,m=this._containerWidth,y=new me(this._containerLeft,-p-this._containerBottom);y._add(gr(this._container));var D=c.layerPointToContainerPoint(y),T=xe(this.options.autoPanPadding),I=xe(this.options.autoPanPaddingTopLeft||T),O=xe(this.options.autoPanPaddingBottomRight||T),X=c.getSize(),Me=0,je=0;D.x+m+O.x>X.x&&(Me=D.x+m-X.x+O.x),D.x-Me-I.x<0&&(Me=D.x-I.x),D.y+p+O.y>X.y&&(je=D.y+p-X.y+O.y),D.y-je-I.y<0&&(je=D.y-I.y),(Me||je)&&c.fire("autopanstart").panBy([Me,je],{animate:o&&"moveend"===o.type})}},_getAnchor:function(){return xe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Oe.mergeOptions({closePopupOnClick:!0}),Oe.include({openPopup:function(o,c,h){return this._initOverlay(_o,o,c,h).openOn(this),this},closePopup:function(o){return(o=arguments.length?o:this._popup)&&o.close(),this}}),Bt.include({bindPopup:function(o,c){return this._popup=this._initOverlay(_o,this._popup,o,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&this._popup._prepareOpen(o)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(this._popup&&this._map){Ei(o);var c=o.layer||o.target;if(this._popup._source===c&&!(c instanceof et))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng));this._popup._source=c,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){13===o.originalEvent.keyCode&&this._openPopup(o)}});var yo=xt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){xt.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){xt.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=xt.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){this._contentNode=this._container=Se("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var c,h,p=this._map,m=this._container,y=p.latLngToContainerPoint(p.getCenter()),D=p.layerPointToContainerPoint(o),T=this.options.direction,I=m.offsetWidth,O=m.offsetHeight,X=xe(this.options.offset),Me=this._getAnchor();"top"===T?(c=I/2,h=O):"bottom"===T?(c=I/2,h=0):"center"===T?(c=I/2,h=O/2):"right"===T?(c=0,h=O/2):"left"===T?(c=I,h=O/2):D.x<y.x?(T="right",c=0,h=O/2):(T="left",c=I+2*(X.x+Me.x),h=O/2),o=o.subtract(xe(c,h,!0)).add(X).add(Me),fe(m,"leaflet-tooltip-right"),fe(m,"leaflet-tooltip-left"),fe(m,"leaflet-tooltip-top"),fe(m,"leaflet-tooltip-bottom"),Ee(m,"leaflet-tooltip-"+T),Ve(m,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Yn(this._container,o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(c)},_getAnchor:function(){return xe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Oe.include({openTooltip:function(o,c,h){return this._initOverlay(yo,o,c,h).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Bt.include({bindTooltip:function(o,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(yo,this._tooltip,o,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(o||!this._tooltipHandlersAdded){var c=o?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[c](h),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&this._tooltip._prepareOpen(o)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_openTooltip:function(o){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0))},_moveTooltip:function(o){var h,p,c=o.latlng;this._tooltip.options.sticky&&o.originalEvent&&(h=this._map.mouseEventToContainerPoint(o.originalEvent),p=this._map.containerPointToLayerPoint(h),c=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(c)}});var Zh=ye.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var c=o&&"DIV"===o.tagName?o:document.createElement("div"),h=this.options;if(h.html instanceof Element?($e(c),c.appendChild(h.html)):c.innerHTML=!1!==h.html?h.html:"",h.bgPos){var p=xe(h.bgPos);c.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});ye.Default=Yt;var wo=Bt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){wt(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),dt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ji(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Le(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Da(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof me?o:new me(o,o)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var y,c=this.getPane().children,h=-o(-1/0,1/0),p=0,m=c.length;p<m;p++)y=c[p].style.zIndex,c[p]!==this._container&&y&&(h=o(h,+y));isFinite(h)&&(this.options.zIndex=h+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ne.ielt9){Yn(this._container,this.options.opacity);var o=+new Date,c=!1,h=!1;for(var p in this._tiles){var m=this._tiles[p];if(m.current&&m.loaded){var y=Math.min(1,(o-m.loaded)/200);Yn(m.el,y),y<1?c=!0:(m.active?h=!0:this._onOpaqueTile(m),m.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),c&&(Hn(this._fadeFrame),this._fadeFrame=$t(this._updateOpacity,this))}},_onOpaqueTile:ct,_initContainer:function(){this._container||(this._container=Se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,c=this.options.maxZoom;if(void 0!==o){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===o?(this._levels[h].el.style.zIndex=c-Math.abs(o-h),this._onUpdateLevel(h)):(dt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var p=this._levels[o],m=this._map;return p||((p=this._levels[o]={}).el=Se("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=c,p.origin=m.project(m.unproject(m.getPixelOrigin()),o).round(),p.zoom=o,this._setZoomTransform(p,m.getCenter(),m.getZoom()),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:ct,_onRemoveLevel:ct,_onCreateLevel:ct,_pruneTiles:function(){if(this._map){var o,c,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom)return void this._removeAllTiles();for(o in this._tiles)(c=this._tiles[o]).retain=c.current;for(o in this._tiles)if((c=this._tiles[o]).current&&!c.active){var p=c.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var c in this._tiles)this._tiles[c].coords.z===o&&this._removeTile(c)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)dt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,c,h,p){var m=Math.floor(o/2),y=Math.floor(c/2),D=h-1,T=new me(+m,+y);T.z=+D;var I=this._tileCoordsToKey(T),O=this._tiles[I];return O&&O.active?(O.retain=!0,!0):(O&&O.loaded&&(O.retain=!0),D>p&&this._retainParent(m,y,D,p))},_retainChildren:function(o,c,h,p){for(var m=2*o;m<2*o+2;m++)for(var y=2*c;y<2*c+2;y++){var D=new me(m,y);D.z=h+1;var T=this._tileCoordsToKey(D),I=this._tiles[T];I&&I.active?I.retain=!0:(I&&I.loaded&&(I.retain=!0),h+1<p&&this._retainChildren(m,y,h+1,p))}},_resetView:function(o){var c=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var c=this.options;return void 0!==c.minNativeZoom&&o<c.minNativeZoom?c.minNativeZoom:void 0!==c.maxNativeZoom&&c.maxNativeZoom<o?c.maxNativeZoom:o},_setView:function(o,c,h,p){var m=Math.round(c);m=void 0!==this.options.maxZoom&&m>this.options.maxZoom||void 0!==this.options.minZoom&&m<this.options.minZoom?void 0:this._clampZoom(m),(!p||this.options.updateWhenZooming&&m!==this._tileZoom)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==m&&this._update(o),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(o,c)},_setZoomTransforms:function(o,c){for(var h in this._levels)this._setZoomTransform(this._levels[h],o,c)},_setZoomTransform:function(o,c,h){var p=this._map.getZoomScale(h,o.zoom),m=o.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(c,h)).round();ne.any3d?le(o.el,m,p):Ve(o.el,m)},_resetGrid:function(){var o=this._map,c=o.options.crs,h=this._tileSize=this.getTileSize(),p=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,c.wrapLng[0]],p).x/h.x),Math.ceil(o.project([0,c.wrapLng[1]],p).x/h.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([c.wrapLat[0],0],p).y/h.x),Math.ceil(o.project([c.wrapLat[1],0],p).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var c=this._map,h=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),p=c.getZoomScale(h,this._tileZoom),m=c.project(o,this._tileZoom).floor(),y=c.getSize().divideBy(2*p);return new Ct(m.subtract(y),m.add(y))},_update:function(o){var c=this._map;if(c){var h=this._clampZoom(c.getZoom());if(void 0===o&&(o=c.getCenter()),void 0!==this._tileZoom){var p=this._getTiledPixelBounds(o),m=this._pxBoundsToTileRange(p),y=m.getCenter(),D=[],T=this.options.keepBuffer,I=new Ct(m.getBottomLeft().subtract([T,-T]),m.getTopRight().add([T,-T]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var O in this._tiles){var X=this._tiles[O].coords;(X.z!==this._tileZoom||!I.contains(new me(X.x,X.y)))&&(this._tiles[O].current=!1)}if(Math.abs(h-this._tileZoom)>1)return void this._setView(o,h);for(var Me=m.min.y;Me<=m.max.y;Me++)for(var je=m.min.x;je<=m.max.x;je++){var Ze=new me(je,Me);if(Ze.z=this._tileZoom,this._isValidTile(Ze)){var Xi=this._tiles[this._tileCoordsToKey(Ze)];Xi?Xi.current=!0:D.push(Ze)}}if(D.sort(function(ot,qa){return ot.distanceTo(y)-qa.distanceTo(y)}),0!==D.length){this._loading||(this._loading=!0,this.fire("loading"));var So=document.createDocumentFragment();for(je=0;je<D.length;je++)this._addTile(D[je],So);this._level.el.appendChild(So)}}}},_isValidTile:function(o){var c=this._map.options.crs;if(!c.infinite){var h=this._globalTileRange;if(!c.wrapLng&&(o.x<h.min.x||o.x>h.max.x)||!c.wrapLat&&(o.y<h.min.y||o.y>h.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(o);return ve(this.options.bounds).overlaps(p)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var c=this._map,h=this.getTileSize(),p=o.scaleBy(h),m=p.add(h);return[c.unproject(p,o.z),c.unproject(m,o.z)]},_tileCoordsToBounds:function(o){var c=this._tileCoordsToNwSe(o),h=new wn(c[0],c[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var c=o.split(":"),h=new me(+c[0],+c[1]);return h.z=+c[2],h},_removeTile:function(o){var c=this._tiles[o];!c||(dt(c.el),delete this._tiles[o],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ee(o,"leaflet-tile");var c=this.getTileSize();o.style.width=c.x+"px",o.style.height=c.y+"px",o.onselectstart=ct,o.onmousemove=ct,ne.ielt9&&this.options.opacity<1&&Yn(o,this.options.opacity)},_addTile:function(o,c){var h=this._getTilePos(o),p=this._tileCoordsToKey(o),m=this.createTile(this._wrapCoords(o),Qe(this._tileReady,this,o));this._initTile(m),this.createTile.length<2&&$t(Qe(this._tileReady,this,o,null,m)),Ve(m,h),this._tiles[p]={el:m,coords:o,current:!0},c.appendChild(m),this.fire("tileloadstart",{tile:m,coords:o})},_tileReady:function(o,c,h){c&&this.fire("tileerror",{error:c,tile:h,coords:o});var p=this._tileCoordsToKey(o);(h=this._tiles[p])&&(h.loaded=+new Date,this._map._fadeAnimated?(Yn(h.el,0),Hn(this._fadeFrame),this._fadeFrame=$t(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),c||(Ee(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ne.ielt9||!this._map._fadeAnimated?$t(this._pruneTiles,this):setTimeout(Qe(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var c=new me(this._wrapX?Nr(o.x,this._wrapX):o.x,this._wrapY?Nr(o.y,this._wrapY):o.y);return c.z=o.z,c},_pxBoundsToTileRange:function(o){var c=this.getTileSize();return new Ct(o.min.unscaleBy(c).floor(),o.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});var bs=wo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,c){this._url=o,(c=wt(this,c)).detectRetina&&ne.retina&&c.maxZoom>0&&(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom++):(c.zoomOffset++,c.maxZoom--),c.minZoom=Math.max(0,c.minZoom)),"string"==typeof c.subdomains&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,c){return this._url===o&&void 0===c&&(c=!0),this._url=o,c||this.redraw(),this},createTile:function(o,c){var h=document.createElement("img");return Te(h,"load",Qe(this._tileOnLoad,this,c,h)),Te(h,"error",Qe(this._tileOnError,this,c,h)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(h.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.setAttribute("role","presentation"),h.src=this.getTileUrl(o),h},getTileUrl:function(o){var c={r:ne.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-o.y;this.options.tms&&(c.y=h),c["-y"]=h}return Ys(this._url,Xe(c,this.options))},_tileOnLoad:function(o,c){ne.ielt9?setTimeout(Qe(o,this,null,c),0):o(null,c)},_tileOnError:function(o,c,h){var p=this.options.errorTileUrl;p&&c.getAttribute("src")!==p&&(c.src=p),o(h,c)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom;return this.options.zoomReverse&&(o=this.options.maxZoom-o),o+this.options.zoomOffset},_getSubdomain:function(o){var c=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var o,c;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&((c=this._tiles[o].el).onload=ct,c.onerror=ct,!c.complete)){c.src=Ks;var h=this._tiles[o].coords;dt(c),delete this._tiles[o],this.fire("tileabort",{tile:c,coords:h})}},_removeTile:function(o){var c=this._tiles[o];if(c)return c.el.setAttribute("src",Ks),wo.prototype._removeTile.call(this,o)},_tileReady:function(o,c,h){if(this._map&&(!h||h.getAttribute("src")!==Ks))return wo.prototype._tileReady.call(this,o,c,h)}});function qh(o,c){return new bs(o,c)}var Yh=bs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,c){this._url=o;var h=Xe({},this.defaultWmsParams);for(var p in c)p in this.options||(h[p]=c[p]);var m=(c=wt(this,c)).detectRetina&&ne.retina?2:1,y=this.getTileSize();h.width=y.x*m,h.height=y.y*m,this.wmsParams=h},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,bs.prototype.onAdd.call(this,o)},getTileUrl:function(o){var c=this._tileCoordsToNwSe(o),h=this._crs,p=qn(h.project(c[0]),h.project(c[1])),m=p.min,y=p.max,D=(this._wmsVersion>=1.3&&this._crs===vt?[m.y,m.x,y.y,y.x]:[m.x,m.y,y.x,y.y]).join(","),T=bs.prototype.getTileUrl.call(this,o);return T+Dc(this.wmsParams,T,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+D},setParams:function(o,c){return Xe(this.wmsParams,o),c||this.redraw(),this}});bs.WMS=Yh,qh.wms=function Wv(o,c){return new Yh(o,c)};var Yi=Bt.extend({options:{padding:.1},initialize:function(o){wt(this,o),Ue(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Ee(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,c){var h=this._map.getZoomScale(c,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,c),y=p.multiplyBy(-h).add(m).subtract(this._map._getNewPixelOrigin(o,c));ne.any3d?le(this._container,y,h):Ve(this._container,y)},_reset:function(){for(var o in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,c=this._map.getSize(),h=this._map.containerPointToLayerPoint(c.multiplyBy(-o)).round();this._bounds=new Ct(h,h.add(c.multiplyBy(1+2*o)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Kh=Yi.extend({options:{tolerance:0},getEvents:function(){var o=Yi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Te(o,"mousemove",this._onMouseMove,this),Te(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Hn(this._redrawRequest),delete this._ctx,dt(this._container),ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var c in this._redrawBounds=null,this._layers)this._layers[c]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Yi.prototype._update.call(this);var o=this._bounds,c=this._container,h=o.getSize(),p=ne.retina?2:1;Ve(c,o.min),c.width=p*h.x,c.height=p*h.y,c.style.width=h.x+"px",c.style.height=h.y+"px",ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Yi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[Ue(o)]=o;var c=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var c=o._order,h=c.next,p=c.prev;h?h.prev=p:this._drawLast=p,p?p.next=h:this._drawFirst=h,delete o._order,delete this._layers[Ue(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if("string"==typeof o.options.dashArray){var p,m,c=o.options.dashArray.split(/[, ]+/),h=[];for(m=0;m<c.length;m++){if(p=Number(c[m]),isNaN(p))return;h.push(p)}o.options._dashArray=h}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){!this._map||(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||$t(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var c=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ct,this._redrawBounds.extend(o._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(o._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var c=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,c=this._redrawBounds;if(this._ctx.save(),c){var h=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)o=p.layer,(!c||o._pxBounds&&o._pxBounds.intersects(c))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,c){if(this._drawing){var h,p,m,y,D=o._parts,T=D.length,I=this._ctx;if(T){for(I.beginPath(),h=0;h<T;h++){for(p=0,m=D[h].length;p<m;p++)I[p?"lineTo":"moveTo"]((y=D[h][p]).x,y.y);c&&I.closePath()}this._fillStroke(I,o)}}},_updateCircle:function(o){if(this._drawing&&!o._empty()){var c=o._point,h=this._ctx,p=Math.max(Math.round(o._radius),1),m=(Math.max(Math.round(o._radiusY),1)||p)/p;1!==m&&(h.save(),h.scale(1,m)),h.beginPath(),h.arc(c.x,c.y/m,p,0,2*Math.PI,!1),1!==m&&h.restore(),this._fillStroke(h,o)}},_fillStroke:function(o,c){var h=c.options;h.fill&&(o.globalAlpha=h.fillOpacity,o.fillStyle=h.fillColor||h.color,o.fill(h.fillRule||"evenodd")),h.stroke&&0!==h.weight&&(o.setLineDash&&o.setLineDash(c.options&&c.options._dashArray||[]),o.globalAlpha=h.opacity,o.lineWidth=h.weight,o.strokeStyle=h.color,o.lineCap=h.lineCap,o.lineJoin=h.lineJoin,o.stroke())},_onClick:function(o){for(var h,p,c=this._map.mouseEventToLayerPoint(o),m=this._drawFirst;m;m=m.next)(h=m.layer).options.interactive&&h._containsPoint(c)&&("click"!==o.type&&"preclick"!==o.type||!this._map._draggableMoved(h))&&(p=h);this._fireEvent(!!p&&[p],o)},_onMouseMove:function(o){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var c=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,c)}},_handleMouseOut:function(o){var c=this._hoveredLayer;c&&(fe(this._container,"leaflet-interactive"),this._fireEvent([c],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,c){if(!this._mouseHoverThrottled){for(var h,p,m=this._drawFirst;m;m=m.next)(h=m.layer).options.interactive&&h._containsPoint(c)&&(p=h);p!==this._hoveredLayer&&(this._handleMouseOut(o),p&&(Ee(this._container,"leaflet-interactive"),this._fireEvent([p],o,"mouseover"),this._hoveredLayer=p)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],o),this._mouseHoverThrottled=!0,setTimeout(Qe(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,c,h){this._map._fireDOMEvent(c,h||c.type,o)},_bringToFront:function(o){var c=o._order;if(c){var h=c.next,p=c.prev;if(!h)return;h.prev=p,p?p.next=h:h&&(this._drawFirst=h),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(o)}},_bringToBack:function(o){var c=o._order;if(c){var h=c.next,p=c.prev;if(!p)return;p.next=h,h?h.prev=p:p&&(this._drawLast=p),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(o)}}});function Xh(o){return ne.canvas?new Kh(o):null}var Co=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gv={_initContainer:function(){this._container=Se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var c=o._container=Co("shape");Ee(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",o._path=Co("path"),c.appendChild(o._path),this._updateStyle(o),this._layers[Ue(o)]=o},_addPath:function(o){var c=o._container;this._container.appendChild(c),o.options.interactive&&o.addInteractiveTarget(c)},_removePath:function(o){var c=o._container;dt(c),o.removeInteractiveTarget(c),delete this._layers[Ue(o)]},_updateStyle:function(o){var c=o._stroke,h=o._fill,p=o.options,m=o._container;m.stroked=!!p.stroke,m.filled=!!p.fill,p.stroke?(c||(c=o._stroke=Co("stroke")),m.appendChild(c),c.weight=p.weight+"px",c.color=p.color,c.opacity=p.opacity,c.dashStyle=p.dashArray?rn(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):"",c.endcap=p.lineCap.replace("butt","flat"),c.joinstyle=p.lineJoin):c&&(m.removeChild(c),o._stroke=null),p.fill?(h||(h=o._fill=Co("fill")),m.appendChild(h),h.color=p.fillColor||p.color,h.opacity=p.fillOpacity):h&&(m.removeChild(h),o._fill=null)},_updateCircle:function(o){var c=o._point.round(),h=Math.round(o._radius),p=Math.round(o._radiusY||h);this._setPath(o,o._empty()?"M0 0":"AL "+c.x+","+c.y+" "+h+","+p+" 0,23592600")},_setPath:function(o,c){o._path.v=c},_bringToFront:function(o){ji(o._container)},_bringToBack:function(o){Le(o._container)}},Wa=ne.vml?Co:bh,$r=Yi.extend({_initContainer:function(){this._container=Wa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){dt(this._container),ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Yi.prototype._update.call(this);var o=this._bounds,c=o.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,h.setAttribute("width",c.x),h.setAttribute("height",c.y)),Ve(h,o.min),h.setAttribute("viewBox",[o.min.x,o.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(o){var c=o._path=Wa("path");o.options.className&&Ee(c,o.options.className),o.options.interactive&&Ee(c,"leaflet-interactive"),this._updateStyle(o),this._layers[Ue(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){dt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[Ue(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var c=o._path,h=o.options;!c||(h.stroke?(c.setAttribute("stroke",h.color),c.setAttribute("stroke-opacity",h.opacity),c.setAttribute("stroke-width",h.weight),c.setAttribute("stroke-linecap",h.lineCap),c.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?c.setAttribute("stroke-dasharray",h.dashArray):c.removeAttribute("stroke-dasharray"),h.dashOffset?c.setAttribute("stroke-dashoffset",h.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),h.fill?(c.setAttribute("fill",h.fillColor||h.color),c.setAttribute("fill-opacity",h.fillOpacity),c.setAttribute("fill-rule",h.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(o,c){this._setPath(o,Eh(o._parts,c))},_updateCircle:function(o){var c=o._point,h=Math.max(Math.round(o._radius),1),m="a"+h+","+(Math.max(Math.round(o._radiusY),1)||h)+" 0 1,0 ",y=o._empty()?"M0 0":"M"+(c.x-h)+","+c.y+m+2*h+",0 "+m+2*-h+",0 ";this._setPath(o,y)},_setPath:function(o,c){o._path.setAttribute("d",c)},_bringToFront:function(o){ji(o._path)},_bringToBack:function(o){Le(o._path)}});function Do(o){return ne.svg||ne.vml?new $r(o):null}ne.vml&&$r.include(Gv),Oe.include({getRenderer:function(o){var c=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(o){if("overlayPane"===o||void 0===o)return!1;var c=this._paneRenderers[o];return void 0===c&&(c=this._createRenderer({pane:o}),this._paneRenderers[o]=c),c},_createRenderer:function(o){return this.options.preferCanvas&&Xh(o)||Do(o)}});var Qh=Jn.extend({initialize:function(o,c){Jn.prototype.initialize.call(this,this._boundsToLatLngs(o),c)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return[(o=ve(o)).getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});$r.create=Wa,$r.pointsToPath=Eh,An.geometryToLayer=Gi,An.coordsToLatLng=tt,An.coordsToLatLngs=go,An.latLngToCoords=Ua,An.latLngsToCoords=yr,An.getFeature=$i,An.asFeature=Zi,Oe.mergeOptions({boxZoom:!0});var Jh=hi.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){dt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||1!==o.which&&1!==o.button)return!1;this._clearDeferredResetState(),this._resetState(),io(),Wc(),this._startPoint=this._map.mouseEventToContainerPoint(o),Te(document,{contextmenu:Ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Se("div","leaflet-zoom-box",this._container),Ee(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var c=new Ct(this._point,this._startPoint),h=c.getSize();Ve(this._box,c.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(dt(this._box),fe(this._container,"leaflet-crosshair")),ro(),Na(),ht(document,{contextmenu:Ei,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if((1===o.which||1===o.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Qe(this._resetState,this),0);var c=new wn(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(o){27===o.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Oe.addInitHook("addHandler","boxZoom",Jh),Oe.mergeOptions({doubleClickZoom:!0});var Ki=hi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var c=this._map,h=c.getZoom(),p=c.options.zoomDelta,m=o.originalEvent.shiftKey?h-p:h+p;"center"===c.options.doubleClickZoom?c.setZoom(m):c.setZoomAround(o.containerPoint,m)}});Oe.addInitHook("addHandler","doubleClickZoom",Ki),Oe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ga=hi.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new vr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ee(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fe(this._map._container,"leaflet-grab"),fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=ve(this._map.options.maxBounds);this._offsetLimit=qn(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var c=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(c),this._prunePositions(c)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,c){return o-(o-c)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var o=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;o.x<c.min.x&&(o.x=this._viscousLimit(o.x,c.min.x)),o.y<c.min.y&&(o.y=this._viscousLimit(o.y,c.min.y)),o.x>c.max.x&&(o.x=this._viscousLimit(o.x,c.max.x)),o.y>c.max.y&&(o.y=this._viscousLimit(o.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,c=Math.round(o/2),h=this._initialWorldOffset,p=this._draggable._newPos.x,m=(p-c+h)%o+c-h,y=(p+c+h)%o-c-h,D=Math.abs(m+h)<Math.abs(y+h)?m:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=D},_onDragEnd:function(o){var c=this._map,h=c.options,p=!h.inertia||o.noInertia||this._times.length<2;if(c.fire("dragend",o),p)c.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),D=h.easeLinearity,T=m.multiplyBy(D/((this._lastTime-this._times[0])/1e3)),I=T.distanceTo([0,0]),O=Math.min(h.inertiaMaxSpeed,I),X=T.multiplyBy(O/I),Me=O/(h.inertiaDeceleration*D),je=X.multiplyBy(-Me/2).round();je.x||je.y?(je=c._limitOffset(je,c.options.maxBounds),$t(function(){c.panBy(je,{duration:Me,easeLinearity:D,noMoveStart:!0,animate:!0})})):c.fire("moveend")}}});Oe.addInitHook("addHandler","dragging",Ga),Oe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Kt=hi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Te(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,c=document.documentElement,h=o.scrollTop||c.scrollTop,p=o.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(p,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var p,m,c=this._panKeys={},h=this.keyCodes;for(p=0,m=h.left.length;p<m;p++)c[h.left[p]]=[-1*o,0];for(p=0,m=h.right.length;p<m;p++)c[h.right[p]]=[o,0];for(p=0,m=h.down.length;p<m;p++)c[h.down[p]]=[0,o];for(p=0,m=h.up.length;p<m;p++)c[h.up[p]]=[0,-1*o]},_setZoomDelta:function(o){var p,m,c=this._zoomKeys={},h=this.keyCodes;for(p=0,m=h.zoomIn.length;p<m;p++)c[h.zoomIn[p]]=o;for(p=0,m=h.zoomOut.length;p<m;p++)c[h.zoomOut[p]]=-o},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var p,c=o.keyCode,h=this._map;if(c in this._panKeys)(!h._panAnim||!h._panAnim._inProgress)&&(p=this._panKeys[c],o.shiftKey&&(p=xe(p).multiplyBy(3)),h.panBy(p),h.options.maxBounds&&h.panInsideBounds(h.options.maxBounds));else if(c in this._zoomKeys)h.setZoom(h.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[c]);else{if(27!==c||!h._popup||!h._popup.options.closeOnEscapeKey)return;h.closePopup()}Ei(o)}}});Oe.addInitHook("addHandler","keyboard",Kt),Oe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var $a=hi.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ht(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var c=Yc(o),h=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var p=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Qe(this._performZoom,this),p),Ei(o)},_performZoom:function(){var o=this._map,c=o.getZoom(),h=this._map.options.zoomSnap||0;o._stop();var m=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,y=h?Math.ceil(m/h)*h:m,D=o._limitZoom(c+(this._delta>0?y:-y))-c;this._delta=0,this._startTime=null,D&&("center"===o.options.scrollWheelZoom?o.setZoom(c+D):o.setZoomAround(this._lastMousePos,c+D))}});Oe.addInitHook("addHandler","scrollWheelZoom",$a);Oe.mergeOptions({tapHold:ne.touchNative&&ne.safari&&ne.mobile,tapTolerance:15});var iu=hi.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),1===o.touches.length){var c=o.touches[0];this._startPos=this._newPos=new me(c.clientX,c.clientY),this._holdTimeout=setTimeout(Qe(function(){this._cancel(),this._isTapValid()&&(Te(document,"touchend",be),Te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),600),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){ht(document,"touchend",be),ht(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),ht(document,"touchend touchcancel contextmenu",this._cancel,this),ht(document,"touchmove",this._onMove,this)},_onMove:function(o){var c=o.touches[0];this._newPos=new me(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,c){var h=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});h._simulated=!0,c.target.dispatchEvent(h)}});Oe.addInitHook("addHandler","tapHold",iu),Oe.mergeOptions({touchZoom:ne.touch,bounceAtZoomLimits:!0});var Za=hi.extend({addHooks:function(){Ee(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var c=this._map;if(o.touches&&2===o.touches.length&&!c._animatingZoom&&!this._zooming){var h=c.mouseEventToContainerPoint(o.touches[0]),p=c.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),"center"!==c.options.touchZoom&&(this._pinchStartLatLng=c.containerPointToLatLng(h.add(p)._divideBy(2))),this._startDist=h.distanceTo(p),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),be(o)}},_onTouchMove:function(o){if(o.touches&&2===o.touches.length&&this._zooming){var c=this._map,h=c.mouseEventToContainerPoint(o.touches[0]),p=c.mouseEventToContainerPoint(o.touches[1]),m=h.distanceTo(p)/this._startDist;if(this._zoom=c.getScaleZoom(m,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&m<1||this._zoom>c.getMaxZoom()&&m>1)&&(this._zoom=c._limitZoom(this._zoom)),"center"===c.options.touchZoom){if(this._center=this._startLatLng,1===m)return}else{var y=h._add(p)._divideBy(2)._subtract(this._centerPoint);if(1===m&&0===y.x&&0===y.y)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),Hn(this._animRequest);var D=Qe(c._move,c,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=$t(D,this,!0),be(o)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Hn(this._animRequest),ht(document,"touchmove",this._onTouchMove,this),ht(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Oe.addInitHook("addHandler","touchZoom",Za),Oe.BoxZoom=Jh,Oe.DoubleClickZoom=Ki,Oe.Drag=Ga,Oe.Keyboard=Kt,Oe.ScrollWheelZoom=$a,Oe.TapHold=iu,Oe.TouchZoom=Za,B.Bounds=Ct,B.Browser=ne,B.CRS=ut,B.Canvas=Kh,B.Circle=we,B.CircleMarker=Wi,B.Class=Si,B.Control=oe,B.DivIcon=Zh,B.DivOverlay=xt,B.DomEvent=ao,B.DomUtil=jh,B.Draggable=vr,B.Evented=Qs,B.FeatureGroup=qt,B.GeoJSON=An,B.GridLayer=wo,B.Handler=hi,B.Icon=ye,B.ImageOverlay=mo,B.LatLng=Je,B.LatLngBounds=wn,B.Layer=Bt,B.LayerGroup=jn,B.LineUtil=eu,B.Map=Oe,B.Marker=Pt,B.Mixin=Wh,B.Path=et,B.Point=me,B.PolyUtil=tu,B.Polygon=Jn,B.Polyline=Dn,B.Popup=_o,B.PosAnimation=lo,B.Projection=nu,B.Rectangle=Qh,B.Renderer=Yi,B.SVG=$r,B.SVGOverlay=Ss,B.TileLayer=bs,B.Tooltip=yo,B.Transformation=gs,B.Util=ba,B.VideoOverlay=Wn,B.bind=Qe,B.bounds=qn,B.canvas=Xh,B.circle=function po(o,c,h){return new we(o,c,h)},B.circleMarker=function Wr(o,c){return new Wi(o,c)},B.control=mr,B.divIcon=function Uv(o){return new Zh(o)},B.extend=Xe,B.featureGroup=function(o,c){return new qt(o,c)},B.geoJSON=qi,B.geoJson=an,B.gridLayer=function zv(o){return new wo(o)},B.icon=function _t(o){return new ye(o)},B.imageOverlay=function(o,c,h){return new mo(o,c,h)},B.latLng=Dt,B.latLngBounds=ve,B.layerGroup=function(o,c){return new jn(o,c)},B.map=function zh(o,c){return new Oe(o,c)},B.marker=function _r(o,c){return new Pt(o,c)},B.point=xe,B.polygon=function Sn(o,c){return new Jn(o,c)},B.polyline=function ja(o,c){return new Dn(o,c)},B.popup=function(o,c){return new _o(o,c)},B.rectangle=function $v(o,c){return new Qh(o,c)},B.setOptions=wt,B.stamp=Ue,B.svg=Do,B.svgOverlay=function vo(o,c,h){return new Ss(o,c,h)},B.tileLayer=qh,B.tooltip=function(o,c){return new yo(o,c)},B.transformation=Js,B.version="1.8.0",B.videoOverlay=function za(o,c,h){return new Wn(o,c,h)};var ru=window.L;B.noConflict=function(){return window.L=ru,this},window.L=B}(Cc)}},wc=>{wc(wc.s=682)}]);