(self.webpackChunkApps=self.webpackChunkApps||[]).push([[179],{860:(Zl,ql,B)=>{"use strict";function Pe(n){return"function"==typeof n}function Ye(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Sr=Ye(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ke(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class An{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Pe(i))try{i()}catch(s){t=s instanceof Sr?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{br(s)}catch(a){t=t??[],a instanceof Sr?t=[...t,...a.errors]:t.push(a)}}if(t)throw new Sr(t)}}add(t){var e;if(t&&t!==this)if(this.closed)br(t);else{if(t instanceof An){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ke(e,t)}remove(t){const{_finalizers:e}=this;e&&Ke(e,t),t instanceof An&&t._removeParent(this)}}An.EMPTY=(()=>{const n=new An;return n.closed=!0,n})();const Be=An.EMPTY;function ea(n){return n instanceof An||n&&"closed"in n&&Pe(n.remove)&&Pe(n.add)&&Pe(n.unsubscribe)}function br(n){Pe(n)?n():n.unsubscribe()}const nt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vn={setTimeout(n,t,...e){const{delegate:i}=vn;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=vn;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function xs(n){vn.setTimeout(()=>{const{onUnhandledError:t}=nt;if(!t)throw n;t(n)})}function ki(){}const ft=ks("C",void 0,void 0);function ks(n,t,e){return{kind:n,value:t,error:e}}let Yt=null;function Er(n){if(nt.useDeprecatedSynchronousErrorHandling){const t=!Yt;if(t&&(Yt={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Yt;if(Yt=null,e)throw i}}else n()}class es extends An{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ea(t)&&t.add(this)):this.destination=mi}static create(t,e,i){return new Tr(t,e,i)}next(t){this.isStopped?na(function Rd(n){return ks("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?na(function Yl(n){return ks("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?na(ft,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Kl=Function.prototype.bind;function Os(n,t){return Kl.call(n,t)}class ta{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Ht(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Ht(i)}else Ht(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Ht(e)}}}class Tr extends es{constructor(t,e,i){let r;if(super(),Pe(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&nt.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Os(t.next,s),error:t.error&&Os(t.error,s),complete:t.complete&&Os(t.complete,s)}):r=t}this.destination=new ta(r)}}function Ht(n){nt.useDeprecatedSynchronousErrorHandling?function Rs(n){nt.useDeprecatedSynchronousErrorHandling&&Yt&&(Yt.errorThrown=!0,Yt.error=n)}(n):xs(n)}function na(n,t){const{onStoppedNotification:e}=nt;e&&vn.setTimeout(()=>e(n,t))}const mi={closed:!0,next:ki,error:function xn(n){throw n},complete:ki},ia="function"==typeof Symbol&&Symbol.observable||"@@observable";function kt(n){return n}let it=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function Bn(n){return n&&n instanceof es||function pt(n){return n&&Pe(n.next)&&Pe(n.error)&&Pe(n.complete)}(n)&&ea(n)}(e)?e:new Tr(e,i,r);return Er(()=>{const{operator:a,source:l}=this;s.add(a?a.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Te(i))((r,s)=>{const a=new Tr({next:l=>{try{e(l)}catch(c){s(c),a.unsubscribe()}},error:s,complete:r});this.subscribe(a)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ia](){return this}pipe(...e){return function fe(n){return 0===n.length?kt:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=Te(e))((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return n.create=t=>new n(t),n})();function Te(n){var t;return null!==(t=n??nt.Promise)&&void 0!==t?t:Promise}const ln=Ye(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Me=(()=>{class n extends it{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Qe(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new ln}next(e){Er(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Er(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Er(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Be:(this.currentObservers=null,s.push(e),new An(()=>{this.currentObservers=null,Ke(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new it;return e.source=this,e}}return n.create=(t,e)=>new Qe(t,e),n})();class Qe extends Me{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Be}}function ut(n){return t=>{if(function gt(n){return Pe(null==n?void 0:n.lift)}(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function mt(n,t,e,i,r){return new Ql(n,t,e,i,r)}class Ql extends es{constructor(t,e,i,r,s,a){super(t),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=e?function(l){try{e(l)}catch(c){t.error(c)}}:super._next,this._error=r?function(l){try{r(l)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function He(n,t){return ut((e,i)=>{let r=0;e.subscribe(mt(i,s=>{i.next(n.call(t,s,r++))}))})}var Mr=function(){return Mr=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},Mr.apply(this,arguments)};function Ri(n){return this instanceof Ri?(this.v=n,this):new Ri(n)}function nu(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(v){i[v]&&(r[v]=function(y){return new Promise(function(w,D){s.push([v,y,w,D])>1||l(v,y)})})}function l(v,y){try{!function c(v){v.value instanceof Ri?Promise.resolve(v.value.v).then(d,f):g(s[0][2],v)}(i[v](y))}catch(w){g(s[0][3],w)}}function d(v){l("next",v)}function f(v){l("throw",v)}function g(v,y){v(y),s.shift(),s.length&&l(s[0][0],s[0][1])}}function iu(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function sa(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(a){return new Promise(function(l,c){!function r(s,a,l,c){Promise.resolve(c).then(function(d){s({value:d,done:l})},a)}(l,c,(a=n[s](a)).done,a.value)})}}}const oa=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function su(n){return Pe(null==n?void 0:n.then)}function aa(n){return Pe(n[ia])}function la(n){return Symbol.asyncIterator&&Pe(null==n?void 0:n[Symbol.asyncIterator])}function ua(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ou=function jd(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function au(n){return Pe(null==n?void 0:n[ou])}function lu(n){return nu(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Ri(e.read());if(r)return yield Ri(void 0);yield yield Ri(i)}}finally{e.releaseLock()}})}function uu(n){return Pe(null==n?void 0:n.getReader)}function Hn(n){if(n instanceof it)return n;if(null!=n){if(aa(n))return function ca(n){return new it(t=>{const e=n[ia]();if(Pe(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(oa(n))return function Ud(n){return new it(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(su(n))return function zd(n){return new it(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,xs)})}(n);if(la(n))return J(n);if(au(n))return function Xn(n){return new it(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(uu(n))return function cu(n){return J(lu(n))}(n)}throw ua(n)}function J(n){return new it(t=>{(function du(n,t){var e,i,r,s;return function Fs(n,t,e,i){return new(e||(e=Promise))(function(s,a){function l(f){try{d(i.next(f))}catch(g){a(g)}}function c(f){try{d(i.throw(f))}catch(g){a(g)}}function d(f){f.done?s(f.value):function r(s){return s instanceof e?s:new e(function(a){a(s)})}(f.value).then(l,c)}d((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=iu(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Jn(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function ei(n,t,e=1/0){return Pe(t)?ei((i,r)=>He((s,a)=>t(i,s,r,a))(Hn(n(i,r))),e):("number"==typeof t&&(e=t),ut((i,r)=>function hu(n,t,e,i,r,s,a,l){const c=[];let d=0,f=0,g=!1;const v=()=>{g&&!c.length&&!d&&t.complete()},y=D=>d<i?w(D):c.push(D),w=D=>{s&&t.next(D),d++;let S=!1;Hn(e(D,f++)).subscribe(mt(t,E=>{null==r||r(E),s?y(E):t.next(E)},()=>{S=!0},void 0,()=>{if(S)try{for(d--;c.length&&d<i;){const E=c.shift();a?Jn(t,a,()=>w(E)):w(E)}v()}catch(E){t.error(E)}}))};return n.subscribe(mt(t,y,()=>{g=!0,v()})),()=>{null==l||l()}}(i,r,n,e)))}function da(n=1/0){return ei(kt,n)}const vi=new it(n=>n.complete());function fu(n){return n&&Pe(n.schedule)}function ha(n){return n[n.length-1]}function Ir(n){return fu(ha(n))?n.pop():void 0}function ns(n,t=0){return ut((e,i)=>{e.subscribe(mt(i,r=>Jn(i,n,()=>i.next(r),t),()=>Jn(i,n,()=>i.complete(),t),r=>Jn(i,n,()=>i.error(r),t)))})}function pu(n,t=0){return ut((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Hs(n,t){if(!n)throw new Error("Iterable cannot be null");return new it(e=>{Jn(e,t,()=>{const i=n[Symbol.asyncIterator]();Jn(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Pr(n,t){return t?function gu(n,t){if(null!=n){if(aa(n))return function qd(n,t){return Hn(n).pipe(pu(t),ns(t))}(n,t);if(oa(n))return function Kd(n,t){return new it(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(su(n))return function Yd(n,t){return Hn(n).pipe(pu(t),ns(t))}(n,t);if(la(n))return Hs(n,t);if(au(n))return function Qd(n,t){return new it(e=>{let i;return Jn(e,t,()=>{i=n[ou](),Jn(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(a){return void e.error(a)}s?e.complete():e.next(r)},0,!0)}),()=>Pe(null==i?void 0:i.return)&&i.return()})}(n,t);if(uu(n))return function is(n,t){return Hs(lu(n),t)}(n,t)}throw ua(n)}(n,t):Hn(n)}function rn(...n){const t=Ir(n),e=function Zd(n,t){return"number"==typeof ha(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Hn(i[0]):da(e)(Pr(i,t)):vi}function _e(n={}){const{connector:t=(()=>new Me),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let a,l,c,d=0,f=!1,g=!1;const v=()=>{null==l||l.unsubscribe(),l=void 0},y=()=>{v(),a=c=void 0,f=g=!1},w=()=>{const D=a;y(),null==D||D.unsubscribe()};return ut((D,S)=>{d++,!g&&!f&&v();const E=c=c??t();S.add(()=>{d--,0===d&&!g&&!f&&(l=rt(w,r))}),E.subscribe(S),!a&&d>0&&(a=new Tr({next:b=>E.next(b),error:b=>{g=!0,v(),l=rt(y,e,b),E.error(b)},complete:()=>{f=!0,v(),l=rt(y,i),E.complete()}}),Hn(D).subscribe(a))})(s)}}function rt(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Tr({next:()=>{i.unsubscribe(),n()}});return t(...e).subscribe(i)}function We(n){for(let t in n)if(n[t]===We)return t;throw Error("Could not find renamed property on target object.")}function Re(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Re).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function rs(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const we=We({__forward_ref__:We});function vt(n){return n.__forward_ref__=vt,n.toString=function(){return Re(this())},n}function pe(n){return ss(n)?n():n}function ss(n){return"function"==typeof n&&n.hasOwnProperty(we)&&n.__forward_ref__===vt}class G extends Error{constructor(t,e){super(function Ar(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function se(n){return"string"==typeof n?n:null==n?"":String(n)}function Oe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():se(n)}function xr(n,t){const e=t?` in ${t}`:"";throw new G(-201,`No provider for ${Oe(n)} found${e}`)}function un(n,t){null==n&&function et(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function ae(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Le(n){return{providers:n.providers||[],imports:n.imports||[]}}function yi(n){return ma(n,Ws)||ma(n,Ae)}function ma(n,t){return n.hasOwnProperty(t)?n[t]:null}function zs(n){return n&&(n.hasOwnProperty($s)||n.hasOwnProperty(th))?n[$s]:null}const Ws=We({\u0275prov:We}),$s=We({\u0275inj:We}),Ae=We({ngInjectableDef:We}),th=We({ngInjectorDef:We});var ie=(()=>((ie=ie||{})[ie.Default=0]="Default",ie[ie.Host=1]="Host",ie[ie.Self=2]="Self",ie[ie.SkipSelf=4]="SkipSelf",ie[ie.Optional=8]="Optional",ie))();let sr;function Ni(n){const t=sr;return sr=n,t}function Gs(n,t,e){const i=yi(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&ie.Optional?null:void 0!==t?t:void xr(Re(n),"Injector")}function _i(n){return{toString:n}.toString()}var Un=(()=>((Un=Un||{})[Un.OnPush=0]="OnPush",Un[Un.Default=1]="Default",Un))(),zn=(()=>{return(n=zn||(zn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",zn;var n})();const ni=typeof globalThis<"u"&&globalThis,nh=typeof window<"u"&&window,bu=typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self,Ze=ni||typeof global<"u"&&global||nh||bu,Rr={},qe=[],Zs=We({\u0275cmp:We}),qs=We({\u0275dir:We}),Ys=We({\u0275pipe:We}),os=We({\u0275mod:We}),sn=We({\u0275fac:We}),as=We({__NG_ELEMENT_ID__:We});let ls=0;function ot(n){return _i(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Un.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||qe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||zn.Emulated,id:"c",styles:n.styles||qe,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,a=n.pipes;return i.id+=ls++,i.inputs=Iu(n.inputs,e),i.outputs=Iu(n.outputs),s&&s.forEach(l=>l(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(Tu):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(va):null,i})}function Tu(n){return Kt(n)||function Rt(n){return n[qs]||null}(n)}function va(n){return function kn(n){return n[Ys]||null}(n)}const Mu={};function At(n){return _i(()=>{const t={type:n.type,bootstrap:n.bootstrap||qe,declarations:n.declarations||qe,imports:n.imports||qe,exports:n.exports||qe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Mu[n.id]=n.type),t})}function Iu(n,t){if(null==n)return Rr;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const yt=ot;function ct(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Kt(n){return n[Zs]||null}function Rn(n,t){const e=n[os]||null;if(!e&&!0===t)throw new Error(`Type ${Re(n)} does not have '\u0275mod' property.`);return e}function ii(n){return Array.isArray(n)&&"object"==typeof n[1]}function Nn(n){return Array.isArray(n)&&!0===n[1]}function Da(n){return 0!=(8&n.flags)}function us(n){return 2==(2&n.flags)}function Js(n){return 1==(1&n.flags)}function Tt(n){return null!==n.template}function eo(n){return 0!=(512&n[2])}function zi(n,t){return n.hasOwnProperty(sn)?n[sn]:null}class Sa{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function ri(){return ba}function ba(n){return n.type.prototype.ngOnChanges&&(n.setInput=Pu),hh}function hh(){const n=Au(this),t=n?.current;if(t){const e=n.previous;if(e===Rr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Pu(n,t,e,i){const r=Au(n)||function o(n,t){return n[Ea]=t}(n,{previous:Rr,current:null}),s=r.current||(r.current={}),a=r.previous,l=this.declaredInputs[e],c=a[l];s[l]=new Sa(c&&c.currentValue,t,a===Rr),n[i]=t}ri.ngInherit=!0;const Ea="__ngSimpleChanges__";function Au(n){return n[Ea]||null}const C="math";let k;function Ce(){return void 0!==k?k:typeof document<"u"?document:void 0}function $e(n){return!!n.listen}const Wi={createRenderer:(n,t)=>Ce()};function tt(n){for(;Array.isArray(n);)n=n[0];return n}function oo(n,t){return tt(t[n])}function Ln(n,t){return tt(t[n.index])}function Ma(n,t){return n.data[t]}function ur(n,t){return n[t]}function Ve(n,t){const e=t[n];return ii(e)?e:e[0]}function ds(n){return 4==(4&n[2])}function Ia(n){return 128==(128&n[2])}function $i(n,t){return null==t?null:n[t]}function ao(n){n[18]=0}function lo(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const de={lFrame:Nm(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Im(){return de.bindingsEnabled}function x(){return de.lFrame.lView}function je(){return de.lFrame.tView}function ee(n){return de.lFrame.contextLView=n,n[8]}function zt(){let n=Pm();for(;null!==n&&64===n.type;)n=n.parent;return n}function Pm(){return de.lFrame.currentTNode}function Gi(n,t){const e=de.lFrame;e.currentTNode=n,e.isParent=t}function ph(){return de.lFrame.isParent}function ku(){return de.isInCheckNoChangesMode}function Ru(n){de.isInCheckNoChangesMode=n}function _n(){const n=de.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function uo(){return de.lFrame.bindingIndex++}function QS(n,t){const e=de.lFrame;e.bindingIndex=e.bindingRootIndex=n,mh(t)}function mh(n){de.lFrame.currentDirectiveIndex=n}function km(){return de.lFrame.currentQueryIndex}function yh(n){de.lFrame.currentQueryIndex=n}function JS(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Rm(n,t,e){if(e&ie.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&ie.Host||(r=JS(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=de.lFrame=Om();return i.currentTNode=t,i.lView=n,!0}function Ou(n){const t=Om(),e=n[1];de.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Om(){const n=de.lFrame,t=null===n?null:n.child;return null===t?Nm(n):t}function Nm(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Lm(){const n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Fm=Lm;function Nu(){const n=Lm();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wn(){return de.lFrame.selectedIndex}function Fr(n){de.lFrame.selectedIndex=n}function Mt(){const n=de.lFrame;return Ma(n.tView,n.selectedIndex)}function Lu(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:f}=s;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),l&&((n.contentHooks||(n.contentHooks=[])).push(e,l),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,l)),c&&(n.viewHooks||(n.viewHooks=[])).push(-e,c),d&&((n.viewHooks||(n.viewHooks=[])).push(e,d),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,d)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function Fu(n,t,e){Bm(n,t,3,e)}function Bu(n,t,e,i){(3&n[2])===e&&Bm(n,t,e,i)}function _h(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Bm(n,t,e,i){const s=i??-1,a=t.length-1;let l=0;for(let c=void 0!==i?65535&n[18]:0;c<a;c++)if("number"==typeof t[c+1]){if(l=t[c],null!=i&&l>=i)break}else t[c]<0&&(n[18]+=65536),(l<s||-1==s)&&(lb(n,e,t,c),n[18]=(4294901760&n[18])+c+2),c++}function lb(n,t,e,i){const r=e[i]<0,s=e[i+1],l=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class Aa{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Hu(n,t,e){const i=$e(n);let r=0;for(;r<e.length;){const s=e[r];if("number"==typeof s){if(0!==s)break;r++;const a=e[r++],l=e[r++],c=e[r++];i?n.setAttribute(t,l,c,a):t.setAttributeNS(a,l,c)}else{const a=s,l=e[++r];Dh(a)?i&&n.setProperty(t,a,l):i?n.setAttribute(t,a,l):t.setAttribute(a,l),r++}}return r}function Hm(n){return 3===n||4===n||6===n}function Dh(n){return 64===n.charCodeAt(0)}function Vu(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Vm(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Vm(n,t,e,i,r){let s=0,a=n.length;if(-1===t)a=-1;else for(;s<n.length;){const l=n[s++];if("number"==typeof l){if(l===t){a=-1;break}if(l>t){a=s-1;break}}}for(;s<n.length;){const l=n[s];if("number"==typeof l)break;if(l===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(n.splice(a,0,t),s=a+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function jm(n){return-1!==n}function co(n){return 32767&n}function ho(n,t){let e=function fb(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Ch=!0;function ju(n){const t=Ch;return Ch=n,t}let pb=0;function ka(n,t){const e=bh(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Sh(i.data,n),Sh(t,null),Sh(i.blueprint,null));const r=Uu(n,t),s=n.injectorIndex;if(jm(r)){const a=co(r),l=ho(r,t),c=l[1].data;for(let d=0;d<8;d++)t[s+d]=l[a+d]|c[a+d]}return t[s+8]=r,s}function Sh(n,t){n.push(0,0,0,0,0,0,0,0,t)}function bh(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Uu(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const s=r[1],a=s.type;if(i=2===a?s.declTNode:1===a?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function zu(n,t,e){!function gb(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(as)&&(i=e[as]),null==i&&(i=e[as]=pb++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function Wm(n,t,e){if(e&ie.Optional)return n;xr(t,"NodeInjector")}function $m(n,t,e,i){if(e&ie.Optional&&void 0===i&&(i=null),0==(e&(ie.Self|ie.Host))){const r=n[9],s=Ni(void 0);try{return r?r.get(t,i,e&ie.Optional):Gs(t,i,e&ie.Optional)}finally{Ni(s)}}return Wm(i,t,e)}function Gm(n,t,e,i=ie.Default,r){if(null!==n){const s=function _b(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(as)?n[as]:void 0;return"number"==typeof t?t>=0?255&t:vb:t}(e);if("function"==typeof s){if(!Rm(t,n,i))return i&ie.Host?Wm(r,e,i):$m(t,e,i,r);try{const a=s(i);if(null!=a||i&ie.Optional)return a;xr(e)}finally{Fm()}}else if("number"==typeof s){let a=null,l=bh(n,t),c=-1,d=i&ie.Host?t[16][6]:null;for((-1===l||i&ie.SkipSelf)&&(c=-1===l?Uu(n,t):t[l+8],-1!==c&&Ym(i,!1)?(a=t[1],l=co(c),t=ho(c,t)):l=-1);-1!==l;){const f=t[1];if(qm(s,l,f.data)){const g=yb(l,t,e,a,i,d);if(g!==Zm)return g}c=t[l+8],-1!==c&&Ym(i,t[1].data[l+8]===d)&&qm(s,l,t)?(a=f,l=co(c),t=ho(c,t)):l=-1}}}return $m(t,e,i,r)}const Zm={};function vb(){return new fo(zt(),x())}function yb(n,t,e,i,r,s){const a=t[1],l=a.data[n+8],f=Wu(l,a,e,null==i?us(l)&&Ch:i!=a&&0!=(3&l.type),r&ie.Host&&s===l);return null!==f?Ra(t,a,f,l):Zm}function Wu(n,t,e,i,r){const s=n.providerIndexes,a=t.data,l=1048575&s,c=n.directiveStart,f=s>>20,v=r?l+f:n.directiveEnd;for(let y=i?l:l+f;y<v;y++){const w=a[y];if(y<c&&e===w||y>=c&&w.type===e)return y}if(r){const y=a[c];if(y&&Tt(y)&&y.type===e)return c}return null}function Ra(n,t,e,i){let r=n[e];const s=t.data;if(function ub(n){return n instanceof Aa}(r)){const a=r;a.resolving&&function rr(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new G(-200,`Circular dependency in DI detected for ${n}${e}`)}(Oe(s[e]));const l=ju(a.canSeeViewProviders);a.resolving=!0;const c=a.injectImpl?Ni(a.injectImpl):null;Rm(n,i,ie.Default);try{r=n[e]=a.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function ab(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const a=ba(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==c&&Ni(c),ju(l),a.resolving=!1,Fm()}}return r}function qm(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Ym(n,t){return!(n&ie.Self||n&ie.Host&&t)}class fo{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Gm(this._tNode,this._lView,t,i,e)}}function Eh(n){return ss(n)?()=>{const t=Eh(pe(n));return t&&t()}:zi(n)}const go="__parameters__";function vo(n,t,e){return _i(()=>{const i=function Mh(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const a=new r(...s);return l.annotation=a,l;function l(c,d,f){const g=c.hasOwnProperty(go)?c[go]:Object.defineProperty(c,go,{value:[]})[go];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(a),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class ze{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ae({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function si(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),si(i,t)):t!==n&&t.push(i)}return t}function Zi(n,t){n.forEach(e=>Array.isArray(e)?Zi(e,t):t(e))}function Xm(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function $u(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function $n(n,t,e){let i=yo(n,t);return i>=0?n[1|i]=e:(i=~i,function Sb(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Ph(n,t){const e=yo(n,t);if(e>=0)return n[1|e]}function yo(n,t){return function tv(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),a=n[s<<e];if(t===a)return s<<e;a>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const Fa={},xh="__NG_DI_FLAG__",Zu="ngTempTokenPath",Ab=/\n/gm,iv="__source",kb=We({provide:String,useValue:We});let Ba;function rv(n){const t=Ba;return Ba=n,t}function Rb(n,t=ie.Default){if(void 0===Ba)throw new G(203,"");return null===Ba?Gs(n,void 0,t):Ba.get(n,t&ie.Optional?null:void 0,t)}function U(n,t=ie.Default){return(function Cu(){return sr}()||Rb)(pe(n),t)}const Ob=U;function kh(n){const t=[];for(let e=0;e<n.length;e++){const i=pe(n[e]);if(Array.isArray(i)){if(0===i.length)throw new G(900,"");let r,s=ie.Default;for(let a=0;a<i.length;a++){const l=i[a],c=Nb(l);"number"==typeof c?-1===c?r=l.token:s|=c:r=l}t.push(U(r,s))}else t.push(U(i))}return t}function Ha(n,t){return n[xh]=t,n.prototype[xh]=t,n}function Nb(n){return n[xh]}const qu=Ha(vo("Optional"),8),Yu=Ha(vo("SkipSelf"),4);let Qu,Xu;function wo(n){return function Nh(){if(void 0===Qu&&(Qu=null,Ze.trustedTypes))try{Qu=Ze.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Qu}()?.createHTML(n)||n}function cv(n){return function Lh(){if(void 0===Xu&&(Xu=null,Ze.trustedTypes))try{Xu=Ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Xu}()?.createHTML(n)||n}class fv{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Hr(n){return n instanceof fv?n.changingThisBreaksApplicationSecurity:n}class eE{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(wo(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class tE{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=wo(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=wo(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const a=e.item(r).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&t.removeAttribute(a)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const iE=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rE=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ju(n){return(n=String(n)).match(iE)||n.match(rE)?n:"unsafe:"+n}function gv(n){return(n=String(n)).split(",").map(t=>Ju(t.trim())).join(", ")}function qi(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Ua(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const mv=qi("area,br,col,hr,img,wbr"),vv=qi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yv=qi("rp,rt"),Fh=Ua(mv,Ua(vv,qi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ua(yv,qi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ua(yv,vv)),Bh=qi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hh=qi("srcset"),_v=Ua(Bh,Hh,qi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sE=qi("script,style,template");class oE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Fh.hasOwnProperty(e))return this.sanitizedSomething=!0,!sE.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),a=s.name,l=a.toLowerCase();if(!_v.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let c=s.value;Bh[l]&&(c=Ju(c)),Hh[l]&&(c=gv(c)),this.buf.push(" ",a,'="',wv(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Fh.hasOwnProperty(e)&&!mv.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(wv(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const aE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lE=/([^\#-~ |!])/g;function wv(n){return n.replace(/&/g,"&amp;").replace(aE,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lE,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ec;function Vh(n){return"content"in n&&function cE(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ot=(()=>((Ot=Ot||{})[Ot.NONE=0]="NONE",Ot[Ot.HTML=1]="HTML",Ot[Ot.STYLE=2]="STYLE",Ot[Ot.SCRIPT=3]="SCRIPT",Ot[Ot.URL=4]="URL",Ot[Ot.RESOURCE_URL=5]="RESOURCE_URL",Ot))();function tc(n){const t=function za(){const n=x();return n&&n[12]}();return t?cv(t.sanitize(Ot.HTML,n)||""):function ja(n,t){const e=function Jb(n){return n instanceof fv&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}(n,"HTML")?cv(Hr(n)):function uE(n,t){let e=null;try{ec=ec||function pv(n){const t=new tE(n);return function nE(){try{return!!(new window.DOMParser).parseFromString(wo(""),"text/html")}catch{return!1}}()?new eE(t):t}(n);let i=t?String(t):"";e=ec.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=ec.getInertBodyElement(i)}while(i!==s);return wo((new oE).sanitizeChildren(Vh(e)||e))}finally{if(e){const i=Vh(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(Ce(),se(n))}const bv="__ngContext__";function hn(n,t){n[bv]=t}function Uh(n){const t=function Wa(n){return n[bv]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Wh(n){return n.ngOriginalError}function TE(n,...t){n.error(...t)}class $a{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function EE(n){return n&&n.ngErrorLogger||TE}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Wh(t);for(;e&&Wh(e);)e=Wh(e);return e||null}}const LE=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ze))();function Yi(n){return n instanceof Function?n():n}var Gn=(()=>((Gn=Gn||{})[Gn.Important=1]="Important",Gn[Gn.DashCase=2]="DashCase",Gn))();function Gh(n,t){return undefined(n,t)}function Ga(n){const t=n[3];return Nn(t)?t[3]:t}function Zh(n){return Rv(n[13])}function qh(n){return Rv(n[4])}function Rv(n){for(;null!==n&&!Nn(n);)n=n[4];return n}function Co(n,t,e,i,r){if(null!=i){let s,a=!1;Nn(i)?s=i:ii(i)&&(a=!0,i=i[0]);const l=tt(i);0===n&&null!==e?null==r?Hv(t,e,l):hs(t,e,l,r||null,!0):1===n&&null!==e?hs(t,e,l,r||null,!0):2===n?function Gv(n,t,e){const i=nc(n,t);i&&function KE(n,t,e,i){$e(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,l,a):3===n&&t.destroyNode(l),null!=s&&function JE(n,t,e,i,r){const s=e[7];s!==tt(e)&&Co(t,n,i,s,r);for(let l=10;l<e.length;l++){const c=e[l];Za(c[1],c,n,t,i,s)}}(t,n,s,e,r)}}function Kh(n,t,e){if($e(n))return n.createElement(t,e);{const i=null!==e?function M(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":t===C?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function Nv(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,lo(r,-1)),e.splice(i,1)}function Qh(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&Nv(r,i),t>0&&(n[e-1][4]=i[4]);const s=$u(n,10+t);!function UE(n,t){Za(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Lv(n,t){if(!(256&t[2])){const e=t[11];$e(e)&&e.destroyNode&&Za(n,t,e,3,null,null),function $E(n){let t=n[13];if(!t)return Xh(n[1],n);for(;t;){let e=null;if(ii(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)ii(t)&&Xh(t[1],t),t=t[3];null===t&&(t=n),ii(t)&&Xh(t[1],t),e=t&&t[4]}t=e}}(t)}}function Xh(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function YE(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Aa)){const s=e[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const l=r[s[a]],c=s[a+1];try{c.call(l)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function qE(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const a=e[s+1],l="function"==typeof a?a(t):tt(t[a]),c=i[r=e[s+2]],d=e[s+3];"boolean"==typeof d?l.removeEventListener(e[s],c,d):d>=0?i[r=d]():i[r=-d].unsubscribe(),s+=2}else{const a=i[r=e[s+1]];e[s].call(a)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();t[7]=null}}(n,t),1===t[1].type&&$e(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Nn(t[3])){e!==t[3]&&Nv(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function Fv(n,t,e){return function Bv(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===zn.None||r===zn.Emulated)return null}return Ln(i,e)}(n,t.parent,e)}function hs(n,t,e,i,r){$e(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function Hv(n,t,e){$e(n)?n.appendChild(t,e):t.appendChild(e)}function Vv(n,t,e,i,r){null!==i?hs(n,t,e,i,r):Hv(n,t,e)}function nc(n,t){return $e(n)?n.parentNode(t):t.parentNode}let zv=function Uv(n,t,e){return 40&n.type?Ln(n,e):null};function ic(n,t,e,i){const r=Fv(n,i,t),s=t[11],l=function jv(n,t,e){return zv(n,t,e)}(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)Vv(s,r,e[c],l,!1);else Vv(s,r,e,l,!1)}function rc(n,t){if(null!==t){const e=t.type;if(3&e)return Ln(t,n);if(4&e)return ef(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return rc(n,i);{const r=n[t.index];return Nn(r)?ef(-1,r):tt(r)}}if(32&e)return Gh(t,n)()||tt(n[t.index]);{const i=$v(n,t);return null!==i?Array.isArray(i)?i[0]:rc(Ga(n[16]),i):rc(n,t.next)}}return null}function $v(n,t){return null!==t?n[16][6].projection[t.projection]:null}function ef(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return rc(i,r)}return t[7]}function tf(n,t,e,i,r,s,a){for(;null!=e;){const l=i[e.index],c=e.type;if(a&&0===t&&(l&&hn(tt(l),i),e.flags|=4),64!=(64&e.flags))if(8&c)tf(n,t,e.child,i,r,s,!1),Co(t,n,r,l,s);else if(32&c){const d=Gh(e,i);let f;for(;f=d();)Co(t,n,r,f,s);Co(t,n,r,l,s)}else 16&c?Zv(n,t,i,e,r,s):Co(t,n,r,l,s);e=a?e.projectionNext:e.next}}function Za(n,t,e,i,r,s){tf(e,i,n.firstChild,t,r,s,!1)}function Zv(n,t,e,i,r,s){const a=e[16],c=a[6].projection[i.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++)Co(t,n,r,c[d],s);else tf(n,t,c,a[3],r,s,!0)}function qv(n,t,e){$e(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function nf(n,t,e){$e(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Yv(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const Kv="ng-template";function tT(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==Yv(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Qv(n){return 4===n.type&&n.value!==Kv}function nT(n,t,e){return t===(4!==n.type||e?n.value:Kv)}function iT(n,t,e){let i=4;const r=n.attrs||[],s=function oT(n){for(let t=0;t<n.length;t++)if(Hm(n[t]))return t;return n.length}(r);let a=!1;for(let l=0;l<t.length;l++){const c=t[l];if("number"!=typeof c){if(!a)if(4&i){if(i=2|1&i,""!==c&&!nT(n,c,e)||""===c&&1===t.length){if(wi(i))return!1;a=!0}}else{const d=8&i?c:t[++l];if(8&i&&null!==n.attrs){if(!tT(n.attrs,d,e)){if(wi(i))return!1;a=!0}continue}const g=rT(8&i?"class":c,r,Qv(n),e);if(-1===g){if(wi(i))return!1;a=!0;continue}if(""!==d){let v;v=g>s?"":r[g+1].toLowerCase();const y=8&i?v:null;if(y&&-1!==Yv(y,d,0)||2&i&&d!==v){if(wi(i))return!1;a=!0}}}}else{if(!a&&!wi(i)&&!wi(c))return!1;if(a&&wi(c))continue;a=!1,i=c|1&i}}return wi(i)||a}function wi(n){return 0==(1&n)}function rT(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const a=t[r];if(a===n)return r;if(3===a||6===a)s=!0;else{if(1===a||2===a){let l=t[++r];for(;"string"==typeof l;)l=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=s?1:2}return-1}return function aT(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Xv(n,t,e=!1){for(let i=0;i<t.length;i++)if(iT(n,t[i],e))return!0;return!1}function Jv(n,t){return n?":not("+t.trim()+")":t}function uT(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&i){const l=n[++e];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!wi(a)&&(t+=Jv(s,r),r=""),i=a,s=s||!wi(i);e++}return""!==r&&(t+=Jv(s,r)),t}const ve={};function V(n){ey(je(),x(),wn()+n,ku())}function ey(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&Fu(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Bu(t,s,0,e)}Fr(e)}function sc(n,t){return n<<17|t<<2}function Di(n){return n>>17&32767}function rf(n){return 2|n}function hr(n){return(131068&n)>>2}function sf(n,t){return-131069&n|t<<2}function af(n){return 1|n}function dy(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const a=n.data[s];yh(r),a.contentQueries(2,t[s],s)}}}function qa(n,t,e,i,r,s,a,l,c,d){const f=t.blueprint.slice();return f[0]=r,f[2]=140|i,ao(f),f[3]=f[15]=n,f[8]=e,f[10]=a||n&&n[10],f[11]=l||n&&n[11],f[12]=c||n&&n[12]||null,f[9]=d||n&&n[9]||null,f[6]=s,f[16]=2==t.type?n[16]:f,f}function So(n,t,e,i,r){let s=n.data[t];if(null===s)s=function mf(n,t,e,i,r){const s=Pm(),a=ph(),c=n.data[t]=function MT(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=c),null!==s&&(a?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c)),c}(n,t,e,i,r),function KS(){return de.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const a=function Pa(){const n=de.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Gi(s,!0),s}function bo(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Ya(n,t,e){Ou(t);try{const i=n.viewQuery;null!==i&&Ef(1,i,e);const r=n.template;null!==r&&hy(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&dy(n,t),n.staticViewQueries&&Ef(2,n.viewQuery,e);const s=n.components;null!==s&&function bT(n,t){for(let e=0;e<t.length;e++)$T(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,Nu()}}function Eo(n,t,e,i){const r=t[2];if(256==(256&r))return;Ou(t);const s=ku();try{ao(t),function Am(n){return de.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&hy(n,t,e,2,i);const a=3==(3&r);if(!s)if(a){const d=n.preOrderCheckHooks;null!==d&&Fu(t,d,null)}else{const d=n.preOrderHooks;null!==d&&Bu(t,d,0,null),_h(t,0)}if(function zT(n){for(let t=Zh(n);null!==t;t=qh(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(1024&r[2])&&lo(s,1),r[2]|=1024}}}(t),function UT(n){for(let t=Zh(n);null!==t;t=qh(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Ia(i)&&Eo(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&dy(n,t),!s)if(a){const d=n.contentCheckHooks;null!==d&&Fu(t,d)}else{const d=n.contentHooks;null!==d&&Bu(t,d,1),_h(t,1)}!function CT(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Fr(~r);else{const s=r,a=e[++i],l=e[++i];QS(a,s),l(2,t[s])}}}finally{Fr(-1)}}(n,t);const l=n.components;null!==l&&function ST(n,t){for(let e=0;e<t.length;e++)WT(n,t[e])}(t,l);const c=n.viewQuery;if(null!==c&&Ef(2,c,i),!s)if(a){const d=n.viewCheckHooks;null!==d&&Fu(t,d)}else{const d=n.viewHooks;null!==d&&Bu(t,d,2),_h(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,lo(t[3],-1))}finally{Nu()}}function ET(n,t,e,i){const r=t[10],s=!ku(),a=ds(t);try{s&&!a&&r.begin&&r.begin(),a&&Ya(n,t,i),Eo(n,t,e,i)}finally{s&&!a&&r.end&&r.end()}}function hy(n,t,e,i,r){const s=wn(),a=2&i;try{Fr(-1),a&&t.length>20&&ey(n,t,20,ku()),e(i,r)}finally{Fr(s)}}function vf(n,t,e){!Im()||(function OT(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||ka(e,t),hn(i,t);const a=e.initialInputs;for(let l=r;l<s;l++){const c=n.data[l],d=Tt(c);d&&HT(t,e,c);const f=Ra(t,n,l,e);hn(f,t),null!==a&&VT(0,l-r,f,c,0,a),d&&(Ve(e.index,t)[8]=f)}}(n,t,e,Ln(e,t)),128==(128&e.flags)&&function NT(n,t,e){const i=e.directiveStart,r=e.directiveEnd,a=e.index,l=function XS(){return de.lFrame.currentDirectiveIndex}();try{Fr(a);for(let c=i;c<r;c++){const d=n.data[c],f=t[c];mh(c),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&Dy(d,f)}}finally{Fr(-1),mh(l)}}(n,t,e))}function yf(n,t,e=Ln){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],l=-1===a?e(t,n):n[a];n[r++]=l}}}function py(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=lc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function lc(n,t,e,i,r,s,a,l,c,d){const f=20+i,g=f+r,v=function TT(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ve);return e}(f,g),y="function"==typeof d?d():d;return v[1]={type:n,blueprint:v,template:e,queries:null,viewQuery:l,declTNode:t,data:v.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1}}function vy(n,t,e,i){const r=My(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&Iy(n).push(i,r.length-1))}function yy(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function _f(n,t,e,i){let r=!1;if(Im()){const s=function LT(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const a=i[s];Xv(e,a.selectors,!1)&&(r||(r=[]),zu(ka(e,t),n,a.type),Tt(a)?(Cy(n,e),r.unshift(a)):r.push(a))}return r}(n,t,e),a=null===i?null:{"":-1};if(null!==s){r=!0,Sy(e,n.data.length,s.length);for(let f=0;f<s.length;f++){const g=s[f];g.providersResolver&&g.providersResolver(g)}let l=!1,c=!1,d=bo(n,t,s.length,null);for(let f=0;f<s.length;f++){const g=s[f];e.mergedAttrs=Vu(e.mergedAttrs,g.hostAttrs),by(n,e,t,d,g),BT(d,g,a),null!==g.contentQueries&&(e.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(e.flags|=128);const v=g.type.prototype;!l&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),l=!0),!c&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),c=!0),d++}!function IT(n,t){const i=t.directiveEnd,r=n.data,s=t.attrs,a=[];let l=null,c=null;for(let d=t.directiveStart;d<i;d++){const f=r[d],g=f.inputs,v=null===s||Qv(t)?null:jT(g,s);a.push(v),l=yy(g,d,l),c=yy(f.outputs,d,c)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=16),l.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e)}a&&function FT(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new G(-301,!1);i.push(t[r],s)}}}(e,i,a)}return e.mergedAttrs=Vu(e.mergedAttrs,e.attrs),r}function wy(n,t,e,i,r,s){const a=s.hostBindings;if(a){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const c=~t.index;(function RT(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(l)!=c&&l.push(c),l.push(i,r,a)}}function Dy(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Cy(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function BT(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Tt(t)&&(e[""]=n)}}function Sy(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function by(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=zi(r.type)),a=new Aa(s,Tt(r),null);n.blueprint[i]=a,e[i]=a,wy(n,t,0,i,bo(n,e,r.hostVars,ve),r)}function HT(n,t,e){const i=Ln(t,n),r=py(e),s=n[10],a=uc(n,qa(n,r,null,e.onPush?64:16,i,t,s,s.createRenderer(i,e),null,null));n[t.index]=a}function Ki(n,t,e,i,r,s){const a=Ln(n,t);!function wf(n,t,e,i,r,s,a){if(null==s)$e(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const l=null==a?se(s):a(s,i||"",r);$e(n)?n.setAttribute(t,r,l,e):e?t.setAttributeNS(e,r,l):t.setAttribute(r,l)}}(t[11],a,s,n.value,e,i,r)}function VT(n,t,e,i,r,s){const a=s[t];if(null!==a){const l=i.setInput;for(let c=0;c<a.length;){const d=a[c++],f=a[c++],g=a[c++];null!==l?i.setInput(e,g,d,f):e[f]=g}}}function jT(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Ey(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function WT(n,t){const e=Ve(t,n);if(Ia(e)){const i=e[1];80&e[2]?Eo(i,e,i.template,e[8]):e[5]>0&&Df(e)}}function Df(n){for(let i=Zh(n);null!==i;i=qh(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const a=s[1];Eo(a,s,a.template,s[8])}else s[5]>0&&Df(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Ve(e[i],n);Ia(r)&&r[5]>0&&Df(r)}}function $T(n,t){const e=Ve(t,n),i=e[1];(function GT(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Ya(i,e,e[8])}function uc(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Cf(n){for(;n;){n[2]|=64;const t=Ga(n);if(eo(n)&&!t)return n;n=t}return null}function bf(n,t,e){const i=t[10];i.begin&&i.begin();try{Eo(n,t,n.template,e)}catch(r){throw Ay(t,r),r}finally{i.end&&i.end()}}function Ty(n){!function Sf(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Uh(e),r=i[1];ET(r,i,r.template,e)}}(n[8])}function Ef(n,t,e){yh(0),t(n,e)}const KT=(()=>Promise.resolve(null))();function My(n){return n[7]||(n[7]=[])}function Iy(n){return n.cleanup||(n.cleanup=[])}function Ay(n,t){const e=n[9],i=e?e.get($a,null):null;i&&i.handleError(t)}function xy(n,t,e,i,r){for(let s=0;s<e.length;){const a=e[s++],l=e[s++],c=t[a],d=n.data[a];null!==d.setInput?d.setInput(c,r,i,l):c[l]=r}}function fr(n,t,e){const i=oo(t,n);!function Ov(n,t,e){$e(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function cc(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const l=t[a];"number"==typeof l?s=l:1==s?r=rs(r,l):2==s&&(i=rs(i,l+": "+t[++a]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const Tf=new ze("INJECTOR",-1);class ky{get(t,e=Fa){if(e===Fa){const i=new Error(`NullInjectorError: No provider for ${Re(t)}!`);throw i.name="NullInjectorError",i}return e}}const Mf=new ze("Set Injector scope."),Ka={},JT={};let If;function Ry(){return void 0===If&&(If=new ky),If}function Oy(n,t=null,e=null,i){const r=Ny(n,t,e,i);return r._resolveInjectorDefTypes(),r}function Ny(n,t=null,e=null,i){return new eM(n,e,t||Ry(),i)}class eM{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&Zi(e,l=>this.processProvider(l,t,e)),Zi([t],l=>this.processInjectorType(l,[],s)),this.records.set(Tf,To(void 0,this));const a=this.records.get(Mf);this.scope=null!=a?a.value:null,this.source=r||("object"==typeof t?null:Re(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Fa,i=ie.Default){this.assertNotDestroyed();const r=rv(this),s=Ni(void 0);try{if(!(i&ie.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function lM(n){return"function"==typeof n||"object"==typeof n&&n instanceof ze}(t)&&yi(t);l=c&&this.injectableDefInScope(c)?To(Pf(t),Ka):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&ie.Self?Ry():this.parent).get(t,e=i&ie.Optional&&e===Fa?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Zu]=a[Zu]||[]).unshift(Re(t)),r)throw a;return function Lb(n,t,e,i){const r=n[Zu];throw t[iv]&&r.unshift(t[iv]),n.message=function Fb(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Re(t);if(Array.isArray(t))r=t.map(Re).join(" -> ");else if("object"==typeof t){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let l=t[a];s.push(a+":"+("string"==typeof l?JSON.stringify(l):Re(l)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(Ab,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Zu]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Ni(s),rv(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(Re(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processInjectorType(t,e,i){if(!(t=pe(t)))return!1;let r=zs(t);const s=null==r&&t.ngModule||void 0,a=void 0===s?t:s,l=-1!==i.indexOf(a);if(void 0!==s&&(r=zs(s)),null==r)return!1;if(null!=r.imports&&!l){let f;i.push(a);try{Zi(r.imports,g=>{this.processInjectorType(g,e,i)&&(void 0===f&&(f=[]),f.push(g))})}finally{}if(void 0!==f)for(let g=0;g<f.length;g++){const{ngModule:v,providers:y}=f[g];Zi(y,w=>this.processProvider(w,v,y||qe))}}this.injectorDefTypes.add(a);const c=zi(a)||(()=>new a);this.records.set(a,To(c,Ka));const d=r.providers;if(null!=d&&!l){const f=t;Zi(d,g=>this.processProvider(g,f,d))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,i){let r=Mo(t=pe(t))?t:pe(t&&t.provide);const s=function nM(n,t,e){return Fy(n)?To(void 0,n.useValue):To(function Ly(n,t,e){let i;if(Mo(n)){const r=pe(n);return zi(r)||Pf(r)}if(Fy(n))i=()=>pe(n.useValue);else if(function rM(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...kh(n.deps||[]));else if(function iM(n){return!(!n||!n.useExisting)}(n))i=()=>U(pe(n.useExisting));else{const r=pe(n&&(n.useClass||n.provide));if(!function oM(n){return!!n.deps}(n))return zi(r)||Pf(r);i=()=>new r(...kh(n.deps))}return i}(n),Ka)}(t);if(Mo(t)||!0!==t.multi)this.records.get(r);else{let a=this.records.get(r);a||(a=To(void 0,Ka,!0),a.factory=()=>kh(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,s)}hydrate(t,e){return e.value===Ka&&(e.value=JT,e.value=e.factory()),"object"==typeof e.value&&e.value&&function aM(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=pe(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Pf(n){const t=yi(n),e=null!==t?t.factory:zi(n);if(null!==e)return e;if(n instanceof ze)throw new G(204,!1);if(n instanceof Function)return function tM(n){const t=n.length;if(t>0)throw function La(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?"),new G(204,!1);const e=function eh(n){const t=n&&(n[Ws]||n[Ae]);if(t){const e=function Du(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new G(204,!1)}function To(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Fy(n){return null!==n&&"object"==typeof n&&kb in n}function Mo(n){return"function"==typeof n}let Cn=(()=>{class n{static create(e,i){if(Array.isArray(e))return Oy({name:""},i,e,"");{const r=e.name??"";return Oy({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=Fa,n.NULL=new ky,n.\u0275prov=ae({token:n,providedIn:"any",factory:()=>U(Tf)}),n.__NG_ELEMENT_ID__=-1,n})();function mM(n,t){Lu(Uh(n)[1],zt())}let dc=null;function Io(){if(!dc){const n=Ze.Symbol;if(n&&n.iterator)dc=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(dc=i)}}}return dc}function Qa(n){return!!Rf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Io()in n)}function Rf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Qi(n,t,e){return n[t]=e}function Xa(n,t){return n[t]}function fn(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function fs(n,t,e,i){const r=fn(n,t,e);return fn(n,t+1,i)||r}function hc(n,t,e,i,r){const s=fs(n,t,e,i);return fn(n,t+2,r)||s}function oi(n,t,e,i,r,s){const a=fs(n,t,e,i);return fs(n,t+2,r,s)||a}function ai(n,t,e,i){const r=x();return fn(r,uo(),t)&&(je(),Ki(Mt(),r,n,t,e,i)),ai}function ne(n,t,e,i,r,s,a,l){const c=x(),d=je(),f=n+20,g=d.firstCreatePass?function MM(n,t,e,i,r,s,a,l,c){const d=t.consts,f=So(t,n,4,a||null,$i(d,l));_f(t,e,f,$i(d,c)),Lu(t,f);const g=f.tViews=lc(2,f,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d);return null!==t.queries&&(t.queries.template(t,f),g.queries=t.queries.embeddedTView(f)),f}(f,d,c,t,e,i,r,s,a):d.data[f];Gi(g,!1);const v=c[11].createComment("");ic(d,c,v,g),hn(v,c),uc(c,c[f]=Ey(v,c,v,g)),Js(g)&&vf(d,c,g),null!=a&&yf(c,g,l)}function $t(n){return ur(function YS(){return de.lFrame.contextLView}(),20+n)}function O(n,t=ie.Default){const e=x();return null===e?U(n,t):Gm(zt(),e,pe(n),t)}function N(n,t,e){const i=x();return fn(i,uo(),t)&&function Zn(n,t,e,i,r,s,a,l){const c=Ln(t,e);let f,d=t.inputs;!l&&null!=d&&(f=d[i])?(xy(n,e,f,i,r),us(t)&&function AT(n,t){const e=Ve(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function PT(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,t.value||"",i):r,$e(s)?s.setProperty(c,i,r):Dh(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}(je(),Mt(),i,n,t,i[11],e,!1),N}function Bf(n,t,e,i,r){const a=r?"class":"style";xy(n,e,t.inputs[a],a,i)}function Z(n,t,e,i){const r=x(),s=je(),a=20+n,l=r[11],c=r[a]=Kh(l,t,function ob(){return de.lFrame.currentNamespace}()),d=s.firstCreatePass?function YM(n,t,e,i,r,s,a){const l=t.consts,d=So(t,n,2,r,$i(l,s));return _f(t,e,d,$i(l,a)),null!==d.attrs&&cc(d,d.attrs,!1),null!==d.mergedAttrs&&cc(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(a,s,r,0,t,e,i):s.data[a];Gi(d,!0);const f=d.mergedAttrs;null!==f&&Hu(l,c,f);const g=d.classes;null!==g&&nf(l,c,g);const v=d.styles;return null!==v&&qv(l,c,v),64!=(64&d.flags)&&ic(s,r,c,d),0===function WS(){return de.lFrame.elementDepthCount}()&&hn(c,r),function $S(){de.lFrame.elementDepthCount++}(),Js(d)&&(vf(s,r,d),function fy(n,t,e){if(Da(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}}(s,d,r)),null!==i&&yf(r,d),Z}function Y(){let n=zt();ph()?function gh(){de.lFrame.isParent=!1}():(n=n.parent,Gi(n,!1));const t=n;!function GS(){de.lFrame.elementDepthCount--}();const e=je();return e.firstCreatePass&&(Lu(e,n),Da(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function db(n){return 0!=(16&n.flags)}(t)&&Bf(e,t,x(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function hb(n){return 0!=(32&n.flags)}(t)&&Bf(e,t,x(),t.stylesWithoutHost,!1),Y}function St(n,t,e,i){return Z(n,t,e,i),Y(),St}function Nt(){return x()}function jf(n){return!!n&&"function"==typeof n.then}function v_(n){return!!n&&"function"==typeof n.subscribe}const QM=v_;function Ie(n,t,e,i){const r=x(),s=je(),a=zt();return function __(n,t,e,i,r,s,a,l){const c=Js(i),f=n.firstCreatePass&&Iy(n),g=t[8],v=My(t);let y=!0;if(3&i.type||l){const S=Ln(i,t),E=l?l(S):S,b=v.length,I=l?A=>l(tt(A[i.index])):i.index;if($e(e)){let A=null;if(!l&&c&&(A=function XM(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const a=r[s];if(a===e&&r[s+1]===i){const l=t[7],c=r[s+2];return l.length>c?l[c]:null}"string"==typeof a&&(s+=2)}return null}(n,t,r,i.index)),null!==A)(A.__ngLastListenerFn__||A).__ngNextListenerFn__=s,A.__ngLastListenerFn__=s,y=!1;else{s=Uf(i,t,g,s,!1);const H=e.listen(E,r,s);v.push(s,H),f&&f.push(r,I,b,b+1)}}else s=Uf(i,t,g,s,!0),E.addEventListener(r,s,a),v.push(s),f&&f.push(r,I,b,a)}else s=Uf(i,t,g,s,!1);const w=i.outputs;let D;if(y&&null!==w&&(D=w[r])){const S=D.length;if(S)for(let E=0;E<S;E+=2){const K=t[D[E]][D[E+1]].subscribe(s),he=v.length;v.push(s,K),f&&f.push(r,i.index,he,-(he+1))}}}(s,r,r[11],a,n,t,!!e,i),Ie}function w_(n,t,e,i){try{return!1!==e(i)}catch(r){return Ay(n,r),!1}}function Uf(n,t,e,i,r){return function s(a){if(a===Function)return i;const l=2&n.flags?Ve(n.index,t):t;0==(32&t[2])&&Cf(l);let c=w_(t,0,i,a),d=s.__ngNextListenerFn__;for(;d;)c=w_(t,0,d,a)&&c,d=d.__ngNextListenerFn__;return r&&!1===c&&(a.preventDefault(),a.returnValue=!1),c}}function R(n=1){return function eb(n){return(de.lFrame.contextLView=function tb(n,t){for(;n>0;)t=t[15],n--;return t}(n,de.lFrame.contextLView))[8]}(n)}function A_(n,t,e,i,r){const s=n[e+1],a=null===t;let l=i?Di(s):hr(s),c=!1;for(;0!==l&&(!1===c||a);){const f=n[l+1];rI(n[l],t)&&(c=!0,n[l+1]=i?af(f):rf(f)),l=i?Di(f):hr(f)}c&&(n[e+1]=i?rf(s):af(s))}function rI(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&yo(n,t)>=0}function pr(n,t,e){return Si(n,t,e,!1),pr}function pn(n,t){return Si(n,t,null,!0),pn}function Si(n,t,e,i){const r=x(),s=je(),a=function dr(n){const t=de.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);s.firstUpdatePass&&function B_(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[wn()],a=function F_(n,t){return t>=n.expandoStartIndex}(n,e);(function U_(n,t){return 0!=(n.flags&(t?16:32))})(s,i)&&null===t&&!a&&(t=!1),t=function fI(n,t,e,i){const r=function vh(n){const t=de.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Ja(e=Wf(null,n,t,e,i),t.attrs,i),s=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==r)if(e=Wf(r,n,t,e,i),null===s){let c=function pI(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==hr(i))return n[Di(i)]}(n,t,i);void 0!==c&&Array.isArray(c)&&(c=Wf(null,n,t,c[1],i),c=Ja(c,t.attrs,i),function gI(n,t,e,i){n[Di(e?t.classBindings:t.styleBindings)]=i}(n,t,i,c))}else s=function mI(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Ja(i,n[s].hostAttrs,e);return Ja(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function nI(n,t,e,i,r,s){let a=s?t.classBindings:t.styleBindings,l=Di(a),c=hr(a);n[i]=e;let f,d=!1;if(Array.isArray(e)){const g=e;f=g[1],(null===f||yo(g,f)>0)&&(d=!0)}else f=e;if(r)if(0!==c){const v=Di(n[l+1]);n[i+1]=sc(v,l),0!==v&&(n[v+1]=sf(n[v+1],i)),n[l+1]=function hT(n,t){return 131071&n|t<<17}(n[l+1],i)}else n[i+1]=sc(l,0),0!==l&&(n[l+1]=sf(n[l+1],i)),l=i;else n[i+1]=sc(c,0),0===l?l=i:n[c+1]=sf(n[c+1],i),c=i;d&&(n[i+1]=rf(n[i+1])),A_(n,f,i,!0),A_(n,f,i,!1),function iI(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&yo(s,t)>=0&&(e[i+1]=af(e[i+1]))}(t,f,n,i,s),a=sc(l,c),s?t.classBindings=a:t.styleBindings=a}(r,s,t,e,a,i)}}(s,n,a,i),t!==ve&&fn(r,a,t)&&function V_(n,t,e,i,r,s,a,l){if(!(3&t.type))return;const c=n.data,d=c[l+1];pc(function iy(n){return 1==(1&n)}(d)?j_(c,t,e,r,hr(d),a):void 0)||(pc(s)||function ny(n){return 2==(2&n)}(d)&&(s=j_(c,null,e,r,l,a)),function eT(n,t,e,i,r){const s=$e(n);if(t)r?s?n.addClass(e,i):e.classList.add(i):s?n.removeClass(e,i):e.classList.remove(i);else{let a=-1===i.indexOf("-")?void 0:Gn.DashCase;if(null==r)s?n.removeStyle(e,i,a):e.style.removeProperty(i);else{const l="string"==typeof r&&r.endsWith("!important");l&&(r=r.slice(0,-10),a|=Gn.Important),s?n.setStyle(e,i,r,a):e.style.setProperty(i,r,l?"important":"")}}}(i,a,oo(wn(),e),r,s))}(s,s.data[wn()],r,r[11],n,r[a+1]=function _I(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Re(Hr(n)))),n}(t,e),i,a)}function Wf(n,t,e,i,r){let s=null;const a=e.directiveEnd;let l=e.directiveStylingLast;for(-1===l?l=e.directiveStart:l++;l<a&&(s=t[l],i=Ja(i,s.hostAttrs,r),s!==n);)l++;return null!==n&&(e.directiveStylingLast=l),i}function Ja(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),$n(n,a,!!e||t[++s]))}return void 0===n?null:n}function j_(n,t,e,i,r,s){const a=null===t;let l;for(;r>0;){const c=n[r],d=Array.isArray(c),f=d?c[1]:c,g=null===f;let v=e[r+1];v===ve&&(v=g?qe:void 0);let y=g?Ph(v,i):f===i?v:void 0;if(d&&!pc(y)&&(y=Ph(c,i)),pc(y)&&(l=y,a))return l;const w=n[r+1];r=a?Di(w):hr(w)}if(null!==t){let c=s?t.residualClasses:t.residualStyles;null!=c&&(l=Ph(c,i))}return l}function pc(n){return void 0!==n}function It(n,t=""){const e=x(),i=je(),r=n+20,s=i.firstCreatePass?So(i,r,1,t,null):i.data[r],a=e[r]=function Yh(n,t){return $e(n)?n.createText(t):n.createTextNode(t)}(e[11],t);ic(i,e,a,s),Gi(s,!1)}function ps(n){return el("",n,""),ps}function el(n,t,e){const i=x(),r=function Ao(n,t,e,i){return fn(n,uo(),e)?t+se(e)+i:ve}(i,n,t,e);return r!==ve&&fr(i,wn(),r),el}const gs=void 0;var HI=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function BI(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Vo={};function Sn(n){const t=function VI(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=uw(t);if(e)return e;const i=t.split("-")[0];if(e=uw(i),e)return e;if("en"===i)return HI;throw new Error(`Missing locale data for the locale "${n}".`)}function uw(n){return n in Vo||(Vo[n]=Ze.ng&&Ze.ng.common&&Ze.ng.common.locales&&Ze.ng.common.locales[n]),Vo[n]}var W=(()=>((W=W||{})[W.LocaleId=0]="LocaleId",W[W.DayPeriodsFormat=1]="DayPeriodsFormat",W[W.DayPeriodsStandalone=2]="DayPeriodsStandalone",W[W.DaysFormat=3]="DaysFormat",W[W.DaysStandalone=4]="DaysStandalone",W[W.MonthsFormat=5]="MonthsFormat",W[W.MonthsStandalone=6]="MonthsStandalone",W[W.Eras=7]="Eras",W[W.FirstDayOfWeek=8]="FirstDayOfWeek",W[W.WeekendRange=9]="WeekendRange",W[W.DateFormat=10]="DateFormat",W[W.TimeFormat=11]="TimeFormat",W[W.DateTimeFormat=12]="DateTimeFormat",W[W.NumberSymbols=13]="NumberSymbols",W[W.NumberFormats=14]="NumberFormats",W[W.CurrencyCode=15]="CurrencyCode",W[W.CurrencySymbol=16]="CurrencySymbol",W[W.CurrencyName=17]="CurrencyName",W[W.Currencies=18]="Currencies",W[W.Directionality=19]="Directionality",W[W.PluralCase=20]="PluralCase",W[W.ExtraData=21]="ExtraData",W))();const gc="en-US";let cw=gc;class Nw{}class z1{resolveComponentFactory(t){throw function U1(n){const t=Error(`No component factory found for ${Re(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let ms=(()=>{class n{}return n.NULL=new z1,n})();function W1(){return Uo(zt(),x())}function Uo(n,t){return new bn(Ln(n,t))}let bn=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=W1,n})();function $1(n){return n instanceof bn?n.nativeElement:n}class sl{}let gr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Z1(){const n=x(),e=Ve(zt().index,n);return function G1(n){return n[11]}(ii(e)?e:n)}(),n})(),q1=(()=>{class n{}return n.\u0275prov=ae({token:n,providedIn:"root",factory:()=>null}),n})();class wc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Y1=new wc("13.3.0"),Qf={};function Dc(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(tt(s)),Nn(s))for(let l=10;l<s.length;l++){const c=s[l],d=c[1].firstChild;null!==d&&Dc(c[1],c,d,i)}const a=e.type;if(8&a)Dc(n,t,e.child,i);else if(32&a){const l=Gh(e,t);let c;for(;c=l();)i.push(c)}else if(16&a){const l=$v(t,e);if(Array.isArray(l))i.push(...l);else{const c=Ga(t[16]);Dc(c[1],c,l,i,!0)}}e=r?e.projectionNext:e.next}return i}class ol{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Dc(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Nn(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Qh(t,i),$u(e,i))}this._attachedToViewContainer=!1}Lv(this._lView[1],this._lView)}onDestroy(t){vy(this._lView[1],this._lView,null,t)}markForCheck(){Cf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){bf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function qT(n,t,e){Ru(!0);try{bf(n,t,e)}finally{Ru(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new G(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function WE(n,t){Za(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new G(902,"");this._appRef=t}}class K1 extends ol{constructor(t){super(t),this._view=t}detectChanges(){Ty(this._view)}checkNoChanges(){!function YT(n){Ru(!0);try{Ty(n)}finally{Ru(!1)}}(this._view)}get context(){return null}}class Fw extends ms{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Kt(t);return new Xf(e,this.ngModule)}}function Bw(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class Xf extends Nw{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function cT(n){return n.map(uT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Bw(this.componentDef.inputs)}get outputs(){return Bw(this.componentDef.outputs)}create(t,e,i,r){const s=(r=r||this.ngModule)?function X1(n,t){return{get:(e,i,r)=>{const s=n.get(e,Qf,r);return s!==Qf||i===Qf?s:t.get(e,i,r)}}}(t,r.injector):t,a=s.get(sl,Wi),l=s.get(q1,null),c=a.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",f=i?function my(n,t,e){if($e(n))return n.selectRootElement(t,e===zn.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(c,i,this.componentDef.encapsulation):Kh(a.createRenderer(null,this.componentDef),d,function Q1(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?C:null}(d)),g=this.componentDef.onPush?576:528,v=function qy(n,t){return{components:[],scheduler:n||LE,clean:KT,playerHandler:t||null,flags:0}}(),y=lc(0,null,null,1,0,null,null,null,null,null),w=qa(null,y,v,g,null,null,a,c,l,s);let D,S;Ou(w);try{const E=function Gy(n,t,e,i,r,s){const a=e[1];e[20]=n;const c=So(a,20,2,"#host",null),d=c.mergedAttrs=t.hostAttrs;null!==d&&(cc(c,d,!0),null!==n&&(Hu(r,n,d),null!==c.classes&&nf(r,n,c.classes),null!==c.styles&&qv(r,n,c.styles)));const f=i.createRenderer(n,t),g=qa(e,py(t),null,t.onPush?64:16,e[20],c,i,f,s||null,null);return a.firstCreatePass&&(zu(ka(c,e),a,t.type),Cy(a,c),Sy(c,e.length,1)),uc(e,g),e[20]=g}(f,this.componentDef,w,a,c);if(f)if(i)Hu(c,f,["ng-version",Y1.full]);else{const{attrs:b,classes:I}=function dT(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!wi(r))break;r=s}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);b&&Hu(c,f,b),I&&I.length>0&&nf(c,f,I.join(" "))}if(S=Ma(y,20),void 0!==e){const b=S.projection=[];for(let I=0;I<this.ngContentSelectors.length;I++){const A=e[I];b.push(null!=A?Array.from(A):null)}}D=function Zy(n,t,e,i,r){const s=e[1],a=function kT(n,t,e){const i=zt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),by(n,i,t,bo(n,t,1,null),e));const r=Ra(t,n,i.directiveStart,i);hn(r,t);const s=Ln(i,t);return s&&hn(s,t),r}(s,e,t);if(i.components.push(a),n[8]=a,r&&r.forEach(c=>c(a,t)),t.contentQueries){const c=zt();t.contentQueries(1,a,c.directiveStart)}const l=zt();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Fr(l.index),wy(e[1],l,0,l.directiveStart,l.directiveEnd,t),Dy(t,a)),a}(E,this.componentDef,w,v,[mM]),Ya(y,w,null)}finally{Nu()}return new eP(this.componentType,D,Uo(S,w),w,S)}}class eP extends class j1{}{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new K1(r),this.componentType=t}get injector(){return new fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class zo{}const Wo=new Map;class jw extends zo{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fw(this);const i=Rn(t);this._bootstrapComponents=Yi(i.bootstrap),this._r3Injector=Ny(t,e,[{provide:zo,useValue:this},{provide:ms,useValue:this.componentFactoryResolver}],Re(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Cn.THROW_IF_NOT_FOUND,i=ie.Default){return t===Cn||t===zo||t===Tf?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Jf extends class nP{}{constructor(t){super(),this.moduleType=t,null!==Rn(t)&&function iP(n){const t=new Set;!function e(i){const r=Rn(i,!0),s=r.id;null!==s&&(function Hw(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Re(t)} vs ${Re(t.name)}`)}(s,Wo.get(s),i),Wo.set(s,i));const a=Yi(r.imports);for(const l of a)t.has(l)||(t.add(l),e(l))}(n)}(t)}create(t){return new jw(this.moduleType,t)}}function En(n,t,e){const i=_n()+n,r=x();return r[i]===ve?Qi(r,i,e?t.call(e):t()):Xa(r,i)}function vs(n,t,e,i){return $w(x(),_n(),n,t,e,i)}function Xt(n,t,e,i,r){return Gw(x(),_n(),n,t,e,i,r)}function ep(n,t,e,i,r,s){return Zw(x(),_n(),n,t,e,i,r,s)}function Uw(n,t,e,i,r,s,a){return function qw(n,t,e,i,r,s,a,l,c){const d=t+e;return oi(n,d,r,s,a,l)?Qi(n,d+4,c?i.call(c,r,s,a,l):i(r,s,a,l)):al(n,d+4)}(x(),_n(),n,t,e,i,r,s,a)}function tp(n,t,e,i,r,s,a,l){const c=_n()+n,d=x(),f=oi(d,c,e,i,r,s);return fn(d,c+4,a)||f?Qi(d,c+5,l?t.call(l,e,i,r,s,a):t(e,i,r,s,a)):Xa(d,c+5)}function np(n,t,e,i){return function Yw(n,t,e,i,r,s){let a=t+e,l=!1;for(let c=0;c<r.length;c++)fn(n,a++,r[c])&&(l=!0);return l?Qi(n,a,i.apply(s,r)):al(n,a)}(x(),_n(),n,t,e,i)}function al(n,t){const e=n[t];return e===ve?void 0:e}function $w(n,t,e,i,r,s){const a=t+e;return fn(n,a,r)?Qi(n,a+1,s?i.call(s,r):i(r)):al(n,a+1)}function Gw(n,t,e,i,r,s,a){const l=t+e;return fs(n,l,r,s)?Qi(n,l+2,a?i.call(a,r,s):i(r,s)):al(n,l+2)}function Zw(n,t,e,i,r,s,a,l){const c=t+e;return hc(n,c,r,s,a)?Qi(n,c+3,l?i.call(l,r,s,a):i(r,s,a)):al(n,c+3)}function _t(n,t){const e=je();let i;const r=n+20;e.firstCreatePass?(i=function sP(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=zi(i.type)),a=Ni(O);try{const l=ju(!1),c=s();return ju(l),function IM(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,x(),r,c),c}finally{Ni(a)}}function Cc(n,t,e){const i=n+20,r=x(),s=ur(r,i);return ll(r,i)?$w(r,_n(),t,s.transform,e,s):s.transform(e)}function Ei(n,t,e,i){const r=n+20,s=x(),a=ur(s,r);return ll(s,r)?Gw(s,_n(),t,a.transform,e,i,a):a.transform(e,i)}function Ti(n,t,e,i,r){const s=n+20,a=x(),l=ur(a,s);return ll(a,s)?Zw(a,_n(),t,l.transform,e,i,r,l):l.transform(e,i,r)}function ll(n,t){return n[1].data[t].pure}function ip(n){return t=>{setTimeout(n,void 0,t)}}const ue=class lP extends Me{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),a=i;if(t&&"object"==typeof t){const c=t;r=c.next?.bind(c),s=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(s=ip(s),r&&(r=ip(r)),a&&(a=ip(a)));const l=super.subscribe({next:r,error:s,complete:a});return t instanceof An&&t.add(l),l}};function uP(){return this._results[Io()]()}class rp{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Io(),i=rp.prototype;i[e]||(i[e]=uP)}get changes(){return this._changes||(this._changes=new ue)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=si(t);(this._changesDetected=!function Db(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let mr=(()=>{class n{}return n.__NG_ELEMENT_ID__=hP,n})();const cP=mr,dP=class extends cP{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=qa(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(e)),Ya(e,i,t),new ol(i)}};function hP(){return Sc(zt(),x())}function Sc(n,t){return 4&n.type?new dP(t,n,Uo(n,t)):null}let li=(()=>{class n{}return n.__NG_ELEMENT_ID__=fP,n})();function fP(){return Xw(zt(),x())}const pP=li,Kw=class extends pP{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Uo(this._hostTNode,this._hostLView)}get injector(){return new fo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Uu(this._hostTNode,this._hostLView);if(jm(t)){const e=ho(t,this._hostLView),i=co(t);return new fo(e[1].data[i+8],e)}return new fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Qw(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,s){const a=t&&!function Na(n){return"function"==typeof n}(t);let l;if(a)l=e;else{const g=e||{};l=g.index,i=g.injector,r=g.projectableNodes,s=g.ngModuleRef}const c=a?t:new Xf(Kt(t)),d=i||this.parentInjector;if(!s&&null==c.ngModule){const v=(a?d:this.parentInjector).get(zo,null);v&&(s=v)}const f=c.create(d,r,void 0,s);return this.insert(f.hostView,l),f}insert(t,e){const i=t._lView,r=i[1];if(function fh(n){return Nn(n[3])}(i)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const g=i[3],v=new Kw(g,g[6],g[3]);v.detach(v.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;!function GE(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],Xm(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function ZE(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(a,t);const l=t[19];null!==l&&l.insertView(n),t[2]|=128}(r,i,a,s);const l=ef(s,a),c=i[11],d=nc(c,a[7]);return null!==d&&function zE(n,t,e,i,r,s){i[0]=r,i[6]=t,Za(n,i,e,1,r,s)}(r,a[6],c,i,d,l),t.attachToViewContainerRef(),Xm(sp(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Qw(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Qh(this._lContainer,e);i&&($u(sp(this._lContainer),e),Lv(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Qh(this._lContainer,e);return i&&null!=$u(sp(this._lContainer),e)?new ol(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function Qw(n){return n[8]}function sp(n){return n[8]||(n[8]=[])}function Xw(n,t){let e;const i=t[n.index];if(Nn(i))e=i;else{let r;if(8&n.type)r=tt(i);else{const s=t[11];r=s.createComment("");const a=Ln(n,t);hs(s,nc(s,a),r,function QE(n,t){return $e(n)?n.nextSibling(t):t.nextSibling}(s,a),!1)}t[n.index]=e=Ey(i,t,r,n),uc(t,e)}return new Kw(e,n,t)}class op{constructor(t){this.queryList=t,this.matches=null}clone(){return new op(this.queryList)}setDirty(){this.queryList.setDirty()}}class ap{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const a=e.getByIndex(s);r.push(this.queries[a.indexInDeclarationView].clone())}return new ap(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==iD(t,e).matches&&this.queries[e].setDirty()}}class Jw{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class lp{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new lp(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class up{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new up(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,vP(e,s)),this.matchTNodeWithReadOption(t,e,Wu(e,t,s,!1,!1))}else i===mr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Wu(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===bn||r===li||r===mr&&4&e.type)this.addMatch(e.index,-2);else{const s=Wu(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function vP(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function _P(n,t,e,i){return-1===e?function yP(n,t){return 11&n.type?Uo(n,t):4&n.type?Sc(n,t):null}(t,n):-2===e?function wP(n,t,e){return e===bn?Uo(t,n):e===mr?Sc(t,n):e===li?Xw(t,n):void 0}(n,t,i):Ra(n,n[1],e,t)}function eD(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,a=e.matches,l=[];for(let c=0;c<a.length;c+=2){const d=a[c];l.push(d<0?null:_P(t,s[d],a[c+1],e.metadata.read))}r.matches=l}return r.matches}function cp(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const a=eD(n,t,r,e);for(let l=0;l<s.length;l+=2){const c=s[l];if(c>0)i.push(a[l/2]);else{const d=s[l+1],f=t[-c];for(let g=10;g<f.length;g++){const v=f[g];v[17]===v[3]&&cp(v[1],v,d,i)}if(null!==f[9]){const g=f[9];for(let v=0;v<g.length;v++){const y=g[v];cp(y[1],y,d,i)}}}}}return i}function dp(n){const t=x(),e=je(),i=km();yh(i+1);const r=iD(e,i);if(n.dirty&&ds(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?cp(e,t,i,[]):eD(e,t,r,i);n.reset(s,$1),n.notifyOnChanges()}return!0}return!1}function hp(n,t,e){const i=je();i.firstCreatePass&&(function nD(n,t,e){null===n.queries&&(n.queries=new lp),n.queries.track(new up(t,e))}(i,new Jw(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),function tD(n,t,e){const i=new rp(4==(4&e));vy(n,t,i,i.destroy),null===t[19]&&(t[19]=new ap),t[19].queries.push(new op(i))}(i,x(),t)}function fp(){return function CP(n,t){return n[19].queries[t].queryList}(x(),km())}function iD(n,t){return n.queries.getByIndex(t)}function qn(n,t){return Sc(n,t)}function Tc(...n){}const wD=new ze("Application Initializer");let _p=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Tc,this.reject=Tc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(jf(s))e.push(s);else if(QM(s)){const a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});e.push(a)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(U(wD,8))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cl=new ze("AppId",{providedIn:"root",factory:function DD(){return`${wp()}${wp()}${wp()}`}});function wp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const CD=new ze("Platform Initializer"),dl=new ze("Platform ID"),VP=new ze("appBootstrapListener");let jP=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();const ui=new ze("LocaleId",{providedIn:"root",factory:()=>Ob(ui,ie.Optional|ie.SkipSelf)||function UP(){return typeof $localize<"u"&&$localize.locale||gc}()}),GP=(()=>Promise.resolve(0))();function Dp(n){typeof Zone>"u"?GP.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class bt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ue(!1),this.onMicrotaskEmpty=new ue(!1),this.onStable=new ue(!1),this.onError=new ue(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function ZP(){let n=Ze.requestAnimationFrame,t=Ze.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function KP(n){const t=()=>{!function YP(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ze,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Sp(n),n.isCheckStableRunning=!0,Cp(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Sp(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,a,l)=>{try{return SD(n),e.invokeTask(r,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),bD(n)}},onInvoke:(e,i,r,s,a,l,c)=>{try{return SD(n),e.invoke(r,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&t(),bD(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Sp(n),Cp(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(bt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+r,t,qP,Tc,Tc);try{return s.runTask(a,e,i)}finally{s.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const qP={};function Cp(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Sp(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function SD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bD(n){n._nesting--,Cp(n)}class QP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ue,this.onMicrotaskEmpty=new ue,this.onStable=new ue,this.onError=new ue}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let bp=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bt.assertNotInAngularZone(),Dp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dp(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(U(bt))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})(),ED=(()=>{class n{constructor(){this._applications=new Map,Ep.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Ep.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();class XP{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Mi,Ep=new XP;const TD=new ze("AllowMultipleToken");function MD(n,t,e=[]){const i=`Platform: ${t}`,r=new ze(i);return(s=[])=>{let a=ID();if(!a||a.injector.get(TD,!1))if(n)n(e.concat(s).concat({provide:r,useValue:!0}));else{const l=e.concat(s).concat({provide:r,useValue:!0},{provide:Mf,useValue:"platform"});!function nA(n){if(Mi&&!Mi.destroyed&&!Mi.injector.get(TD,!1))throw new G(400,"");Mi=n.get(PD);const t=n.get(CD,null);t&&t.forEach(e=>e())}(Cn.create({providers:l,name:i}))}return function iA(n){const t=ID();if(!t)throw new G(401,"");return t}()}}function ID(){return Mi&&!Mi.destroyed?Mi:null}let PD=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const l=function rA(n,t){let e;return e="noop"===n?new QP:("zone.js"===n?void 0:n)||new bt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!t?.ngZoneEventCoalescing,shouldCoalesceRunChangeDetection:!!t?.ngZoneRunCoalescing}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),c=[{provide:bt,useValue:l}];return l.run(()=>{const d=Cn.create({providers:c,parent:this.injector,name:e.moduleType.name}),f=e.create(d),g=f.injector.get($a,null);if(!g)throw new G(402,"");return l.runOutsideAngular(()=>{const v=l.onError.subscribe({next:y=>{g.handleError(y)}});f.onDestroy(()=>{Mp(this._modules,f),v.unsubscribe()})}),function sA(n,t,e){try{const i=e();return jf(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(g,l,()=>{const v=f.injector.get(_p);return v.runInitializers(),v.donePromise.then(()=>(function WI(n){un(n,"Expected localeId to be defined"),"string"==typeof n&&(cw=n.toLowerCase().replace(/_/g,"-"))}(f.injector.get(ui,gc)||gc),this._moduleDoBootstrap(f),f))})})}bootstrapModule(e,i=[]){const r=AD({},i);return function eA(n,t,e){const i=new Jf(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Tp);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new G(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new G(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(U(Cn))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();function AD(n,t){return Array.isArray(t)?t.reduce(AD,n):{...n,...t}}let Tp=(()=>{class n{constructor(e,i,r,s,a){this._zone=e,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new it(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),c=new it(d=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{bt.assertNotInAngularZone(),Dp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{bt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),g.unsubscribe()}});this.isStable=rn(l,c.pipe(_e()))}bootstrap(e,i){if(!this._initStatus.done)throw new G(405,"");let r;r=e instanceof Nw?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(r.componentType);const s=function tA(n){return n.isBoundToModule}(r)?void 0:this._injector.get(zo),l=r.create(Cn.NULL,[],i||r.selector,s),c=l.location.nativeElement,d=l.injector.get(bp,null),f=d&&l.injector.get(ED);return d&&f&&f.registerApplication(c,d),l.onDestroy(()=>{this.detachView(l.hostView),Mp(this.components,l),f&&f.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new G(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Mp(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(VP,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(U(bt),U(Cn),U($a),U(ms),U(_p))},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Mp(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let kD=!0,hl=(()=>{class n{}return n.__NG_ELEMENT_ID__=lA,n})();function lA(n){return function uA(n,t,e){if(us(n)&&!e){const i=Ve(n.index,t);return new ol(i,i)}return 47&n.type?new ol(t[16],t):null}(zt(),x(),16==(16&n))}class FD{constructor(){}supports(t){return Qa(t)}create(t){return new gA(t)}}const pA=(n,t)=>t;class gA{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||pA}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const a=!i||e&&e.currentIndex<HD(i,r,s)?e:i,l=HD(a,r,s),c=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)r++;else{s||(s=[]);const d=l-r,f=c-r;if(d!=f){for(let v=0;v<d;v++){const y=v<s.length?s[v]:s[v]=0,w=y+v;f<=w&&w<d&&(s[v]=y+1)}s[a.previousIndex]=f-d}}l!==c&&t(a,l,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Qa(t))throw new G(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)s=t[l],a=this._trackByFn(l,s),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,s,a,l)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,a,l),i=!0),e=e._next}else r=0,function TM(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Io()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,l=>{a=this._trackByFn(r,l),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,l,a,r)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,a,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new mA(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new BD),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BD),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class mA{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vA{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class BD{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new vA,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HD(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class VD{constructor(){}supports(t){return t instanceof Map||Rf(t)}create(){return new yA}}class yA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Rf(t)))throw new G(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,a=r._next;return s&&(s._next=a),a&&(a._prev=s),r._next=null,r._prev=null,r}const i=new _A(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class _A{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jD(){return new Pc([new FD])}let Pc=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||jD()),deps:[[n,new Yu,new qu]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new G(901,"")}}return n.\u0275prov=ae({token:n,providedIn:"root",factory:jD}),n})();function UD(){return new fl([new VD])}let fl=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||UD()),deps:[[n,new Yu,new qu]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new G(901,"")}}return n.\u0275prov=ae({token:n,providedIn:"root",factory:UD}),n})();const CA=MD(null,"core",[{provide:dl,useValue:"unknown"},{provide:PD,deps:[Cn]},{provide:ED,deps:[]},{provide:jP,deps:[]}]);let SA=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(U(Tp))},n.\u0275mod=At({type:n}),n.\u0275inj=Le({}),n})(),Ac=null;function pl(){return Ac}const gn=new ze("DocumentToken");var Lt=(()=>((Lt=Lt||{})[Lt.Zero=0]="Zero",Lt[Lt.One=1]="One",Lt[Lt.Two=2]="Two",Lt[Lt.Few=3]="Few",Lt[Lt.Many=4]="Many",Lt[Lt.Other=5]="Other",Lt))(),xt=(()=>((xt=xt||{})[xt.Format=0]="Format",xt[xt.Standalone=1]="Standalone",xt))(),xe=(()=>((xe=xe||{})[xe.Narrow=0]="Narrow",xe[xe.Abbreviated=1]="Abbreviated",xe[xe.Wide=2]="Wide",xe[xe.Short=3]="Short",xe))(),Et=(()=>((Et=Et||{})[Et.Short=0]="Short",Et[Et.Medium=1]="Medium",Et[Et.Long=2]="Long",Et[Et.Full=3]="Full",Et))(),oe=(()=>((oe=oe||{})[oe.Decimal=0]="Decimal",oe[oe.Group=1]="Group",oe[oe.List=2]="List",oe[oe.PercentSign=3]="PercentSign",oe[oe.PlusSign=4]="PlusSign",oe[oe.MinusSign=5]="MinusSign",oe[oe.Exponential=6]="Exponential",oe[oe.SuperscriptingExponent=7]="SuperscriptingExponent",oe[oe.PerMille=8]="PerMille",oe[oe.Infinity=9]="Infinity",oe[oe.NaN=10]="NaN",oe[oe.TimeSeparator=11]="TimeSeparator",oe[oe.CurrencyDecimal=12]="CurrencyDecimal",oe[oe.CurrencyGroup=13]="CurrencyGroup",oe))();function xc(n,t){return di(Sn(n)[W.DateFormat],t)}function kc(n,t){return di(Sn(n)[W.TimeFormat],t)}function Rc(n,t){return di(Sn(n)[W.DateTimeFormat],t)}function ci(n,t){const e=Sn(n),i=e[W.NumberSymbols][t];if(typeof i>"u"){if(t===oe.CurrencyDecimal)return e[W.NumberSymbols][oe.Decimal];if(t===oe.CurrencyGroup)return e[W.NumberSymbols][oe.Group]}return i}const LA=function lw(n){return Sn(n)[W.PluralCase]};function GD(n){if(!n[W.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[W.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function di(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Rp(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const UA=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gl={},zA=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Zt=(()=>((Zt=Zt||{})[Zt.Short=0]="Short",Zt[Zt.ShortGMT=1]="ShortGMT",Zt[Zt.Long=2]="Long",Zt[Zt.Extended=3]="Extended",Zt))(),ce=(()=>((ce=ce||{})[ce.FullYear=0]="FullYear",ce[ce.Month=1]="Month",ce[ce.Date=2]="Date",ce[ce.Hours=3]="Hours",ce[ce.Minutes=4]="Minutes",ce[ce.Seconds=5]="Seconds",ce[ce.FractionalSeconds=6]="FractionalSeconds",ce[ce.Day=7]="Day",ce))(),Se=(()=>((Se=Se||{})[Se.DayPeriods=0]="DayPeriods",Se[Se.Days=1]="Days",Se[Se.Months=2]="Months",Se[Se.Eras=3]="Eras",Se))();function qt(n,t,e,i){let r=function XA(n){if(YD(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,a=1]=n.split("-").map(l=>+l);return Oc(r,s-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(UA))return function JA(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,l=Number(n[5]||0)-i,c=Number(n[6]||0),d=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,a,l,c,d),t}(i)}const t=new Date(n);if(!YD(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=vr(e,t)||t;let l,a=[];for(;t;){if(l=zA.exec(t),!l){a.push(t);break}{a=a.concat(l.slice(1));const f=a.pop();if(!f)break;t=f}}let c=r.getTimezoneOffset();i&&(c=qD(i,c),r=function QA(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function KA(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(qD(t,r)-r))}(r,i,!0));let d="";return a.forEach(f=>{const g=function YA(n){if(Np[n])return Np[n];let t;switch(n){case"G":case"GG":case"GGG":t=ht(Se.Eras,xe.Abbreviated);break;case"GGGG":t=ht(Se.Eras,xe.Wide);break;case"GGGGG":t=ht(Se.Eras,xe.Narrow);break;case"y":t=Ft(ce.FullYear,1,0,!1,!0);break;case"yy":t=Ft(ce.FullYear,2,0,!0,!0);break;case"yyy":t=Ft(ce.FullYear,3,0,!1,!0);break;case"yyyy":t=Ft(ce.FullYear,4,0,!1,!0);break;case"Y":t=Bc(1);break;case"YY":t=Bc(2,!0);break;case"YYY":t=Bc(3);break;case"YYYY":t=Bc(4);break;case"M":case"L":t=Ft(ce.Month,1,1);break;case"MM":case"LL":t=Ft(ce.Month,2,1);break;case"MMM":t=ht(Se.Months,xe.Abbreviated);break;case"MMMM":t=ht(Se.Months,xe.Wide);break;case"MMMMM":t=ht(Se.Months,xe.Narrow);break;case"LLL":t=ht(Se.Months,xe.Abbreviated,xt.Standalone);break;case"LLLL":t=ht(Se.Months,xe.Wide,xt.Standalone);break;case"LLLLL":t=ht(Se.Months,xe.Narrow,xt.Standalone);break;case"w":t=Op(1);break;case"ww":t=Op(2);break;case"W":t=Op(1,!0);break;case"d":t=Ft(ce.Date,1);break;case"dd":t=Ft(ce.Date,2);break;case"c":case"cc":t=Ft(ce.Day,1);break;case"ccc":t=ht(Se.Days,xe.Abbreviated,xt.Standalone);break;case"cccc":t=ht(Se.Days,xe.Wide,xt.Standalone);break;case"ccccc":t=ht(Se.Days,xe.Narrow,xt.Standalone);break;case"cccccc":t=ht(Se.Days,xe.Short,xt.Standalone);break;case"E":case"EE":case"EEE":t=ht(Se.Days,xe.Abbreviated);break;case"EEEE":t=ht(Se.Days,xe.Wide);break;case"EEEEE":t=ht(Se.Days,xe.Narrow);break;case"EEEEEE":t=ht(Se.Days,xe.Short);break;case"a":case"aa":case"aaa":t=ht(Se.DayPeriods,xe.Abbreviated);break;case"aaaa":t=ht(Se.DayPeriods,xe.Wide);break;case"aaaaa":t=ht(Se.DayPeriods,xe.Narrow);break;case"b":case"bb":case"bbb":t=ht(Se.DayPeriods,xe.Abbreviated,xt.Standalone,!0);break;case"bbbb":t=ht(Se.DayPeriods,xe.Wide,xt.Standalone,!0);break;case"bbbbb":t=ht(Se.DayPeriods,xe.Narrow,xt.Standalone,!0);break;case"B":case"BB":case"BBB":t=ht(Se.DayPeriods,xe.Abbreviated,xt.Format,!0);break;case"BBBB":t=ht(Se.DayPeriods,xe.Wide,xt.Format,!0);break;case"BBBBB":t=ht(Se.DayPeriods,xe.Narrow,xt.Format,!0);break;case"h":t=Ft(ce.Hours,1,-12);break;case"hh":t=Ft(ce.Hours,2,-12);break;case"H":t=Ft(ce.Hours,1);break;case"HH":t=Ft(ce.Hours,2);break;case"m":t=Ft(ce.Minutes,1);break;case"mm":t=Ft(ce.Minutes,2);break;case"s":t=Ft(ce.Seconds,1);break;case"ss":t=Ft(ce.Seconds,2);break;case"S":t=Ft(ce.FractionalSeconds,1);break;case"SS":t=Ft(ce.FractionalSeconds,2);break;case"SSS":t=Ft(ce.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Lc(Zt.Short);break;case"ZZZZZ":t=Lc(Zt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Lc(Zt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Lc(Zt.Long);break;default:return null}return Np[n]=t,t}(f);d+=g?g(r,e,c):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Oc(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function vr(n,t){const e=function AA(n){return Sn(n)[W.LocaleId]}(n);if(gl[e]=gl[e]||{},gl[e][t])return gl[e][t];let i="";switch(t){case"shortDate":i=xc(n,Et.Short);break;case"mediumDate":i=xc(n,Et.Medium);break;case"longDate":i=xc(n,Et.Long);break;case"fullDate":i=xc(n,Et.Full);break;case"shortTime":i=kc(n,Et.Short);break;case"mediumTime":i=kc(n,Et.Medium);break;case"longTime":i=kc(n,Et.Long);break;case"fullTime":i=kc(n,Et.Full);break;case"short":const r=vr(n,"shortTime"),s=vr(n,"shortDate");i=Nc(Rc(n,Et.Short),[r,s]);break;case"medium":const a=vr(n,"mediumTime"),l=vr(n,"mediumDate");i=Nc(Rc(n,Et.Medium),[a,l]);break;case"long":const c=vr(n,"longTime"),d=vr(n,"longDate");i=Nc(Rc(n,Et.Long),[c,d]);break;case"full":const f=vr(n,"fullTime"),g=vr(n,"fullDate");i=Nc(Rc(n,Et.Full),[f,g])}return i&&(gl[e][t]=i),i}function Nc(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Ii(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.substr(a.length-t)),s+a}function Ft(n,t,e=0,i=!1,r=!1){return function(s,a){let l=function $A(n,t){switch(n){case ce.FullYear:return t.getFullYear();case ce.Month:return t.getMonth();case ce.Date:return t.getDate();case ce.Hours:return t.getHours();case ce.Minutes:return t.getMinutes();case ce.Seconds:return t.getSeconds();case ce.FractionalSeconds:return t.getMilliseconds();case ce.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||l>-e)&&(l+=e),n===ce.Hours)0===l&&-12===e&&(l=12);else if(n===ce.FractionalSeconds)return function WA(n,t){return Ii(n,3).substr(0,t)}(l,t);const c=ci(a,oe.MinusSign);return Ii(l,t,c,i,r)}}function ht(n,t,e=xt.Format,i=!1){return function(r,s){return function GA(n,t,e,i,r,s){switch(e){case Se.Months:return function RA(n,t,e){const i=Sn(n),s=di([i[W.MonthsFormat],i[W.MonthsStandalone]],t);return di(s,e)}(t,r,i)[n.getMonth()];case Se.Days:return function kA(n,t,e){const i=Sn(n),s=di([i[W.DaysFormat],i[W.DaysStandalone]],t);return di(s,e)}(t,r,i)[n.getDay()];case Se.DayPeriods:const a=n.getHours(),l=n.getMinutes();if(s){const d=function FA(n){const t=Sn(n);return GD(t),(t[W.ExtraData][2]||[]).map(i=>"string"==typeof i?Rp(i):[Rp(i[0]),Rp(i[1])])}(t),f=function BA(n,t,e){const i=Sn(n);GD(i);const s=di([i[W.ExtraData][0],i[W.ExtraData][1]],t)||[];return di(s,e)||[]}(t,r,i),g=d.findIndex(v=>{if(Array.isArray(v)){const[y,w]=v,D=a>=y.hours&&l>=y.minutes,S=a<w.hours||a===w.hours&&l<w.minutes;if(y.hours<w.hours){if(D&&S)return!0}else if(D||S)return!0}else if(v.hours===a&&v.minutes===l)return!0;return!1});if(-1!==g)return f[g]}return function xA(n,t,e){const i=Sn(n),s=di([i[W.DayPeriodsFormat],i[W.DayPeriodsStandalone]],t);return di(s,e)}(t,r,i)[a<12?0:1];case Se.Eras:return function OA(n,t){return di(Sn(n)[W.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function Lc(n){return function(t,e,i){const r=-1*i,s=ci(e,oe.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Zt.Short:return(r>=0?"+":"")+Ii(a,2,s)+Ii(Math.abs(r%60),2,s);case Zt.ShortGMT:return"GMT"+(r>=0?"+":"")+Ii(a,1,s);case Zt.Long:return"GMT"+(r>=0?"+":"")+Ii(a,2,s)+":"+Ii(Math.abs(r%60),2,s);case Zt.Extended:return 0===i?"Z":(r>=0?"+":"")+Ii(a,2,s)+":"+Ii(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function ZD(n){return Oc(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Op(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+s)/7)}else{const s=ZD(e),a=function qA(n){const t=Oc(n,0,1).getDay();return Oc(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),l=s.getTime()-a.getTime();r=1+Math.round(l/6048e5)}return Ii(r,n,ci(i,oe.MinusSign))}}function Bc(n,t=!1){return function(e,i){return Ii(ZD(e).getFullYear(),n,ci(i,oe.MinusSign),t)}}const Np={};function qD(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function YD(n){return n instanceof Date&&!isNaN(n.valueOf())}let Vp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:function(e){let i=null;return e?i=new e:(r=U(ui),i=new cx(r)),i;var r},providedIn:"root"}),n})();let cx=(()=>{class n extends Vp{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(LA(i||this.locale)(e)){case Lt.Zero:return"zero";case Lt.One:return"one";case Lt.Two:return"two";case Lt.Few:return"few";case Lt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(U(ui))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();function JD(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let er=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Qa(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Re(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(O(Pc),O(fl),O(bn),O(gr))},n.\u0275dir=yt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class hx{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ur=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new hx(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,a),eC(l,r)}});for(let r=0,s=i.length;r<s;r++){const l=i.get(r).context;l.index=r,l.count=s,l.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{eC(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(O(li),O(mr),O(Pc))},n.\u0275dir=yt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function eC(n,t){n.context.$implicit=t.item}let yr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new fx,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){tC("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){tC("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(O(li),O(mr))},n.\u0275dir=yt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class fx{constructor(){this.$implicit=null,this.ngIf=null}}function tC(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Re(t)}'.`)}class jp{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Vc=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=yt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),nC=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new jp(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(O(li),O(mr),O(Vc,9))},n.\u0275dir=yt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),vl=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(O(bn),O(fl),O(gr))},n.\u0275dir=yt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),hi=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(O(li))},n.\u0275dir=yt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[ri]}),n})();function Pi(n,t){return new G(2100,"")}class mx{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class vx{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const yx=new vx,_x=new mx;let Up=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(jf(e))return yx;if(v_(e))return _x;throw Pi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(O(hl,16))},n.\u0275pipe=ct({name:"async",type:n,pure:!1}),n})();const Tx=/#/g;let zp=(()=>{class n{constructor(e){this._localization=e}transform(e,i,r){if(null==e)return"";if("object"!=typeof i||null===i)throw Pi();return i[function XD(n,t,e,i){let r=`=${n}`;if(t.indexOf(r)>-1||(r=e.getPluralCategory(n,i),t.indexOf(r)>-1))return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}(e,Object.keys(i),this._localization,r)].replace(Tx,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(O(Vp,16))},n.\u0275pipe=ct({name:"i18nPlural",type:n,pure:!0}),n})(),sC=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw Pi();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=ct({name:"slice",type:n,pure:!1}),n})(),Go=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Le({}),n})();const oC="browser";class lC{}class Gp extends class Hx extends class TA{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function EA(n){Ac||(Ac=n)}(new Gp)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Vx(){return yl=yl||document.querySelector("base"),yl?yl.getAttribute("href"):null}();return null==e?null:function jx(n){jc=jc||document.createElement("a"),jc.setAttribute("href",n);const t=jc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){yl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return JD(document.cookie,t)}}let jc,yl=null;const uC=new ze("TRANSITION_ID"),zx=[{provide:wD,useFactory:function Ux(n,t,e){return()=>{e.get(_p).donePromise.then(()=>{const i=pl(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[uC,gn,Cn],multi:!0}];class Zp{static init(){!function JP(n){Ep=n}(new Zp)}addToWindow(t){Ze.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Ze.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ze.getAllAngularRootElements=()=>t.getAllRootElements(),Ze.frameworkStabilizers||(Ze.frameworkStabilizers=[]),Ze.frameworkStabilizers.push(i=>{const r=Ze.getAllAngularTestabilities();let s=r.length,a=!1;const l=function(c){a=a||c,s--,0==s&&i(a)};r.forEach(function(c){c.whenStable(l)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?pl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}}let Wx=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();const Uc=new ze("EventManagerPlugins");let zc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(U(Uc),U(bt))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();class cC{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=pl().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let dC=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})(),_l=(()=>{class n extends dC{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(hC),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(hC))}}return n.\u0275fac=function(e){return new(e||n)(U(gn))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();function hC(n){pl().remove(n)}const qp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yp=/%COMP%/g;function Wc(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Wc(n,r,e):(r=r.replace(Yp,n),e.push(r))}return e}function gC(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let $c=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Kp(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case zn.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Kx(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case zn.ShadowDom:return new Qx(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Wc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(U(zc),U(_l),U(cl))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();class Kp{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(qp[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=qp[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=qp[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Gn.DashCase|Gn.Important)?t.style.setProperty(e,i,r&Gn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Gn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,gC(i)):this.eventManager.addEventListener(t,e,gC(i))}}class Kx extends Kp{constructor(t,e,i,r){super(t),this.component=i;const s=Wc(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function Zx(n){return"_ngcontent-%COMP%".replace(Yp,n)}(r+"-"+i.id),this.hostAttr=function qx(n){return"_nghost-%COMP%".replace(Yp,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Qx extends Kp{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Wc(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const l=document.createElement("style");l.textContent=s[a],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Xx=(()=>{class n extends cC{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(U(gn))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();const vC=["alt","control","meta","shift"],ek={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yC={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},tk={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let nk=(()=>{class n extends cC{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pl().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="";if(vC.forEach(c=>{const d=i.indexOf(c);d>-1&&(i.splice(d,1),a+=c+".")}),a+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=a,l}static getEventFullKey(e){let i="",r=function ik(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&yC.hasOwnProperty(t)&&(t=yC[t]))}return ek[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),vC.forEach(s=>{s!=r&&tk[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(U(gn))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();const ak=MD(CA,"browser",[{provide:dl,useValue:oC},{provide:CD,useValue:function rk(){Gp.makeCurrent(),Zp.init()},multi:!0},{provide:gn,useFactory:function ok(){return function q(n){k=n}(document),document},deps:[]}]),lk=[{provide:Mf,useValue:"root"},{provide:$a,useFactory:function sk(){return new $a},deps:[]},{provide:Uc,useClass:Xx,multi:!0,deps:[gn,bt,dl]},{provide:Uc,useClass:nk,multi:!0,deps:[gn]},{provide:$c,useClass:$c,deps:[zc,_l,cl]},{provide:sl,useExisting:$c},{provide:dC,useExisting:_l},{provide:_l,useClass:_l,deps:[gn]},{provide:bp,useClass:bp,deps:[bt]},{provide:zc,useClass:zc,deps:[Uc,bt]},{provide:lC,useClass:Wx,deps:[]}];let _C=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:cl,useValue:e.appId},{provide:uC,useExisting:cl},zx]}}}return n.\u0275fac=function(e){return new(e||n)(U(n,12))},n.\u0275mod=At({type:n}),n.\u0275inj=Le({providers:lk,imports:[Go,SA]}),n})();typeof window<"u"&&window;const Xp={now:()=>(Xp.delegate||Date).now(),delegate:void 0};class CC extends Me{constructor(t=1/0,e=1/0,i=Xp){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;e||(i.push(t),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!t.closed;a+=i?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=e.now();let l=0;for(let c=1;c<i.length&&i[c]<=a;c+=2)l=c;l&&i.splice(0,l+1)}}}function Wr(n,t){return ut((e,i)=>{let r=null,s=0,a=!1;const l=()=>a&&!r&&i.complete();e.subscribe(mt(i,c=>{null==r||r.unsubscribe();let d=0;const f=s++;Hn(n(c,f)).subscribe(r=mt(i,g=>i.next(t?t(c,g,f,d++):g),()=>{r=null,l()}))},()=>{a=!0,l()}))})}const Gc={schedule(n,t){const e=setTimeout(n,t);return()=>clearTimeout(e)},scheduleBeforeRender(n){if(typeof window>"u")return Gc.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return Gc.schedule(n,16);const t=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(t)}};let Jp;function Mk(n,t,e){let i=e;return function wk(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&t.some((r,s)=>!("*"===r||!function Ck(n,t){if(!Jp){const e=Element.prototype;Jp=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&Jp.call(n,t)}(n,r)||(i=s,0))),i}class Pk{constructor(t,e){this.componentFactory=e.get(ms).resolveComponentFactory(t)}create(t){return new Ak(this.componentFactory,t)}}class Ak{constructor(t,e){this.componentFactory=t,this.injector=e,this.eventEmitters=new CC(1),this.events=this.eventEmitters.pipe(Wr(i=>rn(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(bt),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(t){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(t)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=Gc.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(t){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(t):this.componentRef.instance[t])}setInputValue(t,e){this.runInZone(()=>{null!==this.componentRef?function Sk(n,t){return n===t||n!=n&&t!=t}(e,this.getInputValue(t))&&(void 0!==e||!this.unchangedInputs.has(t))||(this.recordInputChange(t,e),this.unchangedInputs.delete(t),this.hasInputChanges=!0,this.componentRef.instance[t]=e,this.scheduleDetectChanges()):this.initialInputValues.set(t,e)})}initializeComponent(t){const e=Cn.create({providers:[],parent:this.injector}),i=function Tk(n,t){const e=n.childNodes,i=t.map(()=>[]);let r=-1;t.some((s,a)=>"*"===s&&(r=a,!0));for(let s=0,a=e.length;s<a;++s){const l=e[s],c=Mk(l,t,r);-1!==c&&i[c].push(l)}return i}(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,i,t),this.viewChangeDetectorRef=this.componentRef.injector.get(hl),this.implementsOnChanges=function Dk(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(Tp).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t})=>{this.initialInputValues.has(t)&&this.setInputValue(t,this.initialInputValues.get(t))}),this.initialInputValues.clear()}initializeOutputs(t){const e=this.componentFactory.outputs.map(({propName:i,templateName:r})=>t.instance[i].pipe(He(a=>({name:r,value:a}))));this.eventEmitters.next(e)}callNgOnChanges(t){if(!this.implementsOnChanges||null===this.inputChanges)return;const e=this.inputChanges;this.inputChanges=null,t.instance.ngOnChanges(e)}markViewForCheck(t){this.hasInputChanges&&(this.hasInputChanges=!1,t.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Gc.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,e){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[t];if(i)return void(i.currentValue=e);const r=this.unchangedInputs.has(t),s=r?void 0:this.getInputValue(t);this.inputChanges[t]=new Sa(s,e,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(t){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t):t()}}class xk extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function SC(n,t){const e=function Ek(n,t){return t.get(ms).resolveComponentFactory(n).inputs}(n,t.injector),i=t.strategyFactory||new Pk(n,t.injector),r=function bk(n){const t={};return n.forEach(({propName:e,templateName:i})=>{t[function _k(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}(i)]=e}),t}(e);class s extends xk{constructor(l){super(),this.injector=l}get ngElementStrategy(){if(!this._ngElementStrategy){const l=this._ngElementStrategy=i.create(this.injector||t.injector);e.forEach(({propName:c})=>{if(!this.hasOwnProperty(c))return;const d=this[c];delete this[c],l.setInputValue(c,d)})}return this._ngElementStrategy}attributeChangedCallback(l,c,d,f){this.ngElementStrategy.setInputValue(r[l],d)}connectedCallback(){let l=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),l=!0),this.ngElementStrategy.connect(this),l||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(l=>{const c=new CustomEvent(l.name,{detail:l.value});this.dispatchEvent(c)})}}return s.observedAttributes=Object.keys(r),e.forEach(({propName:a})=>{Object.defineProperty(s.prototype,a,{get(){return this.ngElementStrategy.getInputValue(a)},set(l){this.ngElementStrategy.setInputValue(a,l)},configurable:!0,enumerable:!0})}),s}class bC{}const _r="*";function EC(n,t=null){return{type:4,styles:t,timings:n}}function TC(n,t=null){return{type:2,steps:n,options:t}}function Zc(n){return{type:6,styles:n,offset:null}}function MC(n,t,e){return{type:0,name:n,styles:t,options:e}}function IC(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function PC(n){Promise.resolve(null).then(n)}class wl{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){PC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class AC{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?PC(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Ne=!1;function xC(n){return new G(3e3,Ne)}function fR(){return typeof window<"u"&&typeof window.document<"u"}function tg(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function $r(n){switch(n.length){case 0:return new wl;case 1:return n[0];default:return new AC(n)}}function kC(n,t,e,i,r={},s={}){const a=[],l=[];let c=-1,d=null;if(i.forEach(f=>{const g=f.offset,v=g==c,y=v&&d||{};Object.keys(f).forEach(w=>{let D=w,S=f[w];if("offset"!==w)switch(D=t.normalizePropertyName(D,a),S){case"!":S=r[w];break;case _r:S=s[w];break;default:S=t.normalizeStyleValue(w,D,S,a)}y[D]=S}),v||l.push(y),d=y,c=g}),a.length)throw function nR(n){return new G(3502,Ne)}();return l}function ng(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&ig(e,"start",n)));break;case"done":n.onDone(()=>i(e&&ig(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&ig(e,"destroy",n)))}}function ig(n,t,e){const s=rg(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function rg(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function Yn(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function RC(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let sg=(n,t)=>!1,OC=(n,t,e)=>[],NC=null;function og(n){const t=n.parentNode||n.host;return t===NC?null:t}(tg()||typeof Element<"u")&&(fR()?(NC=(()=>document.documentElement)(),sg=(n,t)=>{for(;t;){if(t===n)return!0;t=og(t)}return!1}):sg=(n,t)=>n.contains(t),OC=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let _s=null,LC=!1;function FC(n){_s||(_s=function gR(){return typeof document<"u"?document.body:null}()||{},LC=!!_s.style&&"WebkitAppearance"in _s.style);let t=!0;return _s.style&&!function pR(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in _s.style,!t&&LC&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in _s.style)),t}const BC=sg,HC=OC;let VC=(()=>{class n{validateStyleProperty(e){return FC(e)}matchesElement(e,i){return!1}containsElement(e,i){return BC(e,i)}getParentElement(e){return og(e)}query(e,i,r){return HC(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,l=[],c){return new wl(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})(),ag=(()=>{class n{}return n.NOOP=new VC,n})();const lg="ng-enter",Yc="ng-leave",Kc="ng-trigger",Qc=".ng-trigger",UC="ng-animating",ug=".ng-animating";function ws(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:cg(parseFloat(t[1]),t[2])}function cg(n,t){return"s"===t?1e3*n:n}function Xc(n,t,e){return n.hasOwnProperty("duration")?n:function yR(n,t,e){let r,s=0,a="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return t.push(xC()),{duration:0,delay:0,easing:""};r=cg(parseFloat(l[1]),l[2]);const c=l[3];null!=c&&(s=cg(parseFloat(c),l[4]));const d=l[5];d&&(a=d)}else r=n;if(!e){let l=!1,c=t.length;r<0&&(t.push(function Ok(){return new G(3100,Ne)}()),l=!0),s<0&&(t.push(function Nk(){return new G(3101,Ne)}()),l=!0),l&&t.splice(c,0,xC())}return{duration:r,delay:s,easing:a}}(n,t,e)}function Zo(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Gr(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Zo(n,e);return e}function WC(n,t,e){return e?t+":"+e+";":""}function $C(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=WC(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=WC(0,DR(e),n.style[e]));n.setAttribute("style",t)}function tr(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=hg(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),tg()&&$C(n))}function Ds(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=hg(e);n.style[i]=""}),tg()&&$C(n))}function Dl(n){return Array.isArray(n)?1==n.length?n[0]:TC(n):n}const dg=new RegExp("{{\\s*(.+?)\\s*}}","g");function GC(n){let t=[];if("string"==typeof n){let e;for(;e=dg.exec(n);)t.push(e[1]);dg.lastIndex=0}return t}function Jc(n,t,e){const i=n.toString(),r=i.replace(dg,(s,a)=>{let l=t[a];return t.hasOwnProperty(a)||(e.push(function Fk(n){return new G(3003,Ne)}()),l=""),l.toString()});return r==i?n:r}function ed(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const wR=/-+([a-z0-9])/g;function hg(n){return n.replace(wR,(...t)=>t[1].toUpperCase())}function DR(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Kn(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Bk(n){return new G(3004,Ne)}()}}function ZC(n,t){return window.getComputedStyle(n)[t]}function MR(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function IR(n,t,e){if(":"==n[0]){const c=function PR(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Xk(n){return new G(3016,Ne)}()),"* => *"}}(n,e);if("function"==typeof c)return void t.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Qk(n){return new G(3015,Ne)}()),t;const r=i[1],s=i[2],a=i[3];t.push(qC(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&t.push(qC(a,r))}(i,e,t)):e.push(n),e}const rd=new Set(["true","1"]),sd=new Set(["false","0"]);function qC(n,t){const e=rd.has(n)||sd.has(n),i=rd.has(t)||sd.has(t);return(r,s)=>{let a="*"==n||n==r,l="*"==t||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?rd.has(n):sd.has(n)),!l&&i&&"boolean"==typeof s&&(l=s?rd.has(t):sd.has(t)),a&&l}}const AR=new RegExp("s*:selfs*,?","g");function fg(n,t,e,i){return new xR(n).build(t,e,i)}class xR{constructor(t){this._driver=t}build(t,e,i){const r=new OR(e);this._resetContextStyleTimingState(r);const s=Kn(this,Dl(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function Vk(){return new G(3006,Ne)}()),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),0==l.type){const c=l,d=c.name;d.toString().split(/\s*,\s*/).forEach(f=>{c.name=f,s.push(this.visitState(c,e))}),c.name=d}else if(1==l.type){const c=this.visitTransition(l,e);i+=c.queryCount,r+=c.depCount,a.push(c)}else e.errors.push(function jk(){return new G(3007,Ne)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(l=>{if(od(l)){const c=l;Object.keys(c).forEach(d=>{GC(c[d]).forEach(f=>{a.hasOwnProperty(f)||s.add(f)})})}}),s.size&&(ed(s.values()),e.errors.push(function Uk(n,t){return new G(3008,Ne)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Kn(this,Dl(t.animation),e);return{type:1,matchers:MR(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Cs(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Kn(this,i,e)),options:Cs(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const l=Kn(this,a,e);return r=Math.max(r,e.currentTime),l});return e.currentTime=r,{type:3,steps:s,options:Cs(t.options)}}visitAnimate(t,e){const i=function LR(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return pg(Xc(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=pg(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||Xc(i,t),pg(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Zc({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,l=!1;if(!a){l=!0;const d={};i.easing&&(d.easing=i.easing),a=Zc(d)}e.currentTime+=i.duration+i.delay;const c=this.visitStyle(a,e);c.isEmptyStep=l,r=c}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==_r?i.push(a):e.errors.push(function zk(n){return new G(3002,Ne)}()):i.push(a)}):i.push(t.styles);let r=!1,s=null;return i.forEach(a=>{if(od(a)){const l=a,c=l.easing;if(c&&(s=c,delete l.easing),!r)for(let d in l)if(l[d].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(l=>{if(!this._driver.validateStyleProperty(l))return delete a[l],void e.unsupportedCSSPropertiesFound.add(l);const c=e.collectedStyles[e.currentQuerySelector],d=c[l];let f=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(e.errors.push(function Wk(n,t,e,i,r){return new G(3010,Ne)}()),f=!1),s=d.startTime),f&&(c[l]={startTime:s,endTime:r}),e.options&&function _R(n,t,e){const i=t.params||{},r=GC(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function Lk(n){return new G(3001,Ne)}())})}(a[l],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function $k(){return new G(3011,Ne)}()),i;let s=0;const a=[];let l=!1,c=!1,d=0;const f=t.steps.map(E=>{const b=this._makeStyleAst(E,e);let I=null!=b.offset?b.offset:function NR(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(od(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(od(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(b.styles),A=0;return null!=I&&(s++,A=b.offset=I),c=c||A<0||A>1,l=l||A<d,d=A,a.push(A),b});c&&e.errors.push(function Gk(){return new G(3012,Ne)}()),l&&e.errors.push(function Zk(){return new G(3200,Ne)}());const g=t.steps.length;let v=0;s>0&&s<g?e.errors.push(function qk(){return new G(3202,Ne)}()):0==s&&(v=1/(g-1));const y=g-1,w=e.currentTime,D=e.currentAnimateTimings,S=D.duration;return f.forEach((E,b)=>{const I=v>0?b==y?1:v*b:a[b],A=I*S;e.currentTime=w+D.delay+A,D.duration=A,this._validateStyleAst(E,e),E.offset=I,i.styles.push(E)}),i}visitReference(t,e){return{type:8,animation:Kn(this,Dl(t.animation),e),options:Cs(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Cs(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Cs(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function kR(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(AR,"")),n=n.replace(/@\*/g,Qc).replace(/@\w+/g,e=>Qc+"-"+e.substr(1)).replace(/:animating/g,ug),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Yn(e.collectedStyles,e.currentQuerySelector,{});const l=Kn(this,Dl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:t.selector,options:Cs(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Yk(){return new G(3013,Ne)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Xc(t.timings,e.errors,!0);return{type:12,animation:Kn(this,Dl(t.animation),e),timings:i,options:null}}}class OR{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function od(n){return!Array.isArray(n)&&"object"==typeof n}function Cs(n){return n?(n=Zo(n)).params&&(n.params=function RR(n){return n?Zo(n):null}(n.params)):n={},n}function pg(n,t,e){return{duration:n,delay:t,easing:e}}function gg(n,t,e,i,r,s,a=null,l=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:l}}class ad{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const HR=new RegExp(":enter","g"),jR=new RegExp(":leave","g");function mg(n,t,e,i,r,s={},a={},l,c,d=[]){return(new UR).buildKeyframes(n,t,e,i,r,s,a,l,c,d)}class UR{buildKeyframes(t,e,i,r,s,a,l,c,d,f=[]){d=d||new ad;const g=new vg(t,e,d,r,s,f,[]);g.options=c,g.currentTimeline.setStyles([a],null,g.errors,c),Kn(this,i,g);const v=g.timelines.filter(y=>y.containsAnimation());if(Object.keys(l).length){let y;for(let w=v.length-1;w>=0;w--){const D=v[w];if(D.element===e){y=D;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([l],null,g.errors,c)}return v.length?v.map(y=>y.buildKeyframes()):[gg(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?ws(i.duration):null,l=null!=i.delay?ws(i.delay):null;return 0!==a&&t.forEach(c=>{const d=e.appendInstructionToTimeline(c,a,l);s=Math.max(s,d.duration+d.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Kn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ld);const a=ws(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Kn(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?ws(t.options.delay):0;t.steps.forEach(a=>{const l=e.createSubContext(t.options);s&&l.delayNextStep(s),Kn(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Xc(e.params?Jc(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,l=e.createSubContext().currentTimeline;l.easing=i.easing,t.styles.forEach(c=>{l.forwardTime((c.offset||0)*s),l.setStyles(c.styles,c.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?ws(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ld);let a=i;const l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=l.length;let c=null;l.forEach((d,f)=>{e.currentQueryIndex=f;const g=e.createSubContext(t.options,d);s&&g.delayNextStep(s),d===e.element&&(c=g.currentTimeline),Kn(this,t.animation,g),g.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,g.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),l=a*(e.currentQueryTotal-1);let c=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=l-c;break;case"full":c=i.currentStaggerTime}const f=e.currentTimeline;c&&f.delayNextStep(c);const g=f.currentTime;Kn(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-g+(r.startTime-i.currentTimeline.startTime)}}const ld={};class vg{constructor(t,e,i,r,s,a,l,c){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ld,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new ud(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=ws(i.duration)),null!=i.delay&&(r.delay=ws(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(l=>{(!e||!a.hasOwnProperty(l))&&(a[l]=Jc(s[l],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new vg(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=ld,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new zR(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let l=[];if(r&&l.push(this.element),t.length>0){t=(t=t.replace(HR,"."+this._enterClassName)).replace(jR,"."+this._leaveClassName);let d=this._driver.query(this.element,t,1!=i);0!==i&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),l.push(...d)}return!s&&0==l.length&&a.push(function Kk(n){return new G(3014,Ne)}()),l}}class ud{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ud(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||_r,this._currentKeyframe[e]=_r}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},a=function WR(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=_r})):Gr(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(l=>{const c=Jc(a[l],s,i);this._pendingStyles[l]=c,this._localTimelineStyles.hasOwnProperty(l)||(this._backFill[l]=this._globalTimelineStyles.hasOwnProperty(l)?this._globalTimelineStyles[l]:_r),this._updateStyle(l,c)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,c)=>{const d=Gr(l,!0);Object.keys(d).forEach(f=>{const g=d[f];"!"==g?t.add(f):g==_r&&e.add(f)}),i||(d.offset=c/this.duration),r.push(d)});const s=t.size?ed(t.values()):[],a=e.size?ed(e.values()):[];if(i){const l=r[0],c=Zo(l);l.offset=0,c.offset=1,r=[l,c]}return gg(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class zR extends ud{constructor(t,e,i,r,s,a,l=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,l=e/a,c=Gr(t[0],!1);c.offset=0,s.push(c);const d=Gr(t[0],!1);d.offset=QC(l),s.push(d);const f=t.length-1;for(let g=1;g<=f;g++){let v=Gr(t[g],!1);v.offset=QC((e+v.offset*i)/a),s.push(v)}i=a,e=0,r="",t=s}return gg(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function QC(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class yg{}class $R extends yg{normalizePropertyName(t,e){return hg(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if(GR[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(function Hk(n,t){return new G(3005,Ne)}())}return a+s}}const GR=(()=>function ZR(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function XC(n,t,e,i,r,s,a,l,c,d,f,g,v){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:l,queriedElements:c,preStyleProps:d,postStyleProps:f,totalTime:g,errors:v}}const _g={};class JC{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function qR(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],a=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):a}build(t,e,i,r,s,a,l,c,d,f){const g=[],v=this.ast.options&&this.ast.options.params||_g,w=this.buildStyles(i,l&&l.params||_g,g),D=c&&c.params||_g,S=this.buildStyles(r,D,g),E=new Set,b=new Map,I=new Map,A="void"===r,H={params:{...v,...D}},K=f?[]:mg(t,e,this.ast.animation,s,a,w,S,H,d,g);let he=0;if(K.forEach(Q=>{he=Math.max(Q.duration+Q.delay,he)}),g.length)return XC(e,this._triggerName,i,r,A,w,S,[],[],b,I,he,g);K.forEach(Q=>{const te=Q.element,$=Yn(b,te,{});Q.preStyleProps.forEach(Ee=>$[Ee]=!0);const F=Yn(I,te,{});Q.postStyleProps.forEach(Ee=>F[Ee]=!0),te!==e&&E.add(te)});const le=ed(E.values());return XC(e,this._triggerName,i,r,A,w,S,K,le,b,I,he)}}class YR{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Zo(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!=a&&(r[s]=a)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const a=s;Object.keys(a).forEach(l=>{let c=a[l];c.length>1&&(c=Jc(c,r,e));const d=this.normalizer.normalizePropertyName(l,e);c=this.normalizer.normalizeStyleValue(l,d,c,e),i[d]=c})}}),i}}class QR{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new YR(r.style,r.options&&r.options.params||{},i)}),e0(this.states,"true","1"),e0(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new JC(t,r,this.states))}),this.fallbackTransition=function XR(n,t,e){return new JC(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function e0(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const JR=new ad;class eO{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=fg(this._driver,e,i,[]);if(i.length)throw function iR(n){return new G(3503,Ne)}();this._animations[t]=s}_buildPlayer(t,e,i){const r=t.element,s=kC(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let a;const l=new Map;if(s?(a=mg(this._driver,e,s,lg,Yc,{},{},i,JR,r),a.forEach(f=>{const g=Yn(l,f.element,{});f.postStyleProps.forEach(v=>g[v]=null)})):(r.push(function rR(){return new G(3300,Ne)}()),a=[]),r.length)throw function sR(n){return new G(3504,Ne)}();l.forEach((f,g)=>{Object.keys(f).forEach(v=>{f[v]=this._driver.computeStyle(g,v,_r)})});const d=$r(a.map(f=>{const g=l.get(f.element);return this._buildPlayer(f,{},g)}));return this._playersById[t]=d,d.onDestroy(()=>this.destroy(t)),this.players.push(d),d}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function oR(n){return new G(3301,Ne)}();return e}listen(t,e,i,r){const s=rg(e,"","","");return ng(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const t0="ng-animate-queued",wg="ng-animate-disabled",sO=[],n0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fi="__ng_removed";class Dg{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function cO(n){return n??null}(i?t.value:t),i){const s=Zo(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Cl="void",Cg=new Dg(Cl);class aO{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,pi(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function aR(n,t){return new G(3302,Ne)}();if(null==i||0==i.length)throw function lR(n){return new G(3303,Ne)}();if(!function dO(n){return"start"==n||"done"==n}(i))throw function uR(n,t){return new G(3400,Ne)}();const s=Yn(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const l=Yn(this._engine.statesByElement,t,{});return l.hasOwnProperty(e)||(pi(t,Kc),pi(t,Kc+"-"+e),l[e]=Cg),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(a);c>=0&&s.splice(c,1),this._triggers[e]||delete l[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function cR(n){return new G(3401,Ne)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new Sg(this.id,e,t);let l=this._engine.statesByElement.get(t);l||(pi(t,Kc),pi(t,Kc+"-"+e),this._engine.statesByElement.set(t,l={}));let c=l[e];const d=new Dg(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&d.absorbOptions(c.options),l[e]=d,c||(c=Cg),d.value!==Cl&&c.value===d.value){if(!function pO(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(c.params,d.params)){const D=[],S=s.matchStyles(c.value,c.params,D),E=s.matchStyles(d.value,d.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{Ds(t,S),tr(t,E)})}return}const v=Yn(this._engine.playersByElement,t,[]);v.forEach(D=>{D.namespaceId==this.id&&D.triggerName==e&&D.queued&&D.destroy()});let y=s.matchTransition(c.value,d.value,t,d.params),w=!1;if(!y){if(!r)return;y=s.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:y,fromState:c,toState:d,player:a,isFallbackTransition:w}),w||(pi(t,t0),a.onStart(()=>{qo(t,t0)})),a.onDone(()=>{let D=this.players.indexOf(a);D>=0&&this.players.splice(D,1);const S=this._engine.playersByElement.get(t);if(S){let E=S.indexOf(a);E>=0&&S.splice(E,1)}}),this.players.push(a),v.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Qc,!0);i.forEach(r=>{if(r[fi])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const l=[];if(Object.keys(s).forEach(c=>{if(a.set(c,s[c].value),this._triggers[c]){const d=this.trigger(t,c,Cl,r);d&&l.push(d)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&$r(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const c=this._triggers[a].fallbackTransition,d=i[a]||Cg,f=new Dg(Cl),g=new Sg(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:c,fromState:d,toState:f,player:g,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[fi];(!s||s===n0)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){pi(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(l=>{if(l.name==i.triggerName){const c=rg(s,i.triggerName,i.fromState.value,i.toState.value);c._data=t,ng(i.player,l.phase,c,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class lO{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new aO(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let a=!1;if(void 0!==this.driver.getParentElement){let l=this.driver.getParentElement(e);for(;l;){const c=r.get(l);if(c){const d=i.indexOf(c);i.splice(d+1,0,t),a=!0;break}l=this.driver.getParentElement(l)}}else for(let l=s;l>=0;l--)if(this.driver.containsElement(i[l].hostElement,e)){i.splice(l+1,0,t),a=!0;break}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const a=i[r[s]].namespaceId;if(a){const l=this._fetchNamespace(a);l&&e.add(l)}}}return e}trigger(t,e,i,r){if(cd(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!cd(e))return;const s=e[fi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),pi(t,wg)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),qo(t,wg))}removeNode(t,e,i,r){if(cd(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[fi]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return cd(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Qc,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ug,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return $r(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[fi];if(e&&e.setForRemoval){if(t[fi]=n0,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(wg)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)pi(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?$r(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function dR(n){return new G(3402,Ne)}()}_flushAnimations(t,e){const i=new ad,r=[],s=new Map,a=[],l=new Map,c=new Map,d=new Map,f=new Set;this.disabledNodes.forEach(z=>{f.add(z);const X=this.driver.query(z,".ng-animate-queued",!0);for(let re=0;re<X.length;re++)f.add(X[re])});const g=this.bodyNode,v=Array.from(this.statesByElement.keys()),y=o0(v,this.collectedEnterElements),w=new Map;let D=0;y.forEach((z,X)=>{const re=lg+D++;w.set(X,re),z.forEach(ke=>pi(ke,re))});const S=[],E=new Set,b=new Set;for(let z=0;z<this.collectedLeaveElements.length;z++){const X=this.collectedLeaveElements[z],re=X[fi];re&&re.setForRemoval&&(S.push(X),E.add(X),re.hasAnimation?this.driver.query(X,".ng-star-inserted",!0).forEach(ke=>E.add(ke)):b.add(X))}const I=new Map,A=o0(v,Array.from(E));A.forEach((z,X)=>{const re=Yc+D++;I.set(X,re),z.forEach(ke=>pi(ke,re))}),t.push(()=>{y.forEach((z,X)=>{const re=w.get(X);z.forEach(ke=>qo(ke,re))}),A.forEach((z,X)=>{const re=I.get(X);z.forEach(ke=>qo(ke,re))}),S.forEach(z=>{this.processLeaveNode(z)})});const H=[],K=[];for(let z=this._namespaceList.length-1;z>=0;z--)this._namespaceList[z].drainQueuedTransitions(e).forEach(re=>{const ke=re.player,Ue=re.element;if(H.push(ke),this.collectedEnterElements.length){const Pn=Ue[fi];if(Pn&&Pn.setForMove){if(Pn.previousTriggersValues&&Pn.previousTriggersValues.has(re.triggerName)){const Ps=Pn.previousTriggersValues.get(re.triggerName),Jr=this.statesByElement.get(re.element);Jr&&Jr[re.triggerName]&&(Jr[re.triggerName].value=Ps)}return void ke.destroy()}}const Dt=!g||!this.driver.containsElement(g,Ue),nn=I.get(Ue),gi=w.get(Ue),lt=this._buildInstruction(re,i,gi,nn,Dt);if(lt.errors&&lt.errors.length)return void K.push(lt);if(Dt)return ke.onStart(()=>Ds(Ue,lt.fromStyles)),ke.onDestroy(()=>tr(Ue,lt.toStyles)),void r.push(ke);if(re.isFallbackTransition)return ke.onStart(()=>Ds(Ue,lt.fromStyles)),ke.onDestroy(()=>tr(Ue,lt.toStyles)),void r.push(ke);const Gl=[];lt.timelines.forEach(Pn=>{Pn.stretchStartingKeyframe=!0,this.disabledNodes.has(Pn.element)||Gl.push(Pn)}),lt.timelines=Gl,i.append(Ue,lt.timelines),a.push({instruction:lt,player:ke,element:Ue}),lt.queriedElements.forEach(Pn=>Yn(l,Pn,[]).push(ke)),lt.preStyleProps.forEach((Pn,Ps)=>{const Jr=Object.keys(Pn);if(Jr.length){let As=c.get(Ps);As||c.set(Ps,As=new Set),Jr.forEach(hm=>As.add(hm))}}),lt.postStyleProps.forEach((Pn,Ps)=>{const Jr=Object.keys(Pn);let As=d.get(Ps);As||d.set(Ps,As=new Set),Jr.forEach(hm=>As.add(hm))})});if(K.length){const z=[];K.forEach(X=>{z.push(function hR(n,t){return new G(3505,Ne)}())}),H.forEach(X=>X.destroy()),this.reportError(z)}const he=new Map,le=new Map;a.forEach(z=>{const X=z.element;i.has(X)&&(le.set(X,X),this._beforeAnimationBuild(z.player.namespaceId,z.instruction,he))}),r.forEach(z=>{const X=z.element;this._getPreviousPlayers(X,!1,z.namespaceId,z.triggerName,null).forEach(ke=>{Yn(he,X,[]).push(ke),ke.destroy()})});const Q=S.filter(z=>l0(z,c,d)),te=new Map;s0(te,this.driver,b,d,_r).forEach(z=>{l0(z,c,d)&&Q.push(z)});const F=new Map;y.forEach((z,X)=>{s0(F,this.driver,new Set(z),c,"!")}),Q.forEach(z=>{const X=te.get(z),re=F.get(z);te.set(z,{...X,...re})});const Ee=[],be=[],In={};a.forEach(z=>{const{element:X,player:re,instruction:ke}=z;if(i.has(X)){if(f.has(X))return re.onDestroy(()=>tr(X,ke.toStyles)),re.disabled=!0,re.overrideTotalTime(ke.totalTime),void r.push(re);let Ue=In;if(le.size>1){let nn=X;const gi=[];for(;nn=nn.parentNode;){const lt=le.get(nn);if(lt){Ue=lt;break}gi.push(nn)}gi.forEach(lt=>le.set(lt,Ue))}const Dt=this._buildAnimation(re.namespaceId,ke,he,s,F,te);if(re.setRealPlayer(Dt),Ue===In)Ee.push(re);else{const nn=this.playersByElement.get(Ue);nn&&nn.length&&(re.parentPlayer=$r(nn)),r.push(re)}}else Ds(X,ke.fromStyles),re.onDestroy(()=>tr(X,ke.toStyles)),be.push(re),f.has(X)&&r.push(re)}),be.forEach(z=>{const X=s.get(z.element);if(X&&X.length){const re=$r(X);z.setRealPlayer(re)}}),r.forEach(z=>{z.parentPlayer?z.syncPlayerEvents(z.parentPlayer):z.destroy()});for(let z=0;z<S.length;z++){const X=S[z],re=X[fi];if(qo(X,Yc),re&&re.hasAnimation)continue;let ke=[];if(l.size){let Dt=l.get(X);Dt&&Dt.length&&ke.push(...Dt);let nn=this.driver.query(X,ug,!0);for(let gi=0;gi<nn.length;gi++){let lt=l.get(nn[gi]);lt&&lt.length&&ke.push(...lt)}}const Ue=ke.filter(Dt=>!Dt.destroyed);Ue.length?hO(this,X,Ue):this.processLeaveNode(X)}return S.length=0,Ee.forEach(z=>{this.players.push(z),z.onDone(()=>{z.destroy();const X=this.players.indexOf(z);this.players.splice(X,1)}),z.play()}),Ee}elementContainsData(t,e){let i=!1;const r=e[fi];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const l=this.playersByQueriedElement.get(t);l&&(a=l)}else{const l=this.playersByElement.get(t);if(l){const c=!s||s==Cl;l.forEach(d=>{d.queued||!c&&d.triggerName!=r||a.push(d)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const d=c.element,f=d!==s,g=Yn(i,d,[]);this._getPreviousPlayers(d,f,a,l,e.toState).forEach(y=>{const w=y.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),y.destroy(),g.push(y)})}Ds(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const l=e.triggerName,c=e.element,d=[],f=new Set,g=new Set,v=e.timelines.map(w=>{const D=w.element;f.add(D);const S=D[fi];if(S&&S.removedBeforeQueried)return new wl(w.duration,w.delay);const E=D!==c,b=function fO(n){const t=[];return a0(n,t),t}((i.get(D)||sO).map(he=>he.getRealPlayer())).filter(he=>!!he.element&&he.element===D),I=s.get(D),A=a.get(D),H=kC(0,this._normalizer,0,w.keyframes,I,A),K=this._buildPlayer(w,H,b);if(w.subTimeline&&r&&g.add(D),E){const he=new Sg(t,l,D);he.setRealPlayer(K),d.push(he)}return K});d.forEach(w=>{Yn(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function uO(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,w.element,w))}),f.forEach(w=>pi(w,UC));const y=$r(v);return y.onDestroy(()=>{f.forEach(w=>qo(w,UC)),tr(c,e.toStyles)}),g.forEach(w=>{Yn(r,w,[]).push(y)}),y}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new wl(t.duration,t.delay)}}class Sg{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new wl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>ng(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Yn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function cd(n){return n&&1===n.nodeType}function r0(n,t){const e=n.style.display;return n.style.display=t??"none",e}function s0(n,t,e,i,r){const s=[];e.forEach(c=>s.push(r0(c)));const a=[];i.forEach((c,d)=>{const f={};c.forEach(g=>{const v=f[g]=t.computeStyle(d,g,r);(!v||0==v.length)&&(d[fi]=oO,a.push(d))}),n.set(d,f)});let l=0;return e.forEach(c=>r0(c,s[l++])),a}function o0(n,t){const e=new Map;if(n.forEach(l=>e.set(l,[])),0==t.length)return e;const r=new Set(t),s=new Map;function a(l){if(!l)return 1;let c=s.get(l);if(c)return c;const d=l.parentNode;return c=e.has(d)?d:r.has(d)?1:a(d),s.set(l,c),c}return t.forEach(l=>{const c=a(l);1!==c&&e.get(c).push(l)}),e}function pi(n,t){n.classList?.add(t)}function qo(n,t){n.classList?.remove(t)}function hO(n,t,e){$r(e).onDone(()=>n.processLeaveNode(t))}function a0(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof AC?a0(i.players,t):t.push(i)}}function l0(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class dd{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new lO(t,e,i),this._timelineEngine=new eO(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let l=this._triggerCache[a];if(!l){const c=[],f=fg(this._driver,s,c,[]);if(c.length)throw function tR(n,t){return new G(3404,Ne)}();l=function KR(n,t,e){return new QR(n,t,e)}(r,f,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(e,r,l)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=RC(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,l]=RC(i);return this._timelineEngine.listen(a,e,l,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let mO=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&tr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tr(this._element,this._initialStyles),this._endStyles&&(tr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ds(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ds(this._element,this._endStyles),this._endStyles=null),tr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function bg(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];vO(r)&&(t=t||{},t[r]=n[r])}return t}function vO(n){return"display"===n||"position"===n}class u0{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:ZC(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class yO{validateStyleProperty(t){return FC(t)}matchesElement(t,e){return!1}containsElement(t,e){return BC(t,e)}getParentElement(t){return og(t)}query(t,e,i){return HC(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,a=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(c.easing=s);const d={},f=a.filter(v=>v instanceof u0);(function CR(n,t){return 0===n||0===t})(i,r)&&f.forEach(v=>{let y=v.currentSnapshot;Object.keys(y).forEach(w=>d[w]=y[w])}),e=function SR(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],a=[];if(i.forEach(l=>{s.hasOwnProperty(l)||a.push(l),s[l]=e[l]}),a.length)for(var r=1;r<t.length;r++){let l=t[r];a.forEach(function(c){l[c]=ZC(n,c)})}}return t}(t,e=e.map(v=>Gr(v,!1)),d);const g=function gO(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=bg(t[0]),t.length>1&&(i=bg(t[t.length-1]))):t&&(e=bg(t)),e||i?new mO(n,e,i):null}(t,e);return new u0(t,e,c,g)}}let _O=(()=>{class n extends bC{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:zn.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?TC(e):e;return c0(this._renderer,null,i,"register",[r]),new wO(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(U(sl),U(gn))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();class wO extends class kk{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new DO(this._id,t,e||{},this._renderer)}}class DO{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return c0(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function c0(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const d0="@.disabled";let CO=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const l=a?.parentNode(s);l&&a.removeChild(l,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let f=this._rendererCache.get(s);return f||(f=new h0("",s,this.engine),this._rendererCache.set(s,f)),f}const a=i.id,l=i.id+"-"+this._currentId;this._currentId++,this.engine.register(l,e);const c=f=>{Array.isArray(f)?f.forEach(c):this.engine.registerTrigger(a,l,e,f.name,f)};return i.data.animation.forEach(c),new SO(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,l]=s;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(U(sl),U(dd),U(bt))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();class h0{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==d0?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class SO extends h0{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==d0?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function bO(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),a="";return"@"!=s.charAt(0)&&([s,a]=function EO(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,i,l)})}return this.delegate.listen(t,e,i)}}let TO=(()=>{class n extends dd{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(U(gn),U(ag),U(yg))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();const f0=new ze("AnimationModuleType"),p0=[{provide:bC,useClass:_O},{provide:yg,useFactory:function MO(){return new $R}},{provide:dd,useClass:TO},{provide:sl,useFactory:function IO(n,t,e){return new CO(n,t,e)},deps:[$c,dd,bt]}],g0=[{provide:ag,useFactory:()=>new yO},{provide:f0,useValue:"BrowserAnimations"},...p0],PO=[{provide:ag,useClass:VC},{provide:f0,useValue:"NoopAnimations"},...p0];let AO=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?PO:g0}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Le({providers:g0,imports:[_C]}),n})();function Ss(...n){return Pr(n,Ir(n))}class xO extends An{constructor(t,e){super()}schedule(t,e=0){return this}}const fd={setInterval(n,t,...e){const{delegate:i}=fd;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=fd;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class Sl{constructor(t,e=Sl.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Sl.now=Xp.now;const m0=new class RO extends Sl{constructor(t,e=Sl.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}(class kO extends xO{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return fd.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;fd.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ke(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}),OO=m0;function Eg(n=0,t,e=OO){let i=-1;return null!=t&&(fu(t)?e=t:i=t),new it(r=>{let s=function NO(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}class bl extends Me{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function v0(n=0,t=m0){return n<0&&(n=0),Eg(n,n,t)}function Zr(n){return ut((t,e)=>{Hn(n).subscribe(mt(e,()=>e.complete(),ki)),!e.closed&&t.subscribe(e)})}function y0(...n){return function LO(){return da(1)}()(Pr(n,Ir(n)))}function _0(...n){const t=Ir(n);return ut((e,i)=>{(t?y0(n,e,t):y0(n,e)).subscribe(i)})}var BO=function(){function n(){}return n.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},n.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},n.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},n.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},n.prototype.position=function(t,e){void 0===e&&(e=!0);var i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i={top:(i=t.getBoundingClientRect()).top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var s=this.offsetParent(t);i=this.offset(t,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},n.prototype.offset=function(t,e){void 0===e&&(e=!0);var i=t.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s},n.prototype.positionElements=function(t,e,i,r){var s=i.split("-"),a=s[0],l=void 0===a?"top":a,c=s[1],d=void 0===c?"center":c,f=r?this.offset(t,!1):this.position(t,!1),g=this.getAllStyles(e),v=parseFloat(g.marginTop),y=parseFloat(g.marginBottom),w=parseFloat(g.marginLeft),D=parseFloat(g.marginRight),S=0,E=0;switch(l){case"top":S=f.top-(e.offsetHeight+v+y);break;case"bottom":S=f.top+f.height;break;case"left":E=f.left-(e.offsetWidth+w+D);break;case"right":E=f.left+f.width}switch(d){case"top":S=f.top;break;case"bottom":S=f.top+f.height-e.offsetHeight;break;case"left":E=f.left;break;case"right":E=f.left+f.width-e.offsetWidth;break;case"center":"top"===l||"bottom"===l?E=f.left+f.width/2-e.offsetWidth/2:S=f.top+f.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(E)+"px, "+Math.round(S)+"px)";var b=e.getBoundingClientRect(),I=document.documentElement,A=window.innerHeight||I.clientHeight,H=window.innerWidth||I.clientWidth;return b.left>=0&&b.top>=0&&b.right<=H&&b.bottom<=A},n}(),HO=/\s+/,w0=new BO,Ai=function(){return Ai=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Ai.apply(this,arguments)},D0=function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;var i=Array(n),r=0;for(t=0;t<e;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,r++)i[r]=s[a];return i},El=(()=>{return(n=El||(El={}))[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",El;var n})(),jO=[El.SUNDAY,El.SATURDAY],qr=86400;function C0(n,t){var e=t.startDate,r=t.excluded,s=t.precision;if(r.length<1)return 0;for(var l=n.getDay,c=n.addDays,d=(0,n.addSeconds)(e,t.seconds-1),f=l(e),g=l(d),v=0,y=e,w=function(){var D=l(y);r.some(function(S){return S===D})&&(v+=function UO(n,t){var i=t.day,s=t.dayEnd,a=t.startDate,l=t.endDate,c=n.differenceInSeconds,f=n.startOfDay;if("minutes"===t.precision){if(i===t.dayStart)return c((0,n.endOfDay)(a),a)+1;if(i===s)return c(l,f(l))+1}return qr}(n,{dayStart:f,dayEnd:g,day:D,precision:s,startDate:e,endDate:d})),y=c(y,1)};y<d;)w();return v}function Tl(n,t){var i=t.periodStart,r=t.periodEnd;return t.events.filter(function(s){return function $O(n,t){var e=t.event,i=t.periodStart,r=t.periodEnd,s=n.isSameSecond,a=e.start,l=e.end||e.start;return!!(a>i&&a<r||l>i&&l<r||a<i&&l>r||s(a,i)||s(a,r)||s(l,i)||s(l,r))}(n,{event:s,periodStart:i,periodEnd:r})})}function S0(n,t){var e=t.date,i=t.weekendDays,r=void 0===i?jO:i,a=n.isSameDay,l=n.getDay,c=(0,n.startOfDay)(new Date),d=l(e);return{date:e,day:d,isPast:e<c,isToday:a(e,c),isFuture:e>c,isWeekend:r.indexOf(d)>-1}}function Ig(n,t){for(var r=t.excluded,s=void 0===r?[]:r,a=t.weekendDays,l=t.viewStart,c=void 0===l?n.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):l,d=t.viewEnd,f=void 0===d?n.addDays(c,7):d,g=n.addDays,v=n.getDay,y=[],w=c;w<f;)s.some(function(D){return v(w)===D})||y.push(S0(n,{date:w,weekendDays:a})),w=g(w,1);return y}function ZO(n,t){var e=t.events,i=void 0===e?[]:e,r=t.excluded,s=void 0===r?[]:r,a=t.precision,l=void 0===a?"days":a,c=t.absolutePositionedEvents,d=void 0!==c&&c,f=t.viewStart,g=t.viewEnd;f=n.startOfDay(f),g=n.endOfDay(g);var v=n.differenceInSeconds,y=n.differenceInDays,w=function GO(n,t){for(var i=t.date2,r=t.excluded,s=t.date1,a=0;s<i;)-1===r.indexOf(n.getDay(s))&&a++,s=n.addDays(s,1);return a}(n,{date1:f,date2:g,excluded:s}),D=y(g,f)+1,S=i.filter(function(I){return I.allDay}).map(function(I){var A=function WO(n,t){var e=t.event,i=t.startOfWeek,r=t.excluded,s=t.precision,a=n.differenceInDays,l=n.startOfDay,c=n.differenceInSeconds;if(e.start<i)return 0;var d=0;switch(s){case"days":d=a(l(e.start),i)*qr;break;case"minutes":d=c(e.start,i)}return d-=C0(n,{startDate:i,seconds:d,excluded:r,precision:s}),Math.abs(d/qr)}(n,{event:I,startOfWeek:f,excluded:s,precision:l}),H=function zO(n,t){var e=t.event,i=t.offset,s=t.excluded,a=t.precision,l=t.totalDaysInView,d=n.differenceInSeconds,f=n.addDays,g=n.endOfDay,v=n.differenceInDays,y=qr,w=(0,n.max)([e.start,t.startOfWeekDate]);e.end&&(y="minutes"===a?d(e.end,w):v(f(g(e.end),1),w)*qr);var D=i*qr,E=l*qr;return D+y>E&&(y=E-D),(y-=C0(n,{startDate:w,seconds:y,excluded:s,precision:a}))/qr}(n,{event:I,offset:A,startOfWeekDate:f,excluded:s,precision:l,totalDaysInView:D});return{event:I,offset:A,span:H}}).filter(function(I){return I.offset<w}).filter(function(I){return I.span>0}).map(function(I){return{event:I.event,offset:I.offset,span:I.span,startsBeforeWeek:I.event.start<f,endsAfterWeek:(I.event.end||I.event.start)>g}}).sort(function(I,A){var H=v(I.event.start,A.event.start);return 0===H?v(A.event.end||A.event.start,I.event.end||I.event.start):H}),E=[],b=[];return S.forEach(function(I,A){if(-1===b.indexOf(I)){b.push(I);var H=I.span+I.offset,K=S.slice(A+1).filter(function(Q){if(Q.offset>=H&&H+Q.span<=D&&-1===b.indexOf(Q)){var te=Q.offset-H;return d||(Q.offset=te),H+=Q.span+te,b.push(Q),!0}}),he=D0([I],K),le=he.filter(function(Q){return Q.event.id}).map(function(Q){return Q.event.id}).join("-");E.push(Ai({row:he},le?{id:le}:{}))}}),E}function qO(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.hourDuration,a=t.dayStart,l=t.dayEnd,c=t.weekStartsOn,d=t.excluded,f=t.weekendDays,g=t.segmentHeight,v=t.viewStart,y=t.viewEnd,w=t.minimumEventHeight,D=function XO(n,t){var e=t.viewDate,i=t.hourSegments,r=t.hourDuration,s=t.dayStart,a=t.dayEnd,l=n.setMinutes,c=n.setHours,d=n.startOfDay,f=n.startOfMinute,g=n.endOfDay,v=n.addMinutes,w=n.addDays,D=[],S=l(c(d(e),md(s.hour)),vd(s.minute)),E=l(c(f(g(e)),md(a.hour)),vd(a.minute)),b=(r||60)/i,I=d(e),A=g(e),H=function($){return $};n.getTimezoneOffset(I)!==n.getTimezoneOffset(A)&&(I=w(I,1),S=w(S,1),E=w(E,1),H=function($){return w($,-1)});for(var K=r?1440/r:60,he=0;he<K;he++){for(var le=[],Q=0;Q<i;Q++){var te=v(v(S,he*(r||60)),Q*b);te>=S&&te<E&&le.push({date:H(te),displayDate:te,isStart:0===Q})}le.length>0&&D.push({segments:le})}return D}(n,{viewDate:i,hourSegments:r,hourDuration:s,dayStart:a,dayEnd:l}),S=Ig(n,{viewDate:i,weekStartsOn:c,excluded:d,weekendDays:f,viewStart:v,viewEnd:y}),E=n.setHours,b=n.setMinutes,I=n.getHours,A=n.getMinutes;return S.map(function(H){var K=function QO(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.dayStart,a=t.dayEnd,l=t.eventWidth,c=t.segmentHeight,d=t.hourDuration,f=t.minimumEventHeight,g=n.setMinutes,v=n.setHours,y=n.startOfDay,w=n.startOfMinute,D=n.endOfDay,S=n.differenceInMinutes,E=g(v(y(i),md(s.hour)),vd(s.minute)),b=g(v(w(D(i)),md(a.hour)),vd(a.minute));b.setSeconds(59,999);var I=[],A=Tl(n,{events:e.filter(function(le){return!le.allDay}),periodStart:E,periodEnd:b}),H=A.sort(function(le,Q){return le.start.valueOf()-Q.start.valueOf()}).map(function(le){var Q=le.start,te=le.end||Q,$=Q<E,F=te>b,Ee=r*c/(d||60),be=0;if(Q>E){var In=n.getTimezoneOffset(Q),X=n.getTimezoneOffset(E)-In;be+=S(Q,E)+X}be*=Ee,be=Math.floor(be);var re=$?E:Q,ke=F?b:te,Ue=n.getTimezoneOffset(re)-n.getTimezoneOffset(ke),Dt=S(ke,re)+Ue;le.end?Dt*=Ee:Dt=c,f&&Dt<f&&(Dt=f),Dt=Math.floor(Dt);for(var gi=gd(I,be,be+Dt),lt=0;gi.some(function(dm){return dm.left===lt});)lt+=l;var Gl={event:le,height:Dt,width:l,top:be,left:lt,startsBeforeDay:$,endsAfterDay:F};return I.push(Gl),Gl}),K=Math.max.apply(Math,H.map(function(le){return le.left+le.width})),he=Tl(n,{events:e.filter(function(le){return le.allDay}),periodStart:y(E),periodEnd:D(b)});return{events:H,width:K,allDayEvents:he,period:{events:A,start:E,end:b}}}(n,{events:e,viewDate:H.date,hourSegments:r,dayStart:a,dayEnd:l,segmentHeight:g,eventWidth:1,hourDuration:s,minimumEventHeight:w}),he=D.map(function(te){var $=te.segments.map(function(F){var Ee=b(E(H.date,I(F.date)),A(F.date));return Ai(Ai({},F),{date:Ee})});return Ai(Ai({},te),{segments:$})});function le(te,$){var F=Math.max.apply(Math,$.map(function(be){return be.left+1})),Ee=te.filter(function(be){return be.left>=F}).filter(function(be){return gd($,be.top,be.top+be.height).length>0});return Ee.length>0?le(te,Ee):F}var Q=K.events.map(function(te){var F=100/le(K.events,gd(K.events,te.top,te.top+te.height));return Ai(Ai({},te),{left:te.left*F,width:F})});return{hours:he,date:H.date,events:Q.map(function(te){var $=gd(Q.filter(function(F){return F.left>te.left}),te.top,te.top+te.height);return $.length>0?Ai(Ai({},te),{width:Math.min.apply(Math,$.map(function(F){return F.left}))-te.left}):te})}})}function gd(n,t,e){return n.filter(function(i){var r=i.top,s=i.top+i.height;return t<s&&s<e||t<r&&r<e||r<=t&&e<=s})}function md(n){return Math.max(Math.min(23,n),0)}function vd(n){return Math.max(Math.min(59,n),0)}var Yr=(()=>{return(n=Yr||(Yr={})).NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",Yr;var n})();const{isArray:eN}=Array,{getPrototypeOf:tN,prototype:nN,keys:iN}=Object;const{isArray:oN}=Array;function b0(n){return He(t=>function aN(n,t){return oN(t)?n(...t):n(t)}(n,t))}function uN(...n){const t=Ir(n),e=function Gd(n){return Pe(ha(n))?n.pop():void 0}(n),{args:i,keys:r}=function rN(n){if(1===n.length){const t=n[0];if(eN(t))return{args:t,keys:null};if(function sN(n){return n&&"object"==typeof n&&tN(n)===nN}(t)){const e=iN(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}(n);if(0===i.length)return Pr([],t);const s=new it(function cN(n,t,e=kt){return i=>{E0(t,()=>{const{length:r}=n,s=new Array(r);let a=r,l=r;for(let c=0;c<r;c++)E0(t,()=>{const d=Pr(n[c],t);let f=!1;d.subscribe(mt(i,g=>{s[c]=g,f||(f=!0,l--),l||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>function lN(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}(r,a):kt));return e?s.pipe(b0(e)):s}function E0(n,t,e){n?Jn(e,n,t):t()}const dN=["addListener","removeListener"],hN=["addEventListener","removeEventListener"],fN=["on","off"];function Ml(n,t,e,i){if(Pe(e)&&(i=e,e=void 0),i)return Ml(n,t,e).pipe(b0(i));const[r,s]=function mN(n){return Pe(n.addEventListener)&&Pe(n.removeEventListener)}(n)?hN.map(a=>l=>n[a](t,l,e)):function pN(n){return Pe(n.addListener)&&Pe(n.removeListener)}(n)?dN.map(T0(n,t)):function gN(n){return Pe(n.on)&&Pe(n.off)}(n)?fN.map(T0(n,t)):[];if(!r&&oa(n))return ei(a=>Ml(a,t,e))(Hn(n));if(!r)throw new TypeError("Invalid event target");return new it(a=>{const l=(...c)=>a.next(1<c.length?c:c[0]);return r(l),()=>s(l)})}function T0(n,t){return e=>i=>n[e](t,i)}function mn(n,t){return ut((e,i)=>{let r=0;e.subscribe(mt(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Kr(n){return n<=0?()=>vi:ut((t,e)=>{let i=0;t.subscribe(mt(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function yN(n,t,e,i,r){return(s,a)=>{let l=e,c=t,d=0;s.subscribe(mt(a,f=>{const g=d++;c=l?n(c,f,g):(l=!0,f),i&&a.next(c)},r&&(()=>{l&&a.next(c),a.complete()})))}}function Pg(){return ut((n,t)=>{let e,i=!1;n.subscribe(mt(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function CN(n,t){return n===t}function Ag(n,t){return n=function SN(n,t){return typeof n>"u"?typeof t>"u"?n:t:n}(n,t),"function"==typeof n?function(){for(var i=arguments,r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=i[a];return!!n.apply(this,s)}:n?function(){return!0}:function(){return!1}}var xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},M0=function(n){return null!=n&&"object"===(typeof n>"u"?"undefined":xg(n))&&1===n.nodeType&&"object"===xg(n.style)&&"object"===xg(n.ownerDocument)};function I0(n,t){if(t=Rg(t,!0),!M0(t))return-1;for(var e=0;e<n.length;e++)if(n[e]===t)return e;return-1}function kg(n,t){return-1!==I0(n,t)}function bN(n,t){for(var e=0;e<t.length;e++)kg(n,t[e])||n.push(t[e]);return t}function EN(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return bN(n,e=e.map(Rg))}function TN(n){for(var t=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=t[i+1];return e.map(Rg).reduce(function(r,s){var a=I0(n,s);return-1!==a?r.concat(n.splice(a,1)):r},[])}function Rg(n,t){if("string"==typeof n)try{return document.querySelector(n)}catch(e){throw e}if(!M0(n)&&!t)throw new TypeError(n+" is not a DOM element.");return n}function P0(n){if(n===window)return function IN(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var t={};return Object.defineProperties(t,n),t}();try{var t=n.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch{throw new TypeError("Can't call getBoundingClientRect on "+n)}}var t,Og=void 0;"function"!=typeof Object.create?(t=function(){},Og=function(e,i){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");t.prototype=e||{};var r=new t;return t.prototype=null,void 0!==i&&Object.defineProperties(r,i),null===e&&(r.__proto__=null),r}):Og=Object.create;var AN=Og,bs=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Ng(n,t){t=t||{};for(var e=AN(n),i=0;i<bs.length;i++)void 0!==t[bs[i]]&&(e[bs[i]]=t[bs[i]]);return e}function Lg(n,t){console.log("data ",t),n.data=t||{},n.dispatched="mousemove"}var Il=["webkit","moz","ms","o"],Pl=function(){if(typeof window>"u")return function(){};for(var n=0,t=Il.length;n<t&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[Il[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(i){var r=(new Date).getTime(),s=Math.max(0,16-r-e),a=window.setTimeout(function(){return i(r+s)},s);return e=r+s,a}}return window.requestAnimationFrame.bind(window)}(),Yo=function(){if(typeof window>"u")return function(){};for(var n=0,t=Il.length;n<t&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[Il[n]+"CancelAnimationFrame"]||window[Il[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function kN(n,t){void 0===t&&(t={});var e=this,i=4,r=!1;if("object"!=typeof t.margin){var s=t.margin||-1;this.margin={left:s,right:s,top:s,bottom:s}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var a={},l=function MN(n,t){var e=Ag((t=t||{}).allowUpdate,!0);return function(r){if(r=r||window.event,n.target=r.target||r.srcElement||r.originalTarget,n.element=this,n.type=r.type,e(r)){if(r.targetTouches)n.x=r.targetTouches[0].clientX,n.y=r.targetTouches[0].clientY,n.pageX=r.targetTouches[0].pageX,n.pageY=r.targetTouches[0].pageY,n.screenX=r.targetTouches[0].screenX,n.screenY=r.targetTouches[0].screenY;else{if(null===r.pageX&&null!==r.clientX){var s=r.target&&r.target.ownerDocument||document,a=s.documentElement,l=s.body;n.pageX=r.clientX+(a&&a.scrollLeft||l&&l.scrollLeft||0)-(a&&a.clientLeft||l&&l.clientLeft||0),n.pageY=r.clientY+(a&&a.scrollTop||l&&l.scrollTop||0)-(a&&a.clientTop||l&&l.clientTop||0)}else n.pageX=r.pageX,n.pageY=r.pageY;n.x=r.clientX,n.y=r.clientY,n.screenX=r.screenX,n.screenY=r.screenY}n.clientX=n.x,n.clientY=n.y}}}(a),c=function xN(n){var t={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function e(s){for(var a=0;a<bs.length;a++)t[bs[a]]=s[bs[a]]}return void 0!==n&&n.addEventListener("mousemove",e),{destroy:function r(){n&&n.removeEventListener("mousemove",e,!1),t=null},dispatch:MouseEvent?function(a,l,c){var d=new MouseEvent("mousemove",Ng(t,l));return Lg(d,c),a.dispatchEvent(d)}:"function"==typeof document.createEvent?function(a,l,c){var d=Ng(t,l),f=document.createEvent("MouseEvents");return f.initMouseEvent("mousemove",!0,!0,window,0,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),Lg(f,c),a.dispatchEvent(f)}:"function"==typeof document.createEventObject?function(a,l,c){var d=document.createEventObject(),f=Ng(t,l);for(var g in f)d[g]=f[g];return Lg(d,c),a.dispatchEvent(d)}:void 0}}(),d=!1;window.addEventListener("mousemove",l,!1),window.addEventListener("touchmove",l,!1),isNaN(t.maxSpeed)||(i=t.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=Ag(t.autoScroll),this.syncMove=Ag(t.syncMove,!1),this.destroy=function($){window.removeEventListener("mousemove",l,!1),window.removeEventListener("touchmove",l,!1),window.removeEventListener("mousedown",D,!1),window.removeEventListener("touchstart",D,!1),window.removeEventListener("mouseup",S,!1),window.removeEventListener("touchend",S,!1),window.removeEventListener("pointerup",S,!1),window.removeEventListener("mouseleave",b,!1),window.removeEventListener("mousemove",H,!1),window.removeEventListener("touchmove",H,!1),window.removeEventListener("scroll",w,!0),n=[],$&&E()},this.add=function(){for(var $=[],F=arguments.length;F--;)$[F]=arguments[F];return EN.apply(void 0,[n].concat($)),this},this.remove=function(){for(var $=[],F=arguments.length;F--;)$[F]=arguments[F];return TN.apply(void 0,[n].concat($))};var g,$,f=null;"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),$=n,n=[],$.forEach(function(F){F===window?f=window:e.add(F)}),Object.defineProperties(this,{down:{get:function(){return d}},maxSpeed:{get:function(){return i}},point:{get:function(){return a}},scrolling:{get:function(){return r}}});var y,v=null;function w($){for(var F=0;F<n.length;F++)if(n[F]===$.target){r=!0;break}r&&Pl(function(){return r=!1})}function D(){d=!0}function S(){d=!1,E()}function E(){Yo(y),Yo(g)}function b(){d=!1}function A(){for(var $=null,F=0;F<n.length;F++)A0(a,n[F])&&($=n[F]);return $}function H($){if(e.autoScroll()&&!$.dispatched){var F=$.target,Ee=document.body;v&&!A0(a,v)&&(e.scrollWhenOutside||(v=null)),F&&F.parentNode===Ee?F=A():(F=function I($){if(!$)return null;if(v===$||kg(n,$))return $;for(;$=$.parentNode;)if(kg(n,$))return $;return null}(F),F||(F=A())),F&&F!==v&&(v=F),f&&(Yo(g),g=Pl(K)),v&&(Yo(y),y=Pl(he))}}function K(){le(f),Yo(g),g=Pl(K)}function he(){!v||(le(v),Yo(y),y=Pl(he))}function le($){var Ee,be,F=P0($);Ee=a.x<F.left+e.margin.left?Math.floor(Math.max(-1,(a.x-F.left)/e.margin.left-1)*e.maxSpeed.left):a.x>F.right-e.margin.right?Math.ceil(Math.min(1,(a.x-F.right)/e.margin.right+1)*e.maxSpeed.right):0,be=a.y<F.top+e.margin.top?Math.floor(Math.max(-1,(a.y-F.top)/e.margin.top-1)*e.maxSpeed.top):a.y>F.bottom-e.margin.bottom?Math.ceil(Math.min(1,(a.y-F.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):0,e.syncMove()&&c.dispatch($,{pageX:a.pageX+Ee,pageY:a.pageY+be,clientX:a.x+Ee,clientY:a.y+be}),setTimeout(function(){be&&function Q($,F){$===window?window.scrollTo($.pageXOffset,$.pageYOffset+F):$.scrollTop+=F}($,be),Ee&&function te($,F){$===window?window.scrollTo($.pageXOffset+F,$.pageYOffset):$.scrollLeft+=F}($,Ee)})}window.addEventListener("mousedown",D,!1),window.addEventListener("touchstart",D,!1),window.addEventListener("mouseup",S,!1),window.addEventListener("touchend",S,!1),window.addEventListener("pointerup",S,!1),window.addEventListener("mousemove",H,!1),window.addEventListener("touchmove",H,!1),window.addEventListener("mouseleave",b,!1),window.addEventListener("scroll",w,!0)}function A0(n,t,e){return e?n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right:function PN(n,t){var e=P0(t);return n.y>e.top&&n.y<e.bottom&&n.x>e.left&&n.x<e.right}(n,t)}function Fg(n,t,e){e&&e.split(" ").forEach(i=>n.addClass(t.nativeElement,i))}function yd(n,t,e){e&&e.split(" ").forEach(i=>n.removeClass(t.nativeElement,i))}let x0=(()=>{class n{constructor(){this.currentDrag=new Me}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k0=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(O(bn))},n.\u0275dir=yt({type:n,selectors:[["","mwlDraggableScrollContainer",""]]}),n})(),Bg=(()=>{class n{constructor(e,i,r,s,a,l,c){this.element=e,this.renderer=i,this.draggableHelper=r,this.zone=s,this.vcr=a,this.scrollContainer=l,this.document=c,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new ue,this.dragStart=new ue,this.ghostElementCreated=new ue,this.dragging=new ue,this.dragEnd=new ue,this.pointerDown$=new Me,this.pointerMove$=new Me,this.pointerUp$=new Me,this.eventListenerSubscriptions={},this.destroy$=new Me,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe(mn(()=>this.canDrag()),ei(i=>{i.event.stopPropagation&&!this.scrollContainer&&i.event.stopPropagation();const r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(r)});const s=this.getScrollPosition(),a=new it(y=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",D=>y.next(D))).pipe(_0(s),He(()=>this.getScrollPosition())),l=new Me,c=new CC;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const d=rn(this.pointerUp$,this.pointerDown$,c,this.destroy$).pipe(_e()),f=uN([this.pointerMove$,a]).pipe(He(([y,w])=>({currentDrag$:l,transformX:y.clientX-i.clientX,transformY:y.clientY-i.clientY,clientX:y.clientX,clientY:y.clientY,scrollLeft:w.left,scrollTop:w.top,target:y.event.target})),He(y=>(this.dragSnapGrid.x&&(y.transformX=Math.round(y.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(y.transformY=Math.round(y.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),y)),He(y=>(this.dragAxis.x||(y.transformX=0),this.dragAxis.y||(y.transformY=0),y)),He(y=>{const w=y.scrollLeft-s.left,D=y.scrollTop-s.top;return Object.assign(Object.assign({},y),{x:y.transformX+w,y:y.transformY+D})}),mn(({x:y,y:w,transformX:D,transformY:S})=>!this.validateDrag||this.validateDrag({x:y,y:w,transform:{x:D,y:S}})),Zr(d),_e()),g=f.pipe(Kr(1),_e()),v=f.pipe(function vN(n){return n<=0?()=>vi:ut((t,e)=>{let i=[];t.subscribe(mt(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}(1),_e());return g.subscribe(({clientX:y,clientY:w,x:D,y:S})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:c})}),this.scroller=function RN(n,t){return new kN(n,t)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign(Object.assign({},this.autoScroll),{autoScroll:()=>!0})),Fg(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const E=this.element.nativeElement.getBoundingClientRect(),b=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(b):this.element.nativeElement.parentNode.insertBefore(b,this.element.nativeElement.nextSibling),this.ghostElement=b,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(b,{position:"fixed",top:`${E.top}px`,left:`${E.left}px`,width:`${E.width}px`,height:`${E.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const I=this.vcr.createEmbeddedView(this.ghostElementTemplate);b.innerHTML="",I.rootNodes.filter(A=>A instanceof Node).forEach(A=>{b.appendChild(A)}),v.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(I))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:y-D,clientY:w-S,element:b})}),v.subscribe(()=>{b.parentElement.removeChild(b),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(l)}),v.pipe(ei(y=>{const w=c.pipe(function wN(n){return function _N(n,t){return ut(yN(n,t,arguments.length>=2,!1,!0))}((t,e,i)=>!n||n(e,i)?t+1:t,0)}(),Kr(1),He(D=>Object.assign(Object.assign({},y),{dragCancelled:D>0})));return c.complete(),w})).subscribe(({x:y,y:w,dragCancelled:D})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:y,y:w,dragCancelled:D})}),yd(this.renderer,this.element,this.dragActiveClass),l.complete()}),rn(d,v).pipe(Kr(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),f}),_e());rn(e.pipe(Kr(1),He(i=>[,i])),e.pipe(Pg())).pipe(mn(([i,r])=>!i||i.x!==r.x||i.y!==r.y),He(([i,r])=>r)).subscribe(({x:i,y:r,currentDrag$:s,clientX:a,clientY:l,transformX:c,transformY:d,target:f})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:i,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){const g=`translate3d(${c}px, ${d}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:g,"-webkit-transform":g,"-ms-transform":g,"-moz-transform":g,"-o-transform":g})}}),s.next({clientX:a,clientY:l,dropData:this.dropData,target:f})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),i=Object.keys(this.eventListenerSubscriptions).length>0;e&&!i?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&i&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",i=>{this.pointerMove$.next({event:i,clientX:i.clientX,clientY:i.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let i,r,s;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,s=this.hasScrollbar(),i=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const a=Ml(this.document,"contextmenu").subscribe(c=>{c.preventDefault()}),l=Ml(this.document,"touchmove",{passive:!1}).subscribe(c=>{this.touchStartLongPress&&!r&&s&&(r=this.shouldBeginDrag(e,c,i)),(!this.touchStartLongPress||!s||r)&&(c.preventDefault(),this.pointerMove$.next({event:c,clientX:c.targetTouches[0].clientX,clientY:c.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{a.unsubscribe(),l.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,i){Object.keys(i).forEach(r=>{this.renderer.setStyle(e,r,i[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,i,r){const s=this.getScrollPosition(),a_top=Math.abs(s.top-r.top),a_left=Math.abs(s.left-r.left),l=Math.abs(i.targetTouches[0].clientX-e.touches[0].clientX)-a_left,c=Math.abs(i.targetTouches[0].clientY-e.touches[0].clientY)-a_top,f=this.touchStartLongPress;return(l+c>f.delta||a_top>0||a_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=f.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(O(bn),O(gr),O(x0),O(bt),O(li),O(k0,8),O(gn))},n.\u0275dir=yt({type:n,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[ri]}),n})();function R0(n,t,e){return n>=e.left&&n<=e.right&&t>=e.top&&t<=e.bottom}let Hg=(()=>{class n{constructor(e,i,r,s,a){this.element=e,this.draggableHelper=i,this.zone=r,this.renderer=s,this.scrollContainer=a,this.dragEnter=new ue,this.dragLeave=new ue,this.dragOver=new ue,this.drop=new ue}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{Fg(this.renderer,this.element,this.dragActiveClass);const i={updateCache:!0},r=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{i.updateCache=!0});let s;const a=e.pipe(He(({clientX:d,clientY:f,dropData:g,target:v})=>{s={clientX:d,clientY:f,dropData:g,target:v},i.updateCache&&(i.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(i.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),i.updateCache=!1);const y=R0(d,f,i.rect),w=!this.validateDrop||this.validateDrop({clientX:d,clientY:f,target:v,dropData:g});return i.scrollContainerRect?y&&w&&R0(d,f,i.scrollContainerRect):y&&w})),l=a.pipe(function DN(n,t=kt){return n=n??CN,ut((e,i)=>{let r,s=!0;e.subscribe(mt(i,a=>{const l=t(a);(s||!n(r,l))&&(s=!1,r=l,i.next(a))}))})}());let c;l.pipe(mn(d=>d)).subscribe(()=>{c=!0,Fg(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(s)})}),a.pipe(mn(d=>d)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(s)})}),l.pipe(Pg(),mn(([d,f])=>d&&!f)).subscribe(()=>{c=!1,yd(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(s)})}),e.subscribe({complete:()=>{r(),yd(this.renderer,this.element,this.dragActiveClass),c&&(yd(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(s)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(O(bn),O(x0),O(bt),O(gr),O(k0,8))},n.\u0275dir=yt({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),_d=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Le({}),n})();function O0(n,t,e){const i=Pe(n)||t||e?{next:n,error:t,complete:e}:n;return i?ut((r,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let l=!0;r.subscribe(mt(s,c=>{var d;null===(d=i.next)||void 0===d||d.call(i,c),s.next(c)},()=>{var c;l=!1,null===(c=i.complete)||void 0===c||c.call(i),s.complete()},c=>{var d;l=!1,null===(d=i.error)||void 0===d||d.call(i,c),s.error(c)},()=>{var c,d;l&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):kt}const Es=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function N0(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const s=e.querySelectorAll(n);for(let a=0;a<r.length;a++)i(r[a],s[a])}}let LN=0;function L0(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${LN++}`)}function F0(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function B0(n,t,e,i){const r={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return t.top&&(r.top+=i),t.bottom&&(r.bottom+=i),t.left&&(r.left+=e),t.right&&(r.right+=e),r.height=r.bottom-r.top,r.width=r.right-r.left,r}const H0=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function V0(n,t){return n.left&&n.top?t.topLeft:n.right&&n.top?t.topRight:n.left&&n.bottom?t.bottomLeft:n.right&&n.bottom?t.bottomRight:n.left||n.right?t.leftOrRight:n.top||n.bottom?t.topOrBottom:""}function wd({edges:n,initialRectangle:t,newRectangle:e}){const i={};return Object.keys(n).forEach(r=>{i[r]=(e[r]||0)-(t[r]||0)}),i}const j0="resize-active";let U0=(()=>{class n{constructor(e,i,r,s){this.platformId=e,this.renderer=i,this.elm=r,this.zone=s,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=H0,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new ue,this.resizing=new ue,this.resizeEnd=new ue,this.mouseup=new Me,this.mousedown=new Me,this.mousemove=new Me,this.destroy$=new Me,this.pointerEventListeners=Ko.getInstance(i,s)}ngOnInit(){const e=rn(this.pointerEventListeners.pointerDown,this.mousedown),i=rn(this.pointerEventListeners.pointerMove,this.mousemove).pipe(O0(({event:d})=>{if(s)try{d.preventDefault()}catch{}}),_e()),r=rn(this.pointerEventListeners.pointerUp,this.mouseup);let s;const a=()=>{s&&s.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},l=()=>Object.assign(Object.assign({},H0),this.resizeCursors);e.pipe(ei(d=>{function f(y){return{clientX:y.clientX-d.clientX,clientY:y.clientY-d.clientY}}const g=()=>{const y={x:1,y:1};return s&&(this.resizeSnapGrid.left&&s.edges.left?y.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&s.edges.right&&(y.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&s.edges.top?y.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&s.edges.bottom&&(y.y=+this.resizeSnapGrid.bottom)),y};function v(y,w){return{x:Math.ceil(y.clientX/w.x),y:Math.ceil(y.clientY/w.y)}}return rn(i.pipe(Kr(1)).pipe(He(y=>[,y])),i.pipe(Pg())).pipe(He(([y,w])=>[y&&f(y),f(w)])).pipe(mn(([y,w])=>{if(!y)return!0;const D=g(),S=v(y,D),E=v(w,D);return S.x!==E.x||S.y!==E.y})).pipe(He(([,y])=>{const w=g();return{clientX:Math.round(y.clientX/w.x)*w.x,clientY:Math.round(y.clientY/w.y)*w.y}})).pipe(Zr(rn(r,e)))})).pipe(mn(()=>!!s)).pipe(He(({clientX:d,clientY:f})=>B0(s.startingRect,s.edges,d,f))).pipe(mn(d=>this.allowNegativeResizes||!!(d.height&&d.width&&d.height>0&&d.width>0))).pipe(mn(d=>!this.validateResize||this.validateResize({rectangle:d,edges:wd({edges:s.edges,initialRectangle:s.startingRect,newRectangle:d})})),Zr(this.destroy$)).subscribe(d=>{s&&s.clonedNode&&(this.renderer.setStyle(s.clonedNode,"height",`${d.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${d.width}px`),this.renderer.setStyle(s.clonedNode,"top",`${d.top}px`),this.renderer.setStyle(s.clonedNode,"left",`${d.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:wd({edges:s.edges,initialRectangle:s.startingRect,newRectangle:d}),rectangle:d})}),s.currentRect=d}),e.pipe(He(({edges:d})=>d||{}),mn(d=>Object.keys(d).length>0),Zr(this.destroy$)).subscribe(d=>{s&&a();const f=function FN(n,t){let e=0,i=0;const r=n.nativeElement.style,a=["transform","-ms-transform","-moz-transform","-o-transform"].map(l=>r[l]).find(l=>!!l);if(a&&a.includes("translate")&&(e=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-i,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-i,left:n.nativeElement.offsetLeft-e,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-e};{const l=n.nativeElement.getBoundingClientRect();return{height:l.height,width:l.width,top:l.top-i,bottom:l.bottom-i,left:l.left-e,right:l.right-e,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);s={edges:d,startingRect:f,currentRect:f};const g=l(),v=V0(s.edges,g);this.renderer.setStyle(document.body,"cursor",v),this.setElementClass(this.elm,j0,!0),this.enableGhostResize&&(s.clonedNode=function NN(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();return t.removeAttribute("id"),e.forEach(r=>{r.removeAttribute("id")}),"canvas"===i?F0(n,t):("input"===i||"select"===i||"textarea"===i)&&L0(n,t),N0("canvas",n,t,F0),N0("input, textarea, select",n,t,L0),t}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(s.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(s.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(s.clonedNode,"left",`${s.startingRect.left}px`),this.renderer.setStyle(s.clonedNode,"top",`${s.startingRect.top}px`),this.renderer.setStyle(s.clonedNode,"height",`${s.startingRect.height}px`),this.renderer.setStyle(s.clonedNode,"width",`${s.startingRect.width}px`),this.renderer.setStyle(s.clonedNode,"cursor",V0(s.edges,g)),this.renderer.addClass(s.clonedNode,"resize-ghost-element"),s.clonedNode.scrollTop=s.startingRect.scrollTop,s.clonedNode.scrollLeft=s.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:wd({edges:d,initialRectangle:f,newRectangle:f}),rectangle:B0(f,{},0,0)})})}),r.pipe(Zr(this.destroy$)).subscribe(()=>{s&&(this.renderer.removeClass(this.elm.nativeElement,j0),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:wd({edges:s.edges,initialRectangle:s.startingRect,newRectangle:s.currentRect}),rectangle:s.currentRect})}),a(),s=null)})}ngOnDestroy(){(function Fx(n){return n===oC})(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(e,i,r){r?this.renderer.addClass(e.nativeElement,i):this.renderer.removeClass(e.nativeElement,i)}}return n.\u0275fac=function(e){return new(e||n)(O(dl),O(gr),O(bn),O(bt))},n.\u0275dir=yt({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})();class Ko{constructor(t,e){this.pointerDown=new it(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousedown",a=>{i.next({clientX:a.clientX,clientY:a.clientY,event:a})}),Es&&(s=t.listen("document","touchstart",a=>{i.next({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,event:a})}))}),()=>{r(),Es&&s()}}).pipe(_e()),this.pointerMove=new it(i=>{let r,s;return e.runOutsideAngular(()=>{r=t.listen("document","mousemove",a=>{i.next({clientX:a.clientX,clientY:a.clientY,event:a})}),Es&&(s=t.listen("document","touchmove",a=>{i.next({clientX:a.targetTouches[0].clientX,clientY:a.targetTouches[0].clientY,event:a})}))}),()=>{r(),Es&&s()}}).pipe(_e()),this.pointerUp=new it(i=>{let r,s,a;return e.runOutsideAngular(()=>{r=t.listen("document","mouseup",l=>{i.next({clientX:l.clientX,clientY:l.clientY,event:l})}),Es&&(s=t.listen("document","touchend",l=>{i.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}),a=t.listen("document","touchcancel",l=>{i.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}))}),()=>{r(),Es&&(s(),a())}}).pipe(_e())}static getInstance(t,e){return Ko.instance||(Ko.instance=new Ko(t,e)),Ko.instance}}let VN=(()=>{class n{constructor(e,i,r,s){this.renderer=e,this.element=i,this.zone=r,this.resizableDirective=s,this.resizeEdges={},this.eventListeners={},this.destroy$=new Me}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),Es&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),rn(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,i,r){e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",s=>{this.onMousemove(s,s.targetTouches[0].clientX,s.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",s=>{this.onMousemove(s,s.clientX,s.clientY)})),this.resizable.mousedown.next({clientX:i,clientY:r,edges:this.resizeEdges})}onMouseup(e,i){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:i,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,i,r){this.resizable.mousemove.next({clientX:i,clientY:r,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return Ml(this.element.nativeElement,e).pipe(Zr(this.destroy$))}}return n.\u0275fac=function(e){return new(e||n)(O(gr),O(bn),O(bt),O(U0,8))},n.\u0275dir=yt({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),z0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Le({}),n})();const jN=function(n){return{action:n}};function UN(n,t){if(1&n){const e=Nt();Z(0,"a",5),Ie("mwlClick",function(r){const a=ee(e).$implicit,l=R(2).event;return a.onClick({event:l,sourceEvent:r})})("mwlKeydownEnter",function(r){const a=ee(e).$implicit,l=R(2).event;return a.onClick({event:l,sourceEvent:r})}),_t(1,"calendarA11y"),Y()}if(2&n){const e=t.$implicit;N("ngClass",e.cssClass)("innerHtml",e.label,tc),ai("aria-label",Ei(1,3,vs(6,jN,e),"actionButtonLabel"))}}function zN(n,t){if(1&n&&(Z(0,"span",3),ne(1,UN,2,8,"a",4),Y()),2&n){const e=R(),i=e.event,r=e.trackByActionId;V(1),N("ngForOf",i.actions)("ngForTrackBy",r)}}function WN(n,t){1&n&&ne(0,zN,2,2,"span",2),2&n&&N("ngIf",t.event.actions)}function $N(n,t){}const GN=function(n,t){return{event:n,trackByActionId:t}},Qo=function(){return{}};function ZN(n,t){if(1&n&&(St(0,"span",2),_t(1,"calendarEventTitle"),_t(2,"calendarA11y")),2&n){const e=t.event;N("innerHTML",Ti(1,2,e.title,t.view,e),tc),ai("aria-hidden",Ei(2,6,En(9,Qo),"hideEventTitle"))}}function qN(n,t){}const YN=function(n,t){return{event:n,view:t}};function KN(n,t){if(1&n&&(Z(0,"div",2),St(1,"div",3)(2,"div",4),Y()),2&n){const e=t.contents;N("ngClass","cal-tooltip-"+t.placement),V(2),N("innerHtml",e,tc)}}function QN(n,t){}const XN=function(n,t,e){return{contents:n,placement:t,event:e}};function JN(n,t){if(1&n){const e=Nt();Z(0,"div",4),Ie("click",function(r){const a=ee(e).$implicit;return R(2).columnHeaderClicked.emit({isoDayNumber:a.day,sourceEvent:r})}),It(1),_t(2,"calendarDate"),Y()}if(2&n){const e=t.$implicit,i=R().locale;pn("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),N("ngClass",e.cssClass),V(1),el(" ",Ti(2,10,e.date,"monthViewColumnHeader",i)," ")}}function eL(n,t){if(1&n&&(Z(0,"div",2),ne(1,JN,3,14,"div",3),Y()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;V(1),N("ngForOf",e)("ngForTrackBy",i)}}function tL(n,t){}const nL=function(n,t,e){return{days:n,locale:t,trackByWeekDayHeaderDate:e}};function iL(n,t){if(1&n&&(Z(0,"span",7),It(1),Y()),2&n){const e=R().day;V(1),ps(e.badgeTotal)}}const Vg=function(n){return{backgroundColor:n}},rL=function(n,t){return{event:n,draggedFrom:t}},Al=function(n,t){return{x:n,y:t}},Dd=function(){return{delay:300,delta:30}};function sL(n,t){if(1&n){const e=Nt();Z(0,"div",10),Ie("mouseenter",function(){const s=ee(e).$implicit;return R(2).highlightDay.emit({event:s})})("mouseleave",function(){const s=ee(e).$implicit;return R(2).unhighlightDay.emit({event:s})})("mwlClick",function(r){const a=ee(e).$implicit;return R(2).eventClicked.emit({event:a,sourceEvent:r})}),_t(1,"calendarEventTitle"),_t(2,"calendarA11y"),Y()}if(2&n){const e=t.$implicit,i=R(2),r=i.tooltipPlacement,s=i.tooltipTemplate,a=i.tooltipAppendToBody,l=i.tooltipDelay,c=i.day,d=i.validateDrag;pn("cal-draggable",e.draggable),N("ngStyle",vs(22,Vg,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",Ti(1,15,e.title,"monthTooltip",e))("tooltipPlacement",r)("tooltipEvent",e)("tooltipTemplate",s)("tooltipAppendToBody",a)("tooltipDelay",l)("dropData",Xt(24,rL,e,c))("dragAxis",Xt(27,Al,e.draggable,e.draggable))("validateDrag",d)("touchStartLongPress",En(30,Dd)),ai("aria-hidden",Ei(2,19,En(31,Qo),"hideMonthCellEvents"))}}function oL(n,t){if(1&n&&(Z(0,"div",8),ne(1,sL,3,32,"div",9),Y()),2&n){const e=R(),i=e.day,r=e.trackByEventId;V(1),N("ngForOf",i.events)("ngForTrackBy",r)}}const aL=function(n,t){return{day:n,locale:t}};function lL(n,t){if(1&n&&(Z(0,"div",2),_t(1,"calendarA11y"),Z(2,"span",3),ne(3,iL,2,1,"span",4),Z(4,"span",5),It(5),_t(6,"calendarDate"),Y()()(),ne(7,oL,2,2,"div",6)),2&n){const e=t.day,i=t.locale;ai("aria-label",Ei(1,4,Xt(11,aL,e,i),"monthCell")),V(3),N("ngIf",e.badgeTotal>0),V(2),ps(Ti(6,7,e.date,"monthViewDayNumber",i)),V(2),N("ngIf",e.events.length>0)}}function uL(n,t){}const cL=function(n,t,e,i,r,s,a,l,c,d,f,g){return{day:n,openDay:t,locale:e,tooltipPlacement:i,highlightDay:r,unhighlightDay:s,eventClicked:a,tooltipTemplate:l,tooltipAppendToBody:c,tooltipDelay:d,trackByEventId:f,validateDrag:g}},dL=function(n){return{event:n}},W0=function(n,t){return{event:n,locale:t}};function hL(n,t){if(1&n){const e=Nt();Z(0,"div",7),St(1,"span",8),It(2," "),Z(3,"mwl-calendar-event-title",9),Ie("mwlClick",function(r){const a=ee(e).$implicit;return R(2).eventClicked.emit({event:a,sourceEvent:r})})("mwlKeydownEnter",function(r){const a=ee(e).$implicit;return R(2).eventClicked.emit({event:a,sourceEvent:r})}),_t(4,"calendarA11y"),Y(),It(5," "),St(6,"mwl-calendar-event-actions",10),Y()}if(2&n){const e=t.$implicit,i=R(2).validateDrag,r=R();pn("cal-draggable",e.draggable),N("ngClass",null==e?null:e.cssClass)("dropData",vs(16,dL,e))("dragAxis",Xt(18,Al,e.draggable,e.draggable))("validateDrag",i)("touchStartLongPress",En(21,Dd)),V(1),N("ngStyle",vs(22,Vg,null==e.color?null:e.color.primary)),V(2),N("event",e)("customTemplate",r.eventTitleTemplate),ai("aria-label",Ei(4,13,Xt(24,W0,e,r.locale),"eventDescription")),V(3),N("event",e)("customTemplate",r.eventActionsTemplate)}}const $0=function(n,t){return{date:n,locale:t}};function fL(n,t){if(1&n&&(Z(0,"div",3),St(1,"span",4),_t(2,"calendarA11y"),St(3,"span",5),_t(4,"calendarA11y"),ne(5,hL,7,27,"div",6),Y()),2&n){const e=R(),i=e.events,r=e.trackByEventId,s=R();N("@collapse",void 0),V(1),ai("aria-label",Ei(2,5,Xt(11,$0,s.date,s.locale),"openDayEventsAlert")),V(2),ai("aria-label",Ei(4,8,Xt(14,$0,s.date,s.locale),"openDayEventsLandmark")),V(2),N("ngForOf",i)("ngForTrackBy",r)}}function pL(n,t){1&n&&ne(0,fL,6,17,"div",2),2&n&&N("ngIf",t.isOpen)}function gL(n,t){}const mL=function(n,t,e,i,r){return{events:n,eventClicked:t,isOpen:e,trackByEventId:i,validateDrag:r}};function vL(n,t){if(1&n){const e=Nt();Z(0,"mwl-calendar-month-cell",7),Ie("mwlClick",function(r){const a=ee(e).$implicit;return R(2).dayClicked.emit({day:a,sourceEvent:r})})("mwlKeydownEnter",function(r){const a=ee(e).$implicit;return R(2).dayClicked.emit({day:a,sourceEvent:r})})("highlightDay",function(r){return ee(e),R(2).toggleDayHighlight(r.event,!0)})("unhighlightDay",function(r){return ee(e),R(2).toggleDayHighlight(r.event,!1)})("drop",function(r){const a=ee(e).$implicit;return R(2).eventDropped(a,r.dropData.event,r.dropData.draggedFrom)})("eventClicked",function(r){return ee(e),R(2).eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent})}),_t(1,"calendarA11y"),Y()}if(2&n){const e=t.$implicit,i=R(2);N("ngClass",null==e?null:e.cssClass)("day",e)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",vs(15,Vg,e.backgroundColor))("clickListenerDisabled",0===i.dayClicked.observers.length),ai("tabindex",Ei(1,12,En(17,Qo),"monthCellTabIndex"))}}function yL(n,t){if(1&n){const e=Nt();Z(0,"div")(1,"div",4),ne(2,vL,2,18,"mwl-calendar-month-cell",5),_t(3,"slice"),Y(),Z(4,"mwl-calendar-open-day-events",6),Ie("eventClicked",function(r){return ee(e),R().eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent})})("drop",function(r){ee(e);const s=R();return s.eventDropped(s.openDay,r.dropData.event,r.dropData.draggedFrom)}),Y()()}if(2&n){const e=t.$implicit,i=R();V(2),N("ngForOf",Ti(3,9,i.view.days,e,e+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),V(2),N("locale",i.locale)("isOpen",i.openRowIndex===e)("events",null==i.openDay?null:i.openDay.events)("date",null==i.openDay?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}function _L(n,t){if(1&n){const e=Nt();Z(0,"div",4),Ie("mwlClick",function(r){const a=ee(e).$implicit;return R().dayHeaderClicked.emit({day:a,sourceEvent:r})})("drop",function(r){const a=ee(e).$implicit;return R().eventDropped.emit({event:r.dropData.event,newStart:a.date})})("dragEnter",function(){const s=ee(e).$implicit;return R().dragEnter.emit({date:s.date})}),Z(1,"b"),It(2),_t(3,"calendarDate"),Y(),St(4,"br"),Z(5,"span"),It(6),_t(7,"calendarDate"),Y()()}if(2&n){const e=t.$implicit,i=R().locale;pn("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),N("ngClass",e.cssClass),V(2),ps(Ti(3,11,e.date,"weekViewColumnHeader",i)),V(4),ps(Ti(7,15,e.date,"weekViewColumnSubHeader",i))}}function wL(n,t){if(1&n&&(Z(0,"div",2),ne(1,_L,8,19,"div",3),Y()),2&n){const e=t.days,i=t.trackByWeekDayHeaderDate;V(1),N("ngForOf",e)("ngForTrackBy",i)}}function DL(n,t){}const CL=function(n,t,e,i,r,s){return{days:n,locale:t,dayHeaderClicked:e,eventDropped:i,dragEnter:r,trackByWeekDayHeaderDate:s}},SL=function(n,t){return{backgroundColor:n,borderColor:t}};function bL(n,t){if(1&n){const e=Nt();Z(0,"div",2),Ie("mwlClick",function(r){return ee(e).eventClicked.emit({sourceEvent:r})})("mwlKeydownEnter",function(r){return ee(e).eventClicked.emit({sourceEvent:r})}),_t(1,"calendarEventTitle"),_t(2,"calendarA11y"),St(3,"mwl-calendar-event-actions",3),It(4," "),St(5,"mwl-calendar-event-title",4),Y()}if(2&n){const e=t.weekEvent,i=t.tooltipPlacement,r=t.tooltipTemplate,s=t.tooltipAppendToBody,a=t.tooltipDisabled,l=t.tooltipDelay,c=t.daysInWeek,d=R();N("ngStyle",Xt(20,SL,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",a?"":Ti(1,13,e.event.title,1===c?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",i)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",r)("tooltipAppendToBody",s)("tooltipDelay",l),ai("aria-label",Ei(2,17,Xt(23,W0,e.tempEvent||e.event,d.locale),"eventDescription")),V(3),N("event",e.tempEvent||e.event)("customTemplate",d.eventActionsTemplate),V(2),N("event",e.tempEvent||e.event)("customTemplate",d.eventTitleTemplate)("view",1===c?"day":"week")}}function EL(n,t){}const TL=function(n,t,e,i,r,s,a,l,c){return{weekEvent:n,tooltipPlacement:t,eventClicked:e,tooltipTemplate:i,tooltipAppendToBody:r,tooltipDisabled:s,tooltipDelay:a,column:l,daysInWeek:c}};function ML(n,t){if(1&n&&(Z(0,"div",4),It(1),_t(2,"calendarDate"),Y()),2&n){const e=R(),i=e.segment,r=e.daysInWeek,s=e.locale;V(1),el(" ",Ti(2,1,i.displayDate,1===r?"dayViewHour":"weekViewHour",s)," ")}}function IL(n,t){if(1&n&&(Z(0,"div",2),_t(1,"calendarA11y"),ne(2,ML,3,5,"div",3),Y()),2&n){const e=t.segment,r=t.isTimeLabel,s=t.daysInWeek;pr("height",t.segmentHeight,"px"),pn("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),N("ngClass",e.cssClass),ai("aria-hidden",Ei(1,9,En(12,Qo),1===s?"hideDayHourSegment":"hideWeekHourSegment")),V(2),N("ngIf",r)}}function PL(n,t){}const AL=function(n,t,e,i,r){return{segment:n,locale:t,segmentHeight:e,isTimeLabel:i,daysInWeek:r}};function xL(n,t){1&n&&St(0,"div",3),2&n&&pr("top",R().topPx,"px")}function kL(n,t){1&n&&ne(0,xL,1,2,"div",2),2&n&&N("ngIf",t.isVisible)}function RL(n,t){}const OL=function(n,t,e,i,r,s,a){return{columnDate:n,dayStartHour:t,dayStartMinute:e,dayEndHour:i,dayEndMinute:r,isVisible:s,topPx:a}};function NL(n,t){if(1&n){const e=Nt();Z(0,"div",13),Ie("drop",function(r){const a=ee(e).$implicit;return R(2).eventDropped(r,a.date,!0)})("dragEnter",function(){const s=ee(e).$implicit;return R(2).dateDragEnter(s.date)}),Y()}}const LL=function(){return{left:!0}};function FL(n,t){1&n&&St(0,"div",22),2&n&&N("resizeEdges",En(1,LL))}const BL=function(){return{right:!0}};function HL(n,t){1&n&&St(0,"div",23),2&n&&N("resizeEdges",En(1,BL))}const VL=function(n,t){return{left:n,right:t}},G0=function(n,t){return{event:n,calendarId:t}},jL=function(n){return{x:n}};function UL(n,t){if(1&n){const e=Nt();Z(0,"div",17,18),Ie("resizeStart",function(r){const a=ee(e).$implicit;R();const l=$t(1);return R(2).allDayEventResizeStarted(l,a,r)})("resizing",function(r){const a=ee(e).$implicit,l=R(3);return l.allDayEventResizing(a,r,l.dayColumnWidth)})("resizeEnd",function(){const s=ee(e).$implicit;return R(3).allDayEventResizeEnded(s)})("dragStart",function(){const s=ee(e).$implicit,a=$t(1);R();const l=$t(1);return R(2).dragStarted(l,a,s,!1)})("dragging",function(){return ee(e),R(3).allDayEventDragMove()})("dragEnd",function(r){const a=ee(e).$implicit,l=R(3);return l.dragEnded(a,r,l.dayColumnWidth)}),ne(2,FL,1,2,"div",19),Z(3,"mwl-calendar-week-view-event",20),Ie("eventClicked",function(r){const a=ee(e).$implicit;return R(3).eventClicked.emit({event:a.event,sourceEvent:r.sourceEvent})}),Y(),ne(4,HL,1,2,"div",21),Y()}if(2&n){const e=t.$implicit,i=R(3);pr("width",100/i.days.length*e.span,"%")("margin-left",i.rtl?null:100/i.days.length*e.offset,"%")("margin-right",i.rtl?100/i.days.length*(i.days.length-e.offset)*-1:null,"%"),pn("cal-draggable",e.event.draggable&&0===i.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),N("ngClass",null==e.event?null:e.event.cssClass)("resizeSnapGrid",Xt(32,VL,i.dayColumnWidth,i.dayColumnWidth))("validateResize",i.validateResize)("dropData",Xt(35,G0,e.event,i.calendarId))("dragAxis",Xt(38,Al,e.event.draggable&&0===i.allDayEventResizes.size,!i.snapDraggedEvents&&e.event.draggable&&0===i.allDayEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?vs(41,jL,i.dayColumnWidth):En(43,Qo))("validateDrag",i.validateDrag)("touchStartLongPress",En(44,Dd)),V(2),N("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),V(1),N("locale",i.locale)("weekEvent",e)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("daysInWeek",i.daysInWeek),V(1),N("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function zL(n,t){if(1&n&&(Z(0,"div",14,15),ne(2,UL,5,45,"div",16),Y()),2&n){const e=t.$implicit,i=R(2);V(2),N("ngForOf",e.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function WL(n,t){if(1&n){const e=Nt();Z(0,"div",8,9),Ie("dragEnter",function(){return ee(e),R().dragEnter("allDay")})("dragLeave",function(){return ee(e),R().dragLeave("allDay")}),Z(2,"div",5),St(3,"div",10),ne(4,NL,1,0,"div",11),Y(),ne(5,zL,3,2,"div",12),Y()}if(2&n){const e=R();V(3),N("ngTemplateOutlet",e.allDayEventsLabelTemplate),V(1),N("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),V(1),N("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function $L(n,t){if(1&n&&St(0,"mwl-calendar-week-view-hour-segment",28),2&n){const e=t.$implicit,i=R(3);pr("height",i.hourSegmentHeight,"px"),N("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",i.daysInWeek)}}function GL(n,t){if(1&n&&(Z(0,"div",26),ne(1,$L,1,8,"mwl-calendar-week-view-hour-segment",27),Y()),2&n){const e=t.$implicit,i=t.odd,r=R(2);pn("cal-hour-odd",i),V(1),N("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function ZL(n,t){if(1&n&&(Z(0,"div",24),ne(1,GL,2,4,"div",25),Y()),2&n){const e=R();V(1),N("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const qL=function(){return{left:!0,top:!0}};function YL(n,t){1&n&&St(0,"div",22),2&n&&N("resizeEdges",En(1,qL))}function KL(n,t){}function QL(n,t){if(1&n){const e=Nt();Z(0,"mwl-calendar-week-view-event",36),Ie("eventClicked",function(r){ee(e);const s=R().$implicit;return R(2).eventClicked.emit({event:s.event,sourceEvent:r.sourceEvent})}),Y()}if(2&n){const e=R().$implicit,i=R().$implicit,r=R();N("locale",r.locale)("weekEvent",e)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDisabled",r.dragActive||r.timeEventResizes.size>0)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("column",i)("daysInWeek",r.daysInWeek)}}const XL=function(){return{right:!0,bottom:!0}};function JL(n,t){1&n&&St(0,"div",23),2&n&&N("resizeEdges",En(1,XL))}const eF=function(n,t,e,i){return{left:n,right:t,top:e,bottom:i}};function tF(n,t){if(1&n){const e=Nt();Z(0,"div",33,18),Ie("resizeStart",function(r){const a=ee(e).$implicit,l=R(2),c=$t(6);return l.timeEventResizeStarted(c,a,r)})("resizing",function(r){const a=ee(e).$implicit;return R(2).timeEventResizing(a,r)})("resizeEnd",function(){const s=ee(e).$implicit;return R(2).timeEventResizeEnded(s)})("dragStart",function(){const s=ee(e).$implicit,a=$t(1),l=R(2),c=$t(6);return l.dragStarted(c,a,s,!0)})("dragging",function(r){const a=ee(e).$implicit;return R(2).dragMove(a,r)})("dragEnd",function(r){const a=ee(e).$implicit,l=R(2);return l.dragEnded(a,r,l.dayColumnWidth,!0)}),ne(2,YL,1,2,"div",19),ne(3,KL,0,0,"ng-template",34),ne(4,QL,1,12,"ng-template",null,35,qn),ne(6,JL,1,2,"div",21),Y()}if(2&n){const e=t.$implicit,i=$t(5),r=R(2);pr("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),pn("cal-draggable",e.event.draggable&&0===r.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),N("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeSnapGrid",Uw(29,eF,r.dayColumnWidth,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight,r.eventSnapSize||r.hourSegmentHeight))("validateResize",r.validateResize)("allowNegativeResizes",!0)("dropData",Xt(34,G0,e.event,r.calendarId))("dragAxis",Xt(37,Al,e.event.draggable&&0===r.timeEventResizes.size,e.event.draggable&&0===r.timeEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?Xt(40,Al,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight):En(43,Qo))("touchStartLongPress",En(44,Dd))("ghostDragEnabled",!r.snapDraggedEvents)("ghostElementTemplate",i)("validateDrag",r.validateDrag),V(2),N("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),V(1),N("ngTemplateOutlet",i),V(3),N("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function nF(n,t){if(1&n){const e=Nt();Z(0,"mwl-calendar-week-view-hour-segment",38),Ie("mwlClick",function(r){const a=ee(e).$implicit;return R(3).hourSegmentClicked.emit({date:a.date,sourceEvent:r})})("drop",function(r){const a=ee(e).$implicit;return R(3).eventDropped(r,a.date,!1)})("dragEnter",function(){const s=ee(e).$implicit;return R(3).dateDragEnter(s.date)}),Y()}if(2&n){const e=t.$implicit,i=R(3);pr("height",i.hourSegmentHeight,"px"),N("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("daysInWeek",i.daysInWeek)("clickListenerDisabled",0===i.hourSegmentClicked.observers.length)("dragOverClass",i.dragActive&&i.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===i.daysInWeek)}}function iF(n,t){if(1&n&&(Z(0,"div",26),ne(1,nF,1,10,"mwl-calendar-week-view-hour-segment",37),Y()),2&n){const e=t.$implicit,i=t.odd,r=R(2);pn("cal-hour-odd",i),V(1),N("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function rF(n,t){if(1&n&&(Z(0,"div",29),St(1,"mwl-calendar-week-view-current-time-marker",30),Z(2,"div",31),ne(3,tF,7,45,"div",32),Y(),ne(4,iF,2,4,"div",25),Y()),2&n){const e=t.$implicit,i=R();V(1),N("columnDate",e.date)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("customTemplate",i.currentTimeMarkerTemplate),V(2),N("ngForOf",e.events)("ngForTrackBy",i.trackByWeekTimeEvent),V(1),N("ngForOf",e.hours)("ngForTrackBy",i.trackByHour)}}let Ts=(()=>{class n{constructor(e,i,r){this.renderer=e,this.elm=i,this.document=r,this.clickListenerDisabled=!1,this.click=new ue,this.destroy$=new Me}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(Zr(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new it(e=>this.renderer.listen(this.elm.nativeElement,"click",i=>{e.next(i)}))}}return n.\u0275fac=function(e){return new(e||n)(O(gr),O(bn),O(gn))},n.\u0275dir=yt({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),Cd=(()=>{class n{constructor(e,i,r){this.host=e,this.ngZone=i,this.renderer=r,this.keydown=new ue,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(13===e.keyCode||13===e.which||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(e){return new(e||n)(O(bn),O(bt),O(gr))},n.\u0275dir=yt({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),Sd=(()=>{class n{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:i}){return e.badgeTotal>0?`\n        ${qt(e.date,"EEEE MMMM d",i)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${qt(e.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:e,locale:i}){return`\n      Beginning of expanded view for ${qt(e,"EEEE MMMM dd",i)}\n    `}openDayEventsAlert({date:e,locale:i}){return`${qt(e,"EEEE MMMM dd",i)} expanded`}eventDescription({event:e,locale:i}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:i});const r=`\n      ${qt(e.start,"EEEE MMMM dd",i)},\n      ${e.title}, from ${qt(e.start,"hh:mm a",i)}\n    `;return e.end?r+` to ${qt(e.end,"hh:mm a",i)}`:r}allDayEventDescription({event:e,locale:i}){const r=`\n      ${e.title}, event spans multiple days:\n      start time ${qt(e.start,"MMMM dd hh:mm a",i)}\n    `;return e.end?r+`, stop time ${qt(e.end,"MMMM d hh:mm a",i)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(e){return new(e||n)(U(zp))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})(),Ms=(()=>{class n{constructor(e,i){this.calendarA11y=e,this.locale=i}transform(e,i){if(e.locale=e.locale||this.locale,typeof this.calendarA11y[i]>"u"){const r=Object.getOwnPropertyNames(Object.getPrototypeOf(Sd.prototype)).filter(s=>"constructor"!==s);throw new Error(`${i} is not a valid a11y method. Can only be one of ${r.join(", ")}`)}return this.calendarA11y[i](e)}}return n.\u0275fac=function(e){return new(e||n)(O(Sd,16),O(ui,16))},n.\u0275pipe=ct({name:"calendarA11y",type:n,pure:!0}),n})(),Z0=(()=>{class n{constructor(){this.trackByActionId=(e,i)=>i.id?i.id:i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ot({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,i){if(1&e&&(ne(0,WN,1,1,"ng-template",null,0,qn),ne(2,$N,0,0,"ng-template",1)),2&e){const r=$t(1);V(2),N("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",Xt(2,GN,i.event,i.trackByActionId))}},directives:[yr,Ur,er,Ts,Cd,hi],pipes:[Ms],encapsulation:2}),n})();class jg{month(t,e){return t.title}monthTooltip(t,e){return t.title}week(t,e){return t.title}weekTooltip(t,e){return t.title}day(t,e){return t.title}dayTooltip(t,e){return t.title}}let Ug=(()=>{class n{constructor(e){this.calendarEventTitle=e}transform(e,i,r){return this.calendarEventTitle[i](r,e)}}return n.\u0275fac=function(e){return new(e||n)(O(jg,16))},n.\u0275pipe=ct({name:"calendarEventTitle",type:n,pure:!0}),n})(),q0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ot({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,i){if(1&e&&(ne(0,ZN,3,10,"ng-template",null,0,qn),ne(2,qN,0,0,"ng-template",1)),2&e){const r=$t(1);V(2),N("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",Xt(2,YN,i.event,i.view))}},directives:[hi],pipes:[Ug,Ms],encapsulation:2}),n})(),sF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ot({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,i){if(1&e&&(ne(0,KN,3,2,"ng-template",null,0,qn),ne(2,QN,0,0,"ng-template",1)),2&e){const r=$t(1);V(2),N("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",ep(2,XN,i.contents,i.placement,i.event))}},directives:[er,hi],encapsulation:2}),n})(),Y0=(()=>{class n{constructor(e,i,r,s,a,l){this.elementRef=e,this.injector=i,this.renderer=r,this.viewContainerRef=a,this.document=l,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new Me,this.tooltipFactory=s.resolveComponentFactory(sF)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?Ss("now"):Eg(this.delay)).pipe(Zr(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function VO(n,t,e,i,r){var s=Array.isArray(e)?e:e.split(HO),a=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],l=t.classList,c=function(S){var E=S.split("-"),b=E[0],I=E[1],A=[];return r&&(A.push(r+"-"+b),I&&A.push(r+"-"+b+"-"+I),A.forEach(function(H){l.add(H)})),A};r&&a.forEach(function(S){l.remove(r+"-"+S)});var d=s.findIndex(function(S){return"auto"===S});d>=0&&a.forEach(function(S){null==s.find(function(E){return-1!==E.search("^"+S)})&&s.splice(d++,1,S)});var f=t.style;f.position="absolute",f.top="0",f.left="0",f["will-change"]="transform";for(var g,v=!1,y=0,w=s;y<w.length;y++){var D=c(g=w[y]);if(w0.positionElements(n,t,g,i)){v=!0;break}r&&D.forEach(function(S){l.remove(S)})}return v||(c(g=s[0]),w0.positionElements(n,t,g,i)),g}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(e){return new(e||n)(O(bn),O(Cn),O(gr),O(ms),O(li),O(gn))},n.\u0275dir=yt({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,i){1&e&&Ie("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseOut()})},inputs:{contents:["mwlCalendarTooltip","contents"],placement:["tooltipPlacement","placement"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"],delay:["tooltipDelay","delay"]},features:[ri]}),n})();var wr=(()=>{return(n=wr||(wr={})).Month="month",n.Week="week",n.Day="day",wr;var n})();const K0=n=>function JO(n,t){var e=!0;function i(r,s){t(r,s),e=!1}return Array.isArray(n)?(n.forEach(function(r){r.start?r.start instanceof Date||i(Yr.StartPropertyNotDate,r):i(Yr.StartPropertyMissing,r),r.end&&(r.end instanceof Date||i(Yr.EndPropertyNotDate,r),r.start>r.end&&i(Yr.EndsBeforeStart,r))}),e):(t(Yr.NotArray,n),!1)}(n,(...e)=>console.warn("angular-calendar",...e));function Q0(n,t){return Math.floor(n.left)<=Math.ceil(t.left)&&Math.floor(t.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(t.right)&&Math.floor(t.right)<=Math.ceil(n.right)}function X0(n,t){return Math.round(n/t)*t}const J0=(n,t)=>t.id?t.id:t,zg=(n,t)=>t.date.toISOString(),lF=(n,t)=>t.date.toISOString(),uF=(n,t)=>t.segments[0].date.toISOString(),cF=(n,t)=>t.event.id?t.event.id:t.event,dF=(n,t)=>t.event.id?t.event.id:t.event;function Wg(n,t,e,i,r){const s=X0(n,i||e),a=function fF(n,t,e){return(e||60)/(n*t)}(t,e,r);return s*a}function eS(n,t,e){return t.end?t.end:n.addMinutes(t.start,e)}function xi(n,t,e,i){let r=0,s=0;const a=e<0?n.subDays:n.addDays;let l=t;for(;s<=Math.abs(e);){l=a(t,r);const c=n.getDay(l);-1===i.indexOf(c)&&s++,r++}return l}function $g(n,t,e,i=[],r){let s=r?n.startOfDay(t):n.startOfWeek(t,{weekStartsOn:e});const a=n.endOfWeek(t,{weekStartsOn:e});for(;i.indexOf(n.getDay(s))>-1&&s<a;)s=n.addDays(s,1);if(r)return{viewStart:s,viewEnd:n.endOfDay(xi(n,s,r-1,i))};{let l=a;for(;i.indexOf(n.getDay(l))>-1&&l>s;)l=n.subDays(l,1);return{viewStart:s,viewEnd:l}}}function Gg({x:n,y:t}){return Math.abs(n)>1||Math.abs(t)>1}class Dr{}let mF=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new ue}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===wr.Day?xi(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===wr.Week&&this.daysInWeek?xi(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)(O(Dr))},n.\u0275dir=yt({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,i){1&e&&Ie("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),vF=(()=>{class n{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new ue}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===wr.Day?xi(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===wr.Week&&this.daysInWeek?xi(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return n.\u0275fac=function(e){return new(e||n)(O(Dr))},n.\u0275dir=yt({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,i){1&e&&Ie("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),yF=(()=>{class n{constructor(e){this.dateAdapter=e,this.viewDateChange=new ue}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return n.\u0275fac=function(e){return new(e||n)(O(Dr))},n.\u0275dir=yt({type:n,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,i){1&e&&Ie("click",function(){return i.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),n})(),_F=(()=>{class n{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:i}){return qt(e,"EEEE",i)}monthViewDayNumber({date:e,locale:i}){return qt(e,"d",i)}monthViewTitle({date:e,locale:i}){return qt(e,"LLLL y",i)}weekViewColumnHeader({date:e,locale:i}){return qt(e,"EEEE",i)}weekViewColumnSubHeader({date:e,locale:i}){return qt(e,"MMM d",i)}weekViewTitle({date:e,locale:i,weekStartsOn:r,excludeDays:s,daysInWeek:a}){const{viewStart:l,viewEnd:c}=$g(this.dateAdapter,e,r,s,a),d=(f,g)=>qt(f,"MMM d"+(g?", yyyy":""),i);return`${d(l,l.getUTCFullYear()!==c.getUTCFullYear())} - ${d(c,!0)}`}weekViewHour({date:e,locale:i}){return qt(e,"h a",i)}dayViewHour({date:e,locale:i}){return qt(e,"h a",i)}dayViewTitle({date:e,locale:i}){return qt(e,"EEEE, MMMM d, y",i)}}return n.\u0275fac=function(e){return new(e||n)(U(Dr))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})(),bd=(()=>{class n extends _F{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=function Km(n){return _i(()=>{const t=n.prototype.constructor,e=t[sn]||Eh(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[sn]||Eh(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}(n)))(i||n)}}(),n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})(),xl=(()=>{class n{constructor(e,i){this.dateFormatter=e,this.locale=i}transform(e,i,r=this.locale,s=0,a=[],l){if(typeof this.dateFormatter[i]>"u"){const c=Object.getOwnPropertyNames(Object.getPrototypeOf(bd.prototype)).filter(d=>"constructor"!==d);throw new Error(`${i} is not a valid date formatter. Can only be one of ${c.join(", ")}`)}return this.dateFormatter[i]({date:e,locale:r,weekStartsOn:s,excludeDays:a,daysInWeek:l})}}return n.\u0275fac=function(e){return new(e||n)(O(bd,16),O(ui,16))},n.\u0275pipe=ct({name:"calendarDate",type:n,pure:!0}),n})(),Ed=(()=>{class n{constructor(e){this.dateAdapter=e}getMonthView(e){return function KO(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,a=t.excluded,l=void 0===a?[]:a,c=t.viewStart,d=void 0===c?n.startOfMonth(r):c,f=t.viewEnd,g=void 0===f?n.endOfMonth(r):f,v=t.weekendDays;i||(i=[]);for(var te,w=n.endOfWeek,D=n.differenceInDays,S=n.startOfDay,E=n.addHours,b=n.endOfDay,I=n.isSameMonth,A=n.getDay,K=(0,n.startOfWeek)(d,{weekStartsOn:s}),he=w(g,{weekStartsOn:s}),le=Tl(n,{events:i,periodStart:K,periodEnd:he}),Q=[],$=function(ke){var Ue;if(te?(Ue=S(E(te,24)),te.getTime()===Ue.getTime()&&(Ue=S(E(te,25))),te=Ue):Ue=te=K,!l.some(function(gi){return A(Ue)===gi})){var Dt=S0(n,{date:Ue,weekendDays:v}),nn=Tl(n,{events:le,periodStart:S(Ue),periodEnd:b(Ue)});Dt.inMonth=I(Ue,r),Dt.events=nn,Dt.badgeTotal=nn.length,Q.push(Dt)}},F=0;F<D(he,K)+1;F++)$();var Ee=[],be=7-l.length;if(be<7)for(F=0;F<Q.length;F+=be){var In=Q.slice(F,F+be);In.some(function(Ue){return d<=Ue.date&&Ue.date<g})&&(Ee=D0(Ee,In))}else Ee=Q;var X=Math.floor(Ee.length/be),re=[];for(F=0;F<X;F++)re.push(F*be);return{rowOffsets:re,totalDaysVisibleInWeek:be,days:Ee,period:{start:Ee[0].date,end:b(Ee[Ee.length-1].date),events:le}}}(this.dateAdapter,e)}getWeekViewHeader(e){return Ig(this.dateAdapter,e)}getWeekView(e){return function YO(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,a=t.excluded,l=void 0===a?[]:a,c=t.precision,d=void 0===c?"days":c,f=t.absolutePositionedEvents,g=void 0!==f&&f,v=t.hourSegments,y=t.hourDuration,w=t.dayStart,D=t.dayEnd,S=t.weekendDays,E=t.segmentHeight,b=t.minimumEventHeight,I=t.viewStart,A=void 0===I?n.startOfWeek(r,{weekStartsOn:s}):I,H=t.viewEnd,K=void 0===H?n.endOfWeek(r,{weekStartsOn:s}):H;i||(i=[]);var le=n.endOfDay,Q=Tl(n,{events:i,periodStart:A=(0,n.startOfDay)(A),periodEnd:K=le(K)}),te=Ig(n,{viewDate:r,weekStartsOn:s,excluded:l,weekendDays:S,viewStart:A,viewEnd:K});return{allDayEventRows:ZO(n,{events:Q,excluded:l,precision:d,absolutePositionedEvents:g,viewStart:A,viewEnd:K}),period:{events:Q,start:te[0].date,end:le(te[te.length-1].date)},hourColumns:qO(n,{events:i,viewDate:r,hourSegments:v,hourDuration:y,dayStart:w,dayEnd:D,weekStartsOn:s,excluded:l,weekendDays:S,segmentHeight:E,viewStart:A,viewEnd:K,minimumEventHeight:b})}}(this.dateAdapter,e)}}return n.\u0275fac=function(e){return new(e||n)(U(Dr))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();new ze("Moment");var nr=(()=>{return(n=nr||(nr={})).Drag="drag",n.Drop="drop",n.Resize="resize",nr;var n})();let kl=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||jg,i.dateFormatter||bd,i.utils||Ed,i.a11y||Sd]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Le({providers:[zp],imports:[[Go]]}),n})(),wF=(()=>{class n{constructor(){this.columnHeaderClicked=new ue,this.trackByWeekDayHeaderDate=zg}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ot({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,i){if(1&e&&(ne(0,eL,2,2,"ng-template",null,0,qn),ne(2,tL,0,0,"ng-template",1)),2&e){const r=$t(1);V(2),N("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",ep(2,nL,i.days,i.locale,i.trackByWeekDayHeaderDate))}},directives:[Ur,er,hi],pipes:[xl],encapsulation:2}),n})(),DF=(()=>{class n{constructor(){this.highlightDay=new ue,this.unhighlightDay=new ue,this.eventClicked=new ue,this.trackByEventId=J0,this.validateDrag=Gg}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ot({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,i){2&e&&pn("cal-past",i.day.isPast)("cal-today",i.day.isToday)("cal-future",i.day.isFuture)("cal-weekend",i.day.isWeekend)("cal-in-month",i.day.inMonth)("cal-out-month",!i.day.inMonth)("cal-has-events",i.day.events.length>0)("cal-open",i.day===i.openDay)("cal-event-highlight",!!i.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(e,i){if(1&e&&(ne(0,lL,8,14,"ng-template",null,0,qn),ne(2,uL,0,0,"ng-template",1)),2&e){const r=$t(1);V(2),N("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",np(2,cL,[i.day,i.openDay,i.locale,i.tooltipPlacement,i.highlightDay,i.unhighlightDay,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDelay,i.trackByEventId,i.validateDrag]))}},directives:[yr,Ur,Bg,vl,er,Y0,Ts,hi],pipes:[Ms,xl,Ug],encapsulation:2}),n})();const CF=function Rk(n,t){return{type:7,name:n,definitions:t,options:{}}}("collapse",[MC("void",Zc({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),MC("*",Zc({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),IC("* => void",EC("150ms ease-out")),IC("void => *",EC("150ms ease-in"))]);let SF=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new ue,this.trackByEventId=J0,this.validateDrag=Gg}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ot({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,i){if(1&e&&(ne(0,pL,1,1,"ng-template",null,0,qn),ne(2,gL,0,0,"ng-template",1)),2&e){const r=$t(1);V(2),N("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",tp(2,mL,i.events,i.eventClicked,i.isOpen,i.trackByEventId,i.validateDrag))}},directives:[q0,Z0,yr,Ur,Bg,er,vl,Ts,Cd,hi],pipes:[Ms],encapsulation:2,data:{animation:[CF]}}),n})(),bF=(()=>{class n{constructor(e,i,r,s){this.cdr=e,this.utils=i,this.dateAdapter=s,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new ue,this.dayClicked=new ue,this.eventClicked=new ue,this.columnHeaderClicked=new ue,this.eventTimesChanged=new ue,this.trackByRowOffset=(a,l)=>this.view.days.slice(l,this.view.totalDaysVisibleInWeek).map(c=>c.date.toISOString()).join("-"),this.trackByDate=(a,l)=>l.date.toISOString(),this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays,r=e.viewDate||e.events||e.excludeDays||e.weekendDays;i&&this.refreshHeader(),e.events&&K0(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,i){this.view.days.forEach(r=>{i&&r.events.indexOf(e)>-1?r.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete r.backgroundColor})}eventDropped(e,i,r){if(e!==r){const s=this.dateAdapter.getYear(e.date),a=this.dateAdapter.getMonth(e.date),l=this.dateAdapter.getDate(e.date),c=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(i.start,s),a),l);let d;if(i.end){const f=this.dateAdapter.differenceInSeconds(c,i.start);d=this.dateAdapter.addSeconds(i.end,f)}this.eventTimesChanged.emit({event:i,newStart:c,newEnd:d,day:e,type:nr.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(r=>this.dateAdapter.isSameDay(r.date,e));const i=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(i/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(e){return new(e||n)(O(hl),O(Ed),O(ui),O(Dr))},n.\u0275cmp=ot({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[ri],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,i){1&e&&(Z(0,"div",0)(1,"mwl-calendar-month-view-header",1),Ie("columnHeaderClicked",function(s){return i.columnHeaderClicked.emit(s)}),Y(),Z(2,"div",2),ne(3,yL,5,13,"div",3),Y()()),2&e&&(V(1),N("days",i.columnHeaders)("locale",i.locale)("customTemplate",i.headerTemplate),V(2),N("ngForOf",i.view.rowOffsets)("ngForTrackBy",i.trackByRowOffset))},directives:[wF,DF,SF,Ur,Hg,er,vl,Ts,Cd],pipes:[Ms,sC],encapsulation:2}),n})(),tS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Le({imports:[[Go,_d,kl],_d]}),n})();class EF{constructor(t,e){this.dragContainerElement=t,this.startPosition=e.getBoundingClientRect()}validateDrag({x:t,y:e,snapDraggedEvents:i,dragAlreadyMoved:r,transform:s}){const a=Gg({x:t,y:e})||r;if(i){const l=Object.assign({},this.startPosition,{left:this.startPosition.left+s.x,right:this.startPosition.right+s.x,top:this.startPosition.top+s.y,bottom:this.startPosition.bottom+s.y});if(a){const c=this.dragContainerElement.getBoundingClientRect(),d=c.top<l.top&&l.top<c.bottom,f=c.top<l.bottom&&l.bottom<c.bottom;return Q0(c,l)&&(d||f)}return!1}return a}}class TF{constructor(t,e,i){this.resizeContainerElement=t,this.minWidth=e,this.rtl=i}validateResize({rectangle:t,edges:e}){return this.rtl&&(typeof e.left<"u"?(t.left-=e.left,t.right+=e.left):typeof e.right<"u"&&(t.left+=e.right,t.right-=e.right),t.width=t.right-t.left),!(this.minWidth&&Math.ceil(t.width)<Math.ceil(this.minWidth))&&function aF(n,t){return Q0(n,t)&&function oF(n,t){return Math.floor(n.top)<=Math.ceil(t.top)&&Math.floor(t.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(t.bottom)&&Math.floor(t.bottom)<=Math.ceil(n.bottom)}(n,t)}(this.resizeContainerElement.getBoundingClientRect(),t)}}let MF=(()=>{class n{constructor(){this.dayHeaderClicked=new ue,this.eventDropped=new ue,this.dragEnter=new ue,this.trackByWeekDayHeaderDate=zg}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ot({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,i){if(1&e&&(ne(0,wL,2,2,"ng-template",null,0,qn),ne(2,DL,0,0,"ng-template",1)),2&e){const r=$t(1);V(2),N("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",function zw(n,t,e,i,r,s,a,l,c){const d=_n()+n,f=x(),g=oi(f,d,e,i,r,s);return fs(f,d+4,a,l)||g?Qi(f,d+6,c?t.call(c,e,i,r,s,a,l):t(e,i,r,s,a,l)):Xa(f,d+6)}(2,CL,i.days,i.locale,i.dayHeaderClicked,i.eventDropped,i.dragEnter,i.trackByWeekDayHeaderDate))}},directives:[Ur,Hg,er,Ts,hi],pipes:[xl],encapsulation:2}),n})(),IF=(()=>{class n{constructor(){this.eventClicked=new ue}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ot({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,i){if(1&e&&(ne(0,bL,6,26,"ng-template",null,0,qn),ne(2,EL,0,0,"ng-template",1)),2&e){const r=$t(1);V(2),N("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",np(2,TL,[i.weekEvent,i.tooltipPlacement,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDisabled,i.tooltipDelay,i.column,i.daysInWeek]))}},directives:[Z0,q0,vl,Y0,Ts,Cd,hi],pipes:[Ug,Ms],encapsulation:2}),n})(),PF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ot({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,i){if(1&e&&(ne(0,IL,3,13,"ng-template",null,0,qn),ne(2,PL,0,0,"ng-template",1)),2&e){const r=$t(1);V(2),N("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",tp(2,AL,i.segment,i.locale,i.segmentHeight,i.isTimeLabel,i.daysInWeek))}},directives:[er,yr,hi],pipes:[Ms,xl],encapsulation:2}),n})(),AF=(()=>{class n{constructor(e,i){this.dateAdapter=e,this.zone=i,this.columnDate$=new bl(void 0),this.marker$=this.zone.onStable.pipe(Wr(()=>v0(6e4)),_0(0),function FO(n,t){return Pe(t)?Wr(()=>n,t):Wr(()=>n)}(this.columnDate$),He(r=>{const s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayStartHour),this.dayStartMinute),a=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayEndHour),this.dayEndMinute),l=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),c=new Date;return{isVisible:this.dateAdapter.isSameDay(r,c)&&c>=s&&c<=a,top:this.dateAdapter.differenceInMinutes(c,s)*l}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}return n.\u0275fac=function(e){return new(e||n)(O(Dr),O(bt))},n.\u0275cmp=ot({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[ri],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,i){if(1&e&&(ne(0,kL,1,1,"ng-template",null,0,qn),ne(2,RL,0,0,"ng-template",1),_t(3,"async"),_t(4,"async")),2&e){const r=$t(1);let s;V(2),N("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",function Ww(n,t,e,i,r,s,a,l,c,d){const f=_n()+n,g=x();let v=oi(g,f,e,i,r,s);return hc(g,f+4,a,l,c)||v?Qi(g,f+7,d?t.call(d,e,i,r,s,a,l,c):t(e,i,r,s,a,l,c)):Xa(g,f+7)}(6,OL,i.columnDate,i.dayStartHour,i.dayStartMinute,i.dayEndHour,i.dayEndMinute,null==(s=Cc(3,2,i.marker$))?null:s.isVisible,null==(s=Cc(4,4,i.marker$))?null:s.top))}},directives:[yr,hi],pipes:[Up],encapsulation:2}),n})(),nS=(()=>{class n{constructor(e,i,r,s,a){this.cdr=e,this.utils=i,this.dateAdapter=s,this.element=a,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new ue,this.eventClicked=new ue,this.eventTimesChanged=new ue,this.beforeViewRender=new ue,this.hourSegmentClicked=new ue,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=zg,this.trackByHourSegment=lF,this.trackByHour=uF,this.trackByWeekAllDayEvent=cF,this.trackByWeekTimeEvent=dF,this.trackByHourColumn=(l,c)=>c.hours[0]?c.hours[0].segments[0].date.toISOString():c,this.trackById=(l,c)=>c.id,this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,r=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;i&&this.refreshHeader(),e.events&&K0(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(e,i,r){this.timeEventResizes.set(i.event,r),this.resizeStarted(e,i)}timeEventResizing(e,i){this.timeEventResizes.set(e.event,i);const r=new Map,s=[...this.events];this.timeEventResizes.forEach((a,l)=>{const c=this.getTimeEventResizedDates(l,a),d=Object.assign(Object.assign({},l),c);r.set(d,l);const f=s.indexOf(l);s[f]=d}),this.restoreOriginalEvents(s,r,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const i=this.timeEventResizes.get(e.event);if(i){this.timeEventResizes.delete(e.event);const r=this.getTimeEventResizedDates(e.event,i);this.eventTimesChanged.emit({newStart:r.start,newEnd:r.end,event:e.event,type:nr.Resize})}}allDayEventResizeStarted(e,i,r){this.allDayEventResizes.set(i,{originalOffset:i.offset,originalSpan:i.span,edge:typeof r.edges.left<"u"?"left":"right"}),this.resizeStarted(e,i,this.getDayColumnWidth(e))}allDayEventResizing(e,i,r){const s=this.allDayEventResizes.get(e),a=this.rtl?-1:1;if(typeof i.edges.left<"u"){const l=Math.round(+i.edges.left/r)*a;e.offset=s.originalOffset+l,e.span=s.originalSpan-l}else if(typeof i.edges.right<"u"){const l=Math.round(+i.edges.right/r)*a;e.span=s.originalSpan+l}}allDayEventResizeEnded(e){const i=this.allDayEventResizes.get(e);if(i){const r="left"===i.edge;let s;s=r?e.offset-i.originalOffset:e.span-i.originalSpan,e.offset=i.originalOffset,e.span=i.originalSpan;const a=this.getAllDayEventResizedDates(e.event,s,r);this.eventTimesChanged.emit({newStart:a.start,newEnd:a.end,event:e.event,type:nr.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,i,r){(function gF(n,t,e,i){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==i||n.dropData.event.allDay&&!e||!n.dropData.event.allDay&&e)})(e,0,r,this.calendarId)&&this.lastDragEnterDate.getTime()===i.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:nr.Drop,event:e.dropData.event,newStart:i,allDay:r}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,i,r,s){this.dayColumnWidth=this.getDayColumnWidth(e);const a=new EF(e,i);this.validateDrag=({x:l,y:c,transform:d})=>{const f=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&a.validateDrag({x:l,y:c,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:d});if(f&&this.validateEventTimesChanged){const g=this.getDragMovedEventTimes(r,{x:l,y:c},this.dayColumnWidth,s);return this.validateEventTimesChanged({type:nr.Drag,event:r.event,newStart:g.start,newEnd:g.end})}return f},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&s&&this.view.hourColumns.forEach(l=>{const c=l.events.find(d=>d.event===r.event&&d!==r);c&&(c.width=0,c.height=0)}),this.cdr.markForCheck()}dragMove(e,i){const r=this.getDragMovedEventTimes(e,i,this.dayColumnWidth,!0),s=e.event,a=Object.assign(Object.assign({},s),r),l=this.events.map(c=>c===s?a:c);this.restoreOriginalEvents(l,new Map([[a,s]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,i,r,s=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:a,end:l}=this.getDragMovedEventTimes(e,i,r,s);(this.snapDraggedEvents||this.eventDragEnterByType[s?"time":"allDay"]>0)&&function pF(n,t,e){const i=t||n;return e.start<=n&&n<=e.end||e.start<=i&&i<=e.end}(a,l,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:a,newEnd:l,event:e.event,type:nr.Drag,allDay:!s}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},$g(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(e){return this.utils.getWeekView(Object.assign({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight},$g(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(e,i,r,s){const a=X0(i.x,r)/r*(this.rtl?-1:1),l=s?Wg(i.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,c=this.dateAdapter.addMinutes(xi(this.dateAdapter,e.event.start,a,this.excludeDays),l);let d;return e.event.end&&(d=this.dateAdapter.addMinutes(xi(this.dateAdapter,e.event.end,a,this.excludeDays),l)),{start:c,end:d}}restoreOriginalEvents(e,i,r=!0){const s=this.view;r&&(this.view=this.getWeekView(e));const a=e.filter(l=>i.has(l));this.view.hourColumns.forEach((l,c)=>{s.hourColumns[c].hours.forEach((d,f)=>{d.segments.forEach((g,v)=>{l.hours[f].segments[v].cssClass=g.cssClass})}),a.forEach(d=>{const f=i.get(d),g=l.events.find(v=>v.event===(r?d:f));g?(g.event=f,g.tempEvent=d,r||(g.height=0,g.width=0)):l.events.push({event:f,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:d})})}),i.clear()}getTimeEventResizedDates(e,i){const r={start:e.start,end:eS(this.dateAdapter,e,this.minimumEventHeight)},a=function Od(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}(e,["end"]),l={start:this.dateAdapter.addMinutes(r.end,-1*this.minimumEventHeight),end:eS(this.dateAdapter,a,this.minimumEventHeight)},c=this.rtl?-1:1;if(typeof i.edges.left<"u"){const d=Math.round(+i.edges.left/this.dayColumnWidth)*c,f=xi(this.dateAdapter,r.start,d,this.excludeDays);r.start=f<l.start?f:l.start}else if(typeof i.edges.right<"u"){const d=Math.round(+i.edges.right/this.dayColumnWidth)*c,f=xi(this.dateAdapter,r.end,d,this.excludeDays);r.end=f>l.end?f:l.end}if(typeof i.edges.top<"u"){const d=Wg(i.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),f=this.dateAdapter.addMinutes(r.start,d);r.start=f<l.start?f:l.start}else if(typeof i.edges.bottom<"u"){const d=Wg(i.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),f=this.dateAdapter.addMinutes(r.end,d);r.end=f>l.end?f:l.end}return r}resizeStarted(e,i,r){this.dayColumnWidth=this.getDayColumnWidth(e);const s=new TF(e,r,this.rtl);this.validateResize=({rectangle:a,edges:l})=>{const c=s.validateResize({rectangle:Object.assign({},a),edges:l});if(c&&this.validateEventTimesChanged){let d;if(r){const f=this.rtl?-1:1;if(typeof l.left<"u"){const g=Math.round(+l.left/r)*f;d=this.getAllDayEventResizedDates(i.event,g,!this.rtl)}else{const g=Math.round(+l.right/r)*f;d=this.getAllDayEventResizedDates(i.event,g,this.rtl)}}else d=this.getTimeEventResizedDates(i.event,{rectangle:a,edges:l});return this.validateEventTimesChanged({type:nr.Resize,event:i.event,newStart:d.start,newEnd:d.end})}return c},this.cdr.markForCheck()}getAllDayEventResizedDates(e,i,r){let s=e.start,a=e.end||e.start;return r?s=xi(this.dateAdapter,s,i,this.excludeDays):a=xi(this.dateAdapter,a,i,this.excludeDays),{start:s,end:a}}}return n.\u0275fac=function(e){return new(e||n)(O(hl),O(Ed),O(ui),O(Dr),O(bn))},n.\u0275cmp=ot({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[ri],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,i){1&e&&(Z(0,"div",0)(1,"mwl-calendar-week-view-header",1),Ie("dayHeaderClicked",function(s){return i.dayHeaderClicked.emit(s)})("eventDropped",function(s){return i.eventDropped({dropData:s},s.newStart,!0)})("dragEnter",function(s){return i.dateDragEnter(s.date)}),Y(),ne(2,WL,6,5,"div",2),Z(3,"div",3),Ie("dragEnter",function(){return i.dragEnter("time")})("dragLeave",function(){return i.dragLeave("time")}),ne(4,ZL,2,2,"div",4),Z(5,"div",5,6),ne(7,rF,5,13,"div",7),Y()()()),2&e&&(V(1),N("days",i.days)("locale",i.locale)("customTemplate",i.headerTemplate),V(1),N("ngIf",i.view.allDayEventRows.length>0),V(2),N("ngIf",i.view.hourColumns.length>0&&1!==i.daysInWeek),V(1),pn("cal-resize-active",i.timeEventResizes.size>0),V(2),N("ngForOf",i.view.hourColumns)("ngForTrackBy",i.trackByHourColumn))},directives:[MF,IF,PF,AF,yr,Hg,hi,Ur,U0,Bg,er,VN,Ts],encapsulation:2}),n})(),Zg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Le({imports:[[Go,z0,_d,kl],z0,_d]}),n})(),xF=(()=>{class n{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new ue,this.hourSegmentClicked=new ue,this.eventTimesChanged=new ue,this.beforeViewRender=new ue}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ot({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:26,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(e,i){1&e&&(Z(0,"mwl-calendar-week-view",0),Ie("eventClicked",function(s){return i.eventClicked.emit(s)})("hourSegmentClicked",function(s){return i.hourSegmentClicked.emit(s)})("eventTimesChanged",function(s){return i.eventTimesChanged.emit(s)})("beforeViewRender",function(s){return i.beforeViewRender.emit(s)}),Y()),2&e&&N("daysInWeek",1)("viewDate",i.viewDate)("events",i.events)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("minimumEventHeight",i.minimumEventHeight)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("refresh",i.refresh)("locale",i.locale)("eventSnapSize",i.eventSnapSize)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("hourSegmentTemplate",i.hourSegmentTemplate)("eventTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("snapDraggedEvents",i.snapDraggedEvents)("allDayEventsLabelTemplate",i.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",i.currentTimeMarkerTemplate)("validateEventTimesChanged",i.validateEventTimesChanged)},directives:[nS],encapsulation:2}),n})(),iS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Le({imports:[[Go,kl,Zg]]}),n})(),kF=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||jg,i.dateFormatter||bd,i.utils||Ed,i.a11y||Sd]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Le({imports:[[kl,tS,Zg,iS],kl,tS,Zg,iS]}),n})();function on(n){if(null===n||!0===n||!1===n)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ye(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function Ge(n){ye(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||"object"==typeof n&&"[object Date]"===t?new Date(n.getTime()):"number"==typeof n||"[object Number]"===t?new Date(n):(("string"==typeof n||"[object String]"===t)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function qg(n,t){ye(2,arguments);var e=Ge(n),i=on(t);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}function Yg(n,t){ye(2,arguments);var e=Ge(n).getTime(),i=on(t);return new Date(e+i)}function OF(n,t){ye(2,arguments);var e=on(t);return Yg(n,36e5*e)}function LF(n,t){ye(2,arguments);var e=on(t);return Yg(n,6e4*e)}function FF(n,t){ye(2,arguments);var e=on(t);return Yg(n,1e3*e)}function rS(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function Rl(n){ye(1,arguments);var t=Ge(n);return t.setHours(0,0,0,0),t}function HF(n,t){ye(2,arguments);var e=Rl(n),i=Rl(t),r=e.getTime()-rS(e),s=i.getTime()-rS(i);return Math.round((r-s)/864e5)}function sS(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function VF(n,t){ye(2,arguments);var e=Ge(n),i=Ge(t),r=sS(e,i),s=Math.abs(HF(e,i));e.setDate(e.getDate()-r*s);var a=Number(sS(e,i)===-r),l=r*(s-a);return 0===l?0:l}function aS(n,t){return ye(2,arguments),Ge(n).getTime()-Ge(t).getTime()}Math.pow(10,8);var lS={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(n){return n<0?Math.ceil(n):Math.floor(n)}};function uS(n){return n?lS[n]:lS.trunc}function qF(n,t,e){ye(2,arguments);var i=aS(n,t)/6e4;return uS(null==e?void 0:e.roundingMethod)(i)}function YF(n,t,e){ye(2,arguments);var i=aS(n,t)/1e3;return uS(null==e?void 0:e.roundingMethod)(i)}function KF(n){ye(1,arguments);var t=Ge(n);return t.setHours(23,59,59,999),t}function QF(n){ye(1,arguments);var t=Ge(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}var cS={};function dS(){return cS}function XF(n,t){var e,i,r,s,a,l,c,d;ye(1,arguments);var f=dS(),g=on(null!==(e=null!==(i=null!==(r=null!==(s=null==t?void 0:t.weekStartsOn)&&void 0!==s?s:null==t||null===(a=t.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:f.weekStartsOn)&&void 0!==i?i:null===(c=f.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==e?e:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Ge(n),y=v.getDay(),w=6+(y<g?-7:0)-(y-g);return v.setDate(v.getDate()+w),v.setHours(23,59,59,999),v}function JF(n){ye(1,arguments);var t=Ge(n),e=t.getDay();return e}function e2(n){ye(1,arguments);var t=Ge(n),e=t.getMonth();return e}function hS(n,t){ye(2,arguments);var e=Rl(n),i=Rl(t);return e.getTime()===i.getTime()}function fS(n,t){ye(2,arguments);var e=Ge(n),i=Ge(t);return e.getFullYear()===i.getFullYear()&&e.getMonth()===i.getMonth()}function pS(n){ye(1,arguments);var t=Ge(n);return t.setMilliseconds(0),t}function t2(n,t){ye(2,arguments);var e=pS(n),i=pS(t);return e.getTime()===i.getTime()}function n2(n){var t,e;if(ye(1,arguments),n&&"function"==typeof n.forEach)t=n;else{if("object"!=typeof n||null===n)return new Date(NaN);t=Array.prototype.slice.call(n)}return t.forEach(function(i){var r=Ge(i);(void 0===e||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function i2(n,t){ye(2,arguments);var e=Ge(n),i=on(t);return e.setHours(i),e}function r2(n,t){ye(2,arguments);var e=Ge(n),i=on(t);return e.setMinutes(i),e}function s2(n){ye(1,arguments);var t=Ge(n);return t.setSeconds(0,0),t}function o2(n){ye(1,arguments);var t=Ge(n);return t.setDate(1),t.setHours(0,0,0,0),t}function gS(n,t){var e,i,r,s,a,l,c,d;ye(1,arguments);var f=dS(),g=on(null!==(e=null!==(i=null!==(r=null!==(s=null==t?void 0:t.weekStartsOn)&&void 0!==s?s:null==t||null===(a=t.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:f.weekStartsOn)&&void 0!==i?i:null===(c=f.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==e?e:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Ge(n),y=v.getDay(),w=(y<g?7:0)+y-g;return v.setDate(v.getDate()-w),v.setHours(0,0,0,0),v}function a2(n){ye(1,arguments);var t=Ge(n),e=t.getHours();return e}function l2(n){ye(1,arguments);var t=Ge(n),e=t.getMinutes();return e}function u2(n){return new Date(n).getTimezoneOffset()}function mS(n,t){ye(2,arguments);var e=on(t),i=7*e;return qg(n,i)}function vS(n,t){ye(2,arguments);var e=Ge(n),i=on(t);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),s=new Date(e.getTime());s.setMonth(e.getMonth()+i+1,0);var a=s.getDate();return r>=a?s:(e.setFullYear(s.getFullYear(),s.getMonth(),r),e)}function d2(n,t){ye(2,arguments);var e=on(t);return qg(n,-e)}function h2(n,t){ye(2,arguments);var e=on(t);return mS(n,-e)}function f2(n,t){ye(2,arguments);var e=on(t);return vS(n,-e)}function Td(n){return ye(1,arguments),gS(n,{weekStartsOn:1})}function p2(n){ye(1,arguments);var t=Ge(n),e=t.getFullYear(),i=new Date(0);i.setFullYear(e+1,0,4),i.setHours(0,0,0,0);var r=Td(i),s=new Date(0);s.setFullYear(e,0,4),s.setHours(0,0,0,0);var a=Td(s);return t.getTime()>=r.getTime()?e+1:t.getTime()>=a.getTime()?e:e-1}function g2(n){ye(1,arguments);var t=p2(n),e=new Date(0);e.setFullYear(t,0,4),e.setHours(0,0,0,0);var i=Td(e);return i}var m2=6048e5;function v2(n){ye(1,arguments);var t=Ge(n),e=Td(t).getTime()-g2(t).getTime();return Math.round(e/m2)+1}function y2(n,t){ye(2,arguments);var e=Ge(n),i=on(t);return e.setDate(i),e}function _2(n){ye(1,arguments);var t=Ge(n),e=t.getFullYear(),i=t.getMonth(),r=new Date(0);return r.setFullYear(e,i+1,0),r.setHours(0,0,0,0),r.getDate()}function w2(n,t){ye(2,arguments);var e=Ge(n),i=on(t),r=e.getFullYear(),s=e.getDate(),a=new Date(0);a.setFullYear(r,i,15),a.setHours(0,0,0,0);var l=_2(a);return e.setMonth(i,Math.min(s,l)),e}function D2(n,t){ye(2,arguments);var e=Ge(n),i=on(t);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(i),e)}function C2(n){ye(1,arguments);var t=Ge(n),e=t.getDate();return e}function S2(n){return ye(1,arguments),Ge(n).getFullYear()}function b2(){return Mr(Mr({},function c2(){return{addDays:qg,addHours:OF,addMinutes:LF,addSeconds:FF,differenceInDays:VF,differenceInMinutes:qF,differenceInSeconds:YF,endOfDay:KF,endOfMonth:QF,endOfWeek:XF,getDay:JF,getMonth:e2,isSameDay:hS,isSameMonth:fS,isSameSecond:t2,max:n2,setHours:i2,setMinutes:r2,startOfDay:Rl,startOfMinute:s2,startOfMonth:o2,startOfWeek:gS,getHours:a2,getMinutes:l2,getTimezoneOffset:u2}}()),{addWeeks:mS,addMonths:vS,subDays:d2,subWeeks:h2,subMonths:f2,getISOWeek:v2,setDate:y2,setMonth:w2,setYear:D2,getDate:C2,getYear:S2})}class yS{}class _S{}class ir{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ir?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ir;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ir?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(l=>-1===s.indexOf(l)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class T2{encodeKey(t){return wS(t)}encodeValue(t){return wS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const I2=/%(\d[a-f0-9])/gi,P2={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function wS(n){return encodeURIComponent(n).replace(I2,(t,e)=>P2[e]??t)}function DS(n){return`${n}`}class Cr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new T2,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function M2(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,l]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],c=e.get(a)||[];c.push(l),e.set(a,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Cr({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(DS(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(DS(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class A2{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function CS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function SS(n){return typeof Blob<"u"&&n instanceof Blob}function bS(n){return typeof FormData<"u"&&n instanceof FormData}class Ol{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function x2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ir),this.context||(this.context=new A2),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+a}}else this.params=new Cr,this.urlWithParams=e}serializeBody(){return null===this.body?null:CS(this.body)||SS(this.body)||bS(this.body)||function k2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Cr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bS(this.body)?null:SS(this.body)?this.body.type||null:CS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Cr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,d=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((g,v)=>g.set(v,t.setHeaders[v]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((g,v)=>g.set(v,t.setParams[v]),d)),new Ol(e,i,s,{params:d,headers:c,context:f,reportProgress:l,responseType:r,withCredentials:a})}}var Bt=(()=>((Bt=Bt||{})[Bt.Sent=0]="Sent",Bt[Bt.UploadProgress=1]="UploadProgress",Bt[Bt.ResponseHeader=2]="ResponseHeader",Bt[Bt.DownloadProgress=3]="DownloadProgress",Bt[Bt.Response=4]="Response",Bt[Bt.User=5]="User",Bt))();class Kg{constructor(t,e=200,i="OK"){this.headers=t.headers||new ir,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Qg extends Kg{constructor(t={}){super(t),this.type=Bt.ResponseHeader}clone(t={}){return new Qg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Md extends Kg{constructor(t={}){super(t),this.type=Bt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Md({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Xg extends Kg{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Jg(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Qr=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Ol)s=e;else{let c,d;c=r.headers instanceof ir?r.headers:new ir(r.headers),r.params&&(d=r.params instanceof Cr?r.params:new Cr({fromObject:r.params})),s=new Ol(e,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=Ss(s).pipe(function E2(n,t){return Pe(t)?ei(n,t,1):ei(n,1)}(c=>this.handler.handle(c)));if(e instanceof Ol||"events"===r.observe)return a;const l=a.pipe(mn(c=>c instanceof Md));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(He(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(He(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(He(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(He(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Cr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Jg(r,i))}post(e,i,r={}){return this.request("POST",e,Jg(r,i))}put(e,i,r={}){return this.request("PUT",e,Jg(r,i))}}return n.\u0275fac=function(e){return new(e||n)(U(yS))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();class ES{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const em=new ze("HTTP_INTERCEPTORS");let R2=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();const O2=/^\)\]\}',?\n/;let TS=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new it(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((y,w)=>r.setRequestHeader(y,w.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const y=e.detectContentTypeHeader();null!==y&&r.setRequestHeader("Content-Type",y)}if(e.responseType){const y=e.responseType.toLowerCase();r.responseType="json"!==y?y:"text"}const s=e.serializeBody();let a=null;const l=()=>{if(null!==a)return a;const y=r.statusText||"OK",w=new ir(r.getAllResponseHeaders()),D=function N2(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new Qg({headers:w,status:r.status,statusText:y,url:D}),a},c=()=>{let{headers:y,status:w,statusText:D,url:S}=l(),E=null;204!==w&&(E=typeof r.response>"u"?r.responseText:r.response),0===w&&(w=E?200:0);let b=w>=200&&w<300;if("json"===e.responseType&&"string"==typeof E){const I=E;E=E.replace(O2,"");try{E=""!==E?JSON.parse(E):null}catch(A){E=I,b&&(b=!1,E={error:A,text:E})}}b?(i.next(new Md({body:E,headers:y,status:w,statusText:D,url:S||void 0})),i.complete()):i.error(new Xg({error:E,headers:y,status:w,statusText:D,url:S||void 0}))},d=y=>{const{url:w}=l(),D=new Xg({error:y,status:r.status||0,statusText:r.statusText||"Unknown Error",url:w||void 0});i.error(D)};let f=!1;const g=y=>{f||(i.next(l()),f=!0);let w={type:Bt.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),"text"===e.responseType&&!!r.responseText&&(w.partialText=r.responseText),i.next(w)},v=y=>{let w={type:Bt.UploadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),i.next(w)};return r.addEventListener("load",c),r.addEventListener("error",d),r.addEventListener("timeout",d),r.addEventListener("abort",d),e.reportProgress&&(r.addEventListener("progress",g),null!==s&&r.upload&&r.upload.addEventListener("progress",v)),r.send(s),i.next({type:Bt.Sent}),()=>{r.removeEventListener("error",d),r.removeEventListener("abort",d),r.removeEventListener("load",c),r.removeEventListener("timeout",d),e.reportProgress&&(r.removeEventListener("progress",g),null!==s&&r.upload&&r.upload.removeEventListener("progress",v)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(U(lC))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})();const tm=new ze("XSRF_COOKIE_NAME"),nm=new ze("XSRF_HEADER_NAME");class MS{}let L2=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=JD(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(U(gn),U(dl),U(tm))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})(),im=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(U(MS),U(nm))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})(),F2=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(em,[]);this.chain=i.reduceRight((r,s)=>new ES(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(U(_S),U(Cn))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})(),B2=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:im,useClass:R2}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:tm,useValue:e.cookieName}:[],e.headerName?{provide:nm,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Le({providers:[im,{provide:em,useExisting:im,multi:!0},{provide:MS,useClass:L2},{provide:tm,useValue:"XSRF-TOKEN"},{provide:nm,useValue:"X-XSRF-TOKEN"}]}),n})(),H2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Le({providers:[Qr,{provide:yS,useClass:F2},TS,{provide:_S,useExisting:TS}],imports:[[B2.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function Id(n,t){const e=Pe(n)?n:()=>n,i=r=>r.error(e());return new it(t?r=>t.schedule(i,0,r):i)}function Nl(n){return ut((t,e)=>{let s,i=null,r=!1;i=t.subscribe(mt(e,void 0,void 0,a=>{s=Hn(n(a,Nl(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function rm(n){this.message=n}(rm.prototype=new Error).name="InvalidCharacterError";var IS=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(n){var t=String(n).replace(/=+$/,"");if(t.length%4==1)throw new rm("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,i,r=0,s=0,a="";i=t.charAt(s++);~i&&(e=r%4?64*e+i:i,r++%4)?a+=String.fromCharCode(255&e>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return a};function Pd(n){this.message=n}(Pd.prototype=new Error).name="InvalidTokenError";const PS=function j2(n,t){if("string"!=typeof n)throw new Pd("Invalid token specified");var e=!0===(t=t||{}).header?0:1;try{return JSON.parse(function V2(n){var t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(IS(t).replace(/(.)/g,function(i,r){var s=r.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}catch{return IS(t)}}(n.split(".")[e]))}catch(i){throw new Pd("Invalid token specified: "+i.message)}};var n,sm=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Ll=function(n){function t(e,i){var s=this,a=this.constructor.prototype;return(s=n.call(this,e)||this).statusCode=i,s.__proto__=a,s}return sm(t,n),t}(Error),om=function(n){function t(e){void 0===e&&(e="A timeout occurred.");var r=this,s=this.constructor.prototype;return(r=n.call(this,e)||this).__proto__=s,r}return sm(t,n),t}(Error),Fl=function(n){function t(e){void 0===e&&(e="An abort occurred.");var r=this,s=this.constructor.prototype;return(r=n.call(this,e)||this).__proto__=s,r}return sm(t,n),t}(Error),am=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},AS=function n(t,e,i){this.statusCode=t,this.statusText=e,this.content=i},lm=function(){function n(){}return n.prototype.get=function(t,e){return this.send(am({},e,{method:"GET",url:t}))},n.prototype.post=function(t,e){return this.send(am({},e,{method:"POST",url:t}))},n.prototype.delete=function(t,e){return this.send(am({},e,{method:"DELETE",url:t}))},n.prototype.getCookieString=function(t){return""},n}(),P=(()=>(function(n){n[n.Trace=0]="Trace",n[n.Debug=1]="Debug",n[n.Information=2]="Information",n[n.Warning=3]="Warning",n[n.Error=4]="Error",n[n.Critical=5]="Critical",n[n.None=6]="None"}(P||(P={})),P))(),um=function(){function n(){}return n.prototype.log=function(t,e){},n.instance=new n,n}(),U2=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Jt=function(){function n(){}return n.isRequired=function(t,e){if(null==t)throw new Error("The '"+e+"' argument is required.")},n.isNotEmpty=function(t,e){if(!t||t.match(/^\s*$/))throw new Error("The '"+e+"' argument should not be empty.")},n.isIn=function(t,e,i){if(!(t in e))throw new Error("Unknown "+i+" value: "+t+".")},n}(),Mn=function(){function n(){}return Object.defineProperty(n,"isBrowser",{get:function(){return"object"==typeof window},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isWebWorker",{get:function(){return"object"==typeof self&&"importScripts"in self},enumerable:!0,configurable:!0}),Object.defineProperty(n,"isNode",{get:function(){return!this.isBrowser&&!this.isWebWorker},enumerable:!0,configurable:!0}),n}();function Bl(n,t){var e="";return cm(n)?(e="Binary data of length "+n.byteLength,t&&(e+=". Content: '"+function G2(n){var t=new Uint8Array(n),e="";return t.forEach(function(i){e+="0x"+(i<16?"0":"")+i.toString(16)+" "}),e.substr(0,e.length-1)}(n)+"'")):"string"==typeof n&&(e="String data of length "+n.length,t&&(e+=". Content: '"+n+"'")),e}function cm(n){return n&&typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||n.constructor&&"ArrayBuffer"===n.constructor.name)}function xS(n,t,e,i,r,s,a,l,c){return function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(f){s(f)}}function l(d){try{c(i.throw(d))}catch(f){s(f)}}function c(d){d.done?r(d.value):new e(function(f){f(d.value)}).then(a,l)}c((i=i.apply(n,[])).next())})}(this,0,void 0,function(){var d,f,g,v,D,S;return function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return function c(d){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&d[0]?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===d[0]||2===d[0])){e=0;continue}if(3===d[0]&&(!s||d[1]>s[0]&&d[1]<s[3])){e.label=d[1];break}if(6===d[0]&&e.label<s[1]){e.label=s[1],s=d;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(d);break}s[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(f){d=[6,f],r=0}finally{i=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,f])}}}(this,function(E){switch(E.label){case 0:return f={},r?[4,r()]:[3,2];case 1:(g=E.sent())&&((d={}).Authorization="Bearer "+g,f=d),E.label=2;case 2:return v=Xo(),f[v[0]]=v[1],n.log(P.Trace,"("+t+" transport) sending data. "+Bl(s,a)+"."),D=cm(s)?"arraybuffer":"text",[4,e.post(i,{content:s,headers:U2({},f,c),responseType:D,withCredentials:l})];case 3:return S=E.sent(),n.log(P.Trace,"("+t+" transport) request complete. Response status: "+S.statusCode+"."),[2]}})})}var q2=function(){function n(t,e){this.subject=t,this.observer=e}return n.prototype.dispose=function(){var t=this.subject.observers.indexOf(this.observer);t>-1&&this.subject.observers.splice(t,1),0===this.subject.observers.length&&this.subject.cancelCallback&&this.subject.cancelCallback().catch(function(e){})},n}(),Ad=function(){function n(t){this.minimumLogLevel=t,this.outputConsole=console}return n.prototype.log=function(t,e){if(t>=this.minimumLogLevel)switch(t){case P.Critical:case P.Error:this.outputConsole.error("["+(new Date).toISOString()+"] "+P[t]+": "+e);break;case P.Warning:this.outputConsole.warn("["+(new Date).toISOString()+"] "+P[t]+": "+e);break;case P.Information:this.outputConsole.info("["+(new Date).toISOString()+"] "+P[t]+": "+e);break;default:this.outputConsole.log("["+(new Date).toISOString()+"] "+P[t]+": "+e)}},n}();function Xo(){var n="X-SignalR-User-Agent";return Mn.isNode&&(n="User-Agent"),[n,Y2("5.0.17",K2(),Mn.isNode?"NodeJS":"Browser",Q2())]}function Y2(n,t,e,i){var r="Microsoft SignalR/",s=n.split(".");return r+=s[0]+"."+s[1],r+=" ("+n+"; ",r+=t&&""!==t?t+"; ":"Unknown OS; ",r+=""+e,(r+=i?"; "+i:"; Unknown Runtime Version")+")"}function K2(){if(!Mn.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function Q2(){if(Mn.isNode)return process.versions.node}var J2=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),eB=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},iB=function(n){function t(e){var i=n.call(this)||this;if(i.logger=e,typeof fetch>"u"){var r=require;i.jar=new(r("tough-cookie").CookieJar),i.fetchType=r("node-fetch"),i.fetchType=r("fetch-cookie")(i.fetchType,i.jar),i.abortControllerType=r("abort-controller")}else i.fetchType=fetch.bind(self),i.abortControllerType=AbortController;return i}return J2(t,n),t.prototype.send=function(e){return function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(f){s(f)}}function l(d){try{c(i.throw(d))}catch(f){s(f)}}function c(d){d.done?r(d.value):new e(function(f){f(d.value)}).then(a,l)}c((i=i.apply(n,[])).next())})}(this,0,void 0,function(){var i,r,s,l,c,d,f,g=this;return function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return function c(d){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&d[0]?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===d[0]||2===d[0])){e=0;continue}if(3===d[0]&&(!s||d[1]>s[0]&&d[1]<s[3])){e.label=d[1];break}if(6===d[0]&&e.label<s[1]){e.label=s[1],s=d;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(d);break}s[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(f){d=[6,f],r=0}finally{i=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,f])}}}(this,function(v){switch(v.label){case 0:if(e.abortSignal&&e.abortSignal.aborted)throw new Fl;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");i=new this.abortControllerType,e.abortSignal&&(e.abortSignal.onabort=function(){i.abort(),r=new Fl}),s=null,e.timeout&&(s=setTimeout(function(){i.abort(),g.logger.log(P.Warning,"Timeout from HTTP request."),r=new om},e.timeout)),v.label=1;case 1:return v.trys.push([1,3,4,5]),[4,this.fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:eB({"Content-Type":"text/plain;charset=UTF-8","X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,mode:"cors",redirect:"manual",signal:i.signal})];case 2:return l=v.sent(),[3,5];case 3:throw c=v.sent(),r||(this.logger.log(P.Warning,"Error from HTTP request. "+c+"."),c);case 4:return s&&clearTimeout(s),e.abortSignal&&(e.abortSignal.onabort=null),[7];case 5:if(!l.ok)throw new Ll(l.statusText,l.status);return d=function rB(n,t){var e;switch(t){case"arraybuffer":e=n.arrayBuffer();break;case"text":default:e=n.text();break;case"blob":case"document":case"json":throw new Error(t+" is not supported.")}return e}(l,e.responseType),[4,d];case 6:return f=v.sent(),[2,new AS(l.status,l.statusText,f)]}})})},t.prototype.getCookieString=function(e){var i="";return Mn.isNode&&this.jar&&this.jar.getCookies(e,function(r,s){return i=s.join("; ")}),i},t}(lm),sB=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),oB=function(n){function t(e){var i=n.call(this)||this;return i.logger=e,i}return sB(t,n),t.prototype.send=function(e){var i=this;return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Fl):e.method?e.url?new Promise(function(r,s){var a=new XMLHttpRequest;a.open(e.method,e.url,!0),a.withCredentials=void 0===e.withCredentials||e.withCredentials,a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var l=e.headers;l&&Object.keys(l).forEach(function(c){a.setRequestHeader(c,l[c])}),e.responseType&&(a.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=function(){a.abort(),s(new Fl)}),e.timeout&&(a.timeout=e.timeout),a.onload=function(){e.abortSignal&&(e.abortSignal.onabort=null),a.status>=200&&a.status<300?r(new AS(a.status,a.statusText,a.response||a.responseText)):s(new Ll(a.statusText,a.status))},a.onerror=function(){i.logger.log(P.Warning,"Error from HTTP request. "+a.status+": "+a.statusText+"."),s(new Ll(a.statusText,a.status))},a.ontimeout=function(){i.logger.log(P.Warning,"Timeout from HTTP request."),s(new om)},a.send(e.content||"")}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t}(lm),aB=function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lB=function(n){function t(e){var i=n.call(this)||this;if(typeof fetch<"u"||Mn.isNode)i.httpClient=new iB(e);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");i.httpClient=new oB(e)}return i}return aB(t,n),t.prototype.send=function(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Fl):e.method?e.url?this.httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t.prototype.getCookieString=function(e){return this.httpClient.getCookieString(e)},t}(lm),Jo=function(){function n(){}return n.write=function(t){return""+t+n.RecordSeparator},n.parse=function(t){if(t[t.length-1]!==n.RecordSeparator)throw new Error("Message is incomplete.");var e=t.split(n.RecordSeparator);return e.pop(),e},n.RecordSeparatorCode=30,n.RecordSeparator=String.fromCharCode(n.RecordSeparatorCode),n}(),uB=function(){function n(){}return n.prototype.writeHandshakeRequest=function(t){return Jo.write(JSON.stringify(t))},n.prototype.parseHandshakeResponse=function(t){var i,r;if(cm(t)||typeof Buffer<"u"&&t instanceof Buffer){var s=new Uint8Array(t);if(-1===(a=s.indexOf(Jo.RecordSeparatorCode)))throw new Error("Message is incomplete.");var l=a+1;i=String.fromCharCode.apply(null,s.slice(0,l)),r=s.byteLength>l?s.slice(l).buffer:null}else{var a,c=t;if(-1===(a=c.indexOf(Jo.RecordSeparator)))throw new Error("Message is incomplete.");i=c.substring(0,l=a+1),r=c.length>l?c.substring(l):null}var d=Jo.parse(i),f=JSON.parse(d[0]);if(f.type)throw new Error("Expected a handshake response from the server.");return[r,f]},n}(),at=(()=>(function(n){n[n.Invocation=1]="Invocation",n[n.StreamItem=2]="StreamItem",n[n.Completion=3]="Completion",n[n.StreamInvocation=4]="StreamInvocation",n[n.CancelInvocation=5]="CancelInvocation",n[n.Ping=6]="Ping",n[n.Close=7]="Close"}(at||(at={})),at))(),cB=function(){function n(){this.observers=[]}return n.prototype.next=function(t){for(var e=0,i=this.observers;e<i.length;e++)i[e].next(t)},n.prototype.error=function(t){for(var e=0,i=this.observers;e<i.length;e++){var r=i[e];r.error&&r.error(t)}},n.prototype.complete=function(){for(var t=0,e=this.observers;t<e.length;t++){var i=e[t];i.complete&&i.complete()}},n.prototype.subscribe=function(t){return this.observers.push(t),new q2(this,t)},n}(),Hl=function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(f){s(f)}}function l(d){try{c(i.throw(d))}catch(f){s(f)}}function c(d){d.done?r(d.value):new e(function(f){f(d.value)}).then(a,l)}c((i=i.apply(n,t||[])).next())})},Vl=function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return function c(d){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&d[0]?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===d[0]||2===d[0])){e=0;continue}if(3===d[0]&&(!s||d[1]>s[0]&&d[1]<s[3])){e.label=d[1];break}if(6===d[0]&&e.label<s[1]){e.label=s[1],s=d;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(d);break}s[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(f){d=[6,f],r=0}finally{i=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,f])}}},wt=(()=>(function(n){n.Disconnected="Disconnected",n.Connecting="Connecting",n.Connected="Connected",n.Disconnecting="Disconnecting",n.Reconnecting="Reconnecting"}(wt||(wt={})),wt))(),fB=function(){function n(t,e,i,r){var s=this;this.nextKeepAlive=0,Jt.isRequired(t,"connection"),Jt.isRequired(e,"logger"),Jt.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this.logger=e,this.protocol=i,this.connection=t,this.reconnectPolicy=r,this.handshakeProtocol=new uB,this.connection.onreceive=function(a){return s.processIncomingData(a)},this.connection.onclose=function(a){return s.connectionClosed(a)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.reconnectingCallbacks=[],this.reconnectedCallbacks=[],this.invocationId=0,this.receivedHandshakeResponse=!1,this.connectionState=wt.Disconnected,this.connectionStarted=!1,this.cachedPingMessage=this.protocol.writeMessage({type:at.Ping})}return n.create=function(t,e,i,r){return new n(t,e,i,r)},Object.defineProperty(n.prototype,"state",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"connectionId",{get:function(){return this.connection&&this.connection.connectionId||null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"baseUrl",{get:function(){return this.connection.baseUrl||""},set:function(t){if(this.connectionState!==wt.Disconnected&&this.connectionState!==wt.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t},enumerable:!0,configurable:!0}),n.prototype.start=function(){return this.startPromise=this.startWithStateTransitions(),this.startPromise},n.prototype.startWithStateTransitions=function(){return Hl(this,void 0,void 0,function(){var t;return Vl(this,function(e){switch(e.label){case 0:if(this.connectionState!==wt.Disconnected)return[2,Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."))];this.connectionState=wt.Connecting,this.logger.log(P.Debug,"Starting HubConnection."),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.startInternal()];case 2:return e.sent(),this.connectionState=wt.Connected,this.connectionStarted=!0,this.logger.log(P.Debug,"HubConnection connected successfully."),[3,4];case 3:return t=e.sent(),this.connectionState=wt.Disconnected,this.logger.log(P.Debug,"HubConnection failed to start successfully because of error '"+t+"'."),[2,Promise.reject(t)];case 4:return[2]}})})},n.prototype.startInternal=function(){return Hl(this,void 0,void 0,function(){var t,e,i,r=this;return Vl(this,function(s){switch(s.label){case 0:return this.stopDuringStartError=void 0,this.receivedHandshakeResponse=!1,t=new Promise(function(a,l){r.handshakeResolver=a,r.handshakeRejecter=l}),[4,this.connection.start(this.protocol.transferFormat)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),e={protocol:this.protocol.name,version:this.protocol.version},this.logger.log(P.Debug,"Sending handshake request."),[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(e))];case 3:return s.sent(),this.logger.log(P.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.resetTimeoutPeriod(),this.resetKeepAliveInterval(),[4,t];case 4:if(s.sent(),this.stopDuringStartError)throw this.stopDuringStartError;return[3,7];case 5:return i=s.sent(),this.logger.log(P.Debug,"Hub handshake failed with error '"+i+"' during start(). Stopping HubConnection."),this.cleanupTimeout(),this.cleanupPingTimer(),[4,this.connection.stop(i)];case 6:throw s.sent(),i;case 7:return[2]}})})},n.prototype.stop=function(){return Hl(this,void 0,void 0,function(){var t;return Vl(this,function(i){switch(i.label){case 0:return t=this.startPromise,this.stopPromise=this.stopInternal(),[4,this.stopPromise];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t];case 3:case 4:return i.sent(),[3,5];case 5:return[2]}})})},n.prototype.stopInternal=function(t){return this.connectionState===wt.Disconnected?(this.logger.log(P.Debug,"Call to HubConnection.stop("+t+") ignored because it is already in the disconnected state."),Promise.resolve()):this.connectionState===wt.Disconnecting?(this.logger.log(P.Debug,"Call to HttpConnection.stop("+t+") ignored because the connection is already in the disconnecting state."),this.stopPromise):(this.connectionState=wt.Disconnecting,this.logger.log(P.Debug,"Stopping HubConnection."),this.reconnectDelayHandle?(this.logger.log(P.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this.reconnectDelayHandle),this.reconnectDelayHandle=void 0,this.completeClose(),Promise.resolve()):(this.cleanupTimeout(),this.cleanupPingTimer(),this.stopDuringStartError=t||new Error("The connection was stopped before the hub handshake could complete."),this.connection.stop(t)))},n.prototype.stream=function(t){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var d,s=this.replaceStreamingParams(i),a=s[0],l=s[1],c=this.createStreamInvocation(t,i,l),f=new cB;return f.cancelCallback=function(){var g=e.createCancelInvocation(c.invocationId);return delete e.callbacks[c.invocationId],d.then(function(){return e.sendWithProtocol(g)})},this.callbacks[c.invocationId]=function(g,v){v?f.error(v):g&&(g.type===at.Completion?g.error?f.error(new Error(g.error)):f.complete():f.next(g.item))},d=this.sendWithProtocol(c).catch(function(g){f.error(g),delete e.callbacks[c.invocationId]}),this.launchStreams(a,d),f},n.prototype.sendMessage=function(t){return this.resetKeepAliveInterval(),this.connection.send(t)},n.prototype.sendWithProtocol=function(t){return this.sendMessage(this.protocol.writeMessage(t))},n.prototype.send=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var r=this.replaceStreamingParams(e),s=r[0],a=r[1],l=this.sendWithProtocol(this.createInvocation(t,e,!0,a));return this.launchStreams(s,l),l},n.prototype.invoke=function(t){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var s=this.replaceStreamingParams(i),a=s[0],l=s[1],c=this.createInvocation(t,i,!1,l),d=new Promise(function(f,g){e.callbacks[c.invocationId]=function(y,w){w?g(w):y&&(y.type===at.Completion?y.error?g(new Error(y.error)):f(y.result):g(new Error("Unexpected message type: "+y.type)))};var v=e.sendWithProtocol(c).catch(function(y){g(y),delete e.callbacks[c.invocationId]});e.launchStreams(a,v)});return d},n.prototype.on=function(t,e){!t||!e||(t=t.toLowerCase(),this.methods[t]||(this.methods[t]=[]),-1===this.methods[t].indexOf(e)&&this.methods[t].push(e))},n.prototype.off=function(t,e){if(t){t=t.toLowerCase();var i=this.methods[t];if(i)if(e){var r=i.indexOf(e);-1!==r&&(i.splice(r,1),0===i.length&&delete this.methods[t])}else delete this.methods[t]}},n.prototype.onclose=function(t){t&&this.closedCallbacks.push(t)},n.prototype.onreconnecting=function(t){t&&this.reconnectingCallbacks.push(t)},n.prototype.onreconnected=function(t){t&&this.reconnectedCallbacks.push(t)},n.prototype.processIncomingData=function(t){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(t=this.processHandshakeResponse(t),this.receivedHandshakeResponse=!0),t)for(var i=0,r=this.protocol.parseMessages(t,this.logger);i<r.length;i++){var s=r[i];switch(s.type){case at.Invocation:this.invokeClientMethod(s);break;case at.StreamItem:case at.Completion:var a=this.callbacks[s.invocationId];a&&(s.type===at.Completion&&delete this.callbacks[s.invocationId],a(s));break;case at.Ping:break;case at.Close:this.logger.log(P.Information,"Close message received from server.");var l=s.error?new Error("Server returned an error on close: "+s.error):void 0;!0===s.allowReconnect?this.connection.stop(l):this.stopPromise=this.stopInternal(l);break;default:this.logger.log(P.Warning,"Invalid message type: "+s.type+".")}}this.resetTimeoutPeriod()},n.prototype.processHandshakeResponse=function(t){var e,i,r,s;try{r=(e=this.handshakeProtocol.parseHandshakeResponse(t))[0],i=e[1]}catch(l){this.logger.log(P.Error,s="Error parsing handshake response: "+l);var a=new Error(s);throw this.handshakeRejecter(a),a}if(i.error)throw this.logger.log(P.Error,s="Server returned handshake error: "+i.error),a=new Error(s),this.handshakeRejecter(a),a;return this.logger.log(P.Debug,"Server handshake complete."),this.handshakeResolver(),r},n.prototype.resetKeepAliveInterval=function(){this.connection.features.inherentKeepAlive||(this.nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this.cleanupPingTimer())},n.prototype.resetTimeoutPeriod=function(){var t=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout(function(){return t.serverTimeout()},this.serverTimeoutInMilliseconds),void 0!==this.pingServerHandle))){var e=this.nextKeepAlive-(new Date).getTime();e<0&&(e=0),this.pingServerHandle=setTimeout(function(){return Hl(t,void 0,void 0,function(){return Vl(this,function(r){switch(r.label){case 0:if(this.connectionState!==wt.Connected)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.sendMessage(this.cachedPingMessage)];case 2:return r.sent(),[3,4];case 3:return r.sent(),this.cleanupPingTimer(),[3,4];case 4:return[2]}})})},e)}},n.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},n.prototype.invokeClientMethod=function(t){var e=this,i=this.methods[t.target.toLowerCase()];if(i){try{i.forEach(function(s){return s.apply(e,t.arguments)})}catch(s){this.logger.log(P.Error,"A callback for the method "+t.target.toLowerCase()+" threw error '"+s+"'.")}if(t.invocationId){var r="Server requested a response, which is not supported in this version of the client.";this.logger.log(P.Error,r),this.stopPromise=this.stopInternal(new Error(r))}}else this.logger.log(P.Warning,"No client method with the name '"+t.target+"' found.")},n.prototype.connectionClosed=function(t){this.logger.log(P.Debug,"HubConnection.connectionClosed("+t+") called while in state "+this.connectionState+"."),this.stopDuringStartError=this.stopDuringStartError||t||new Error("The underlying connection was closed before the hub handshake could complete."),this.handshakeResolver&&this.handshakeResolver(),this.cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this.cleanupTimeout(),this.cleanupPingTimer(),this.connectionState===wt.Disconnecting?this.completeClose(t):this.connectionState===wt.Connected&&this.reconnectPolicy?this.reconnect(t):this.connectionState===wt.Connected&&this.completeClose(t)},n.prototype.completeClose=function(t){var e=this;if(this.connectionStarted){this.connectionState=wt.Disconnected,this.connectionStarted=!1;try{this.closedCallbacks.forEach(function(i){return i.apply(e,[t])})}catch(i){this.logger.log(P.Error,"An onclose callback called with error '"+t+"' threw error '"+i+"'.")}}},n.prototype.reconnect=function(t){return Hl(this,void 0,void 0,function(){var e,i,r,s,a,l=this;return Vl(this,function(c){switch(c.label){case 0:if(e=Date.now(),i=0,r=void 0!==t?t:new Error("Attempting to reconnect due to a unknown error."),null===(s=this.getNextRetryDelay(i++,0,r)))return this.logger.log(P.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this.completeClose(t),[2];if(this.connectionState=wt.Reconnecting,this.logger.log(P.Information,t?"Connection reconnecting because of error '"+t+"'.":"Connection reconnecting."),this.onreconnecting){try{this.reconnectingCallbacks.forEach(function(d){return d.apply(l,[t])})}catch(d){this.logger.log(P.Error,"An onreconnecting callback called with error '"+t+"' threw error '"+d+"'.")}if(this.connectionState!==wt.Reconnecting)return this.logger.log(P.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting."),[2]}c.label=1;case 1:return null===s?[3,7]:(this.logger.log(P.Information,"Reconnect attempt number "+i+" will start in "+s+" ms."),[4,new Promise(function(d){l.reconnectDelayHandle=setTimeout(d,s)})]);case 2:if(c.sent(),this.reconnectDelayHandle=void 0,this.connectionState!==wt.Reconnecting)return this.logger.log(P.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting."),[2];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,this.startInternal()];case 4:if(c.sent(),this.connectionState=wt.Connected,this.logger.log(P.Information,"HubConnection reconnected successfully."),this.onreconnected)try{this.reconnectedCallbacks.forEach(function(d){return d.apply(l,[l.connection.connectionId])})}catch(d){this.logger.log(P.Error,"An onreconnected callback called with connectionId '"+this.connection.connectionId+"; threw error '"+d+"'.")}return[2];case 5:return a=c.sent(),this.logger.log(P.Information,"Reconnect attempt failed because of error '"+a+"'."),this.connectionState!==wt.Reconnecting?(this.logger.log(P.Debug,"Connection moved to the '"+this.connectionState+"' from the reconnecting state during reconnect attempt. Done reconnecting."),this.connectionState===wt.Disconnecting&&this.completeClose(),[2]):(r=a instanceof Error?a:new Error(a.toString()),s=this.getNextRetryDelay(i++,Date.now()-e,r),[3,6]);case 6:return[3,1];case 7:return this.logger.log(P.Information,"Reconnect retries have been exhausted after "+(Date.now()-e)+" ms and "+i+" failed attempts. Connection disconnecting."),this.completeClose(),[2]}})})},n.prototype.getNextRetryDelay=function(t,e,i){try{return this.reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:t,retryReason:i})}catch(r){return this.logger.log(P.Error,"IRetryPolicy.nextRetryDelayInMilliseconds("+t+", "+e+") threw error '"+r+"'."),null}},n.prototype.cancelCallbacksWithError=function(t){var e=this.callbacks;this.callbacks={},Object.keys(e).forEach(function(i){(0,e[i])(null,t)})},n.prototype.cleanupPingTimer=function(){this.pingServerHandle&&(clearTimeout(this.pingServerHandle),this.pingServerHandle=void 0)},n.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},n.prototype.createInvocation=function(t,e,i,r){if(i)return 0!==r.length?{arguments:e,streamIds:r,target:t,type:at.Invocation}:{arguments:e,target:t,type:at.Invocation};var s=this.invocationId;return this.invocationId++,0!==r.length?{arguments:e,invocationId:s.toString(),streamIds:r,target:t,type:at.Invocation}:{arguments:e,invocationId:s.toString(),target:t,type:at.Invocation}},n.prototype.launchStreams=function(t,e){var i=this;if(0!==t.length){e||(e=Promise.resolve());var r=function(a){t[a].subscribe({complete:function(){e=e.then(function(){return i.sendWithProtocol(i.createCompletionMessage(a))})},error:function(l){var c;c=l instanceof Error?l.message:l&&l.toString?l.toString():"Unknown error",e=e.then(function(){return i.sendWithProtocol(i.createCompletionMessage(a,c))})},next:function(l){e=e.then(function(){return i.sendWithProtocol(i.createStreamItemMessage(a,l))})}})};for(var s in t)r(s)}},n.prototype.replaceStreamingParams=function(t){for(var e=[],i=[],r=0;r<t.length;r++){var s=t[r];if(this.isObservable(s)){var a=this.invocationId;this.invocationId++,e[a]=s,i.push(a.toString()),t.splice(r,1)}}return[e,i]},n.prototype.isObservable=function(t){return t&&t.subscribe&&"function"==typeof t.subscribe},n.prototype.createStreamInvocation=function(t,e,i){var r=this.invocationId;return this.invocationId++,0!==i.length?{arguments:e,invocationId:r.toString(),streamIds:i,target:t,type:at.StreamInvocation}:{arguments:e,invocationId:r.toString(),target:t,type:at.StreamInvocation}},n.prototype.createCancelInvocation=function(t){return{invocationId:t,type:at.CancelInvocation}},n.prototype.createStreamItemMessage=function(t,e){return{invocationId:t,item:e,type:at.StreamItem}},n.prototype.createCompletionMessage=function(t,e,i){return e?{error:e,invocationId:t,type:at.Completion}:{invocationId:t,result:i,type:at.Completion}},n}(),pB=[0,2e3,1e4,3e4,null],kS=function(){function n(t){this.retryDelays=void 0!==t?t.concat([null]):pB}return n.prototype.nextRetryDelayInMilliseconds=function(t){return this.retryDelays[t.previousRetryCount]},n}(),en=(()=>(function(n){n[n.None=0]="None",n[n.WebSockets=1]="WebSockets",n[n.ServerSentEvents=2]="ServerSentEvents",n[n.LongPolling=4]="LongPolling"}(en||(en={})),en))(),an=(()=>(function(n){n[n.Text=1]="Text",n[n.Binary=2]="Binary"}(an||(an={})),an))(),gB=function(){function n(){this.isAborted=!1,this.onabort=null}return n.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(n.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),n}(),RS=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},jl=function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(f){s(f)}}function l(d){try{c(i.throw(d))}catch(f){s(f)}}function c(d){d.done?r(d.value):new e(function(f){f(d.value)}).then(a,l)}c((i=i.apply(n,t||[])).next())})},Ul=function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return function c(d){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&d[0]?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===d[0]||2===d[0])){e=0;continue}if(3===d[0]&&(!s||d[1]>s[0]&&d[1]<s[3])){e.label=d[1];break}if(6===d[0]&&e.label<s[1]){e.label=s[1],s=d;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(d);break}s[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(f){d=[6,f],r=0}finally{i=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,f])}}},OS=function(){function n(t,e,i,r,s,a){this.httpClient=t,this.accessTokenFactory=e,this.logger=i,this.pollAbort=new gB,this.logMessageContent=r,this.withCredentials=s,this.headers=a,this.running=!1,this.onreceive=null,this.onclose=null}return Object.defineProperty(n.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),n.prototype.connect=function(t,e){return jl(this,void 0,void 0,function(){var i,r,l,c,d,f,g;return Ul(this,function(v){switch(v.label){case 0:if(Jt.isRequired(t,"url"),Jt.isRequired(e,"transferFormat"),Jt.isIn(e,an,"transferFormat"),this.url=t,this.logger.log(P.Trace,"(LongPolling transport) Connecting."),e===an.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return r=Xo(),l=RS(((i={})[r[0]]=r[1],i),this.headers),c={abortSignal:this.pollAbort.signal,headers:l,timeout:1e5,withCredentials:this.withCredentials},e===an.Binary&&(c.responseType="arraybuffer"),[4,this.getAccessToken()];case 1:return d=v.sent(),this.updateHeaderToken(c,d),f=t+"&_="+Date.now(),this.logger.log(P.Trace,"(LongPolling transport) polling: "+f+"."),[4,this.httpClient.get(f,c)];case 2:return 200!==(g=v.sent()).statusCode?(this.logger.log(P.Error,"(LongPolling transport) Unexpected response code: "+g.statusCode+"."),this.closeError=new Ll(g.statusText||"",g.statusCode),this.running=!1):this.running=!0,this.receiving=this.poll(this.url,c),[2]}})})},n.prototype.getAccessToken=function(){return jl(this,void 0,void 0,function(){return Ul(this,function(t){switch(t.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:return[2,t.sent()];case 2:return[2,null]}})})},n.prototype.updateHeaderToken=function(t,e){t.headers||(t.headers={}),e?t.headers.Authorization="Bearer "+e:t.headers.Authorization&&delete t.headers.Authorization},n.prototype.poll=function(t,e){return jl(this,void 0,void 0,function(){var i,r,s,a;return Ul(this,function(l){switch(l.label){case 0:l.trys.push([0,,8,9]),l.label=1;case 1:return this.running?[4,this.getAccessToken()]:[3,7];case 2:i=l.sent(),this.updateHeaderToken(e,i),l.label=3;case 3:return l.trys.push([3,5,,6]),r=t+"&_="+Date.now(),this.logger.log(P.Trace,"(LongPolling transport) polling: "+r+"."),[4,this.httpClient.get(r,e)];case 4:return 204===(s=l.sent()).statusCode?(this.logger.log(P.Information,"(LongPolling transport) Poll terminated by server."),this.running=!1):200!==s.statusCode?(this.logger.log(P.Error,"(LongPolling transport) Unexpected response code: "+s.statusCode+"."),this.closeError=new Ll(s.statusText||"",s.statusCode),this.running=!1):s.content?(this.logger.log(P.Trace,"(LongPolling transport) data received. "+Bl(s.content,this.logMessageContent)+"."),this.onreceive&&this.onreceive(s.content)):this.logger.log(P.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return a=l.sent(),this.running?a instanceof om?this.logger.log(P.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this.closeError=a,this.running=!1):this.logger.log(P.Trace,"(LongPolling transport) Poll errored after shutdown: "+a.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.logger.log(P.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this.raiseOnClose(),[7];case 9:return[2]}})})},n.prototype.send=function(t){return jl(this,void 0,void 0,function(){return Ul(this,function(e){return this.running?[2,xS(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent,this.withCredentials,this.headers)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},n.prototype.stop=function(){return jl(this,void 0,void 0,function(){var t,e,s,a;return Ul(this,function(l){switch(l.label){case 0:this.logger.log(P.Trace,"(LongPolling transport) Stopping polling."),this.running=!1,this.pollAbort.abort(),l.label=1;case 1:return l.trys.push([1,,5,6]),[4,this.receiving];case 2:return l.sent(),this.logger.log(P.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),t={},e=Xo(),t[e[0]]=e[1],s={headers:RS({},t,this.headers),withCredentials:this.withCredentials},[4,this.getAccessToken()];case 3:return a=l.sent(),this.updateHeaderToken(s,a),[4,this.httpClient.delete(this.url,s)];case 4:return l.sent(),this.logger.log(P.Trace,"(LongPolling transport) DELETE request sent."),[3,6];case 5:return this.logger.log(P.Trace,"(LongPolling transport) Stop finished."),this.raiseOnClose(),[7];case 6:return[2]}})})},n.prototype.raiseOnClose=function(){if(this.onclose){var t="(LongPolling transport) Firing onclose event.";this.closeError&&(t+=" Error: "+this.closeError),this.logger.log(P.Trace,t),this.onclose(this.closeError)}},n}(),mB=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},NS=function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(f){s(f)}}function l(d){try{c(i.throw(d))}catch(f){s(f)}}function c(d){d.done?r(d.value):new e(function(f){f(d.value)}).then(a,l)}c((i=i.apply(n,t||[])).next())})},LS=function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return function c(d){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&d[0]?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===d[0]||2===d[0])){e=0;continue}if(3===d[0]&&(!s||d[1]>s[0]&&d[1]<s[3])){e.label=d[1];break}if(6===d[0]&&e.label<s[1]){e.label=s[1],s=d;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(d);break}s[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(f){d=[6,f],r=0}finally{i=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,f])}}},vB=function(){function n(t,e,i,r,s,a,l){this.httpClient=t,this.accessTokenFactory=e,this.logger=i,this.logMessageContent=r,this.withCredentials=a,this.eventSourceConstructor=s,this.headers=l,this.onreceive=null,this.onclose=null}return n.prototype.connect=function(t,e){return NS(this,void 0,void 0,function(){var i,r=this;return LS(this,function(s){switch(s.label){case 0:return Jt.isRequired(t,"url"),Jt.isRequired(e,"transferFormat"),Jt.isIn(e,an,"transferFormat"),this.logger.log(P.Trace,"(SSE transport) Connecting."),this.url=t,this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(i=s.sent())&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(i)),s.label=2;case 2:return[2,new Promise(function(a,l){var c=!1;if(e===an.Text){var d;if(Mn.isBrowser||Mn.isWebWorker)d=new r.eventSourceConstructor(t,{withCredentials:r.withCredentials});else{var f=r.httpClient.getCookieString(t),g={};g.Cookie=f;var v=Xo();g[v[0]]=v[1],d=new r.eventSourceConstructor(t,{withCredentials:r.withCredentials,headers:mB({},g,r.headers)})}try{d.onmessage=function(D){if(r.onreceive)try{r.logger.log(P.Trace,"(SSE transport) data received. "+Bl(D.data,r.logMessageContent)+"."),r.onreceive(D.data)}catch(S){return void r.close(S)}},d.onerror=function(D){var S=new Error(D.data||"Error occurred");c?r.close(S):l(S)},d.onopen=function(){r.logger.log(P.Information,"SSE connected to "+r.url),r.eventSource=d,c=!0,a()}}catch(D){return void l(D)}}else l(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})]}})})},n.prototype.send=function(t){return NS(this,void 0,void 0,function(){return LS(this,function(e){return this.eventSource?[2,xS(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent,this.withCredentials,this.headers)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})},n.prototype.stop=function(){return this.close(),Promise.resolve()},n.prototype.close=function(t){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0,this.onclose&&this.onclose(t))},n}(),yB=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},DB=function(){function n(t,e,i,r,s,a){this.logger=i,this.accessTokenFactory=e,this.logMessageContent=r,this.webSocketConstructor=s,this.httpClient=t,this.onreceive=null,this.onclose=null,this.headers=a}return n.prototype.connect=function(t,e){return function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(f){s(f)}}function l(d){try{c(i.throw(d))}catch(f){s(f)}}function c(d){d.done?r(d.value):new e(function(f){f(d.value)}).then(a,l)}c((i=i.apply(n,[])).next())})}(this,0,void 0,function(){var i,r=this;return function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return function c(d){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&d[0]?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===d[0]||2===d[0])){e=0;continue}if(3===d[0]&&(!s||d[1]>s[0]&&d[1]<s[3])){e.label=d[1];break}if(6===d[0]&&e.label<s[1]){e.label=s[1],s=d;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(d);break}s[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(f){d=[6,f],r=0}finally{i=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,f])}}}(this,function(s){switch(s.label){case 0:return Jt.isRequired(t,"url"),Jt.isRequired(e,"transferFormat"),Jt.isIn(e,an,"transferFormat"),this.logger.log(P.Trace,"(WebSockets transport) Connecting."),this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(i=s.sent())&&(t+=(t.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(i)),s.label=2;case 2:return[2,new Promise(function(a,l){t=t.replace(/^http/,"ws");var c,d=r.httpClient.getCookieString(t),f=!1;if(Mn.isNode){var g={},v=Xo();g[v[0]]=v[1],d&&(g.Cookie=""+d),c=new r.webSocketConstructor(t,void 0,{headers:yB({},g,r.headers)})}c||(c=new r.webSocketConstructor(t)),e===an.Binary&&(c.binaryType="arraybuffer"),c.onopen=function(D){r.logger.log(P.Information,"WebSocket connected to "+t+"."),r.webSocket=c,f=!0,a()},c.onerror=function(D){var S;S=typeof ErrorEvent<"u"&&D instanceof ErrorEvent?D.error:new Error("There was an error with the transport."),l(S)},c.onmessage=function(D){if(r.logger.log(P.Trace,"(WebSockets transport) data received. "+Bl(D.data,r.logMessageContent)+"."),r.onreceive)try{r.onreceive(D.data)}catch(S){return void r.close(S)}},c.onclose=function(D){if(f)r.close(D);else{var S;S=typeof ErrorEvent<"u"&&D instanceof ErrorEvent?D.error:new Error("There was an error with the transport."),l(S)}}})]}})})},n.prototype.send=function(t){return this.webSocket&&this.webSocket.readyState===this.webSocketConstructor.OPEN?(this.logger.log(P.Trace,"(WebSockets transport) sending data. "+Bl(t,this.logMessageContent)+"."),this.webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")},n.prototype.stop=function(){return this.webSocket&&this.close(void 0),Promise.resolve()},n.prototype.close=function(t){this.webSocket&&(this.webSocket.onclose=function(){},this.webSocket.onmessage=function(){},this.webSocket.onerror=function(){},this.webSocket.close(),this.webSocket=void 0),this.logger.log(P.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this.isCloseEvent(t)||!1!==t.wasClean&&1e3===t.code?t instanceof Error?this.onclose(t):this.onclose():this.onclose(new Error("WebSocket closed with status code: "+t.code+" ("+t.reason+").")))},n.prototype.isCloseEvent=function(t){return t&&"boolean"==typeof t.wasClean&&"number"==typeof t.code},n}(),CB=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Is=function(n,t,e,i){return new(e||(e=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(f){s(f)}}function l(d){try{c(i.throw(d))}catch(f){s(f)}}function c(d){d.done?r(d.value):new e(function(f){f(d.value)}).then(a,l)}c((i=i.apply(n,t||[])).next())})},Xr=function(n,t){var i,r,s,a,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(f){return function c(d){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&d[0]?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,r=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===d[0]||2===d[0])){e=0;continue}if(3===d[0]&&(!s||d[1]>s[0]&&d[1]<s[3])){e.label=d[1];break}if(6===d[0]&&e.label<s[1]){e.label=s[1],s=d;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(d);break}s[2]&&e.ops.pop(),e.trys.pop();continue}d=t.call(n,e)}catch(f){d=[6,f],r=0}finally{i=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,f])}}},SB=function(){function n(t,e){if(void 0===e&&(e={}),this.stopPromiseResolver=function(){},this.features={},this.negotiateVersion=1,Jt.isRequired(t,"url"),this.logger=function Z2(n){return void 0===n?new Ad(P.Information):null===n?um.instance:n.log?n:new Ad(n)}(e.logger),this.baseUrl=this.resolveUrl(t),(e=e||{}).logMessageContent=void 0!==e.logMessageContent&&e.logMessageContent,"boolean"!=typeof e.withCredentials&&void 0!==e.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.withCredentials=void 0===e.withCredentials||e.withCredentials;var i=null,r=null;if(Mn.isNode){var s=require;i=s("ws"),r=s("eventsource")}!Mn.isNode&&typeof WebSocket<"u"&&!e.WebSocket?e.WebSocket=WebSocket:Mn.isNode&&!e.WebSocket&&i&&(e.WebSocket=i),!Mn.isNode&&typeof EventSource<"u"&&!e.EventSource?e.EventSource=EventSource:Mn.isNode&&!e.EventSource&&typeof r<"u"&&(e.EventSource=r),this.httpClient=e.httpClient||new lB(this.logger),this.connectionState="Disconnected",this.connectionStarted=!1,this.options=e,this.onreceive=null,this.onclose=null}return n.prototype.start=function(t){return Is(this,void 0,void 0,function(){var e;return Xr(this,function(i){switch(i.label){case 0:return Jt.isIn(t=t||an.Binary,an,"transferFormat"),this.logger.log(P.Debug,"Starting connection with transfer format '"+an[t]+"'."),"Disconnected"!==this.connectionState?[2,Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."))]:(this.connectionState="Connecting",this.startInternalPromise=this.startInternal(t),[4,this.startInternalPromise]);case 1:return i.sent(),"Disconnecting"!==this.connectionState?[3,3]:(this.logger.log(P.Error,e="Failed to start the HttpConnection before stop() was called."),[4,this.stopPromise]);case 2:return i.sent(),[2,Promise.reject(new Error(e))];case 3:if("Connected"!==this.connectionState)return this.logger.log(P.Error,e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!"),[2,Promise.reject(new Error(e))];i.label=4;case 4:return this.connectionStarted=!0,[2]}})})},n.prototype.send=function(t){return"Connected"!==this.connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this.sendQueue||(this.sendQueue=new EB(this.transport)),this.sendQueue.send(t))},n.prototype.stop=function(t){return Is(this,void 0,void 0,function(){var e=this;return Xr(this,function(i){switch(i.label){case 0:return"Disconnected"===this.connectionState?(this.logger.log(P.Debug,"Call to HttpConnection.stop("+t+") ignored because the connection is already in the disconnected state."),[2,Promise.resolve()]):"Disconnecting"===this.connectionState?(this.logger.log(P.Debug,"Call to HttpConnection.stop("+t+") ignored because the connection is already in the disconnecting state."),[2,this.stopPromise]):(this.connectionState="Disconnecting",this.stopPromise=new Promise(function(r){e.stopPromiseResolver=r}),[4,this.stopInternal(t)]);case 1:return i.sent(),[4,this.stopPromise];case 2:return i.sent(),[2]}})})},n.prototype.stopInternal=function(t){return Is(this,void 0,void 0,function(){var i;return Xr(this,function(r){switch(r.label){case 0:this.stopError=t,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.startInternalPromise];case 2:case 3:return r.sent(),[3,4];case 4:if(!this.transport)return[3,9];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.transport.stop()];case 6:return r.sent(),[3,8];case 7:return i=r.sent(),this.logger.log(P.Error,"HttpConnection.transport.stop() threw error '"+i+"'."),this.stopConnection(),[3,8];case 8:return this.transport=void 0,[3,10];case 9:this.logger.log(P.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed."),r.label=10;case 10:return[2]}})})},n.prototype.startInternal=function(t){return Is(this,void 0,void 0,function(){var e,i,r,s,a,l;return Xr(this,function(c){switch(c.label){case 0:e=this.baseUrl,this.accessTokenFactory=this.options.accessTokenFactory,c.label=1;case 1:return c.trys.push([1,12,,13]),this.options.skipNegotiation?this.options.transport!==en.WebSockets?[3,3]:(this.transport=this.constructTransport(en.WebSockets),[4,this.startTransport(e,t)]):[3,5];case 2:return c.sent(),[3,4];case 3:throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:i=null,r=0,s=function(){var d;return Xr(this,function(f){switch(f.label){case 0:return[4,a.getNegotiationResponse(e)];case 1:if(i=f.sent(),"Disconnecting"===a.connectionState||"Disconnected"===a.connectionState)throw new Error("The connection was stopped during negotiation.");if(i.error)throw new Error(i.error);if(i.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");return i.url&&(e=i.url),i.accessToken&&(d=i.accessToken,a.accessTokenFactory=function(){return d}),r++,[2]}})},a=this,c.label=6;case 6:return[5,s()];case 7:c.sent(),c.label=8;case 8:if(i.url&&r<100)return[3,6];c.label=9;case 9:if(100===r&&i.url)throw new Error("Negotiate redirection limit exceeded.");return[4,this.createTransport(e,this.options.transport,i,t)];case 10:c.sent(),c.label=11;case 11:return this.transport instanceof OS&&(this.features.inherentKeepAlive=!0),"Connecting"===this.connectionState&&(this.logger.log(P.Debug,"The HttpConnection connected successfully."),this.connectionState="Connected"),[3,13];case 12:return l=c.sent(),this.logger.log(P.Error,"Failed to start the connection: "+l),this.connectionState="Disconnected",this.transport=void 0,this.stopPromiseResolver(),[2,Promise.reject(l)];case 13:return[2]}})})},n.prototype.getNegotiationResponse=function(t){return Is(this,void 0,void 0,function(){var e,i,r,l,c,d,f;return Xr(this,function(g){switch(g.label){case 0:return e={},this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(i=g.sent())&&(e.Authorization="Bearer "+i),g.label=2;case 2:r=Xo(),e[r[0]]=r[1],l=this.resolveNegotiateUrl(t),this.logger.log(P.Debug,"Sending negotiation request: "+l+"."),g.label=3;case 3:return g.trys.push([3,5,,6]),[4,this.httpClient.post(l,{content:"",headers:CB({},e,this.options.headers),withCredentials:this.options.withCredentials})];case 4:return 200!==(c=g.sent()).statusCode?[2,Promise.reject(new Error("Unexpected status code returned from negotiate '"+c.statusCode+"'"))]:((!(d=JSON.parse(c.content)).negotiateVersion||d.negotiateVersion<1)&&(d.connectionToken=d.connectionId),[2,d]);case 5:return f=g.sent(),this.logger.log(P.Error,"Failed to complete negotiation with the server: "+f),[2,Promise.reject(f)];case 6:return[2]}})})},n.prototype.createConnectUrl=function(t,e){return e?t+(-1===t.indexOf("?")?"?":"&")+"id="+e:t},n.prototype.createTransport=function(t,e,i,r){return Is(this,void 0,void 0,function(){var s,a,c,d,f,g,v,y,w;return Xr(this,function(S){switch(S.label){case 0:return s=this.createConnectUrl(t,i.connectionToken),this.isITransport(e)?(this.logger.log(P.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=e,[4,this.startTransport(s,r)]):[3,2];case 1:return S.sent(),this.connectionId=i.connectionId,[2];case 2:a=[],c=i,d=0,f=i.availableTransports||[],S.label=3;case 3:return d<f.length?(v=this.resolveTransportOrError(g=f[d],e,r))instanceof Error?(a.push(g.transport+" failed: "+v),[3,12]):[3,4]:[3,13];case 4:if(!this.isITransport(v))return[3,12];if(this.transport=v,c)return[3,9];S.label=5;case 5:return S.trys.push([5,7,,8]),[4,this.getNegotiationResponse(t)];case 6:return c=S.sent(),[3,8];case 7:return y=S.sent(),[2,Promise.reject(y)];case 8:s=this.createConnectUrl(t,c.connectionToken),S.label=9;case 9:return S.trys.push([9,11,,12]),[4,this.startTransport(s,r)];case 10:return S.sent(),this.connectionId=c.connectionId,[2];case 11:return w=S.sent(),this.logger.log(P.Error,"Failed to start the transport '"+g.transport+"': "+w),c=void 0,a.push(g.transport+" failed: "+w),"Connecting"!==this.connectionState?(this.logger.log(P.Debug,"Failed to select transport before stop() was called."),[2,Promise.reject(new Error("Failed to select transport before stop() was called."))]):[3,12];case 12:return d++,[3,3];case 13:return a.length>0?[2,Promise.reject(new Error("Unable to connect to the server with any of the available transports. "+a.join(" ")))]:[2,Promise.reject(new Error("None of the transports supported by the client are supported by the server."))]}})})},n.prototype.constructTransport=function(t){switch(t){case en.WebSockets:if(!this.options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new DB(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.WebSocket,this.options.headers||{});case en.ServerSentEvents:if(!this.options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new vB(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.EventSource,this.options.withCredentials,this.options.headers||{});case en.LongPolling:return new OS(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.withCredentials,this.options.headers||{});default:throw new Error("Unknown transport: "+t+".")}},n.prototype.startTransport=function(t,e){var i=this;return this.transport.onreceive=this.onreceive,this.transport.onclose=function(r){return i.stopConnection(r)},this.transport.connect(t,e)},n.prototype.resolveTransportOrError=function(t,e,i){var r=en[t.transport];if(null==r)return this.logger.log(P.Debug,"Skipping transport '"+t.transport+"' because it is not supported by this client."),new Error("Skipping transport '"+t.transport+"' because it is not supported by this client.");if(!function bB(n,t){return!n||0!=(t&n)}(e,r))return this.logger.log(P.Debug,"Skipping transport '"+en[r]+"' because it was disabled by the client."),new Error("'"+en[r]+"' is disabled by the client.");if(!(t.transferFormats.map(function(a){return an[a]}).indexOf(i)>=0))return this.logger.log(P.Debug,"Skipping transport '"+en[r]+"' because it does not support the requested transfer format '"+an[i]+"'."),new Error("'"+en[r]+"' does not support "+an[i]+".");if(r===en.WebSockets&&!this.options.WebSocket||r===en.ServerSentEvents&&!this.options.EventSource)return this.logger.log(P.Debug,"Skipping transport '"+en[r]+"' because it is not supported in your environment.'"),new Error("'"+en[r]+"' is not supported in your environment.");this.logger.log(P.Debug,"Selecting transport '"+en[r]+"'.");try{return this.constructTransport(r)}catch(a){return a}},n.prototype.isITransport=function(t){return t&&"object"==typeof t&&"connect"in t},n.prototype.stopConnection=function(t){var e=this;if(this.logger.log(P.Debug,"HttpConnection.stopConnection("+t+") called while in state "+this.connectionState+"."),this.transport=void 0,t=this.stopError||t,this.stopError=void 0,"Disconnected"!==this.connectionState){if("Connecting"===this.connectionState)throw this.logger.log(P.Warning,"Call to HttpConnection.stopConnection("+t+") was ignored because the connection is still in the connecting state."),new Error("HttpConnection.stopConnection("+t+") was called while the connection is still in the connecting state.");if("Disconnecting"===this.connectionState&&this.stopPromiseResolver(),t?this.logger.log(P.Error,"Connection disconnected with error '"+t+"'."):this.logger.log(P.Information,"Connection disconnected."),this.sendQueue&&(this.sendQueue.stop().catch(function(i){e.logger.log(P.Error,"TransportSendQueue.stop() threw error '"+i+"'.")}),this.sendQueue=void 0),this.connectionId=void 0,this.connectionState="Disconnected",this.connectionStarted){this.connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(i){this.logger.log(P.Error,"HttpConnection.onclose("+t+") threw error '"+i+"'.")}}}else this.logger.log(P.Debug,"Call to HttpConnection.stopConnection("+t+") was ignored because the connection is already in the disconnected state.")},n.prototype.resolveUrl=function(t){if(0===t.lastIndexOf("https://",0)||0===t.lastIndexOf("http://",0))return t;if(!Mn.isBrowser||!window.document)throw new Error("Cannot resolve '"+t+"'.");var e=window.document.createElement("a");return e.href=t,this.logger.log(P.Information,"Normalizing '"+t+"' to '"+e.href+"'."),e.href},n.prototype.resolveNegotiateUrl=function(t){var e=t.indexOf("?"),i=t.substring(0,-1===e?t.length:e);return"/"!==i[i.length-1]&&(i+="/"),i+="negotiate",-1===(i+=-1===e?"":t.substring(e)).indexOf("negotiateVersion")&&(i+=-1===e?"?":"&",i+="negotiateVersion="+this.negotiateVersion),i},n}(),EB=function(){function n(t){this.transport=t,this.buffer=[],this.executing=!0,this.sendBufferedData=new xd,this.transportResult=new xd,this.sendLoopPromise=this.sendLoop()}return n.prototype.send=function(t){return this.bufferData(t),this.transportResult||(this.transportResult=new xd),this.transportResult.promise},n.prototype.stop=function(){return this.executing=!1,this.sendBufferedData.resolve(),this.sendLoopPromise},n.prototype.bufferData=function(t){if(this.buffer.length&&typeof this.buffer[0]!=typeof t)throw new Error("Expected data to be of type "+typeof this.buffer+" but was of type "+typeof t);this.buffer.push(t),this.sendBufferedData.resolve()},n.prototype.sendLoop=function(){return Is(this,void 0,void 0,function(){var t,e,i;return Xr(this,function(r){switch(r.label){case 0:return[4,this.sendBufferedData.promise];case 1:if(r.sent(),!this.executing)return this.transportResult&&this.transportResult.reject("Connection stopped."),[3,6];this.sendBufferedData=new xd,t=this.transportResult,this.transportResult=void 0,e="string"==typeof this.buffer[0]?this.buffer.join(""):n.concatBuffers(this.buffer),this.buffer.length=0,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.transport.send(e)];case 3:return r.sent(),t.resolve(),[3,5];case 4:return i=r.sent(),t.reject(i),[3,5];case 5:return[3,0];case 6:return[2]}})})},n.concatBuffers=function(t){for(var e=t.map(function(c){return c.byteLength}).reduce(function(c,d){return c+d}),i=new Uint8Array(e),r=0,s=0,a=t;s<a.length;s++){var l=a[s];i.set(new Uint8Array(l),r),r+=l.byteLength}return i.buffer},n}(),xd=function(){function n(){var t=this;this.promise=new Promise(function(e,i){var r;return t.resolver=(r=[e,i])[0],t.rejecter=r[1],r})}return n.prototype.resolve=function(){this.resolver()},n.prototype.reject=function(t){this.rejecter(t)},n}(),MB=function(){function n(){this.name="json",this.version=1,this.transferFormat=an.Text}return n.prototype.parseMessages=function(t,e){if("string"!=typeof t)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];null===e&&(e=um.instance);for(var r=[],s=0,a=Jo.parse(t);s<a.length;s++){var c=JSON.parse(a[s]);if("number"!=typeof c.type)throw new Error("Invalid payload.");switch(c.type){case at.Invocation:this.isInvocationMessage(c);break;case at.StreamItem:this.isStreamItemMessage(c);break;case at.Completion:this.isCompletionMessage(c);break;case at.Ping:case at.Close:break;default:e.log(P.Information,"Unknown message type '"+c.type+"' ignored.");continue}r.push(c)}return r},n.prototype.writeMessage=function(t){return Jo.write(JSON.stringify(t))},n.prototype.isInvocationMessage=function(t){this.assertNotEmptyString(t.target,"Invalid payload for Invocation message."),void 0!==t.invocationId&&this.assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")},n.prototype.isStreamItemMessage=function(t){if(this.assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),void 0===t.item)throw new Error("Invalid payload for StreamItem message.")},n.prototype.isCompletionMessage=function(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this.assertNotEmptyString(t.error,"Invalid payload for Completion message."),this.assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")},n.prototype.assertNotEmptyString=function(t,e){if("string"!=typeof t||""===t)throw new Error(e)},n}(),BS=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},IB={trace:P.Trace,debug:P.Debug,info:P.Information,information:P.Information,warn:P.Warning,warning:P.Warning,error:P.Error,critical:P.Critical,none:P.None};!function(){function n(){}n.prototype.configureLogging=function(t){if(Jt.isRequired(t,"logging"),function AB(n){return void 0!==n.log}(t))this.logger=t;else if("string"==typeof t){var e=function PB(n){var t=IB[n.toLowerCase()];if(typeof t<"u")return t;throw new Error("Unknown log level: "+n)}(t);this.logger=new Ad(e)}else this.logger=new Ad(t);return this},n.prototype.withUrl=function(t,e){return Jt.isRequired(t,"url"),Jt.isNotEmpty(t,"url"),this.url=t,this.httpConnectionOptions=BS({},this.httpConnectionOptions,"object"==typeof e?e:{transport:e}),this},n.prototype.withHubProtocol=function(t){return Jt.isRequired(t,"protocol"),this.protocol=t,this},n.prototype.withAutomaticReconnect=function(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=t?Array.isArray(t)?new kS(t):t:new kS,this},n.prototype.build=function(){var t=this.httpConnectionOptions||{};if(void 0===t.logger&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var e=new SB(this.url,t);return fB.create(e,this.logger||um.instance,this.protocol||new MB,this.reconnectPolicy)}}();class Qn{constructor(){this.baseApiUrl=()=>"http://localhost:8080/api/",this.apiVersion="v4",this.channelUrl="",this.channelHubName="",this.clientId="",this.googleApiKey="",this.logLevel=0,this.isMobileApp=!1}get apiUrl(){return`${this.baseApiUrl()}/api/${this.apiVersion}`}}class LB{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}let zl=(()=>{class n{constructor(e){this.config=e}logError(e,...i){this.config.logLevel>=2&&(i&&i.length?console.error(`[ERROR] - ${e}`,...i):console.error(`[ERROR] - ${e}`))}logWarning(e,...i){this.config.logLevel>=1&&(i&&i.length?console.warn(`[WARN] - ${e}`,...i):console.warn(`[WARN] - ${e}`))}logDebug(e,i,...r){this.config.logLevel>=0&&(r&&r.length?console.log(`[DEBUG] ${e} - ${i}`,...r):console.log(`[DEBUG] ${e} - ${i}`))}}return n.\u0275fac=function(e){return new(e||n)(U(Qn))},n.\u0275prov=ae({factory:function(){return new n(U(Qn))},token:n,providedIn:"root"}),n})(),jS=(()=>{class n{constructor(e,i){this.logger=e,this.config=i}read(e){const i=`${this.config.clientId}.${e}`,r=localStorage.getItem(i);return r?(this.logger.logDebug(this.config.clientId,`readKey ${i} length: ${r.length}`),JSON.parse(r)):(this.logger.logDebug(this.config.clientId,`readKey ${i} empty`),null)}write(e,i){return localStorage.setItem(`${this.config.clientId}.${e}`,JSON.stringify(i)),!0}remove(e){return localStorage.removeItem(`${this.config.clientId}.${e}`),!0}clear(){return localStorage.clear(),!0}}return n.\u0275fac=function(e){return new(e||n)(U(zl),U(Qn))},n.\u0275prov=ae({factory:function(){return new n(U(zl),U(Qn))},token:n,providedIn:"root"}),n})(),FB=(()=>{class n{constructor(e,i,r,s){this.http=e,this.config=i,this.storageService=r,this.logger=s,this.isRefreshing=!1,this.refreshTokenSubject=new bl(null),this.initalState={profile:void 0,tokens:void 0,authReady:!1},this.authReady$=new bl(!1),this.state=new bl(this.initalState),this.state$=this.state.asObservable(),this.tokens$=this.state.pipe(mn(a=>null!=a.authReady&&0!=a.authReady),He(a=>a.tokens)),this.profile$=this.state.pipe(mn(a=>null!=a.authReady&&0!=a.authReady),He(a=>a.profile)),this.loggedIn$=this.tokens$.pipe(He(a=>!!a))}init(){return this.startupTokenRefresh().pipe(O0(()=>this.scheduleRefresh()))}login(e){return this.getTokens(e,"password")}logout(){this.updateState({profile:void 0,tokens:void 0}),this.refreshSubscription$&&this.refreshSubscription$.unsubscribe(),this.removeToken()}refreshTokens(){this.logger.logDebug(this.config.clientId,"Starting refresh token flow");const e=this.retrieveTokens();return e&&e.refresh_token&&e.refresh_token.length>0?this.isRefreshing?this.refreshTokenSubject.pipe(mn(i=>null!==i),Kr(1),Wr(i=>Ss(i))):(this.isRefreshing=!0,this.logger.logDebug(this.config.clientId,"Retrived stored tokens"),this.getTokens({username:"",password:"",refresh_token:e.refresh_token},"refresh_token")):(this.logger.logDebug(this.config.clientId,"No stored tokens retrived"),Ss(null))}storeToken(e){const i=this.retrieveTokens();null!=i&&null==e.refresh_token&&(e.refresh_token=i.refresh_token),this.storageService.write("auth-tokens",e)}retrieveTokens(){return this.storageService.read("auth-tokens")}removeToken(){this.storageService.remove("auth-tokens")}updateState(e){const i=this.state.getValue();this.state.next(Object.assign({},i,e))}getTokens(e,i){let r=new ir;r=r.set("Content-Type","application/x-www-form-urlencoded");let s=new Cr({encoder:new LB});return s=s.set("grant_type",i),e.refresh_token&&e.refresh_token.length>0?s=s.append("refresh_token",e.refresh_token):(s=s.append("scope",this.config.isMobileApp?"openid profile offline_access mobile":"openid profile offline_access"),s=s.append("username",e.username),s=s.append("password",e.password)),this.logger.logDebug(this.config.clientId,"performing token connection"),this.http.post(`${this.config.apiUrl}/connect/token`,s,{headers:r}).pipe(He(a=>{const l=new Date;a.expiration_date=new Date(l.getTime()+1e3*a.expires_in).getTime().toString(),this.logger.logDebug(this.config.clientId,`got token expiration: ${a.expiration_date}`);const c=PS(a.id_token);return this.storeToken(a),this.updateState({authReady:!0,tokens:a,profile:c}),this.isRefreshing=!1,this.refreshTokenSubject.next(c),c}),Nl(a=>(this.isRefreshing=!1,this.refreshTokenSubject.next(null),Id(a))))}startupTokenRefresh(){return Ss(this.retrieveTokens()).pipe(He(e=>{if(!e)return this.updateState({authReady:!0}),Ss("No token in Storage");const i=PS(e.id_token);return this.updateState({tokens:e,profile:i}),+e.expiration_date>(new Date).getTime()&&this.updateState({authReady:!0}),this.refreshTokens()}),Nl(e=>(this.logout(),this.updateState({authReady:!0}),Ss(e))))}scheduleRefresh(){this.refreshSubscription$=this.tokens$.pipe(Kr(1),He(e=>{e&&(this.logger.logDebug(this.config.clientId,"Will refresh auth token in "+.8*e.expires_in*1e3),v0(.8*e.expires_in*1e3))}),He(()=>this.refreshTokens())).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(U(Qr),U(Qn),U(jS),U(zl))},n.\u0275prov=ae({factory:function(){return new n(U(Qr),U(Qn),U(jS),U(zl))},token:n,providedIn:"root"}),n})(),BB=(()=>{class n{constructor(e,i,r){this.authService=e,this.config=i,this.logger=r,this.isRefreshing=!1,this.refreshTokenSubject=new bl(null)}intercept(e,i){if(this.shouldAddTokenToRequest(e.url)){const r=this.addAuthHeader(e);return i.handle(r).pipe(Nl(s=>s instanceof Xg&&401===s.status?this.handle401Error(e,i):Id(s)))}return i.handle(e)}handle401Error(e,i){return this.isRefreshing?this.refreshTokenSubject.pipe(mn(r=>null!==r),Kr(1),Wr(r=>i.handle(this.addAuthHeader(e)))):(this.isRefreshing=!0,this.refreshTokenSubject.next(null),this.authService.refreshTokens().pipe(Wr(r=>{this.isRefreshing=!1;const s=this.addAuthHeader(e),a=this.authService.retrieveTokens();return this.refreshTokenSubject.next(a.access_token),i.handle(s)}),Nl(r=>(this.isRefreshing=!1,this.authService.logout(),Id(r)))))}addAuthHeader(e){const i=this.authService.retrieveTokens();return i?e.clone({headers:e.headers.set("Authorization","Bearer "+i.access_token)}):e}handleResponseError(e,i,r){return 400!==e.status&&401===e.status?(this.logger.logDebug(this.config.clientId,`In handleResponseError got 401 response: ${i.url}`),Eg(1e4).pipe(Wr(()=>{const s=this.addAuthHeader(i);return r.handle(s)}))):Id(e)}shouldAddTokenToRequest(e){return!(!e.startsWith(this.config.baseApiUrl())||e.includes("/connect/token"))}}return n.\u0275fac=function(e){return new(e||n)(U(FB),U(Qn),U(zl))},n.\u0275prov=ae({token:n,factory:n.\u0275fac}),n})(),HB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Le({providers:[{provide:em,useClass:BB,multi:!0}]}),n})(),VB=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:Qn,useFactory:()=>{let i=new Qn;return i.baseApiUrl=e.baseApiUrl,i.apiVersion=e.apiVersion,i.clientId=e.clientId,i.googleApiKey=e.googleApiKey,i.channelUrl=e.channelUrl,i.channelHubName=e.channelHubName,i.logLevel=e.logLevel,i.isMobileApp=e.isMobileApp,i}}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=At({type:n}),n.\u0275inj=Le({imports:[[HB]]}),n})(),jB=(()=>{class n{constructor(e,i){this.http=e,this.config=i}getMapDataAndMarkers(){return this.http.get(this.config.apiUrl+"/Mapping/GetMapDataAndMarkers")}}return n.\u0275fac=function(e){return new(e||n)(U(Qr),U(Qn))},n.\u0275prov=ae({factory:function(){return new n(U(Qr),U(Qn))},token:n,providedIn:"root"}),n})(),UB=(()=>{class n{constructor(e,i){this.http=e,this.config=i}getShifts(){return this.http.get(this.config.apiUrl+"/Shifts/GetShifts")}getShift(e){return this.http.get(this.config.apiUrl+"/Shifts/GetShift?id="+e)}getTodaysShifts(){return this.http.get(this.config.apiUrl+"/Shifts/GetTodaysShifts")}getShiftDay(e){return this.http.get(this.config.apiUrl+"/Shifts/GetShiftDay?id="+e)}signupForShiftDay(e,i){return this.http.post(this.config.apiUrl+"/Shifts/SignupForShiftDay",{ShiftDayId:e,GroupId:i})}}return n.\u0275fac=function(e){return new(e||n)(U(Qr),U(Qn))},n.\u0275prov=ae({factory:function(){return new n(U(Qr),U(Qn))},token:n,providedIn:"root"}),n})();Window;const dH=["modalContent"];function hH(n,t){1&n&&(Z(0,"div",2)(1,"div",3),St(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8),Y(),St(7,"br"),It(8," Loading shift calendar... "),Y())}function fH(n,t){if(1&n){const e=Nt();Z(0,"mwl-calendar-month-view",19),Ie("dayClicked",function(r){return ee(e),R(2).dayClicked(r.day)})("eventClicked",function(r){return ee(e),R(2).handleEvent("Clicked",r.event)}),Y()}if(2&n){const e=R().$implicit,i=R();N("viewDate",i.viewDate)("events",e)("refresh",i.refresh)("activeDayIsOpen",i.activeDayIsOpen)}}function pH(n,t){if(1&n){const e=Nt();Z(0,"mwl-calendar-week-view",20),Ie("eventClicked",function(r){return ee(e),R(2).handleEvent("Clicked",r.event)}),Y()}if(2&n){const e=R().$implicit,i=R();N("viewDate",i.viewDate)("events",e)("refresh",i.refresh)}}function gH(n,t){if(1&n){const e=Nt();Z(0,"mwl-calendar-day-view",20),Ie("eventClicked",function(r){return ee(e),R(2).handleEvent("Clicked",r.event)}),Y()}if(2&n){const e=R().$implicit,i=R();N("viewDate",i.viewDate)("events",e)("refresh",i.refresh)}}function mH(n,t){if(1&n){const e=Nt();Z(0,"div")(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12),Ie("viewDateChange",function(r){return ee(e),R().viewDate=r})("viewDateChange",function(){return ee(e),R().closeOpenMonthViewDay()}),It(5," Previous "),Y(),Z(6,"div",13),Ie("viewDateChange",function(r){return ee(e),R().viewDate=r}),It(7," Today "),Y(),Z(8,"div",14),Ie("viewDateChange",function(r){return ee(e),R().viewDate=r})("viewDateChange",function(){return ee(e),R().closeOpenMonthViewDay()}),It(9," Next "),Y()()(),Z(10,"div",10)(11,"h3"),It(12),_t(13,"calendarDate"),Y()(),Z(14,"div",10)(15,"div",11)(16,"div",15),Ie("click",function(){ee(e);const r=R();return r.setView(r.CalendarView.Month)}),It(17," Month "),Y(),Z(18,"div",15),Ie("click",function(){ee(e);const r=R();return r.setView(r.CalendarView.Week)}),It(19," Week "),Y(),Z(20,"div",15),Ie("click",function(){ee(e);const r=R();return r.setView(r.CalendarView.Day)}),It(21," Day "),Y()()()(),St(22,"br"),Z(23,"div",16),ne(24,fH,1,4,"mwl-calendar-month-view",17),ne(25,pH,1,3,"mwl-calendar-week-view",18),ne(26,gH,1,3,"mwl-calendar-day-view",18),Y()()}if(2&n){const e=R();V(4),N("view",e.view)("viewDate",e.viewDate),V(2),N("viewDate",e.viewDate),V(2),N("view",e.view)("viewDate",e.viewDate),V(4),ps(Ti(13,16,e.viewDate,e.view+"ViewTitle","en")),V(4),pn("active",e.view===e.CalendarView.Month),V(2),pn("active",e.view===e.CalendarView.Week),V(2),pn("active",e.view===e.CalendarView.Day),V(3),N("ngSwitch",e.view),V(1),N("ngSwitchCase",e.CalendarView.Month),V(1),N("ngSwitchCase",e.CalendarView.Week),V(1),N("ngSwitchCase",e.CalendarView.Day)}}let vH=(()=>{class n{constructor(e,i){this.shiftProvider=e,this.http=i,this.view=wr.Month,this.CalendarView=wr,this.viewDate=new Date,this.refresh=new Me,this.activeDayIsOpen=!0,this.actions=[{label:'<i class="fas fa-fw fa-pencil-alt"></i>',a11yLabel:"Edit",onClick:({event:r})=>{this.handleEvent("Edited",r)}},{label:'<i class="fas fa-fw fa-trash-alt"></i>',a11yLabel:"Delete",onClick:({event:r})=>{this.handleEvent("Deleted",r)}}],this.events$=this.http.get("/User/Shifts/GetShiftCalendarItems").pipe(He(r=>{if(r&&r.length>0)return r.map(s=>{if(s)return{title:s.Title,start:new Date(s.Start),end:new Date(s.End),color:{primary:s.Color,secondary:s.Color},allDay:s.IsAllDay,draggable:!1,resizable:{beforeStart:!1,afterEnd:!1},meta:{shift:s}}})}))}ngOnInit(){}ngAfterContentInit(){}dayClicked({date:e,events:i}){fS(e,this.viewDate)&&(this.activeDayIsOpen=!(hS(this.viewDate,e)&&!0===this.activeDayIsOpen||0===i.length),this.viewDate=e)}handleEvent(e,i){e&&"Clicked"===e&&i&&i.meta&&i.meta.shift&&(i.meta.shift.WorkshiftId?window.open(`/User/Workshifts/ViewDay?dayId=${i.meta.shift.WorkshiftDayId}`,"_self"):0===i.meta.shift.SignupType?window.open(`/User/Shifts/ViewShift?shiftDayId=${i.meta.shift.CalendarItemId}`,"_self"):window.open(`/User/Shifts/Signup?shiftDayId=${i.meta.shift.CalendarItemId}`,"_self"))}setView(e){this.view=e}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}}return n.\u0275fac=function(e){return new(e||n)(O(UB),O(Qr))},n.\u0275cmp=ot({type:n,selectors:[["ng-component"]],viewQuery:function(e,i){if(1&e&&hp(dH,7),2&e){let r;dp(r=fp())&&(i.modalContent=r.first)}},decls:4,vars:4,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"text-center"],[1,"sk-spinner","sk-spinner-wave"],[1,"sk-rect1"],[1,"sk-rect2",2,"padding-left","4px"],[1,"sk-rect3",2,"padding-left","4px"],[1,"sk-rect4",2,"padding-left","4px"],[1,"sk-rect5",2,"padding-left","4px"],[1,"row","text-center"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],[1,"btn","btn-primary",3,"click"],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked",4,"ngSwitchCase"],[3,"viewDate","events","refresh","eventClicked",4,"ngSwitchCase"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked"],[3,"viewDate","events","refresh","eventClicked"]],template:function(e,i){if(1&e&&(ne(0,hH,9,0,"ng-template",null,0,qn),ne(2,mH,27,20,"div",1),_t(3,"async")),2&e){const r=$t(1);V(2),N("ngIf",Cc(3,2,i.events$))("ngIfElse",r)}},directives:[yr,mF,yF,vF,Vc,nC,bF,nS,xF],pipes:[Up,xl],styles:[""],changeDetection:0}),n})();var $l=B(407);const yH=["map"];function _H(n,t){if(1&n){const e=Nt();Z(0,"div",3),It(1," Show Calls: "),Z(2,"input",4),Ie("change",function(r){return ee(e),R().changeShowCalls(r)}),Y(),It(3," \xa0\xa0\xa0 Show Stations: "),Z(4,"input",4),Ie("change",function(r){return ee(e),R().changeShowStations(r)}),Y(),It(5," \xa0\xa0\xa0 Show Units: "),Z(6,"input",4),Ie("change",function(r){return ee(e),R().changeShowUnits(r)}),Y(),It(7," \xa0\xa0\xa0 Show Personnel: "),Z(8,"input",4),Ie("change",function(r){return ee(e),R().changeShowPeople(r)}),Y()()}if(2&n){const e=R();V(2),N("checked",e.showCalls),V(2),N("checked",e.showStations),V(2),N("checked",e.showUnits),V(2),N("checked",e.showPersonnel)}}let wH=(()=>{class n{constructor(e,i){this.mapProvider=e,this.cdRef=i,this.showCalls=!0,this.showStations=!0,this.showUnits=!0,this.showPersonnel=!0,this.markers=[]}ngOnInit(){this.mapProvider.getMapDataAndMarkers().subscribe(e=>{this.processMapData(e.Data)}),typeof this.showbuttons>"u"&&(this.showbuttons=!1),typeof this.mapheight>"u"&&(this.mapheight="600px"),this.cdRef.detectChanges()}changeShowCalls(e){this.showCalls=e.target.checked,this.mapProvider.getMapDataAndMarkers().subscribe(r=>{this.processMapData(r.Data)})}changeShowStations(e){this.showStations=e.target.checked,this.mapProvider.getMapDataAndMarkers().subscribe(r=>{this.processMapData(r.Data)})}changeShowUnits(e){this.showUnits=e.target.checked,this.mapProvider.getMapDataAndMarkers().subscribe(r=>{this.processMapData(r.Data)})}changeShowPeople(e){this.showPersonnel=e.target.checked,this.mapProvider.getMapDataAndMarkers().subscribe(r=>{this.processMapData(r.Data)})}processMapData(e){if(e){var i=this.getMapCenter(e);if(!this.map){this.map=$l.map(this.mapContainer.nativeElement,{doubleClickZoom:!1,zoomControl:!1});const a=window.rgOsmKey;$l.tileLayer("https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key="+a,{attribution:'&copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'}).addTo(this.map)}if(this.map.setView(i,this.getMapZoomLevel(e)),this.markers&&this.markers.length>=0){for(var r=0;r<this.markers.length;r++)this.markers[r]&&this.map.removeLayer(this.markers[r]);this.markers=new Array}if(e.MapMakerInfos&&e.MapMakerInfos.length>0){e&&e.MapMakerInfos&&e.MapMakerInfos.forEach(a=>{if(0==a.Type&&this.showCalls||1==a.Type&&this.showUnits||2==a.Type&&this.showStations){let l=$l.marker([a.Latitude,a.Longitude],{icon:$l.icon({iconUrl:"/images/mapping/"+a.ImagePath+".png",iconSize:[32,37],iconAnchor:[16,37]}),draggable:!1,title:a.Title}).bindTooltip(a.Title,{permanent:!0,direction:"bottom"}).addTo(this.map);this.markers.push(l)}});var s=$l.featureGroup(this.markers);this.map.fitBounds(s.getBounds())}}}getMapCenter(e){return[e.CenterLat,e.CenterLon]}getMapZoomLevel(e){return e.ZoomLevel}}return n.\u0275fac=function(e){return new(e||n)(O(jB),O(hl))},n.\u0275cmp=ot({type:n,selectors:[["ng-component"]],viewQuery:function(e,i){if(1&e&&hp(yH,5),2&e){let r;dp(r=fp())&&(i.mapContainer=r.first)}},inputs:{showbuttons:"showbuttons",mapheight:"mapheight"},decls:4,vars:3,consts:[["style","width: 100%; float: right; text-align: right;",4,"ngIf"],["id","map","name","map",2,"width","100%"],["map",""],[2,"width","100%","float","right","text-align","right"],["type","checkbox",3,"checked","change"]],template:function(e,i){1&e&&(Z(0,"div"),ne(1,_H,9,4,"div",0),St(2,"div",1,2),Y()),2&e&&(V(1),N("ngIf",i.showbuttons),V(1),pr("height",i.mapheight))},directives:[yr],styles:[""],changeDetection:0}),n})();const DH=()=>window.rgApiBaseUrl&&window.rgApiBaseUrl.length>0?window.rgApiBaseUrl.trim().toString():"https://api.resgrid.com";let bH=(()=>{class n{constructor(e){this.injector=e}ngDoBootstrap(){customElements.define("rg-shifts-calendar",SC(vH,{injector:this.injector})),customElements.define("rg-map",SC(wH,{injector:this.injector}))}}return n.\u0275fac=function(e){return new(e||n)(U(Cn))},n.\u0275mod=At({type:n}),n.\u0275inj=Le({providers:[],imports:[[Go,H2,_C,AO,kF.forRoot({provide:Dr,useFactory:b2}),VB.forRoot({baseApiUrl:DH,apiVersion:"v4",clientId:"RgWebApp",googleApiKey:window.rgGoogleMapsKey&&window.rgGoogleMapsKey.length>0?window.rgGoogleMapsKey.trim().toString():"",channelUrl:window.rgChannelUrl&&window.rgChannelUrl.length>0?window.rgChannelUrl.trim().toString():"https://events.resgrid.com",channelHubName:"eventingHub",logLevel:0,isMobileApp:!1})]]}),n})();(function aA(){kD=!1})(),ak().bootstrapModule(bH).catch(n=>console.error(n))},407:function(Zl,ql){!function(B){"use strict";function Ye(o){var u,h,p,m;for(h=1,p=arguments.length;h<p;h++)for(u in m=arguments[h])o[u]=m[u];return o}var Sr=Object.create||function(){function o(){}return function(u){return o.prototype=u,new o}}();function Ke(o,u){var h=Array.prototype.slice;if(o.bind)return o.bind.apply(o,h.call(arguments,1));var p=h.call(arguments,2);return function(){return o.apply(u,p.length?p.concat(h.call(arguments)):arguments)}}var An=0;function Be(o){return"_leaflet_id"in o||(o._leaflet_id=++An),o._leaflet_id}function ea(o,u,h){var p,m,_,C;return C=function(){p=!1,m&&(_.apply(h,m),m=!1)},_=function(){p?m=arguments:(o.apply(h,arguments),setTimeout(C,u),p=!0)},_}function br(o,u,h){var p=u[1],m=u[0],_=p-m;return o===p&&h?o:((o-m)%_+_)%_+m}function nt(){return!1}function vn(o,u){if(!1===u)return o;var h=Math.pow(10,void 0===u?6:u);return Math.round(o*h)/h}function xs(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function ki(o){return xs(o).split(/\s+/)}function ft(o,u){for(var h in Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?Sr(o.options):{}),u)o.options[h]=u[h];return o.options}function Yl(o,u,h){var p=[];for(var m in o)p.push(encodeURIComponent(h?m.toUpperCase():m)+"="+encodeURIComponent(o[m]));return(u&&-1!==u.indexOf("?")?"&":"?")+p.join("&")}var Rd=/\{ *([\w_ -]+) *\}/g;function ks(o,u){return o.replace(Rd,function(h,p){var m=u[p];if(void 0===m)throw new Error("No value provided for variable "+h);return"function"==typeof m&&(m=m(u)),m})}var Yt=Array.isArray||function(o){return"[object Array]"===Object.prototype.toString.call(o)};function Er(o,u){for(var h=0;h<o.length;h++)if(o[h]===u)return h;return-1}var Rs="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function es(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var Kl=0;function Os(o){var u=+new Date,h=Math.max(0,16-(u-Kl));return Kl=u+h,window.setTimeout(o,h)}var ta=window.requestAnimationFrame||es("RequestAnimationFrame")||Os,Tr=window.cancelAnimationFrame||es("CancelAnimationFrame")||es("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function Ht(o,u,h){if(!h||ta!==Os)return ta.call(window,Ke(o,u));o.call(u)}function xn(o){o&&Tr.call(window,o)}var na={__proto__:null,extend:Ye,create:Sr,bind:Ke,get lastId(){return An},stamp:Be,throttle:ea,wrapNum:br,falseFn:nt,formatNum:vn,trim:xs,splitWords:ki,setOptions:ft,getParamString:Yl,template:ks,isArray:Yt,indexOf:Er,emptyImageUrl:Rs,requestFn:ta,cancelFn:Tr,requestAnimFrame:Ht,cancelAnimFrame:xn};function mi(){}mi.extend=function(o){var u=function(){ft(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=u.__super__=this.prototype,p=Sr(h);for(var m in p.constructor=u,u.prototype=p,this)Object.prototype.hasOwnProperty.call(this,m)&&"prototype"!==m&&"__super__"!==m&&(u[m]=this[m]);return o.statics&&Ye(u,o.statics),o.includes&&(function ia(o){if(!(typeof L>"u")&&L&&L.Mixin){o=Yt(o)?o:[o];for(var u=0;u<o.length;u++)o[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(o.includes),Ye.apply(null,[p].concat(o.includes))),Ye(p,o),delete p.statics,delete p.includes,p.options&&(p.options=h.options?Sr(h.options):{},Ye(p.options,o.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,C=p._initHooks.length;_<C;_++)p._initHooks[_].call(this)}},u},mi.include=function(o){var u=this.prototype.options;return Ye(this.prototype,o),o.options&&(this.prototype.options=u,this.mergeOptions(o.options)),this},mi.mergeOptions=function(o){return Ye(this.prototype.options,o),this},mi.addInitHook=function(o){var u=Array.prototype.slice.call(arguments,1),h="function"==typeof o?o:function(){this[o].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};var kt={on:function(o,u,h){if("object"==typeof o)for(var p in o)this._on(p,o[p],u);else for(var m=0,_=(o=ki(o)).length;m<_;m++)this._on(o[m],u,h);return this},off:function(o,u,h){if(arguments.length)if("object"==typeof o)for(var p in o)this._off(p,o[p],u);else{o=ki(o);for(var m=1===arguments.length,_=0,C=o.length;_<C;_++)m?this._off(o[_]):this._off(o[_],u,h)}else delete this._events;return this},_on:function(o,u,h){if("function"==typeof u){this._events=this._events||{};var p=this._events[o];p||(this._events[o]=p=[]),h===this&&(h=void 0);for(var m={fn:u,ctx:h},_=p,C=0,T=_.length;C<T;C++)if(_[C].fn===u&&_[C].ctx===h)return;_.push(m)}else console.warn("wrong listener type: "+typeof u)},_off:function(o,u,h){var p,m,_;if(this._events&&(p=this._events[o])){if(1===arguments.length){if(this._firingCount)for(m=0,_=p.length;m<_;m++)p[m].fn=nt;return void delete this._events[o]}if(h===this&&(h=void 0),"function"!=typeof u)return void console.warn("wrong listener type: "+typeof u);for(m=0,_=p.length;m<_;m++){var C=p[m];if(C.ctx===h&&C.fn===u)return this._firingCount&&(C.fn=nt,this._events[o]=p=p.slice()),void p.splice(m,1)}console.warn("listener not found")}},fire:function(o,u,h){if(!this.listens(o,h))return this;var p=Ye({},u,{type:o,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var m=this._events[o];if(m){this._firingCount=this._firingCount+1||1;for(var _=0,C=m.length;_<C;_++){var T=m[_];T.fn.call(T.ctx||this,p)}this._firingCount--}}return h&&this._propagateEvent(p),this},listens:function(o,u){"string"!=typeof o&&console.warn('"string" type argument expected');var h=this._events&&this._events[o];if(h&&h.length)return!0;if(u)for(var p in this._eventParents)if(this._eventParents[p].listens(o,u))return!0;return!1},once:function(o,u,h){if("object"==typeof o){for(var p in o)this.once(p,o[p],u);return this}var m=Ke(function(){this.off(o,u,h).off(o,m,h)},this);return this.on(o,u,h).on(o,m,h)},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[Be(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[Be(o)],this},_propagateEvent:function(o){for(var u in this._eventParents)this._eventParents[u].fire(o.type,Ye({layer:o.target,propagatedFrom:o.target},o),!0)}};kt.addEventListener=kt.on,kt.removeEventListener=kt.clearAllEventListeners=kt.off,kt.addOneTimeEventListener=kt.once,kt.fireEvent=kt.fire,kt.hasEventListeners=kt.listens;var Ns=mi.extend(kt);function fe(o,u,h){this.x=h?Math.round(o):o,this.y=h?Math.round(u):u}var it=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};function Te(o,u,h){return o instanceof fe?o:Yt(o)?new fe(o[0],o[1]):null==o?o:"object"==typeof o&&"x"in o&&"y"in o?new fe(o.x,o.y):new fe(o,u,h)}function pt(o,u){if(o)for(var h=u?[o,u]:o,p=0,m=h.length;p<m;p++)this.extend(h[p])}function Bn(o,u){return!o||o instanceof pt?o:new pt(o,u)}function ln(o,u){if(o)for(var h=u?[o,u]:o,p=0,m=h.length;p<m;p++)this.extend(h[p])}function Me(o,u){return o instanceof ln?o:new ln(o,u)}function Qe(o,u,h){if(isNaN(o)||isNaN(u))throw new Error("Invalid LatLng object: ("+o+", "+u+")");this.lat=+o,this.lng=+u,void 0!==h&&(this.alt=+h)}function gt(o,u,h){return o instanceof Qe?o:Yt(o)&&"object"!=typeof o[0]?3===o.length?new Qe(o[0],o[1],o[2]):2===o.length?new Qe(o[0],o[1]):null:null==o?o:"object"==typeof o&&"lat"in o?new Qe(o.lat,"lng"in o?o.lng:o.lon,o.alt):void 0===u?null:new Qe(o,u,h)}fe.prototype={clone:function(){return new fe(this.x,this.y)},add:function(o){return this.clone()._add(Te(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(Te(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new fe(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new fe(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=it(this.x),this.y=it(this.y),this},distanceTo:function(o){var u=(o=Te(o)).x-this.x,h=o.y-this.y;return Math.sqrt(u*u+h*h)},equals:function(o){return(o=Te(o)).x===this.x&&o.y===this.y},contains:function(o){return o=Te(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+vn(this.x)+", "+vn(this.y)+")"}},pt.prototype={extend:function(o){return o=Te(o),this.min||this.max?(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)):(this.min=o.clone(),this.max=o.clone()),this},getCenter:function(o){return new fe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return new fe(this.min.x,this.max.y)},getTopRight:function(){return new fe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var u,h;return(o="number"==typeof o[0]||o instanceof fe?Te(o):Bn(o))instanceof pt?(u=o.min,h=o.max):u=h=o,u.x>=this.min.x&&h.x<=this.max.x&&u.y>=this.min.y&&h.y<=this.max.y},intersects:function(o){o=Bn(o);var u=this.min,h=this.max,p=o.min,m=o.max;return m.x>=u.x&&p.x<=h.x&&m.y>=u.y&&p.y<=h.y},overlaps:function(o){o=Bn(o);var u=this.min,h=this.max,p=o.min,m=o.max;return m.x>u.x&&p.x<h.x&&m.y>u.y&&p.y<h.y},isValid:function(){return!(!this.min||!this.max)}},ln.prototype={extend:function(o){var p,m,u=this._southWest,h=this._northEast;if(o instanceof Qe)p=o,m=o;else{if(!(o instanceof ln))return o?this.extend(gt(o)||Me(o)):this;if(m=o._northEast,!(p=o._southWest)||!m)return this}return u||h?(u.lat=Math.min(p.lat,u.lat),u.lng=Math.min(p.lng,u.lng),h.lat=Math.max(m.lat,h.lat),h.lng=Math.max(m.lng,h.lng)):(this._southWest=new Qe(p.lat,p.lng),this._northEast=new Qe(m.lat,m.lng)),this},pad:function(o){var u=this._southWest,h=this._northEast,p=Math.abs(u.lat-h.lat)*o,m=Math.abs(u.lng-h.lng)*o;return new ln(new Qe(u.lat-p,u.lng-m),new Qe(h.lat+p,h.lng+m))},getCenter:function(){return new Qe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Qe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Qe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){o="number"==typeof o[0]||o instanceof Qe||"lat"in o?gt(o):Me(o);var p,m,u=this._southWest,h=this._northEast;return o instanceof ln?(p=o.getSouthWest(),m=o.getNorthEast()):p=m=o,p.lat>=u.lat&&m.lat<=h.lat&&p.lng>=u.lng&&m.lng<=h.lng},intersects:function(o){o=Me(o);var u=this._southWest,h=this._northEast,p=o.getSouthWest(),m=o.getNorthEast();return m.lat>=u.lat&&p.lat<=h.lat&&m.lng>=u.lng&&p.lng<=h.lng},overlaps:function(o){o=Me(o);var u=this._southWest,h=this._northEast,p=o.getSouthWest(),m=o.getNorthEast();return m.lat>u.lat&&p.lat<h.lat&&m.lng>u.lng&&p.lng<h.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,u){return!!o&&(o=Me(o),this._southWest.equals(o.getSouthWest(),u)&&this._northEast.equals(o.getNorthEast(),u))},isValid:function(){return!(!this._southWest||!this._northEast)}},Qe.prototype={equals:function(o,u){return!!o&&(o=gt(o),Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng))<=(void 0===u?1e-9:u))},toString:function(o){return"LatLng("+vn(this.lat,o)+", "+vn(this.lng,o)+")"},distanceTo:function(o){return mt.distance(this,gt(o))},wrap:function(){return mt.wrapLatLng(this)},toBounds:function(o){var u=180*o/40075017,h=u/Math.cos(Math.PI/180*this.lat);return Me([this.lat-u,this.lng-h],[this.lat+u,this.lng+h])},clone:function(){return new Qe(this.lat,this.lng,this.alt)}};var o,ut={latLngToPoint:function(o,u){var h=this.projection.project(o),p=this.scale(u);return this.transformation._transform(h,p)},pointToLatLng:function(o,u){var h=this.scale(u),p=this.transformation.untransform(o,h);return this.projection.unproject(p)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var u=this.projection.bounds,h=this.scale(o);return new pt(this.transformation.transform(u.min,h),this.transformation.transform(u.max,h))},infinite:!1,wrapLatLng:function(o){var u=this.wrapLng?br(o.lng,this.wrapLng,!0):o.lng;return new Qe(this.wrapLat?br(o.lat,this.wrapLat,!0):o.lat,u,o.alt)},wrapLatLngBounds:function(o){var u=o.getCenter(),h=this.wrapLatLng(u),p=u.lat-h.lat,m=u.lng-h.lng;if(0===p&&0===m)return o;var _=o.getSouthWest(),C=o.getNorthEast();return new ln(new Qe(_.lat-p,_.lng-m),new Qe(C.lat-p,C.lng-m))}},mt=Ye({},ut,{wrapLng:[-180,180],R:6371e3,distance:function(o,u){var h=Math.PI/180,p=o.lat*h,m=u.lat*h,_=Math.sin((u.lat-o.lat)*h/2),C=Math.sin((u.lng-o.lng)*h/2),T=_*_+Math.cos(p)*Math.cos(m)*C*C,M=2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T));return this.R*M}}),He={R:6378137,MAX_LATITUDE:85.0511287798,project:function(o){var u=Math.PI/180,h=this.MAX_LATITUDE,p=Math.max(Math.min(h,o.lat),-h),m=Math.sin(p*u);return new fe(this.R*o.lng*u,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(o){var u=180/Math.PI;return new Qe((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*u,o.x*u/this.R)},bounds:(o=6378137*Math.PI,new pt([-o,-o],[o,o]))};function ts(o,u,h,p){if(Yt(o))return this._a=o[0],this._b=o[1],this._c=o[2],void(this._d=o[3]);this._a=o,this._b=u,this._c=h,this._d=p}function Ls(o,u,h,p){return new ts(o,u,h,p)}ts.prototype={transform:function(o,u){return this._transform(o.clone(),u)},_transform:function(o,u){return o.x=(u=u||1)*(this._a*o.x+this._b),o.y=u*(this._c*o.y+this._d),o},untransform:function(o,u){return new fe((o.x/(u=u||1)-this._b)/this._a,(o.y/u-this._d)/this._c)}};var Mr=Ye({},mt,{code:"EPSG:3857",projection:He,transformation:function(){var o=.5/(Math.PI*He.R);return Ls(o,.5,-o,.5)}()}),Od=Ye({},Mr,{code:"EPSG:900913"});function Nd(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Ld(o,u){var p,m,_,C,T,M,h="";for(p=0,_=o.length;p<_;p++){for(m=0,C=(T=o[p]).length;m<C;m++)h+=(m?"L":"M")+(M=T[m]).x+" "+M.y;h+=u?J.svg?"z":"x":""}return h||"M0 0"}var Xl=document.documentElement.style,Fs="ActiveXObject"in window,fm=Fs&&!document.addEventListener,ra="msLaunchUri"in navigator&&!("documentMode"in document),Jl=Xn("webkit"),sa=Xn("android"),eu=Xn("android 2")||Xn("android 3"),pm=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),gm=sa&&Xn("Google")&&pm<537&&!("AudioNode"in window),tu=!!window.opera,Ri=!ra&&Xn("chrome"),nu=Xn("gecko")&&!Jl&&!tu&&!Fs,mm=!Ri&&Xn("safari"),iu=Xn("phantom"),Fd="OTransition"in Xl,Bd=0===navigator.platform.indexOf("Win"),Hd=Fs&&"transition"in Xl,ru="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!eu,Vd="MozPerspective"in Xl,vm=!window.L_DISABLE_3D&&(Hd||ru||Vd)&&!Fd&&!iu,Bs=typeof orientation<"u"||Xn("mobile"),oa=Bs&&Jl,su=Bs&&ru,aa=!window.PointerEvent&&window.MSPointerEvent,la=!(!window.PointerEvent&&!aa),ua="ontouchstart"in window||!!window.TouchEvent,jd=!window.L_NO_TOUCH&&(ua||la),ou=Bs&&tu,au=Bs&&nu,lu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,uu=function(){var o=!1;try{var u=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",nt,u),window.removeEventListener("testPassiveEventSupport",nt,u)}catch{}return o}(),Hn=!!document.createElement("canvas").getContext,ca=!(!document.createElementNS||!Nd("svg").createSVGRect),Ud=!!ca&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(o.firstChild&&o.firstChild.namespaceURI)}(),zd=!ca&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var u=o.firstChild;return u.style.behavior="url(#default#VML)",u&&"object"==typeof u.adj}catch{return!1}}();function Xn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var J={ie:Fs,ielt9:fm,edge:ra,webkit:Jl,android:sa,android23:eu,androidStock:gm,opera:tu,chrome:Ri,gecko:nu,safari:mm,phantom:iu,opera12:Fd,win:Bd,ie3d:Hd,webkit3d:ru,gecko3d:Vd,any3d:vm,mobile:Bs,mobileWebkit:oa,mobileWebkit3d:su,msPointer:aa,pointer:la,touch:jd,touchNative:ua,mobileOpera:ou,mobileGecko:au,retina:lu,passiveEvents:uu,canvas:Hn,svg:ca,vml:zd,inlineSvg:Ud},cu=J.msPointer?"MSPointerDown":"pointerdown",du=J.msPointer?"MSPointerMove":"pointermove",Jn=J.msPointer?"MSPointerUp":"pointerup",hu=J.msPointer?"MSPointerCancel":"pointercancel",ei={touchstart:cu,touchmove:du,touchend:Jn,touchcancel:hu},da={touchstart:function pu(o,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Le(u),ns(o,u)},touchmove:ns,touchend:ns,touchcancel:ns},vi={},Wd=!1;function $d(o,u,h){return"touchstart"===u&&function Zd(){Wd||(document.addEventListener(cu,ha,!0),document.addEventListener(du,Gd,!0),document.addEventListener(Jn,Ir,!0),document.addEventListener(hu,Ir,!0),Wd=!0)}(),da[u]?(h=da[u].bind(this,h),o.addEventListener(ei[u],h,!1),h):(console.warn("wrong event specified:",u),L.Util.falseFn)}function ha(o){vi[o.pointerId]=o}function Gd(o){vi[o.pointerId]&&(vi[o.pointerId]=o)}function Ir(o){delete vi[o.pointerId]}function ns(o,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){for(var h in u.touches=[],vi)u.touches.push(vi[h]);u.changedTouches=[u],o(u)}}var Vs,js,xr,pa,jn,Hs=Ar(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),is=Ar(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),gu="webkitTransition"===is||"OTransition"===is?is+"End":"transitionend";function Pr(o){return"string"==typeof o?document.getElementById(o):o}function rn(o,u){var h=o.style[u]||o.currentStyle&&o.currentStyle[u];if((!h||"auto"===h)&&document.defaultView){var p=document.defaultView.getComputedStyle(o,null);h=p?p[u]:null}return"auto"===h?null:h}function _e(o,u,h){var p=document.createElement(o);return p.className=u||"",h&&h.appendChild(p),p}function rt(o){var u=o.parentNode;u&&u.removeChild(o)}function We(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Oi(o){var u=o.parentNode;u&&u.lastChild!==o&&u.appendChild(o)}function Re(o){var u=o.parentNode;u&&u.firstChild!==o&&u.insertBefore(o,u.firstChild)}function rs(o,u){if(void 0!==o.classList)return o.classList.contains(u);var h=ss(o);return h.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(h)}function we(o,u){if(void 0!==o.classList)for(var h=ki(u),p=0,m=h.length;p<m;p++)o.classList.add(h[p]);else if(!rs(o,u)){var _=ss(o);pe(o,(_?_+" ":"")+u)}}function vt(o,u){void 0!==o.classList?o.classList.remove(u):pe(o,xs((" "+ss(o)+" ").replace(" "+u+" "," ")))}function pe(o,u){void 0===o.className.baseVal?o.className=u:o.className.baseVal=u}function ss(o){return o.correspondingElement&&(o=o.correspondingElement),void 0===o.className.baseVal?o.className:o.className.baseVal}function Vn(o,u){"opacity"in o.style?o.style.opacity=u:"filter"in o.style&&function G(o,u){var h=!1,p="DXImageTransform.Microsoft.Alpha";try{h=o.filters.item(p)}catch{if(1===u)return}u=Math.round(100*u),h?(h.Enabled=100!==u,h.Opacity=u):o.style.filter+=" progid:"+p+"(opacity="+u+")"}(o,u)}function Ar(o){for(var u=document.documentElement.style,h=0;h<o.length;h++)if(o[h]in u)return o[h];return!1}function se(o,u,h){var p=u||new fe(0,0);o.style[Hs]=(J.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(h?" scale("+h+")":"")}function Oe(o,u){o._leaflet_pos=u,J.any3d?se(o,u):(o.style.left=u.x+"px",o.style.top=u.y+"px")}function rr(o){return o._leaflet_pos||new fe(0,0)}if("onselectstart"in document)Vs=function(){De(window,"selectstart",Le)},js=function(){st(window,"selectstart",Le)};else{var Vt=Ar(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Vs=function(){if(Vt){var o=document.documentElement.style;xr=o[Vt],o[Vt]="none"}},js=function(){Vt&&(document.documentElement.style[Vt]=xr,xr=void 0)}}function mu(){De(window,"dragstart",Le)}function fa(){st(window,"dragstart",Le)}function vu(o){for(;-1===o.tabIndex;)o=o.parentNode;!o.style||(ga(),pa=o,jn=o.style.outline,o.style.outline="none",De(window,"keydown",ga))}function ga(){!pa||(pa.style.outline=jn,pa=void 0,jn=void 0,st(window,"keydown",ga))}function Xd(o){do{o=o.parentNode}while(!(o.offsetWidth&&o.offsetHeight||o===document.body));return o}function yu(o){var u=o.getBoundingClientRect();return{x:u.width/o.offsetWidth||1,y:u.height/o.offsetHeight||1,boundingClientRect:u}}var Jd={__proto__:null,TRANSFORM:Hs,TRANSITION:is,TRANSITION_END:gu,get:Pr,getStyle:rn,create:_e,remove:rt,empty:We,toFront:Oi,toBack:Re,hasClass:rs,addClass:we,removeClass:vt,setClass:pe,getClass:ss,setOpacity:Vn,testProp:Ar,setTransform:se,setPosition:Oe,getPosition:rr,get disableTextSelection(){return Vs},get enableTextSelection(){return js},disableImageDrag:mu,enableImageDrag:fa,preventOutline:vu,restoreOutline:ga,getSizedParentNode:Xd,getScale:yu};function De(o,u,h,p){if(u&&"object"==typeof u)for(var m in u)_u(o,m,u[m],h);else for(var _=0,C=(u=ki(u)).length;_<C;_++)_u(o,u[_],h,p);return this}var ti="_leaflet_events";function st(o,u,h,p){if(1===arguments.length)un(o),delete o[ti];else if(u&&"object"==typeof u)for(var m in u)wu(o,m,u[m],h);else if(u=ki(u),2===arguments.length)un(o,function(T){return-1!==Er(u,T)});else for(var _=0,C=u.length;_<C;_++)wu(o,u[_],h,p);return this}function un(o,u){for(var h in o[ti]){var p=h.split(/\d/)[0];(!u||u(p))&&wu(o,p,null,null,h)}}var et={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function _u(o,u,h,p){var m=u+Be(h)+(p?"_"+Be(p):"");if(o[ti]&&o[ti][m])return this;var _=function(T){return h.call(p||o,T||window.event)},C=_;!J.touchNative&&J.pointer&&0===u.indexOf("touch")?_=$d(o,u,_):J.touch&&"dblclick"===u?_=function Kd(o,u){o.addEventListener("dblclick",u);var p,h=0;function m(_){if(1===_.detail){if("mouse"!==_.pointerType&&(!_.sourceCapabilities||_.sourceCapabilities.firesTouchEvents)){var C=Date.now();C-h<=200?2==++p&&u(function qd(o){var h,p,u={};for(p in o)u[p]=(h=o[p])&&h.bind?h.bind(o):h;return o=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}(_)):p=1,h=C}}else p=_.detail}return o.addEventListener("click",m),{dblclick:u,simDblclick:m}}(o,_):"addEventListener"in o?"touchstart"===u||"touchmove"===u||"wheel"===u||"mousewheel"===u?o.addEventListener(et[u]||u,_,!!J.passiveEvents&&{passive:!1}):"mouseenter"===u||"mouseleave"===u?o.addEventListener(et[u],_=function(T){T=T||window.event,zs(o,T)&&C(T)},!1):o.addEventListener(u,C,!1):o.attachEvent("on"+u,_),o[ti]=o[ti]||{},o[ti][m]=_}function wu(o,u,h,p,m){m=m||u+Be(h)+(p?"_"+Be(p):"");var _=o[ti]&&o[ti][m];if(!_)return this;!J.touchNative&&J.pointer&&0===u.indexOf("touch")?function fu(o,u,h){ei[u]?o.removeEventListener(ei[u],h,!1):console.warn("wrong event specified:",u)}(o,u,_):J.touch&&"dblclick"===u?function Qd(o,u){o.removeEventListener("dblclick",u.dblclick),o.removeEventListener("click",u.simDblclick)}(o,_):"removeEventListener"in o?o.removeEventListener(et[u]||u,_,!1):o.detachEvent("on"+u,_),o[ti][m]=null}function kr(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function ae(o){return _u(o,"wheel",kr),this}function Us(o){return De(o,"mousedown touchstart dblclick contextmenu",kr),o._leaflet_disable_click=!0,this}function Le(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function yi(o){return Le(o),kr(o),this}function ma(o,u){if(!u)return new fe(o.clientX,o.clientY);var h=yu(u),p=h.boundingClientRect;return new fe((o.clientX-p.left)/h.x-u.clientLeft,(o.clientY-p.top)/h.y-u.clientTop)}var eh=J.win&&J.chrome?2*window.devicePixelRatio:J.gecko?window.devicePixelRatio:1;function Du(o){return J.edge?o.wheelDeltaY/2:o.deltaY&&0===o.deltaMode?-o.deltaY/eh:o.deltaY&&1===o.deltaMode?20*-o.deltaY:o.deltaY&&2===o.deltaMode?60*-o.deltaY:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?20*-o.detail:o.detail?o.detail/-32765*60:0}function zs(o,u){var h=u.relatedTarget;if(!h)return!0;try{for(;h&&h!==o;)h=h.parentNode}catch{return!1}return h!==o}var Ws={__proto__:null,on:De,off:st,stopPropagation:kr,disableScrollPropagation:ae,disableClickPropagation:Us,preventDefault:Le,stop:yi,getMousePosition:ma,getWheelDelta:Du,isExternalTarget:zs,addListener:De,removeListener:st},$s=Ns.extend({run:function(o,u,h,p){this.stop(),this._el=o,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=rr(o),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=Ht(this._animate,this),this._step()},_step:function(o){var u=+new Date-this._startTime,h=1e3*this._duration;u<h?this._runFrame(this._easeOut(u/h),o):(this._runFrame(1),this._complete())},_runFrame:function(o,u){var h=this._startPos.add(this._offset.multiplyBy(o));u&&h._round(),Oe(this._el,h),this.fire("step")},_complete:function(){xn(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Ae=Ns.extend({options:{crs:Mr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,u){u=ft(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=Ke(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),void 0!==u.zoom&&(this._zoom=this._limitZoom(u.zoom)),u.center&&void 0!==u.zoom&&this.setView(gt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=is&&J.any3d&&!J.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),De(this._proxy,gu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,u,h){return u=void 0===u?this._zoom:this._limitZoom(u),o=this._limitCenter(gt(o),u,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&!0!==h&&(void 0!==h.animate&&(h.zoom=Ye({animate:h.animate},h.zoom),h.pan=Ye({animate:h.animate,duration:h.duration},h.pan)),this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,u,h.zoom):this._tryAnimatedPan(o,h.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(o,u),this)},setZoom:function(o,u){return this._loaded?this.setView(this.getCenter(),o,{zoom:u}):(this._zoom=o,this)},zoomIn:function(o,u){return this.setZoom(this._zoom+(o=o||(J.any3d?this.options.zoomDelta:1)),u)},zoomOut:function(o,u){return this.setZoom(this._zoom-(o=o||(J.any3d?this.options.zoomDelta:1)),u)},setZoomAround:function(o,u,h){var p=this.getZoomScale(u),m=this.getSize().divideBy(2),C=(o instanceof fe?o:this.latLngToContainerPoint(o)).subtract(m).multiplyBy(1-1/p),T=this.containerPointToLatLng(m.add(C));return this.setView(T,u,{zoom:h})},_getBoundsCenterZoom:function(o,u){u=u||{},o=o.getBounds?o.getBounds():Me(o);var h=Te(u.paddingTopLeft||u.padding||[0,0]),p=Te(u.paddingBottomRight||u.padding||[0,0]),m=this.getBoundsZoom(o,!1,h.add(p));if((m="number"==typeof u.maxZoom?Math.min(u.maxZoom,m):m)===1/0)return{center:o.getCenter(),zoom:m};var _=p.subtract(h).divideBy(2),C=this.project(o.getSouthWest(),m),T=this.project(o.getNorthEast(),m);return{center:this.unproject(C.add(T).divideBy(2).add(_),m),zoom:m}},fitBounds:function(o,u){if(!(o=Me(o)).isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(o,u);return this.setView(h.center,h.zoom,u)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,u){return this.setView(o,this._zoom,{pan:u})},panBy:function(o,u){if(u=u||{},!(o=Te(o).round()).x&&!o.y)return this.fire("moveend");if(!0!==u.animate&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $s,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),!1!==u.animate){we(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,h,u.duration||.25,u.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,u,h){if(!1===(h=h||{}).animate||!J.any3d)return this.setView(o,u,h);this._stop();var p=this.project(this.getCenter()),m=this.project(o),_=this.getSize(),C=this._zoom;o=gt(o),u=void 0===u?C:u;var T=Math.max(_.x,_.y),M=T*this.getZoomScale(C,u),k=m.distanceTo(p)||1,q=1.42,Ce=q*q;function Fe(Ve){var ao=(M*M-T*T+(Ve?-1:1)*Ce*Ce*k*k)/(2*(Ve?M:T)*Ce*k),lo=Math.sqrt(ao*ao+1)-ao;return lo<1e-9?-18:Math.log(lo)}function $e(Ve){return(Math.exp(Ve)-Math.exp(-Ve))/2}function Wi(Ve){return(Math.exp(Ve)+Math.exp(-Ve))/2}var tt=Fe(0);function Mm(Ve){return T*(Wi(tt)*function so(Ve){return $e(Ve)/Wi(Ve)}(tt+q*Ve)-$e(tt))/Ce}var Ln=Date.now(),xu=(Fe(1)-tt)/q,Ma=h.duration?1e3*h.duration:1e3*xu*.8;return this._moveStart(!0,h.noMoveStart),function ur(){var Ve=(Date.now()-Ln)/Ma,ds=function oo(Ve){return 1-Math.pow(1-Ve,1.5)}(Ve)*xu;Ve<=1?(this._flyToFrame=Ht(ur,this),this._move(this.unproject(p.add(m.subtract(p).multiplyBy(Mm(ds)/k)),C),this.getScaleZoom(T/function Ta(Ve){return T*(Wi(tt)/Wi(tt+q*Ve))}(ds),C),{flyTo:!0})):this._move(o,u)._moveEnd(!0)}.call(this),this},flyToBounds:function(o,u){var h=this._getBoundsCenterZoom(o,u);return this.flyTo(h.center,h.zoom,u)},setMaxBounds:function(o){return(o=Me(o)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(o){var u=this.options.minZoom;return this.options.minZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var u=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,u){this._enforcingBounds=!0;var h=this.getCenter(),p=this._limitCenter(h,this._zoom,Me(o));return h.equals(p)||this.panTo(p,u),this._enforcingBounds=!1,this},panInside:function(o,u){var h=Te((u=u||{}).paddingTopLeft||u.padding||[0,0]),p=Te(u.paddingBottomRight||u.padding||[0,0]),m=this.project(this.getCenter()),_=this.project(o),C=this.getPixelBounds(),T=Bn([C.min.add(h),C.max.subtract(p)]),M=T.getSize();if(!T.contains(_)){this._enforcingBounds=!0;var k=_.subtract(T.getCenter()),q=T.extend(_).getSize().subtract(M);m.x+=k.x<0?-q.x:q.x,m.y+=k.y<0?-q.y:q.y,this.panTo(this.unproject(m),u),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=Ye({animate:!1,pan:!0},!0===o?{animate:!0}:o);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),p=u.divideBy(2).round(),m=h.divideBy(2).round(),_=p.subtract(m);return _.x||_.y?(o.animate&&o.pan?this.panBy(_):(o.pan&&this._rawPanBy(_),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Ke(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:h})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=Ye({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=Ke(this._handleGeolocationResponse,this),h=Ke(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,h,o):navigator.geolocation.getCurrentPosition(u,h,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var u=o.code,h=o.message||(1===u?"permission denied":2===u?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var p=new Qe(o.coords.latitude,o.coords.longitude),m=p.toBounds(2*o.coords.accuracy),_=this._locateOptions;if(_.setView){var C=this.getBoundsZoom(m);this.setView(p,_.maxZoom?Math.min(C,_.maxZoom):C)}var T={latlng:p,bounds:m,timestamp:o.timestamp};for(var M in o.coords)"number"==typeof o.coords[M]&&(T[M]=o.coords[M]);this.fire("locationfound",T)}},addHandler:function(o,u){if(!u)return this;var h=this[o]=new u(this);return this._handlers.push(h),this.options[o]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var o;for(o in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),rt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(xn(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[o].remove();for(o in this._panes)rt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,u){var p=_e("div","leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),u||this._mapPane);return o&&(this._panes[o]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds();return new ln(this.unproject(o.getBottomLeft()),this.unproject(o.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,u,h){o=Me(o),h=Te(h||[0,0]);var p=this.getZoom()||0,m=this.getMinZoom(),_=this.getMaxZoom(),C=o.getNorthWest(),T=o.getSouthEast(),M=this.getSize().subtract(h),k=Bn(this.project(T,p),this.project(C,p)).getSize(),q=J.any3d?this.options.zoomSnap:1,Ce=M.x/k.x,Fe=M.y/k.y,$e=u?Math.max(Ce,Fe):Math.min(Ce,Fe);return p=this.getScaleZoom($e,p),q&&(p=Math.round(p/(q/100))*(q/100),p=u?Math.ceil(p/q)*q:Math.floor(p/q)*q),Math.max(m,Math.min(_,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new fe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,u){var h=this._getTopLeftPoint(o,u);return new pt(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(void 0===o?this.getZoom():o)},getPane:function(o){return"string"==typeof o?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,u){var h=this.options.crs;return u=void 0===u?this._zoom:u,h.scale(o)/h.scale(u)},getScaleZoom:function(o,u){var h=this.options.crs,p=h.zoom(o*h.scale(u=void 0===u?this._zoom:u));return isNaN(p)?1/0:p},project:function(o,u){return u=void 0===u?this._zoom:u,this.options.crs.latLngToPoint(gt(o),u)},unproject:function(o,u){return u=void 0===u?this._zoom:u,this.options.crs.pointToLatLng(Te(o),u)},layerPointToLatLng:function(o){var u=Te(o).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(o){return this.project(gt(o))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(gt(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Me(o))},distance:function(o,u){return this.options.crs.distance(gt(o),gt(u))},containerPointToLayerPoint:function(o){return Te(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return Te(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var u=this.containerPointToLayerPoint(Te(o));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(gt(o)))},mouseEventToContainerPoint:function(o){return ma(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var u=this._container=Pr(o);if(!u)throw new Error("Map container not found.");if(u._leaflet_id)throw new Error("Map container is already initialized.");De(u,"scroll",this._onScroll,this),this._containerId=Be(u)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&J.any3d,we(o,"leaflet-container"+(J.touch?" leaflet-touch":"")+(J.retina?" leaflet-retina":"")+(J.ielt9?" leaflet-oldie":"")+(J.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=rn(o,"position");"absolute"!==u&&"relative"!==u&&"fixed"!==u&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Oe(this._mapPane,new fe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(we(o.markerPane,"leaflet-zoom-hide"),we(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,u){Oe(this._mapPane,new fe(0,0));var h=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var p=this._zoom!==u;this._moveStart(p,!1)._move(o,u)._moveEnd(p),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(o,u){return o&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(o,u,h,p){void 0===u&&(u=this._zoom);var m=this._zoom!==u;return this._zoom=u,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),p?h&&h.pinch&&this.fire("zoom",h):((m||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return xn(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Oe(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[Be(this._container)]=this;var u=o?st:De;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),J.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){xn(this._resizeRequest),this._resizeRequest=Ht(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,u){for(var p,h=[],m="mouseout"===u||"mouseover"===u,_=o.target||o.srcElement,C=!1;_;){if((p=this._targets[Be(_)])&&("click"===u||"preclick"===u)&&this._draggableMoved(p)){C=!0;break}if(p&&p.listens(u,!0)&&(m&&!zs(_,o)||(h.push(p),m))||_===this._container)break;_=_.parentNode}return!h.length&&!C&&!m&&this.listens(u,!0)&&(h=[this]),h},_isClickDisabled:function(o){for(;o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var u=o.target||o.srcElement;if(!(!this._loaded||u._leaflet_disable_events||"click"===o.type&&this._isClickDisabled(u))){var h=o.type;"mousedown"===h&&vu(u),this._fireDOMEvent(o,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,u,h){if("click"===o.type){var p=Ye({},o);p.type="preclick",this._fireDOMEvent(p,p.type,h)}var m=this._findEventTargets(o,u);if(h){for(var _=[],C=0;C<h.length;C++)h[C].listens(u,!0)&&_.push(h[C]);m=_.concat(m)}if(m.length){"contextmenu"===u&&Le(o);var T=m[0],M={originalEvent:o};if("keypress"!==o.type&&"keydown"!==o.type&&"keyup"!==o.type){var k=T.getLatLng&&(!T._radius||T._radius<=10);M.containerPoint=k?this.latLngToContainerPoint(T.getLatLng()):this.mouseEventToContainerPoint(o),M.layerPoint=this.containerPointToLayerPoint(M.containerPoint),M.latlng=k?T.getLatLng():this.layerPointToLatLng(M.layerPoint)}for(C=0;C<m.length;C++)if(m[C].fire(u,M,!0),M.originalEvent._stopped||!1===m[C].options.bubblingMouseEvents&&-1!==Er(this._mouseEvents,u))return}},_draggableMoved:function(o){return(o=o.dragging&&o.dragging.enabled()?o:this).dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,u=this._handlers.length;o<u;o++)this._handlers[o].disable()},whenReady:function(o,u){return this._loaded?o.call(u||this,{target:this}):this.on("load",o,u),this},_getMapPanePos:function(){return rr(this._mapPane)||new fe(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,u){return(o&&void 0!==u?this._getNewPixelOrigin(o,u):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,u){var h=this.getSize()._divideBy(2);return this.project(o,u)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,u,h){var p=this._getNewPixelOrigin(h,u);return this.project(o,u)._subtract(p)},_latLngBoundsToNewLayerBounds:function(o,u,h){var p=this._getNewPixelOrigin(h,u);return Bn([this.project(o.getSouthWest(),u)._subtract(p),this.project(o.getNorthWest(),u)._subtract(p),this.project(o.getSouthEast(),u)._subtract(p),this.project(o.getNorthEast(),u)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,u,h){if(!h)return o;var p=this.project(o,u),m=this.getSize().divideBy(2),_=new pt(p.subtract(m),p.add(m)),C=this._getBoundsOffset(_,h,u);return C.round().equals([0,0])?o:this.unproject(p.add(C),u)},_limitOffset:function(o,u){if(!u)return o;var h=this.getPixelBounds(),p=new pt(h.min.add(o),h.max.add(o));return o.add(this._getBoundsOffset(p,u))},_getBoundsOffset:function(o,u,h){var p=Bn(this.project(u.getNorthEast(),h),this.project(u.getSouthWest(),h)),m=p.min.subtract(o.min),_=p.max.subtract(o.max);return new fe(this._rebound(m.x,-_.x),this._rebound(m.y,-_.y))},_rebound:function(o,u){return o+u>0?Math.round(o-u)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(u))},_limitZoom:function(o){var u=this.getMinZoom(),h=this.getMaxZoom(),p=J.any3d?this.options.zoomSnap:1;return p&&(o=Math.round(o/p)*p),Math.max(u,Math.min(h,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,u){var h=this._getCenterOffset(o)._trunc();return!(!0!==(u&&u.animate)&&!this.getSize().contains(h)||(this.panBy(h,u),0))},_createAnimProxy:function(){var o=this._proxy=_e("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(u){var h=Hs,p=this._proxy.style[h];se(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),p===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){rt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),u=this.getZoom();se(this._proxy,this.project(o,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,u,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||!1===h.animate||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(u),m=this._getCenterOffset(o)._divideBy(1-1/p);return!(!0!==h.animate&&!this.getSize().contains(m)||(Ht(function(){this._moveStart(!0,!1)._animateZoom(o,u,!0)},this),0))},_animateZoom:function(o,u,h,p){!this._mapPane||(h&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=u,we(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:u,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(Ke(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var ie=mi.extend({options:{position:"topright"},initialize:function(o){ft(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var u=this._map;return u&&u.removeControl(this),this.options.position=o,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var u=this._container=this.onAdd(o),h=this.getPosition(),p=o._controlCorners[h];return we(u,"leaflet-control"),-1!==h.indexOf("bottom")?p.insertBefore(u,p.firstChild):p.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(rt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),sr=function(o){return new ie(o)};Ae.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},u="leaflet-",h=this._controlContainer=_e("div",u+"control-container",this._container);function p(m,_){o[m+_]=_e("div",u+m+" "+u+_,h)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)rt(this._controlCorners[o]);rt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Cu=ie.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,u,h,p){return h<p?-1:p<h?1:0}},initialize:function(o,u,h){for(var p in ft(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,o)this._addLayer(o[p],p);for(p in u)this._addLayer(u[p],p,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return ie.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,u){return this._addLayer(o,u),this._map?this._update():this},addOverlay:function(o,u){return this._addLayer(o,u,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var u=this._getLayer(Be(o));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){we(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(we(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",u=this._container=_e("div",o),h=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Us(u),ae(u);var p=this._section=_e("section",o+"-list");h&&(this._map.on("click",this.collapse,this),De(u,{mouseenter:function(){De(p,"click",Le),this.expand(),setTimeout(function(){st(p,"click",Le)})},mouseleave:this.collapse},this));var m=this._layersLink=_e("a",o+"-toggle",u);m.href="#",m.title="Layers",m.setAttribute("role","button"),De(m,"click",Le),De(m,"focus",this.expand,this),h||this.expand(),this._baseLayersList=_e("div",o+"-base",p),this._separator=_e("div",o+"-separator",p),this._overlaysList=_e("div",o+"-overlays",p),u.appendChild(p)},_getLayer:function(o){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&Be(this._layers[u].layer)===o)return this._layers[u]},_addLayer:function(o,u,h){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:u,overlay:h}),this.options.sortLayers&&this._layers.sort(Ke(function(p,m){return this.options.sortFunction(p.layer,m.layer,p.name,m.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;We(this._baseLayersList),We(this._overlaysList),this._layerControlInputs=[];var o,u,h,p,m=0;for(h=0;h<this._layers.length;h++)this._addItem(p=this._layers[h]),u=u||p.overlay,o=o||!p.overlay,m+=p.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(o=o&&m>1)?"":"none"),this._separator.style.display=u&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var u=this._getLayer(Be(o.target)),h=u.overlay?"add"===o.type?"overlayadd":"overlayremove":"add"===o.type?"baselayerchange":null;h&&this._map.fire(h,u)},_createRadioElement:function(o,u){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(u?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=h,p.firstChild},_addItem:function(o){var p,u=document.createElement("label"),h=this._map.hasLayer(o.layer);o.overlay?((p=document.createElement("input")).type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=h):p=this._createRadioElement("leaflet-base-layers_"+Be(this),h),this._layerControlInputs.push(p),p.layerId=Be(o.layer),De(p,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+o.name;var _=document.createElement("span");return u.appendChild(_),_.appendChild(p),_.appendChild(m),(o.overlay?this._overlaysList:this._baseLayersList).appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){var u,h,o=this._layerControlInputs,p=[],m=[];this._handlingClick=!0;for(var _=o.length-1;_>=0;_--)h=this._getLayer((u=o[_]).layerId).layer,u.checked?p.push(h):u.checked||m.push(h);for(_=0;_<m.length;_++)this._map.hasLayer(m[_])&&this._map.removeLayer(m[_]);for(_=0;_<p.length;_++)this._map.hasLayer(p[_])||this._map.addLayer(p[_]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var u,h,o=this._layerControlInputs,p=this._map.getZoom(),m=o.length-1;m>=0;m--)h=this._getLayer((u=o[m]).layerId).layer,u.disabled=void 0!==h.options.minZoom&&p<h.options.minZoom||void 0!==h.options.maxZoom&&p>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),Gs=ie.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var u="leaflet-control-zoom",h=_e("div",u+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,u+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,u+"-out",h,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,u,h,p,m){var _=_e("a",h,p);return _.innerHTML=o,_.href="#",_.title=u,_.setAttribute("role","button"),_.setAttribute("aria-label",u),Us(_),De(_,"click",yi),De(_,"click",m,this),De(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var o=this._map,u="leaflet-disabled";vt(this._zoomInButton,u),vt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(we(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(we(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ae.mergeOptions({zoomControl:!0}),Ae.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Gs,this.addControl(this.zoomControl))});var _i=ie.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var u="leaflet-control-scale",h=_e("div",u),p=this.options;return this._addScales(p,u+"-line",h),o.on(p.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),h},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,u,h){o.metric&&(this._mScale=_e("div",u,h)),o.imperial&&(this._iScale=_e("div",u,h))},_update:function(){var o=this._map,u=o.getSize().y/2,h=o.distance(o.containerPointToLatLng([0,u]),o.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(h)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var u=this._getRoundNum(o);this._updateScale(this._mScale,u<1e3?u+" m":u/1e3+" km",u/o)},_updateImperial:function(o){var h,p,m,u=3.2808399*o;u>5280?(p=this._getRoundNum(h=u/5280),this._updateScale(this._iScale,p+" mi",p/h)):(m=this._getRoundNum(u),this._updateScale(this._iScale,m+" ft",m/u))},_updateScale:function(o,u,h){o.style.width=Math.round(this.options.maxWidth*h)+"px",o.innerHTML=u},_getRoundNum:function(o){var u=Math.pow(10,(Math.floor(o)+"").length-1),h=o/u;return u*(h>=10?10:h>=5?5:h>=3?3:h>=2?2:1)}}),Su=ie.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(J.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(o){ft(this,o),this._attributions={}},onAdd:function(o){for(var u in o.attributionControl=this,this._container=_e("div","leaflet-control-attribution"),Us(this._container),o._layers)o._layers[u].getAttribution&&this.addAttribution(o._layers[u].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var u in this._attributions)this._attributions[u]&&o.push(u);var h=[];this.options.prefix&&h.push(this.options.prefix),o.length&&h.push(o.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Ae.mergeOptions({attributionControl:!0}),Ae.addInitHook(function(){this.options.attributionControl&&(new Su).addTo(this)});ie.Layers=Cu,ie.Zoom=Gs,ie.Scale=_i,ie.Attribution=Su,sr.layers=function(o,u,h){return new Cu(o,u,h)},sr.zoom=function(o){return new Gs(o)},sr.scale=function(o){return new _i(o)},sr.attribution=function(o){return new Su(o)};var ni=mi.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ni.addTo=function(o,u){return o.addHandler(u,this),this};var qs,nh={Events:kt},bu=J.touch?"touchstart mousedown":"mousedown",or=Ns.extend({options:{clickTolerance:3},initialize:function(o,u,h,p){ft(this,p),this._element=o,this._dragStartTarget=u||o,this._preventOutline=h},enable:function(){this._enabled||(De(this._dragStartTarget,bu,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(or._dragging===this&&this.finishDrag(!0),st(this._dragStartTarget,bu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!rs(this._element,"leaflet-zoom-anim"))){if(o.touches&&1!==o.touches.length)return void(or._dragging===this&&this.finishDrag());if(!(or._dragging||o.shiftKey||1!==o.which&&1!==o.button&&!o.touches||(or._dragging=this,this._preventOutline&&vu(this._element),mu(),Vs(),this._moving))){this.fire("down");var u=o.touches?o.touches[0]:o,h=Xd(this._element);this._startPoint=new fe(u.clientX,u.clientY),this._startPos=rr(this._element),this._parentScale=yu(h);var p="mousedown"===o.type;De(document,p?"mousemove":"touchmove",this._onMove,this),De(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1)return void(this._moved=!0);var u=o.touches&&1===o.touches.length?o.touches[0]:o,h=new fe(u.clientX,u.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Le(o),this._moved||(this.fire("dragstart"),this._moved=!0,we(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),we(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Oe(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(o){vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),st(document,"mousemove touchmove",this._onMove,this),st(document,"mouseup touchend touchcancel",this._onUp,this),fa(),js(),this._moved&&this._moving&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,or._dragging=!1}});function Ze(o,u){if(!u||!o.length)return o.slice();var h=u*u;return function Rr(o,u){var h=o.length,m=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(h);m[0]=m[h-1]=1,qe(o,m,u,0,h-1);var _,C=[];for(_=0;_<h;_++)m[_]&&C.push(o[_]);return C}(o=function Zs(o,u){for(var h=[o[0]],p=1,m=0,_=o.length;p<_;p++)as(o[p],o[m])>u&&(h.push(o[p]),m=p);return m<_-1&&h.push(o[_-1]),h}(o,h),h)}function ih(o,u,h){return Math.sqrt(ls(o,u,h,!0))}function qe(o,u,h,p,m){var C,T,M,_=0;for(T=p+1;T<=m-1;T++)(M=ls(o[T],o[p],o[m],!0))>_&&(C=T,_=M);_>h&&(u[C]=1,qe(o,u,h,p,C),qe(o,u,h,C,m))}function Ys(o,u,h,p,m){var T,M,k,_=p?qs:sn(o,h),C=sn(u,h);for(qs=C;;){if(!(_|C))return[o,u];if(_&C)return!1;k=sn(M=os(o,u,T=_||C,h,m),h),T===_?(o=M,_=k):(u=M,C=k)}}function os(o,u,h,p,m){var k,q,_=u.x-o.x,C=u.y-o.y,T=p.min,M=p.max;return 8&h?(k=o.x+_*(M.y-o.y)/C,q=M.y):4&h?(k=o.x+_*(T.y-o.y)/C,q=T.y):2&h?(k=M.x,q=o.y+C*(M.x-o.x)/_):1&h&&(k=T.x,q=o.y+C*(T.x-o.x)/_),new fe(k,q,m)}function sn(o,u){var h=0;return o.x<u.min.x?h|=1:o.x>u.max.x&&(h|=2),o.y<u.min.y?h|=4:o.y>u.max.y&&(h|=8),h}function as(o,u){var h=u.x-o.x,p=u.y-o.y;return h*h+p*p}function ls(o,u,h,p){var k,m=u.x,_=u.y,C=h.x-m,T=h.y-_,M=C*C+T*T;return M>0&&((k=((o.x-m)*C+(o.y-_)*T)/M)>1?(m=h.x,_=h.y):k>0&&(m+=C*k,_+=T*k)),C=o.x-m,T=o.y-_,p?C*C+T*T:new fe(m,_)}function ot(o){return!Yt(o[0])||"object"!=typeof o[0][0]&&typeof o[0][0]<"u"}function Eu(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ot(o)}var Tu={__proto__:null,simplify:Ze,pointToSegmentDistance:ih,closestPointOnSegment:function wm(o,u,h){return ls(o,u,h)},clipSegment:Ys,_getEdgeIntersection:os,_getBitCode:sn,_sqClosestPointOnSegment:ls,isFlat:ot,_flat:Eu};function va(o,u,h){var p,_,C,T,M,k,q,Ce,Fe,m=[1,4,2,8];for(_=0,q=o.length;_<q;_++)o[_]._code=sn(o[_],u);for(T=0;T<4;T++){for(Ce=m[T],p=[],_=0,C=(q=o.length)-1;_<q;C=_++)k=o[C],(M=o[_])._code&Ce?k._code&Ce||((Fe=os(k,M,Ce,u,h))._code=sn(Fe,u),p.push(Fe)):(k._code&Ce&&((Fe=os(k,M,Ce,u,h))._code=sn(Fe,u),p.push(Fe)),p.push(M));o=p}return o}var Mu={__proto__:null,clipPolygon:va},At={project:function(o){return new fe(o.lng,o.lat)},unproject:function(o){return new Qe(o.y,o.x)},bounds:new pt([-180,-90],[180,90])},ya={R:6378137,R_MINOR:6356752.314245179,bounds:new pt([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(o){var u=Math.PI/180,h=this.R,p=o.lat*u,m=this.R_MINOR/h,_=Math.sqrt(1-m*m),C=_*Math.sin(p),T=Math.tan(Math.PI/4-p/2)/Math.pow((1-C)/(1+C),_/2);return p=-h*Math.log(Math.max(T,1e-10)),new fe(o.lng*u*h,p)},unproject:function(o){for(var k,u=180/Math.PI,h=this.R,p=this.R_MINOR/h,m=Math.sqrt(1-p*p),_=Math.exp(-o.y/h),C=Math.PI/2-2*Math.atan(_),T=0,M=.1;T<15&&Math.abs(M)>1e-7;T++)k=m*Math.sin(C),k=Math.pow((1-k)/(1+k),m/2),C+=M=Math.PI/2-2*Math.atan(_*k)-C;return new Qe(C*u,o.x*u/h)}},Iu={__proto__:null,LonLat:At,Mercator:ya,SphericalMercator:He},yt=Ye({},mt,{code:"EPSG:3395",projection:ya,transformation:function(){var o=.5/(Math.PI*ya.R);return Ls(o,.5,-o,.5)}()}),ct=Ye({},mt,{code:"EPSG:4326",projection:At,transformation:Ls(1/180,1,-1/180,.5)}),Kt=Ye({},ut,{projection:At,transformation:Ls(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,u){var h=u.lng-o.lng,p=u.lat-o.lat;return Math.sqrt(h*h+p*p)},infinite:!0});ut.Earth=mt,ut.EPSG3395=yt,ut.EPSG3857=Mr,ut.EPSG900913=Od,ut.EPSG4326=ct,ut.Simple=Kt;var Rt=Ns.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[Be(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[Be(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var u=o.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var h=this.getEvents();u.on(h,this),this.once("remove",function(){u.off(h,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Ae.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var u=Be(o);return this._layers[u]||(this._layers[u]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o)),this},removeLayer:function(o){var u=Be(o);return this._layers[u]?(this._loaded&&o.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return Be(o)in this._layers},eachLayer:function(o,u){for(var h in this._layers)o.call(u,this._layers[h]);return this},_addLayers:function(o){for(var u=0,h=(o=o?Yt(o)?o:[o]:[]).length;u<h;u++)this.addLayer(o[u])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[Be(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var u=Be(o);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,u=-1/0,h=this._getZoomSpan();for(var p in this._zoomBoundLayers){var m=this._zoomBoundLayers[p].options;o=void 0===m.minZoom?o:Math.min(o,m.minZoom),u=void 0===m.maxZoom?u:Math.max(u,m.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=o===1/0?void 0:o,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var kn=Rt.extend({initialize:function(o,u){var h,p;if(ft(this,u),this._layers={},o)for(h=0,p=o.length;h<p;h++)this.addLayer(o[h])},addLayer:function(o){var u=this.getLayerId(o);return this._layers[u]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var u=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(o){return("number"==typeof o?o:this.getLayerId(o))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h,p,u=Array.prototype.slice.call(arguments,1);for(h in this._layers)(p=this._layers[h])[o]&&p[o].apply(p,u);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,u){for(var h in this._layers)o.call(u,this._layers[h]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return Be(o)}}),jt=kn.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),kn.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),kn.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new ln;for(var u in this._layers){var h=this._layers[u];o.extend(h.getBounds?h.getBounds():h.getLatLng())}return o}}),ge=mi.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){ft(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,u){var h=this._getIconUrl(o);if(!h){if("icon"===o)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(h,u&&"IMG"===u.tagName?u:null);return this._setIconStyles(p,o),(this.options.crossOrigin||""===this.options.crossOrigin)&&(p.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),p},_setIconStyles:function(o,u){var h=this.options,p=h[u+"Size"];"number"==typeof p&&(p=[p,p]);var m=Te(p),_=Te("shadow"===u&&h.shadowAnchor||h.iconAnchor||m&&m.divideBy(2,!0));o.className="leaflet-marker-"+u+" "+(h.className||""),_&&(o.style.marginLeft=-_.x+"px",o.style.marginTop=-_.y+"px"),m&&(o.style.width=m.x+"px",o.style.height=m.y+"px")},_createImg:function(o,u){return(u=u||document.createElement("img")).src=o,u},_getIconUrl:function(o){return J.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});var Ut=ge.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return"string"!=typeof Ut.imagePath&&(Ut.imagePath=this._detectIconPath()),(this.options.imagePath||Ut.imagePath)+ge.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var u=function(h,p,m){var _=p.exec(h);return _&&_[m]};return(o=u(o,/^url\((['"])?(.+)\1\)$/,2))&&u(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=_e("div","leaflet-default-icon-path",document.body),u=rn(o,"background-image")||rn(o,"backgroundImage");if(document.body.removeChild(o),u=this._stripUrl(u))return u;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Li=ni.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new or(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),we(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var u=this._marker,h=u._map,p=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,_=rr(u._icon),C=h.getPixelBounds(),T=h.getPixelOrigin(),M=Bn(C.min._subtract(T).add(m),C.max._subtract(T).subtract(m));if(!M.contains(_)){var k=Te((Math.max(M.max.x,_.x)-M.max.x)/(C.max.x-M.max.x)-(Math.min(M.min.x,_.x)-M.min.x)/(C.min.x-M.min.x),(Math.max(M.max.y,_.y)-M.max.y)/(C.max.y-M.max.y)-(Math.min(M.min.y,_.y)-M.min.y)/(C.min.y-M.min.y)).multiplyBy(p);h.panBy(k,{animate:!1}),this._draggable._newPos._add(k),this._draggable._startPos._add(k),Oe(u._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=Ht(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(xn(this._panRequest),this._panRequest=Ht(this._adjustPan.bind(this,o)))},_onDrag:function(o){var u=this._marker,h=u._shadow,p=rr(u._icon),m=u._map.layerPointToLatLng(p);h&&Oe(h,p),u._latlng=m,o.latlng=m,o.oldLatLng=this._oldLatLng,u.fire("move",o).fire("drag",o)},_onDragEnd:function(o){xn(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Ct=Rt.extend({options:{icon:new Ut,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,u){ft(this,u),this._latlng=gt(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var u=this._latlng;return this._latlng=gt(o),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=o.icon.createIcon(this._icon),p=!1;h!==this._icon&&(this._icon&&this._removeIcon(),p=!0,o.title&&(h.title=o.title),"IMG"===h.tagName&&(h.alt=o.alt||"")),we(h,u),o.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&De(h,"focus",this._panOnFocus,this);var m=o.icon.createShadow(this._shadow),_=!1;m!==this._shadow&&(this._removeShadow(),_=!0),m&&(we(m,u),m.alt=""),this._shadow=m,o.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&_&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&st(this._icon,"focus",this._panOnFocus,this),rt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&rt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Oe(this._icon,o),this._shadow&&Oe(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(we(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Li)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Li(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Vn(this._icon,o),this._shadow&&Vn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var u=this.options.icon.options,h=u.iconSize?Te(u.iconSize):Te(0,0),p=u.iconAnchor?Te(u.iconAnchor):Te(0,0);o.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:h.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Xe=Rt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return ft(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fi=Xe.extend({options:{fill:!0,radius:10},initialize:function(o,u){ft(this,u),this._latlng=gt(o),this._radius=this.options.radius},setLatLng:function(o){var u=this._latlng;return this._latlng=gt(o),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var u=o&&o.radius||this._radius;return Xe.prototype.setStyle.call(this,o),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,u=this._radiusY||o,h=this._clickTolerance(),p=[o+h,u+h];this._pxBounds=new pt(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var me=Fi.extend({initialize:function(o,u,h){if("number"==typeof u&&(u=Ye({},h,{radius:u})),ft(this,u),this._latlng=gt(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new ln(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Xe.prototype.setStyle,_project:function(){var o=this._latlng.lng,u=this._latlng.lat,h=this._map,p=h.options.crs;if(p.distance===mt.distance){var m=Math.PI/180,_=this._mRadius/mt.R/m,C=h.project([u+_,o]),T=h.project([u-_,o]),M=C.add(T).divideBy(2),k=h.unproject(M).lat,q=Math.acos((Math.cos(_*m)-Math.sin(u*m)*Math.sin(k*m))/(Math.cos(u*m)*Math.cos(k*m)))/m;(isNaN(q)||0===q)&&(q=_/Math.cos(Math.PI/180*u)),this._point=M.subtract(h.getPixelOrigin()),this._radius=isNaN(q)?0:M.x-h.project([k,o-q]).x,this._radiusY=M.y-C.y}else{var Ce=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Ce).x}this._updateBounds()}});var cn=Xe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,u){ft(this,u),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var m,_,u=1/0,h=null,p=ls,C=0,T=this._parts.length;C<T;C++)for(var M=this._parts[C],k=1,q=M.length;k<q;k++){var Ce=p(o,m=M[k-1],_=M[k],!0);Ce<u&&(u=Ce,h=p(o,m,_))}return h&&(h.distance=Math.sqrt(u)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var o,u,h,p,m,_,C,T=this._rings[0],M=T.length;if(!M)return null;for(o=0,u=0;o<M-1;o++)u+=T[o].distanceTo(T[o+1])/2;if(0===u)return this._map.layerPointToLatLng(T[0]);for(o=0,p=0;o<M-1;o++)if((p+=h=(m=T[o]).distanceTo(_=T[o+1]))>u)return this._map.layerPointToLatLng([_.x-(C=(p-u)/h)*(_.x-m.x),_.y-C*(_.y-m.y)])},getBounds:function(){return this._bounds},addLatLng:function(o,u){return u=u||this._defaultShape(),o=gt(o),u.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new ln,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return ot(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var u=[],h=ot(o),p=0,m=o.length;p<m;p++)h?(u[p]=gt(o[p]),this._bounds.extend(u[p])):u[p]=this._convertLatLngs(o[p]);return u},_project:function(){var o=new pt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),u=new fe(o,o);!this._rawPxBounds||(this._pxBounds=new pt([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(o,u,h){var _,C,m=o.length;if(o[0]instanceof Qe){for(C=[],_=0;_<m;_++)C[_]=this._map.latLngToLayerPoint(o[_]),h.extend(C[_]);u.push(C)}else for(_=0;_<m;_++)this._projectLatlngs(o[_],u,h)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);var h,p,m,_,C,T,M,u=this._parts;for(h=0,m=0,_=this._rings.length;h<_;h++)for(p=0,C=(M=this._rings[h]).length;p<C-1;p++)(T=Ys(M[p],M[p+1],o,p,!0))&&(u[m]=u[m]||[],u[m].push(T[0]),(T[1]!==M[p+1]||p===C-2)&&(u[m].push(T[1]),m++))}},_simplifyPoints:function(){for(var o=this._parts,u=this.options.smoothFactor,h=0,p=o.length;h<p;h++)o[h]=Ze(o[h],u)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,u){var h,p,m,_,C,T,M=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(h=0,_=this._parts.length;h<_;h++)for(p=0,m=(C=(T=this._parts[h]).length)-1;p<C;m=p++)if((u||0!==p)&&ih(o,T[m],T[p])<=M)return!0;return!1}});cn._flat=Eu;var Wn=cn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var o,u,h,p,m,_,C,T,k=this._rings[0],q=k.length;if(!q)return null;for(_=C=T=0,o=0,u=q-1;o<q;u=o++)C+=((h=k[o]).x+(p=k[u]).x)*(m=h.y*p.x-p.y*h.x),T+=(h.y+p.y)*m,_+=3*m;return this._map.layerPointToLatLng(0===_?k[0]:[C/_,T/_])},_convertLatLngs:function(o){var u=cn.prototype._convertLatLngs.call(this,o),h=u.length;return h>=2&&u[0]instanceof Qe&&u[0].equals(u[h-1])&&u.pop(),u},_setLatLngs:function(o){cn.prototype._setLatLngs.call(this,o),ot(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ot(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,u=this.options.weight,h=new fe(u,u);if(o=new pt(o.min.subtract(h),o.max.add(h)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);for(var _,p=0,m=this._rings.length;p<m;p++)(_=va(this._rings[p],o,!0)).length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h,p,m,_,C,T,M,k,u=!1;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(_=0,M=this._parts.length;_<M;_++)for(C=0,T=(k=(h=this._parts[_]).length)-1;C<k;T=C++)(p=h[C]).y>o.y!=(m=h[T]).y>o.y&&o.x<(m.x-p.x)*(o.y-p.y)/(m.y-p.y)+p.x&&(u=!u);return u||cn.prototype._containsPoint.call(this,o,!0)}});var yn=jt.extend({initialize:function(o,u){ft(this,u),this._layers={},o&&this.addData(o)},addData:function(o){var h,p,m,u=Yt(o)?o:o.features;if(u){for(h=0,p=u.length;h<p;h++)((m=u[h]).geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var _=this.options;if(_.filter&&!_.filter(o))return this;var C=Bi(o,_);return C?(C.feature=Vi(o),C.defaultOptions=C.options,this.resetStyle(C),_.onEachFeature&&_.onEachFeature(o,C),this.addLayer(C)):this},resetStyle:function(o){return void 0===o?this.eachLayer(this.resetStyle,this):(o.options=Ye({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(u){this._setLayerStyle(u,o)},this)},_setLayerStyle:function(o,u){o.setStyle&&("function"==typeof u&&(u=u(o.feature)),o.setStyle(u))}});function Bi(o,u){var T,M,k,q,h="Feature"===o.type?o.geometry:o,p=h?h.coordinates:null,m=[],_=u&&u.pointToLayer,C=u&&u.coordsToLatLng||Je;if(!p&&!h)return null;switch(h.type){case"Point":return On(_,o,T=C(p),u);case"MultiPoint":for(k=0,q=p.length;k<q;k++)T=C(p[k]),m.push(On(_,o,T,u));return new jt(m);case"LineString":case"MultiLineString":return M=Qs(p,"LineString"===h.type?0:1,C),new cn(M,u);case"Polygon":case"MultiPolygon":return M=Qs(p,"Polygon"===h.type?1:2,C),new Wn(M,u);case"GeometryCollection":for(k=0,q=h.geometries.length;k<q;k++){var Ce=Bi({geometry:h.geometries[k],type:"Feature",properties:o.properties},u);Ce&&m.push(Ce)}return new jt(m);default:throw new Error("Invalid GeoJSON object.")}}function On(o,u,h,p){return o?o(u,h):new Ct(h,p&&p.markersInheritOptions&&p)}function Je(o){return new Qe(o[1],o[0],o[2])}function Qs(o,u,h){for(var C,p=[],m=0,_=o.length;m<_;m++)C=u?Qs(o[m],u-1,h):(h||Je)(o[m]),p.push(C);return p}function wa(o,u){return void 0!==(o=gt(o)).alt?[vn(o.lng,u),vn(o.lat,u),vn(o.alt,u)]:[vn(o.lng,u),vn(o.lat,u)]}function lr(o,u,h,p){for(var m=[],_=0,C=o.length;_<C;_++)m.push(u?lr(o[_],u-1,h,p):wa(o[_],p));return!u&&h&&m.push(m[0]),m}function Hi(o,u){return o.feature?Ye({},o.feature,{geometry:u}):Vi(u)}function Vi(o){return"Feature"===o.type||"FeatureCollection"===o.type?o:{type:"Feature",properties:{},geometry:o}}var Nr={toGeoJSON:function(o){return Hi(this,{type:"Point",coordinates:wa(this.getLatLng(),o)})}};function ji(o,u){return new yn(o,u)}Ct.include(Nr),me.include(Nr),Fi.include(Nr),cn.include({toGeoJSON:function(o){var u=!ot(this._latlngs);return Hi(this,{type:(u?"Multi":"")+"LineString",coordinates:lr(this._latlngs,u?1:0,!1,o)})}}),Wn.include({toGeoJSON:function(o){var u=!ot(this._latlngs),h=u&&!ot(this._latlngs[0]),p=lr(this._latlngs,h?2:u?1:0,!0,o);return u||(p=[p]),Hi(this,{type:(h?"Multi":"")+"Polygon",coordinates:p})}}),kn.include({toMultiPoint:function(o){var u=[];return this.eachLayer(function(h){u.push(h.toGeoJSON(o).geometry.coordinates)}),Hi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(o){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===u)return this.toMultiPoint(o);var h="GeometryCollection"===u,p=[];return this.eachLayer(function(m){if(m.toGeoJSON){var _=m.toGeoJSON(o);if(h)p.push(_.geometry);else{var C=Vi(_);"FeatureCollection"===C.type?p.push.apply(p,C.features):p.push(C)}}}),h?Hi(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});var Qt=ji,Xs=Rt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,u,h){this._url=o,this._bounds=Me(u),ft(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(we(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){rt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Oi(this._image),this},bringToBack:function(){return this._map&&Re(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Me(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o="IMG"===this._url.tagName,u=this._image=o?this._url:_e("img");we(u,"leaflet-image-layer"),this._zoomAnimated&&we(u,"leaflet-zoom-animated"),this.options.className&&we(u,this.options.className),u.onselectstart=nt,u.onmousemove=nt,u.onload=Ke(this.fire,this,"load"),u.onerror=Ke(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(u.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o?this._url=u.src:(u.src=this._url,u.alt=this.options.alt)},_animateZoom:function(o){var u=this._map.getZoomScale(o.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;se(this._image,h,u)},_reset:function(){var o=this._image,u=new pt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=u.getSize();Oe(o,u.min),o.style.width=h.x+"px",o.style.height=h.y+"px"},_updateOpacity:function(){Vn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Nn=Xs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o="VIDEO"===this._url.tagName,u=this._image=o?this._url:_e("video");if(we(u,"leaflet-image-layer"),this._zoomAnimated&&we(u,"leaflet-zoom-animated"),this.options.className&&we(u,this.options.className),u.onselectstart=nt,u.onmousemove=nt,u.onloadeddata=Ke(this.fire,this,"load"),o){for(var h=u.getElementsByTagName("source"),p=[],m=0;m<h.length;m++)p.push(h[m].src);this._url=h.length>0?p:[u.src]}else{Yt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var C=_e("source");C.src=this._url[_],u.appendChild(C)}}}});var us=Xs.extend({_initImage:function(){var o=this._image=this._url;we(o,"leaflet-image-layer"),this._zoomAnimated&&we(o,"leaflet-zoom-animated"),this.options.className&&we(o,this.options.className),o.onselectstart=nt,o.onmousemove=nt}});var Tt=Rt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(o,u){ft(this,o),this._source=u},openOn:function(o){return(o=arguments.length?o:this._source._map).hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Vn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Vn(this._container,1),this.bringToFront(),this.options.interactive&&(we(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Vn(this._container,0),this._removeTimeout=setTimeout(Ke(rt,void 0,this._container),200)):rt(this._container),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=gt(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Oi(this._container),this},bringToBack:function(){return this._map&&Re(this._container),this},_prepareOpen:function(o){var u=this._source;if(!u._map)return!1;if(u instanceof jt){u=null;var h=this._source._layers;for(var p in h)if(h[p]._map){u=h[p];break}if(!u)return!1;this._source=u}if(!o)if(u.getCenter)o=u.getCenter();else if(u.getLatLng)o=u.getLatLng();else{if(!u.getBounds)throw new Error("Unable to get source layer LatLng.");o=u.getBounds().getCenter()}return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,u="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof u)o.innerHTML=u;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),u=Te(this.options.offset),h=this._getAnchor();this._zoomAnimated?Oe(this._container,o.add(h)):u=u.add(o).add(h);var p=this._containerBottom=-u.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=p+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});Ae.include({_initOverlay:function(o,u,h,p){var m=u;return m instanceof o||(m=new o(p).setContent(u)),h&&m.setLatLng(h),m}}),Rt.include({_initOverlay:function(o,u,h,p){var m=h;return m instanceof o?(ft(m,p),m._source=this):(m=u&&!p?u:new o(p,this)).setContent(h),m}});var eo=Tt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return!(o=arguments.length?o:this._source._map).hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Tt.prototype.openOn.call(this,o)},onAdd:function(o){Tt.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xe||this._source.on("preclick",kr))},onRemove:function(o){Tt.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xe||this._source.off("preclick",kr))},getEvents:function(){var o=Tt.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",u=this._container=_e("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=_e("div",o+"-content-wrapper",u);if(this._contentNode=_e("div",o+"-content",h),Us(u),ae(this._contentNode),De(u,"contextmenu",kr),this._tipContainer=_e("div",o+"-tip-container",u),this._tip=_e("div",o+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=_e("a",o+"-close-button",u);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',De(p,"click",this.close,this)}},_updateLayout:function(){var o=this._contentNode,u=o.style;u.width="",u.whiteSpace="nowrap";var h=o.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),u.width=h+1+"px",u.whiteSpace="",u.height="";var m=this.options.maxHeight,_="leaflet-popup-scrolled";m&&o.offsetHeight>m?(u.height=m+"px",we(o,_)):vt(o,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),h=this._getAnchor();Oe(this._container,u.add(h))},_adjustPan:function(o){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var u=this._map,h=parseInt(rn(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+h,m=this._containerWidth,_=new fe(this._containerLeft,-p-this._containerBottom);_._add(rr(this._container));var C=u.layerPointToContainerPoint(_),T=Te(this.options.autoPanPadding),M=Te(this.options.autoPanPaddingTopLeft||T),k=Te(this.options.autoPanPaddingBottomRight||T),q=u.getSize(),Ce=0,Fe=0;C.x+m+k.x>q.x&&(Ce=C.x+m-q.x+k.x),C.x-Ce-M.x<0&&(Ce=C.x-M.x),C.y+p+k.y>q.y&&(Fe=C.y+p-q.y+k.y),C.y-Fe-M.y<0&&(Fe=C.y-M.y),(Ce||Fe)&&u.fire("autopanstart").panBy([Ce,Fe],{animate:o&&"moveend"===o.type})}},_getAnchor:function(){return Te(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ae.mergeOptions({closePopupOnClick:!0}),Ae.include({openPopup:function(o,u,h){return this._initOverlay(eo,o,u,h).openOn(this),this},closePopup:function(o){return(o=arguments.length?o:this._popup)&&o.close(),this}}),Rt.include({bindPopup:function(o,u){return this._popup=this._initOverlay(eo,this._popup,o,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&this._popup._prepareOpen(o)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(this._popup&&this._map){yi(o);var u=o.layer||o.target;if(this._popup._source===u&&!(u instanceof Xe))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng));this._popup._source=u,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){13===o.originalEvent.keyCode&&this._openPopup(o)}});var to=Tt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Tt.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Tt.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Tt.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){this._contentNode=this._container=_e("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var u,h,p=this._map,m=this._container,_=p.latLngToContainerPoint(p.getCenter()),C=p.layerPointToContainerPoint(o),T=this.options.direction,M=m.offsetWidth,k=m.offsetHeight,q=Te(this.options.offset),Ce=this._getAnchor();"top"===T?(u=M/2,h=k):"bottom"===T?(u=M/2,h=0):"center"===T?(u=M/2,h=k/2):"right"===T?(u=0,h=k/2):"left"===T?(u=M,h=k/2):C.x<_.x?(T="right",u=0,h=k/2):(T="left",u=M+2*(q.x+Ce.x),h=k/2),o=o.subtract(Te(u,h,!0)).add(q).add(Ce),vt(m,"leaflet-tooltip-right"),vt(m,"leaflet-tooltip-left"),vt(m,"leaflet-tooltip-top"),vt(m,"leaflet-tooltip-bottom"),we(m,"leaflet-tooltip-"+T),Oe(m,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Vn(this._container,o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(u)},_getAnchor:function(){return Te(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ae.include({openTooltip:function(o,u,h){return this._initOverlay(to,o,u,h).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Rt.include({bindTooltip:function(o,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(to,this._tooltip,o,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(o||!this._tooltipHandlersAdded){var u=o?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[u](h),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&this._tooltip._prepareOpen(o)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_openTooltip:function(o){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0))},_moveTooltip:function(o){var h,p,u=o.latlng;this._tooltip.options.sticky&&o.originalEvent&&(h=this._map.mouseEventToContainerPoint(o.originalEvent),p=this._map.containerPointToLayerPoint(h),u=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(u)}});var sh=ge.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var u=o&&"DIV"===o.tagName?o:document.createElement("div"),h=this.options;if(h.html instanceof Element?(We(u),u.appendChild(h.html)):u.innerHTML=!1!==h.html?h.html:"",h.bgPos){var p=Te(h.bgPos);u.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});ge.Default=Ut;var no=Rt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:J.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){ft(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),rt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Oi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Re(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=ea(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof fe?o:new fe(o,o)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var _,u=this.getPane().children,h=-o(-1/0,1/0),p=0,m=u.length;p<m;p++)_=u[p].style.zIndex,u[p]!==this._container&&_&&(h=o(h,+_));isFinite(h)&&(this.options.zIndex=h+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!J.ielt9){Vn(this._container,this.options.opacity);var o=+new Date,u=!1,h=!1;for(var p in this._tiles){var m=this._tiles[p];if(m.current&&m.loaded){var _=Math.min(1,(o-m.loaded)/200);Vn(m.el,_),_<1?u=!0:(m.active?h=!0:this._onOpaqueTile(m),m.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),u&&(xn(this._fadeFrame),this._fadeFrame=Ht(this._updateOpacity,this))}},_onOpaqueTile:nt,_initContainer:function(){this._container||(this._container=_e("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,u=this.options.maxZoom;if(void 0!==o){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===o?(this._levels[h].el.style.zIndex=u-Math.abs(o-h),this._onUpdateLevel(h)):(rt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var p=this._levels[o],m=this._map;return p||((p=this._levels[o]={}).el=_e("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=u,p.origin=m.project(m.unproject(m.getPixelOrigin()),o).round(),p.zoom=o,this._setZoomTransform(p,m.getCenter(),m.getZoom()),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:nt,_onRemoveLevel:nt,_onCreateLevel:nt,_pruneTiles:function(){if(this._map){var o,u,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom)return void this._removeAllTiles();for(o in this._tiles)(u=this._tiles[o]).retain=u.current;for(o in this._tiles)if((u=this._tiles[o]).current&&!u.active){var p=u.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var u in this._tiles)this._tiles[u].coords.z===o&&this._removeTile(u)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)rt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,u,h,p){var m=Math.floor(o/2),_=Math.floor(u/2),C=h-1,T=new fe(+m,+_);T.z=+C;var M=this._tileCoordsToKey(T),k=this._tiles[M];return k&&k.active?(k.retain=!0,!0):(k&&k.loaded&&(k.retain=!0),C>p&&this._retainParent(m,_,C,p))},_retainChildren:function(o,u,h,p){for(var m=2*o;m<2*o+2;m++)for(var _=2*u;_<2*u+2;_++){var C=new fe(m,_);C.z=h+1;var T=this._tileCoordsToKey(C),M=this._tiles[T];M&&M.active?M.retain=!0:(M&&M.loaded&&(M.retain=!0),h+1<p&&this._retainChildren(m,_,h+1,p))}},_resetView:function(o){var u=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var u=this.options;return void 0!==u.minNativeZoom&&o<u.minNativeZoom?u.minNativeZoom:void 0!==u.maxNativeZoom&&u.maxNativeZoom<o?u.maxNativeZoom:o},_setView:function(o,u,h,p){var m=Math.round(u);m=void 0!==this.options.maxZoom&&m>this.options.maxZoom||void 0!==this.options.minZoom&&m<this.options.minZoom?void 0:this._clampZoom(m),(!p||this.options.updateWhenZooming&&m!==this._tileZoom)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==m&&this._update(o),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(o,u)},_setZoomTransforms:function(o,u){for(var h in this._levels)this._setZoomTransform(this._levels[h],o,u)},_setZoomTransform:function(o,u,h){var p=this._map.getZoomScale(h,o.zoom),m=o.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(u,h)).round();J.any3d?se(o.el,m,p):Oe(o.el,m)},_resetGrid:function(){var o=this._map,u=o.options.crs,h=this._tileSize=this.getTileSize(),p=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,u.wrapLng[0]],p).x/h.x),Math.ceil(o.project([0,u.wrapLng[1]],p).x/h.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([u.wrapLat[0],0],p).y/h.x),Math.ceil(o.project([u.wrapLat[1],0],p).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var u=this._map,h=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),p=u.getZoomScale(h,this._tileZoom),m=u.project(o,this._tileZoom).floor(),_=u.getSize().divideBy(2*p);return new pt(m.subtract(_),m.add(_))},_update:function(o){var u=this._map;if(u){var h=this._clampZoom(u.getZoom());if(void 0===o&&(o=u.getCenter()),void 0!==this._tileZoom){var p=this._getTiledPixelBounds(o),m=this._pxBoundsToTileRange(p),_=m.getCenter(),C=[],T=this.options.keepBuffer,M=new pt(m.getBottomLeft().subtract([T,-T]),m.getTopRight().add([T,-T]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var k in this._tiles){var q=this._tiles[k].coords;(q.z!==this._tileZoom||!M.contains(new fe(q.x,q.y)))&&(this._tiles[k].current=!1)}if(Math.abs(h-this._tileZoom)>1)return void this._setView(o,h);for(var Ce=m.min.y;Ce<=m.max.y;Ce++)for(var Fe=m.min.x;Fe<=m.max.x;Fe++){var $e=new fe(Fe,Ce);if($e.z=this._tileZoom,this._isValidTile($e)){var Wi=this._tiles[this._tileCoordsToKey($e)];Wi?Wi.current=!0:C.push($e)}}if(C.sort(function(tt,Ta){return tt.distanceTo(_)-Ta.distanceTo(_)}),0!==C.length){this._loading||(this._loading=!0,this.fire("loading"));var so=document.createDocumentFragment();for(Fe=0;Fe<C.length;Fe++)this._addTile(C[Fe],so);this._level.el.appendChild(so)}}}},_isValidTile:function(o){var u=this._map.options.crs;if(!u.infinite){var h=this._globalTileRange;if(!u.wrapLng&&(o.x<h.min.x||o.x>h.max.x)||!u.wrapLat&&(o.y<h.min.y||o.y>h.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(o);return Me(this.options.bounds).overlaps(p)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var u=this._map,h=this.getTileSize(),p=o.scaleBy(h),m=p.add(h);return[u.unproject(p,o.z),u.unproject(m,o.z)]},_tileCoordsToBounds:function(o){var u=this._tileCoordsToNwSe(o),h=new ln(u[0],u[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var u=o.split(":"),h=new fe(+u[0],+u[1]);return h.z=+u[2],h},_removeTile:function(o){var u=this._tiles[o];!u||(rt(u.el),delete this._tiles[o],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){we(o,"leaflet-tile");var u=this.getTileSize();o.style.width=u.x+"px",o.style.height=u.y+"px",o.onselectstart=nt,o.onmousemove=nt,J.ielt9&&this.options.opacity<1&&Vn(o,this.options.opacity)},_addTile:function(o,u){var h=this._getTilePos(o),p=this._tileCoordsToKey(o),m=this.createTile(this._wrapCoords(o),Ke(this._tileReady,this,o));this._initTile(m),this.createTile.length<2&&Ht(Ke(this._tileReady,this,o,null,m)),Oe(m,h),this._tiles[p]={el:m,coords:o,current:!0},u.appendChild(m),this.fire("tileloadstart",{tile:m,coords:o})},_tileReady:function(o,u,h){u&&this.fire("tileerror",{error:u,tile:h,coords:o});var p=this._tileCoordsToKey(o);(h=this._tiles[p])&&(h.loaded=+new Date,this._map._fadeAnimated?(Vn(h.el,0),xn(this._fadeFrame),this._fadeFrame=Ht(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),u||(we(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),J.ielt9||!this._map._fadeAnimated?Ht(this._pruneTiles,this):setTimeout(Ke(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var u=new fe(this._wrapX?br(o.x,this._wrapX):o.x,this._wrapY?br(o.y,this._wrapY):o.y);return u.z=o.z,u},_pxBoundsToTileRange:function(o){var u=this.getTileSize();return new pt(o.min.unscaleBy(u).floor(),o.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});var cs=no.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,u){this._url=o,(u=ft(this,u)).detectRetina&&J.retina&&u.maxZoom>0&&(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom++):(u.zoomOffset++,u.maxZoom--),u.minZoom=Math.max(0,u.minZoom)),"string"==typeof u.subdomains&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,u){return this._url===o&&void 0===u&&(u=!0),this._url=o,u||this.redraw(),this},createTile:function(o,u){var h=document.createElement("img");return De(h,"load",Ke(this._tileOnLoad,this,u,h)),De(h,"error",Ke(this._tileOnError,this,u,h)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(h.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.setAttribute("role","presentation"),h.src=this.getTileUrl(o),h},getTileUrl:function(o){var u={r:J.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-o.y;this.options.tms&&(u.y=h),u["-y"]=h}return ks(this._url,Ye(u,this.options))},_tileOnLoad:function(o,u){J.ielt9?setTimeout(Ke(o,this,null,u),0):o(null,u)},_tileOnError:function(o,u,h){var p=this.options.errorTileUrl;p&&u.getAttribute("src")!==p&&(u.src=p),o(h,u)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom;return this.options.zoomReverse&&(o=this.options.maxZoom-o),o+this.options.zoomOffset},_getSubdomain:function(o){var u=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var o,u;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&((u=this._tiles[o].el).onload=nt,u.onerror=nt,!u.complete)){u.src=Rs;var h=this._tiles[o].coords;rt(u),delete this._tiles[o],this.fire("tileabort",{tile:u,coords:h})}},_removeTile:function(o){var u=this._tiles[o];if(u)return u.el.setAttribute("src",Rs),no.prototype._removeTile.call(this,o)},_tileReady:function(o,u,h){if(this._map&&(!h||h.getAttribute("src")!==Rs))return no.prototype._tileReady.call(this,o,u,h)}});function oh(o,u){return new cs(o,u)}var ah=cs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,u){this._url=o;var h=Ye({},this.defaultWmsParams);for(var p in u)p in this.options||(h[p]=u[p]);var m=(u=ft(this,u)).detectRetina&&J.retina?2:1,_=this.getTileSize();h.width=_.x*m,h.height=_.y*m,this.wmsParams=h},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,cs.prototype.onAdd.call(this,o)},getTileUrl:function(o){var u=this._tileCoordsToNwSe(o),h=this._crs,p=Bn(h.project(u[0]),h.project(u[1])),m=p.min,_=p.max,C=(this._wmsVersion>=1.3&&this._crs===ct?[m.y,m.x,_.y,_.x]:[m.x,m.y,_.x,_.y]).join(","),T=cs.prototype.getTileUrl.call(this,o);return T+Yl(this.wmsParams,T,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(o,u){return Ye(this.wmsParams,o),u||this.redraw(),this}});cs.WMS=ah,oh.wms=function bm(o,u){return new ah(o,u)};var Ui=Rt.extend({options:{padding:.1},initialize:function(o){ft(this,o),Be(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&we(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,u){var h=this._map.getZoomScale(u,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,u),_=p.multiplyBy(-h).add(m).subtract(this._map._getNewPixelOrigin(o,u));J.any3d?se(this._container,_,h):Oe(this._container,_)},_reset:function(){for(var o in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,u=this._map.getSize(),h=this._map.containerPointToLayerPoint(u.multiplyBy(-o)).round();this._bounds=new pt(h,h.add(u.multiplyBy(1+2*o)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),lh=Ui.extend({options:{tolerance:0},getEvents:function(){var o=Ui.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ui.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");De(o,"mousemove",this._onMouseMove,this),De(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),De(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){xn(this._redrawRequest),delete this._ctx,rt(this._container),st(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var u in this._redrawBounds=null,this._layers)this._layers[u]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ui.prototype._update.call(this);var o=this._bounds,u=this._container,h=o.getSize(),p=J.retina?2:1;Oe(u,o.min),u.width=p*h.x,u.height=p*h.y,u.style.width=h.x+"px",u.style.height=h.y+"px",J.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Ui.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[Be(o)]=o;var u=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var u=o._order,h=u.next,p=u.prev;h?h.prev=p:this._drawLast=p,p?p.next=h:this._drawFirst=h,delete o._order,delete this._layers[Be(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if("string"==typeof o.options.dashArray){var p,m,u=o.options.dashArray.split(/[, ]+/),h=[];for(m=0;m<u.length;m++){if(p=Number(u[m]),isNaN(p))return;h.push(p)}o.options._dashArray=h}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){!this._map||(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||Ht(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var u=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new pt,this._redrawBounds.extend(o._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(o._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var u=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,u=this._redrawBounds;if(this._ctx.save(),u){var h=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)o=p.layer,(!u||o._pxBounds&&o._pxBounds.intersects(u))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,u){if(this._drawing){var h,p,m,_,C=o._parts,T=C.length,M=this._ctx;if(T){for(M.beginPath(),h=0;h<T;h++){for(p=0,m=C[h].length;p<m;p++)M[p?"lineTo":"moveTo"]((_=C[h][p]).x,_.y);u&&M.closePath()}this._fillStroke(M,o)}}},_updateCircle:function(o){if(this._drawing&&!o._empty()){var u=o._point,h=this._ctx,p=Math.max(Math.round(o._radius),1),m=(Math.max(Math.round(o._radiusY),1)||p)/p;1!==m&&(h.save(),h.scale(1,m)),h.beginPath(),h.arc(u.x,u.y/m,p,0,2*Math.PI,!1),1!==m&&h.restore(),this._fillStroke(h,o)}},_fillStroke:function(o,u){var h=u.options;h.fill&&(o.globalAlpha=h.fillOpacity,o.fillStyle=h.fillColor||h.color,o.fill(h.fillRule||"evenodd")),h.stroke&&0!==h.weight&&(o.setLineDash&&o.setLineDash(u.options&&u.options._dashArray||[]),o.globalAlpha=h.opacity,o.lineWidth=h.weight,o.strokeStyle=h.color,o.lineCap=h.lineCap,o.lineJoin=h.lineJoin,o.stroke())},_onClick:function(o){for(var h,p,u=this._map.mouseEventToLayerPoint(o),m=this._drawFirst;m;m=m.next)(h=m.layer).options.interactive&&h._containsPoint(u)&&("click"!==o.type&&"preclick"!==o.type||!this._map._draggableMoved(h))&&(p=h);this._fireEvent(!!p&&[p],o)},_onMouseMove:function(o){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var u=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,u)}},_handleMouseOut:function(o){var u=this._hoveredLayer;u&&(vt(this._container,"leaflet-interactive"),this._fireEvent([u],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,u){if(!this._mouseHoverThrottled){for(var h,p,m=this._drawFirst;m;m=m.next)(h=m.layer).options.interactive&&h._containsPoint(u)&&(p=h);p!==this._hoveredLayer&&(this._handleMouseOut(o),p&&(we(this._container,"leaflet-interactive"),this._fireEvent([p],o,"mouseover"),this._hoveredLayer=p)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],o),this._mouseHoverThrottled=!0,setTimeout(Ke(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,u,h){this._map._fireDOMEvent(u,h||u.type,o)},_bringToFront:function(o){var u=o._order;if(u){var h=u.next,p=u.prev;if(!h)return;h.prev=p,p?p.next=h:h&&(this._drawFirst=h),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(o)}},_bringToBack:function(o){var u=o._order;if(u){var h=u.next,p=u.prev;if(!p)return;p.next=h,h?h.prev=p:p&&(this._drawLast=p),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(o)}}});function uh(o){return J.canvas?new lh(o):null}var io=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Em={_initContainer:function(){this._container=_e("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ui.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var u=o._container=io("shape");we(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",o._path=io("path"),u.appendChild(o._path),this._updateStyle(o),this._layers[Be(o)]=o},_addPath:function(o){var u=o._container;this._container.appendChild(u),o.options.interactive&&o.addInteractiveTarget(u)},_removePath:function(o){var u=o._container;rt(u),o.removeInteractiveTarget(u),delete this._layers[Be(o)]},_updateStyle:function(o){var u=o._stroke,h=o._fill,p=o.options,m=o._container;m.stroked=!!p.stroke,m.filled=!!p.fill,p.stroke?(u||(u=o._stroke=io("stroke")),m.appendChild(u),u.weight=p.weight+"px",u.color=p.color,u.opacity=p.opacity,u.dashStyle=p.dashArray?Yt(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):"",u.endcap=p.lineCap.replace("butt","flat"),u.joinstyle=p.lineJoin):u&&(m.removeChild(u),o._stroke=null),p.fill?(h||(h=o._fill=io("fill")),m.appendChild(h),h.color=p.fillColor||p.color,h.opacity=p.fillOpacity):h&&(m.removeChild(h),o._fill=null)},_updateCircle:function(o){var u=o._point.round(),h=Math.round(o._radius),p=Math.round(o._radiusY||h);this._setPath(o,o._empty()?"M0 0":"AL "+u.x+","+u.y+" "+h+","+p+" 0,23592600")},_setPath:function(o,u){o._path.v=u},_bringToFront:function(o){Oi(o._container)},_bringToBack:function(o){Re(o._container)}},Ca=J.vml?io:Nd,Lr=Ui.extend({_initContainer:function(){this._container=Ca("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ca("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){rt(this._container),st(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ui.prototype._update.call(this);var o=this._bounds,u=o.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,h.setAttribute("width",u.x),h.setAttribute("height",u.y)),Oe(h,o.min),h.setAttribute("viewBox",[o.min.x,o.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(o){var u=o._path=Ca("path");o.options.className&&we(u,o.options.className),o.options.interactive&&we(u,"leaflet-interactive"),this._updateStyle(o),this._layers[Be(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){rt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[Be(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var u=o._path,h=o.options;!u||(h.stroke?(u.setAttribute("stroke",h.color),u.setAttribute("stroke-opacity",h.opacity),u.setAttribute("stroke-width",h.weight),u.setAttribute("stroke-linecap",h.lineCap),u.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?u.setAttribute("stroke-dasharray",h.dashArray):u.removeAttribute("stroke-dasharray"),h.dashOffset?u.setAttribute("stroke-dashoffset",h.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),h.fill?(u.setAttribute("fill",h.fillColor||h.color),u.setAttribute("fill-opacity",h.fillOpacity),u.setAttribute("fill-rule",h.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(o,u){this._setPath(o,Ld(o._parts,u))},_updateCircle:function(o){var u=o._point,h=Math.max(Math.round(o._radius),1),m="a"+h+","+(Math.max(Math.round(o._radiusY),1)||h)+" 0 1,0 ",_=o._empty()?"M0 0":"M"+(u.x-h)+","+u.y+m+2*h+",0 "+m+2*-h+",0 ";this._setPath(o,_)},_setPath:function(o,u){o._path.setAttribute("d",u)},_bringToFront:function(o){Oi(o._path)},_bringToBack:function(o){Re(o._path)}});function ro(o){return J.svg||J.vml?new Lr(o):null}J.vml&&Lr.include(Em),Ae.include({getRenderer:function(o){var u=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(o){if("overlayPane"===o||void 0===o)return!1;var u=this._paneRenderers[o];return void 0===u&&(u=this._createRenderer({pane:o}),this._paneRenderers[o]=u),u},_createRenderer:function(o){return this.options.preferCanvas&&uh(o)||ro(o)}});var ch=Wn.extend({initialize:function(o,u){Wn.prototype.initialize.call(this,this._boundsToLatLngs(o),u)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return[(o=Me(o)).getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});Lr.create=Ca,Lr.pointsToPath=Ld,yn.geometryToLayer=Bi,yn.coordsToLatLng=Je,yn.coordsToLatLngs=Qs,yn.latLngToCoords=wa,yn.latLngsToCoords=lr,yn.getFeature=Hi,yn.asFeature=Vi,Ae.mergeOptions({boxZoom:!0});var dh=ni.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){st(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){rt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||1!==o.which&&1!==o.button)return!1;this._clearDeferredResetState(),this._resetState(),Vs(),mu(),this._startPoint=this._map.mouseEventToContainerPoint(o),De(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=_e("div","leaflet-zoom-box",this._container),we(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var u=new pt(this._point,this._startPoint),h=u.getSize();Oe(this._box,u.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(rt(this._box),vt(this._container,"leaflet-crosshair")),js(),fa(),st(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if((1===o.which||1===o.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Ke(this._resetState,this),0);var u=new ln(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(o){27===o.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ae.addInitHook("addHandler","boxZoom",dh),Ae.mergeOptions({doubleClickZoom:!0});var zi=ni.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var u=this._map,h=u.getZoom(),p=u.options.zoomDelta,m=o.originalEvent.shiftKey?h-p:h+p;"center"===u.options.doubleClickZoom?u.setZoom(m):u.setZoomAround(o.containerPoint,m)}});Ae.addInitHook("addHandler","doubleClickZoom",zi),Ae.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Sa=ni.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new or(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}we(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Me(this._map.options.maxBounds);this._offsetLimit=Bn(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var u=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(u),this._prunePositions(u)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,u){return o-(o-u)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var o=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;o.x<u.min.x&&(o.x=this._viscousLimit(o.x,u.min.x)),o.y<u.min.y&&(o.y=this._viscousLimit(o.y,u.min.y)),o.x>u.max.x&&(o.x=this._viscousLimit(o.x,u.max.x)),o.y>u.max.y&&(o.y=this._viscousLimit(o.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,u=Math.round(o/2),h=this._initialWorldOffset,p=this._draggable._newPos.x,m=(p-u+h)%o+u-h,_=(p+u+h)%o-u-h,C=Math.abs(m+h)<Math.abs(_+h)?m:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(o){var u=this._map,h=u.options,p=!h.inertia||o.noInertia||this._times.length<2;if(u.fire("dragend",o),p)u.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),C=h.easeLinearity,T=m.multiplyBy(C/((this._lastTime-this._times[0])/1e3)),M=T.distanceTo([0,0]),k=Math.min(h.inertiaMaxSpeed,M),q=T.multiplyBy(k/M),Ce=k/(h.inertiaDeceleration*C),Fe=q.multiplyBy(-Ce/2).round();Fe.x||Fe.y?(Fe=u._limitOffset(Fe,u.options.maxBounds),Ht(function(){u.panBy(Fe,{duration:Ce,easeLinearity:C,noMoveStart:!0,animate:!0})})):u.fire("moveend")}}});Ae.addInitHook("addHandler","dragging",Sa),Ae.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ri=ni.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),De(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),st(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,u=document.documentElement,h=o.scrollTop||u.scrollTop,p=o.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(p,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var p,m,u=this._panKeys={},h=this.keyCodes;for(p=0,m=h.left.length;p<m;p++)u[h.left[p]]=[-1*o,0];for(p=0,m=h.right.length;p<m;p++)u[h.right[p]]=[o,0];for(p=0,m=h.down.length;p<m;p++)u[h.down[p]]=[0,o];for(p=0,m=h.up.length;p<m;p++)u[h.up[p]]=[0,-1*o]},_setZoomDelta:function(o){var p,m,u=this._zoomKeys={},h=this.keyCodes;for(p=0,m=h.zoomIn.length;p<m;p++)u[h.zoomIn[p]]=o;for(p=0,m=h.zoomOut.length;p<m;p++)u[h.zoomOut[p]]=-o},_addHooks:function(){De(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){st(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var p,u=o.keyCode,h=this._map;if(u in this._panKeys)(!h._panAnim||!h._panAnim._inProgress)&&(p=this._panKeys[u],o.shiftKey&&(p=Te(p).multiplyBy(3)),h.panBy(p),h.options.maxBounds&&h.panInsideBounds(h.options.maxBounds));else if(u in this._zoomKeys)h.setZoom(h.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[u]);else{if(27!==u||!h._popup||!h._popup.options.closeOnEscapeKey)return;h.closePopup()}yi(o)}}});Ae.addInitHook("addHandler","keyboard",ri),Ae.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ba=ni.extend({addHooks:function(){De(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){st(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var u=Du(o),h=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var p=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Ke(this._performZoom,this),p),yi(o)},_performZoom:function(){var o=this._map,u=o.getZoom(),h=this._map.options.zoomSnap||0;o._stop();var m=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,_=h?Math.ceil(m/h)*h:m,C=o._limitZoom(u+(this._delta>0?_:-_))-u;this._delta=0,this._startTime=null,C&&("center"===o.options.scrollWheelZoom?o.setZoom(u+C):o.setZoomAround(this._lastMousePos,u+C))}});Ae.addInitHook("addHandler","scrollWheelZoom",ba);Ae.mergeOptions({tapHold:J.touchNative&&J.safari&&J.mobile,tapTolerance:15});var Pu=ni.extend({addHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){st(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),1===o.touches.length){var u=o.touches[0];this._startPos=this._newPos=new fe(u.clientX,u.clientY),this._holdTimeout=setTimeout(Ke(function(){this._cancel(),this._isTapValid()&&(De(document,"touchend",Le),De(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),600),De(document,"touchend touchcancel contextmenu",this._cancel,this),De(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){st(document,"touchend",Le),st(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),st(document,"touchend touchcancel contextmenu",this._cancel,this),st(document,"touchmove",this._onMove,this)},_onMove:function(o){var u=o.touches[0];this._newPos=new fe(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,u){var h=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});h._simulated=!0,u.target.dispatchEvent(h)}});Ae.addInitHook("addHandler","tapHold",Pu),Ae.mergeOptions({touchZoom:J.touch,bounceAtZoomLimits:!0});var Ea=ni.extend({addHooks:function(){we(this._map._container,"leaflet-touch-zoom"),De(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),st(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var u=this._map;if(o.touches&&2===o.touches.length&&!u._animatingZoom&&!this._zooming){var h=u.mouseEventToContainerPoint(o.touches[0]),p=u.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),"center"!==u.options.touchZoom&&(this._pinchStartLatLng=u.containerPointToLatLng(h.add(p)._divideBy(2))),this._startDist=h.distanceTo(p),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),De(document,"touchmove",this._onTouchMove,this),De(document,"touchend touchcancel",this._onTouchEnd,this),Le(o)}},_onTouchMove:function(o){if(o.touches&&2===o.touches.length&&this._zooming){var u=this._map,h=u.mouseEventToContainerPoint(o.touches[0]),p=u.mouseEventToContainerPoint(o.touches[1]),m=h.distanceTo(p)/this._startDist;if(this._zoom=u.getScaleZoom(m,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&m<1||this._zoom>u.getMaxZoom()&&m>1)&&(this._zoom=u._limitZoom(this._zoom)),"center"===u.options.touchZoom){if(this._center=this._startLatLng,1===m)return}else{var _=h._add(p)._divideBy(2)._subtract(this._centerPoint);if(1===m&&0===_.x&&0===_.y)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),xn(this._animRequest);var C=Ke(u._move,u,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=Ht(C,this,!0),Le(o)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,xn(this._animRequest),st(document,"touchmove",this._onTouchMove,this),st(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ae.addInitHook("addHandler","touchZoom",Ea),Ae.BoxZoom=dh,Ae.DoubleClickZoom=zi,Ae.Drag=Sa,Ae.Keyboard=ri,Ae.ScrollWheelZoom=ba,Ae.TapHold=Pu,Ae.TouchZoom=Ea,B.Bounds=pt,B.Browser=J,B.CRS=ut,B.Canvas=lh,B.Circle=me,B.CircleMarker=Fi,B.Class=mi,B.Control=ie,B.DivIcon=sh,B.DivOverlay=Tt,B.DomEvent=Ws,B.DomUtil=Jd,B.Draggable=or,B.Evented=Ns,B.FeatureGroup=jt,B.GeoJSON=yn,B.GridLayer=no,B.Handler=ni,B.Icon=ge,B.ImageOverlay=Xs,B.LatLng=Qe,B.LatLngBounds=ln,B.Layer=Rt,B.LayerGroup=kn,B.LineUtil=Tu,B.Map=Ae,B.Marker=Ct,B.Mixin=nh,B.Path=Xe,B.Point=fe,B.PolyUtil=Mu,B.Polygon=Wn,B.Polyline=cn,B.Popup=eo,B.PosAnimation=$s,B.Projection=Iu,B.Rectangle=ch,B.Renderer=Ui,B.SVG=Lr,B.SVGOverlay=us,B.TileLayer=cs,B.Tooltip=to,B.Transformation=ts,B.Util=na,B.VideoOverlay=Nn,B.bind=Ke,B.bounds=Bn,B.canvas=uh,B.circle=function Ks(o,u,h){return new me(o,u,h)},B.circleMarker=function Or(o,u){return new Fi(o,u)},B.control=sr,B.divIcon=function Cm(o){return new sh(o)},B.extend=Ye,B.featureGroup=function(o,u){return new jt(o,u)},B.geoJSON=ji,B.geoJson=Qt,B.gridLayer=function Sm(o){return new no(o)},B.icon=function dt(o){return new ge(o)},B.imageOverlay=function(o,u,h){return new Xs(o,u,h)},B.latLng=gt,B.latLngBounds=Me,B.layerGroup=function(o,u){return new kn(o,u)},B.map=function th(o,u){return new Ae(o,u)},B.marker=function ar(o,u){return new Ct(o,u)},B.point=Te,B.polygon=function dn(o,u){return new Wn(o,u)},B.polyline=function _a(o,u){return new cn(o,u)},B.popup=function(o,u){return new eo(o,u)},B.rectangle=function Tm(o,u){return new ch(o,u)},B.setOptions=ft,B.stamp=Be,B.svg=ro,B.svgOverlay=function Js(o,u,h){return new us(o,u,h)},B.tileLayer=oh,B.tooltip=function(o,u){return new to(o,u)},B.transformation=Ls,B.version="1.8.0",B.videoOverlay=function Da(o,u,h){return new Nn(o,u,h)};var Au=window.L;B.noConflict=function(){return window.L=Au,this},window.L=B}(ql)}},Zl=>{Zl(Zl.s=860)}]);